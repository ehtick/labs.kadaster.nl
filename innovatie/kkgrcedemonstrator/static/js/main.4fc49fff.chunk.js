(this["webpackJsonpviewer-builder-client"]=this["webpackJsonpviewer-builder-client"]||[]).push([[2],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return f}));var n=a(9),r=a(17),i=a(7),o=a(0),l=a(48),s=a(42),c=a(301),u=a.n(c),d=(a(677),a(679),a(181)),p=a.n(d),b=a(64),_=a(171),h=a(1);function m(e){var t=JSON.stringify(e.value,null,4),a=Object(o.useState)(t),n=Object(i.a)(a,2),r=n[0],l=n[1];return Object(h.jsx)(f,{name:e.name,exportFileName:e.exportFileName,value:r,onValueChange:function(t){l(t);try{var a=JSON.parse(t);e.onValueChange(a)}catch(n){}}})}function f(e){var t=Object(o.useRef)(null),a=Object(o.useState)(!1),c=Object(i.a)(a,2),d=c[0],m=c[1],f=Object(o.useState)(null),g=Object(i.a)(f,2),j=g[0],O=g[1],v=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e.value);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0),alert("Failed to copy");case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){var a,r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.readText();case 3:r=t.sent,null===(a=e.onValueChange)||void 0===a||a.call(e,r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),alert("Failed to paste");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:p.a.wrapper,children:[Object(h.jsx)(u.a,{name:e.name,mode:"json",theme:"ambiance",fontSize:"12pt",style:{width:"100%",height:d?"80vh":"120px",fontFamily:'Consolas, Inconsolata, Monaco, "Lucida Console", monospace',fontWeight:500},value:e.value,readOnly:e.readonly,onChange:function(t){var a;e.readonly||(O(null),null===(a=e.onValueChange)||void 0===a||a.call(e,t))}},String(d)),Object(h.jsxs)("div",{className:p.a.bar,children:[!e.readonly&&Object(h.jsx)(_.a,{title:"Format",children:Object(h.jsx)("button",{className:"px-1.5 py-px",type:"button",onClick:function(){return function(){try{JSON.parse(e.value),O("ok")}catch(t){O(String(t))}}()},children:"check"})}),j&&Object(h.jsxs)("div",{className:Object(b.b)(p.a["json-status"],"ok"!==j?p.a.error:p.a.ok),children:[Object(h.jsx)(l.a,{icon:"ok"===j?s.e:s.l}),"ok"===j?"Valid JSON":String(j)]}),Object(h.jsx)("div",{className:p.a.separator}),!e.readonly&&Object(h.jsx)(_.a,{title:"Format",children:Object(h.jsx)("button",{className:"px-1.5 py-px",type:"button",onClick:function(){return function(){try{var t,a=JSON.stringify(JSON.parse(e.value),null,4);null===(t=e.onValueChange)||void 0===t||t.call(e,a)}catch(n){}}()},children:Object(h.jsx)("b",{children:"{ }"})})}),Object(h.jsx)(_.a,{title:"Save as .json",children:Object(h.jsx)("button",{className:"px-1.5 py-px",type:"button",onClick:function(){return function(){var t=new Blob([e.value],{type:"application/json"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=e.exportFileName||"".concat(e.name||"data",".json"),n.click(),URL.revokeObjectURL(a)}()},children:Object(h.jsx)(l.a,{icon:s.j})})}),!e.readonly&&Object(h.jsx)(_.a,{title:"Upload .json",children:Object(h.jsxs)("button",{className:"px-1.5 py-px",type:"button",onClick:function(){var e,a;return null===(e=t.current)||void 0===e||null===(a=e.click)||void 0===a?void 0:a.call(e)},children:[Object(h.jsx)("input",{ref:t,type:"file",accept:".json",style:{display:"none"},onChange:function(t){var a,n=null===(a=t.target.files)||void 0===a?void 0:a[0];if(n){var r=new FileReader;r.onload=function(t){var a,n,r=null===(a=t.target)||void 0===a?void 0:a.result;r&&(null===(n=e.onValueChange)||void 0===n||n.call(e,r))},r.readAsText(n)}}}),Object(h.jsx)(l.a,{icon:s.u})]})}),Object(h.jsx)(_.a,{title:"Copy to clipboard",children:Object(h.jsx)("button",{className:"px-1.5 py-px",type:"button",onClick:function(){return v()},children:Object(h.jsx)(l.a,{icon:s.g})})}),!e.readonly&&Object(h.jsx)(_.a,{title:"Paste from clipboard",children:Object(h.jsx)("button",{className:"px-1.5 py-px",type:"button",onClick:function(){return y()},children:Object(h.jsx)(l.a,{icon:s.p})})}),Object(h.jsx)(_.a,{title:d?"Collapse":"Expand",onClick:function(){return m((function(e){return!e}))},children:Object(h.jsx)("button",{className:"px-1.5 py-px",type:"button",children:Object(h.jsx)(l.a,{icon:d?s.i:s.t})})})]})]})}},104:function(e,t,a){"use strict";a(0);var n=a(310),r=a.n(n),i=a(1);t.a=function(e){var t=e.children;e.onClose;return Object(i.jsx)("div",{className:r.a.overlay,children:Object(i.jsx)("div",{className:r.a.frame,onClick:function(e){return e.stopPropagation()},children:Object(i.jsx)("div",{className:r.a.body,children:t})})})}},108:function(e,t,a){e.exports={main:"Tab_main__3hRYf",areaContainer:"Tab_areaContainer__uoK5W",viewMode:"Tab_viewMode__1R_jG",tabs:"Tab_tabs__8TT4t",tab:"Tab_tab__2juvH",selected:"Tab_selected__2GbnM",refresh:"Tab_refresh__3o4j1",threeColorTemplate:"Tab_threeColorTemplate__8xvrv",carouselTabsContainer:"Tab_carouselTabsContainer__g_Gab",carouselButton:"Tab_carouselButton__1jj7D",carouselItem:"Tab_carouselItem__2zDPU"}},120:function(e,t,a){"use strict";var n=a(9),r=a(17),i=a(4),o=a(5),l=a(29),s=a(11),c=a(12),u=a(0),d=a(20),p=a(142),b=a.n(p),_=a.p+"static/media/person.89f69b5b.svg",h=(a.p,a(50)),m=a(54),f=a(488),g=a(97),j=a(293),O=a(294),v=a(163),y=a(1),x=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={collapsed:!0},e.logoutRepoOrPlatform=Object(r.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e.props.bbsparqlendpoint){t.next=5;break}g.a.sendCommand(Object(l.a)(e),"logout",null,(function(){window.location.reload(!1)})),t.next=9;break;case 5:return console.log("logout from config mongo/nodejs platform"),t.next=8,Object(v.c)();case 8:window.location.href="/";case 9:case"end":return t.stop()}}),t)}))),e.login=function(){e.props.history.push("/login",e.props.location.pathname)},e.onClickManageUsers=function(){e.props.history.push("/users",e.props.location.pathname)},e.mouseOver=function(e){console.log("in")},e.mouseOut=function(e){console.log("out")},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n=this,r=this.props.loginState,i=this.state.collapsed,o=this.props.logoutbutton;null==o&&(o=!1);var l=!r.isLoggingIn&&(o||r.isLoggedIn),s=!r.isLoggingIn&&!l&&!r.isLoggedIn&&!this.props.noLoginButton;return Object(y.jsx)(f.a,{direction:"up",appear:!0,timeout:1e3,in:i,children:Object(y.jsx)("div",{className:"".concat(b.a.wrapper," ").concat(this.props.modern?b.a.modern:""),children:Object(y.jsxs)("div",{className:b.a.main,style:{maxWidth:this.props.pageWidth},children:[Object(y.jsx)("img",{src:this.props.logoURL||"/logos/logo-wistor.png",alt:"logo",style:{maxHeight:"40px",marginRight:"6px"}}),Object(y.jsxs)("div",{className:b.a.centerPart,children:[Object(y.jsxs)("span",{className:b.a.title,style:{float:this.props.alignTitle||"right"},children:[this.props.title||"",this.props.onInfoClick&&Object(y.jsx)("img",{src:j.a,alt:"box",className:b.a.infoIcon,onClick:function(){return n.props.onInfoClick()}})]}),Object(y.jsx)(O.a,{text:this.props.subtitle})]}),Object(y.jsxs)("div",{className:b.a.auth,children:[!r.isLoggingIn&&r.isLoggedIn&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("img",{src:_,alt:"person"}),Object(y.jsxs)("div",{className:b.a.nameContainer,children:[Object(y.jsx)("div",{style:{lineHeight:"1.1em"},children:null===(e=r.user)||void 0===e?void 0:e.name}),("admin"===(null===(t=r.user)||void 0===t?void 0:t.role)||"superadmin"===(null===(a=r.user)||void 0===a?void 0:a.role))&&Object(y.jsx)(d.a,{color:"link",style:{padding:"0",fontSize:"0.8em"},onClick:this.onClickManageUsers,children:"Manage Users"})]})]}),l&&Object(y.jsx)(d.a,{color:"link",onClick:this.logoutRepoOrPlatform,children:"Log out"}),s&&Object(y.jsx)(d.a,{color:"primary",onClick:this.login,children:"Login"})]})]})})})}}]),a}(u.Component);x=Object(m.g)(x);t.a=Object(h.b)((function(e){return{loginState:e.login}}))(x)},123:function(e,t,a){e.exports={mainContainer:"Home_mainContainer__2GzK5",main:"Home_main__-wJEx",content:"Home_content__rSrZN",title:"Home_title__2JJd_",subTitle:"Home_subTitle__3qxJR",paragr:"Home_paragr__2LXKK",project:"Home_project__2Eq02"}},124:function(e,t,a){e.exports={"top-bar":"ConfigurationTopBar_top-bar__9VaN_",small:"ConfigurationTopBar_small__2_Cf1",item:"ConfigurationTopBar_item__1EEbN",clickable:"ConfigurationTopBar_clickable__38qut",active:"ConfigurationTopBar_active__1NoVp","sub-menu":"ConfigurationTopBar_sub-menu__2WKn0",separator:"ConfigurationTopBar_separator__Lr2FU",chevron:"ConfigurationTopBar_chevron__1sqbh","icon-text":"ConfigurationTopBar_icon-text__25xc7"}},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(2),r=a(14),i=a(0),o=a(272),l=a(199),s=a(28),c=a(1),u=["className","variant","size","type","asChild"],d=Object(l.a)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),p=i.forwardRef((function(e,t){var a=e.className,i=e.variant,l=e.size,p=e.type,b=e.asChild,_=void 0!==b&&b,h=Object(r.a)(e,u),m=_?o.Slot:"button";return Object(c.jsx)(m,Object(n.a)({className:Object(s.a)(d({variant:i,size:l,className:a})),type:"button"===m?null!==p&&void 0!==p?p:"button":void 0,ref:t},h))}));p.displayName="Button"},135:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(25);function r(e,t,a,n){if(!a)return{isValid:!1,hasChanged:!1,current:void 0,topic:a};var r=null===e||void 0===e?void 0:e[a],i=null===t||void 0===t?void 0:t[a],o=r!==i&&null!=i,l=n(i);return l.success?{isValid:l.success,hasChanged:r!==i&&null!=i,current:l.value,topic:a}:{isValid:!1,hasChanged:o,current:i,topic:a}}function i(e){var t=String(e),a=Number(e),n=parseInt(t,10),r=n!==a;return null==e||Number.isNaN(a)||r?{success:!1}:{success:!0,value:n}}function o(e){return"string"!==typeof e?{success:!1}:{success:!0,value:e}}function l(e,t,a){if("boolean"===a){var r=n.a.processStringForParameters(e,t);return"true"===String(r).toLowerCase()}throw new Error("not implemented")}},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return w}));var n=a(2),r=a(4),i=a(5),o=a(11),l=a(12),s=a(0),c=a.n(s),u=a(108),d=a.n(u),p=a(252),b=a(55),_=a(356),h=a(135),m=a(1),f="TRADITIONAL",g="CAROUSEL_WITHOUT_BUTTONS",j="CAROUSEL_WITH_BUTTONS",O=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={selectedIndex:0,hideTabs:[],areas:[],id:a.tabId++},e.onTabClick=function(t){var a=e.props.tabSelectionSubscription;a&&e.props.publish(a,t),e.setState({selectedIndex:t})},e}return Object(i.a)(a,[{key:"getTabId",value:function(){return this.state.id}},{key:"componentDidMount",value:function(){this.updateTabs(null,this.props.hideTabs,this.props.tabSelectionSubscription)}},{key:"componentDidUpdate",value:function(e){this.updateTabs(e,this.props.hideTabs,this.props.tabSelectionSubscription)}},{key:"updateTabs",value:function(e,t,a){var n,r=Object(h.a)(null===e||void 0===e?void 0:e.pubsub,this.props.pubsub,a,h.d);if(!r.isValid&&null!=r.current&&null!=r.topic)return alert('Value "'.concat(r.current,'" from topic "').concat(r.topic,'" is not a valid index"'));var i=Object(h.a)(null===e||void 0===e?void 0:e.pubsub,this.props.pubsub,t,h.c);if(!i.isValid&&null!=i.current&&null!=i.topic)return alert('Value "'.concat(i.current,'" from topic "').concat(i.topic,'" is not a string"'));if(r.hasChanged||i.hasChanged){var o=this.state.selectedIndex;r.isValid&&r.hasChanged&&(o=r.current);var l=[];if(i.isValid&&i.hasChanged&&(l=i.current.split(",")),null!==(n=this.props.tabs)&&void 0!==n&&n.length&&this.props.hideTabIDs&&null!=o){var s,c=this.props.hideTabIDs[o],u=w(this.props.tabs,this.props.hideTabIDs,l);null!=u&&null!==(s=l)&&void 0!==s&&s.includes(c)&&(o=u)}l&&this.setState({hideTabs:l}),o!==this.state.selectedIndex&&this.setState({selectedIndex:o})}}},{key:"navigateToNextTab",value:function(){this.props.tabs&&this.onTabClick(this.state.selectedIndex>=this.props.tabs.length-1?0:this.state.selectedIndex+1)}},{key:"render",value:function(){var e,t,a,r,i,o=this,l=this.props.mode;return Object(m.jsxs)("div",{className:d.a.main+("edit"===l?"":" "+d.a.viewMode)+" "+d.a[this.props.panelstyle],children:[(!this.props.appearance||this.props.appearance===f)&&Object(m.jsx)(y,{tabs:null!==(e=this.props.tabs)&&void 0!==e?e:[],icons:this.props.icons,selectedIndex:this.state.selectedIndex,hideTabs:null!==(t=this.state.hideTabs)&&void 0!==t?t:[],hideTabIDs:null!==(a=this.props.hideTabIDs)&&void 0!==a?a:[],inactiveTabsOnlyIcons:Boolean(this.props.inactiveTabsOnlyIcons),onTabClick:this.onTabClick}),null===(r=this.props.tabs)||void 0===r?void 0:r.map((function(e,t){var a=o.props.areas[t]||{},r=t==o.state.selectedIndex;return null!=o.props.withinSelectedTab&&0==o.props.withinSelectedTab&&(r=!1),Object(m.jsx)("div",{className:d.a.areaContainer,style:{display:r?"flex":"none"},children:Object(s.createElement)(p.a,Object(n.a)(Object(n.a)({},o.props),{},{key:t,index:t,config:a,onChange:o.props.onChange,withinSelectedTab:r,onClick:o.props.carouselClickNavigation?function(){return o.navigateToNextTab()}:void 0}))},t)})),(this.props.appearance===g||this.props.appearance===j)&&Object(m.jsx)(x,{withButtons:this.props.appearance===j,tabs:null!==(i=this.props.tabs)&&void 0!==i?i:[],selectedIndex:this.state.selectedIndex,onTabClick:this.onTabClick})]})}}]),a}(c.a.Component);O.tabId=0,O.getDescription=function(){return v},O.registeredTabComponents=[];var v={name:"Tab",component:O,label:"Tab Layout",variables:[{name:"appearance",type:"select",label:"Appearance",options:[{label:"Traditional",value:f},{label:"Carousel without buttons",value:g},{label:"Carousel with buttons",value:j}]},{name:"carouselClickNavigation",type:"boolean",label:"Enable click navigation (only for carousel appearance)"},{name:"tabs",type:"array",label:"Tabs",topicValueInterpolationEnabled:!0},{name:"tabSelectionSubscription",type:"text",label:"Variabele to listen to for tab selection"},{name:"hideTabIDs",type:"array",label:"tab name (ids) that can be used to hide a tab."},{name:"hideTabs",type:"text",label:"Variabele to listen to for tab visualisation. Use tab names to hide the tabs"},{name:"icons",type:"array",label:"fa icon names when no icon is defined. "},{name:"inactiveTabsOnlyIcons",type:"boolean",label:"Inactive tabs will only have icons if icons are defined"},{name:"initialTabSelection",type:"text",label:"index of the initial selected tab"},{name:"areas",type:"json",label:"area definitions"}]};function y(e){return Object(m.jsx)("div",{className:d.a.tabs,children:e.tabs.map((function(t,a){var n,r,i=null===(n=e.hideTabIDs)||void 0===n?void 0:n.at(a);if(i&&null!==(r=e.hideTabs)&&void 0!==r&&r.includes(i))return null;var o=a===e.selectedIndex,l=e.inactiveTabsOnlyIcons&&e.icons&&!o;return Object(m.jsxs)("div",{className:d.a.tab+(o?" "+d.a.selected:""),onClick:function(){return e.onTabClick(a)},children:[null!=e.icons&&Object(m.jsx)(b.a,{icon:e.icons[a],size:"xs",transform:"down-0; left-4"}),!l&&t]},a)}))})}function x(e){var t,a,n;return Object(m.jsxs)("div",{className:d.a.carouselTabsContainer,children:[e.withButtons&&Object(m.jsx)(_.a,{onClick:function(){e.selectedIndex<=0||e.onTabClick(e.selectedIndex-1)},className:d.a.carouselButton,children:Object(m.jsx)(b.a,{icon:null!==(t=e.prevIcon)&&void 0!==t?t:"caret-left"})}),null===(a=e.tabs)||void 0===a?void 0:a.map((function(t,a){var n;return Object(m.jsx)(_.a,{className:d.a.carouselItem,onClick:function(){return e.onTabClick(a)},children:Object(m.jsx)(b.a,{"data-selected":a===e.selectedIndex,icon:null!==(n=e.itemIcon)&&void 0!==n?n:"circle"})},t)})),e.withButtons&&Object(m.jsx)(_.a,{className:d.a.carouselButton,onClick:function(){e.tabs&&e.selectedIndex+1>=e.tabs.length||e.onTabClick(e.selectedIndex+1)},children:Object(m.jsx)(b.a,{icon:null!==(n=e.nextIcon)&&void 0!==n?n:"caret-right"})})]})}function w(e,t,a){for(var n=0;n<e.length;n++){var r=null===t||void 0===t?void 0:t[n];if(r&&(null===a||void 0===a||!a.includes(r)))return n}}},142:function(e,t,a){e.exports={wrapper:"Header_wrapper__3z-hj",main:"Header_main__3czEd",modern:"Header_modern__3hyIe",title:"Header_title__2C1Mo",centerPart:"Header_centerPart__RkjuJ",auth:"Header_auth__3IKlE",nameContainer:"Header_nameContainer__1xkA5",infoIcon:"Header_infoIcon__2hP7N"}},143:function(e,t,a){e.exports={mainContainer:"Users_mainContainer__blMaO",main:"Users_main__1Ek77",content:"Users_content__2hEUp",title:"Users_title__UBjWr",tableContainer:"Users_tableContainer__spoq6",add:"Users_add__1M5OB"}},144:function(e,t,a){e.exports={main:"Table2_main__3S9MH",copyicon:"Table2_copyicon__-E6ZQ",headertxt:"Table2_headertxt__k1L5n",list:"Table2_list__35G0R",firstItemBold:"Table2_firstItemBold__1-sUM",link:"Table2_link__3RM4J"}},145:function(e,t,a){e.exports={main:"SearchAutocomplete_main__1k8NJ",inputContainer:"SearchAutocomplete_inputContainer__2Ybjz",threeColorTemplate:"SearchAutocomplete_threeColorTemplate__1hVXq",items:"SearchAutocomplete_items__cpVFv",item:"SearchAutocomplete_item__2NkmI",selected:"SearchAutocomplete_selected__1alXJ",noResults:"SearchAutocomplete_noResults__1wYx9",headertxt:"SearchAutocomplete_headertxt__20CQu"}},157:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),AfterJS=function(){function AfterJS(){Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,AfterJS)}return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__.a)(AfterJS,null,[{key:"init",value:function(){}},{key:"getJSScriptAfterSelectionChange",value:function(){return{name:"jsAfterSelection",type:"text",label:"js calls after selection"}}},{key:"runAfterSelection",value:function runAfterSelection(widget){if(null!=widget.props.jsAfterSelection){var js=widget.props.jsAfterSelection;console.log(js,widget);try{eval(js)}catch(e){console.log(e)}}}},{key:"fillParameterUsingSelectionURIAndPred",value:function(e,t,a){var n=e.props.publishVariable,r="select distinct ?result where {optional {<"+e.props.pubsub[n]+"><"+a+'>?value} bind (IF(BOUND(?value),"niks","3d") as ?result)} limit 1';window.top.MySparql.select(r,(function(a){var n=a.results.bindings[0].result.value;e.props.publish(t,n)}))}},{key:"test",value:function(e){console.log("testing Afterjs "),console.log(e)}}]),AfterJS}();__webpack_exports__.a=AfterJS},161:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return p}));var n=a(2),r=a(14),i=a(0),o=a(182),l=a(28),s=a(1),c=["className","align","sideOffset"],u=o.d,d=o.e,p=o.b,b=i.forwardRef((function(e,t){var a=e.className,i=e.align,u=void 0===i?"center":i,d=e.sideOffset,p=void 0===d?4:d,b=Object(r.a)(e,c);return Object(s.jsx)(o.c,{children:Object(s.jsx)(o.a,Object(n.a)({ref:t,align:u,sideOffset:p,className:Object(l.a)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a)},b))})}));b.displayName=o.a.displayName},162:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u}));var n=a(9),r=a(17),i=a(277),o=a(302),l=a(1);function s(){var e=Object(i.a)();return Object(l.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),e(o.a,{component:u})},children:"Show available fonts..."})}var c=["Exo","Exo 2 Variable","Maison Neue","Roboto"];function u(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Click to copy"}),Object(l.jsx)("ul",{children:c.map((function(t){return Object(l.jsx)("li",{children:Object(l.jsx)("a",{href:"#",onClick:function(){var a=Object(r.a)(Object(n.a)().mark((function a(r){return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.next=3,navigator.clipboard.writeText(t);case 3:e.onClose();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),children:t})},t)}))})]})}},163:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return m}));var n=a(9),r=a(17),i=a(44),o=a(65),l=a(16),s=l.a.object({id:l.a.string(),title:l.a.string(),path:l.a.string(),createdAt:l.a.string()}),c=l.a.object({id:l.a.string(),email:l.a.string(),name:l.a.string(),project:s.optional(),role:l.a.union([l.a.literal("superadmin"),l.a.literal("admin"),l.a.literal("editor"),l.a.literal("viewer")])}),u="kvk-vb-token";function d(e){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(Object(n.a)().mark((function e(t){var a,r,l,s,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post("/api/login",t);case 3:return a=e.sent,r=a.data.token,localStorage.setItem(u,r),l=c.parse(a.data.me),e.abrupt("return",{success:!0,user:l});case 10:if(e.prev=10,e.t0=e.catch(0),localStorage.removeItem(u),e.t0 instanceof o.a){e.next=15;break}throw e.t0;case 15:if("string"===typeof(null===(s=e.t0.response)||void 0===s?void 0:s.data)){e.next=18;break}return console.error(e.t0),e.abrupt("return",{success:!1,reason:"Request failure"});case 18:return e.abrupt("return",{success:!1,reason:null===(d=e.t0.response)||void 0===d?void 0:d.data});case 19:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function b(){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(u);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h="Invalid response! When developing use `yarn dev`.";function m(){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=localStorage.getItem(u))){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,i.a.get("/api/me",{headers:{Authorization:"Bearer ".concat(t),withCredentials:!0}});case 6:if((a=e.sent).data.me){e.next=9;break}throw new Error(h);case 9:return e.abrupt("return",c.parse(a.data.me));case 12:if(e.prev=12,e.t0=e.catch(3),localStorage.removeItem(u),e.t0 instanceof o.a){e.next=17;break}throw e.t0;case 17:return console.error(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}},164:function(e,t,a){"use strict";var n=a(4),r=a(5),i=a(11),o=a(12),l=a(0),s=a(80),c=a.n(s),u=a.p+"static/media/wistor-logo-white-with-text.8e0d5b43.svg",d=a(54),p=a(1),b=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e="wistor";try{this.props.location.pathname.includes("waternet")&&(e="waternet")}catch(t){}try{this.props.location.pathname.includes("kvk")&&(e="kvk")}catch(t){}try{this.props.location.pathname.includes("buildingbits")&&(e="buildingbits")}catch(t){}try{this.props.location.pathname.includes("rws")&&(e="buildingbits")}catch(t){}try{this.props.location.pathname.includes("connectedapps")&&(e="buildingbits")}catch(t){}try{this.props.location.pathname.includes("mayer")&&(e="mayer")}catch(t){}return Object(p.jsx)("div",{className:c.a.wrapper,children:Object(p.jsxs)("div",{className:c.a.main,children:[Object(p.jsx)("a",{href:"http://wistor.nl",children:Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:u,alt:"logo",style:{height:"20px",marginRight:"6px",marginTop:"6px",marginBottom:"6px"}})})}),{normaal:Object(p.jsxs)("div",{className:c.a.names,children:[Object(p.jsx)("div",{children:Object(p.jsx)("a",{className:c.a.email,href:"https://www.mayersoftwaredevelopment.nl/",children:"mayersoftwaredevelopment"})}),Object(p.jsx)("div",{children:Object(p.jsx)("a",{className:c.a.email,href:"http://wistor.nl",children:"Wistor"})})]}),waternet2:Object(p.jsxs)("div",{className:c.a.commentMessage,children:["Als u vragen of opmerkingen heeft kun u een bericht sturen naar"," ",Object(p.jsx)("a",{className:c.a.email,href:"mailto:otlviewer@waternet.nl",children:"OTLviewer@waternet.nl"})]}),kvk:Object(p.jsx)("div",{className:c.a.commentMessage,children:Object(p.jsx)("div",{children:Object(p.jsx)("a",{className:c.a.email,href:"http://www.kvk.nl",children:"KVK Innovatielab"})})}),buildingbits:Object(p.jsx)("div",{className:c.a.names,children:Object(p.jsx)("div",{children:Object(p.jsx)("a",{className:c.a.email,href:"https://wistor.nl",children:"Wistor"})})}),wistor:Object(p.jsx)("div",{className:c.a.names,children:Object(p.jsx)("div",{children:Object(p.jsx)("a",{className:c.a.email,href:"https://wistor.nl",children:"Wistor"})})}),mayer:Object(p.jsx)("div",{className:c.a.names,children:Object(p.jsx)("div",{children:Object(p.jsx)("a",{className:c.a.email,href:"https://www.mayersoftwaredevelopment.nl/",children:"mayersoftwaredevelopment"})})})}[e]]})})}}]),a}(l.Component);b=Object(d.g)(b);t.a=b},169:function(e,t,a){e.exports={main:"Slider_main__2CxOA",label:"Slider_label__2e9Wr",container:"Slider_container__3ZWIg",slider:"Slider_slider__2O89W",rangeValue:"Slider_rangeValue__L0PAk"}},170:function(e,t,a){e.exports={"login-app":"LoginPageLayout_login-app__1oxY2","login-container":"LoginPageLayout_login-container__2Rrzi","login-main":"LoginPageLayout_login-main__1Sbct","login-button-bar":"LoginPageLayout_login-button-bar__2UdlH","login-error":"LoginPageLayout_login-error__oBKEo","login-spinner":"LoginPageLayout_login-spinner__3p4Dd","login-button-sso":"LoginPageLayout_login-button-sso__qwwjd"}},178:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(13),r=a(2),i=a(9),o=a(17),l=a(44),s=function(e){return function(){var t=Object(o.a)(Object(i.a)().mark((function t(a,n){var r,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n().projects.loaded){t.next=2;break}return t.abrupt("return");case 2:return a({type:"FETCH_PROJECTS_REQUEST"}),t.prev=3,t.next=6,Object(l.a)({method:"get",url:"/api/projects",headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))}});case 6:r=t.sent,o=r.data,a({type:"FETCH_PROJECTS_SUCCESS",data:o}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),e(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,a){return t.apply(this,arguments)}}()},c=function(e,t){return function(){var a=Object(o.a)(Object(i.a)().mark((function a(n,r){var o,s;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(l.a)({method:"post",url:"/api/projects",headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))},data:e});case 3:o=a.sent,s=o.data,n({type:"NEW_PROJECT_SUCCESS",data:s}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},u={loaded:!1,loading:!1,items:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROJECTS_REQUEST":return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case"FETCH_PROJECTS_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{items:t.data,loading:!1,loaded:!0});case"NEW_PROJECT_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{items:[].concat(Object(n.a)(e.items),[t.data])});default:return e}}},181:function(e,t,a){e.exports={wrapper:"JsonEditor_wrapper__3kqZQ",bar:"JsonEditor_bar__PSXEl",separator:"JsonEditor_separator__1ANQD","json-status":"JsonEditor_json-status__1mK3X",ok:"JsonEditor_ok__1YvMS",error:"JsonEditor_error__33jF2"}},183:function(e,t,a){e.exports={main:"BBPicture_main__1QcsH",list:"BBPicture_list__3DSqp",firstItemBold:"BBPicture_firstItemBold__2iyh7",link:"BBPicture_link__3slHV"}},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(2),r={CUSTOM:"CUSTOM",ORIGINAL:"ORIGINAL"},i={CUSTOM:{showFooter:!1},ORIGINAL:{showFooter:!0}};function o(e){var t=e.layoutName||r.ORIGINAL;return Object(n.a)(Object(n.a)({},e),{},{layoutName:t,layout:i[t]})}},206:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return O})),a.d(t,"g",(function(){return v})),a.d(t,"f",(function(){return y})),a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return C})),a.d(t,"d",(function(){return D}));var n=a(2),r=a(14),i=a(0),o=a(56),l=a(491),s=a(719),c=a(718),u=a(28),d=a(1),p=["className","children"],b=["className"],_=["className"],h=["className","children","position"],m=["className"],f=["className","children"],g=["className"],j=o.i,O=o.b,v=o.n,y=i.forwardRef((function(e,t){var a=e.className,i=e.children,s=Object(r.a)(e,p);return Object(d.jsxs)(o.m,Object(n.a)(Object(n.a)({ref:t,className:Object(u.a)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},s),{},{children:[i,Object(d.jsx)(o.c,{asChild:!0,children:Object(d.jsx)(l.a,{className:"h-4 w-4 opacity-50"})})]}))}));y.displayName=o.m.displayName;var x=i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,b);return Object(d.jsx)(o.k,Object(n.a)(Object(n.a)({ref:t,className:Object(u.a)("flex cursor-default items-center justify-center py-1",a)},i),{},{children:Object(d.jsx)(s.a,{className:"h-4 w-4"})}))}));x.displayName=o.k.displayName;var w=i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,_);return Object(d.jsx)(o.j,Object(n.a)(Object(n.a)({ref:t,className:Object(u.a)("flex cursor-default items-center justify-center py-1",a)},i),{},{children:Object(d.jsx)(l.a,{className:"h-4 w-4"})}))}));w.displayName=o.j.displayName;var E=i.forwardRef((function(e,t){var a=e.className,i=e.children,l=e.position,s=void 0===l?"popper":l,c=Object(r.a)(e,h);return Object(d.jsx)(o.h,{children:Object(d.jsxs)(o.a,Object(n.a)(Object(n.a)({ref:t,className:Object(u.a)("relative z-[9999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s},c),{},{children:[Object(d.jsx)(x,{}),Object(d.jsx)(o.o,{className:Object(u.a)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),Object(d.jsx)(w,{})]}))})}));E.displayName=o.a.displayName;var C=i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,m);return Object(d.jsx)(o.g,Object(n.a)({ref:t,className:Object(u.a)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},i))}));C.displayName=o.g.displayName;var D=i.forwardRef((function(e,t){var a=e.className,i=e.children,l=Object(r.a)(e,f);return Object(d.jsxs)(o.d,Object(n.a)(Object(n.a)({ref:t,className:Object(u.a)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},l),{},{children:[Object(d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Object(d.jsx)(o.e,{children:Object(d.jsx)(c.a,{className:"h-4 w-4"})})}),Object(d.jsx)(o.f,{children:i})]}))}));D.displayName=o.d.displayName,i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,g);return Object(d.jsx)(o.l,Object(n.a)({ref:t,className:Object(u.a)("-mx-1 my-1 h-px bg-muted",a)},i))})).displayName=o.l.displayName},208:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return d}));var n=a(13),r=a(2),i="FETCH_VIEWER_SUCCESS",o="FETCH_PROJECT_SUCCESS",l="SAVE_VIEWER_SUCCESS",s="DELETE_APP_SUCCESS",c="SET_LAYOUT_NAME",u={loading:!0,viewers:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(r.a)(Object(r.a)(Object(r.a)({},e),t.data),{},{viewers:t.data.viewers.filter((function(e){return!e.deleted})).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{loaded:!1})})),loading:!1});case i:return window.top.data=t.data,null==t.data?Object(r.a)(Object(r.a)({},e),{},{viewers:[].concat(Object(n.a)(e.viewers.filter((function(e){return null!==e.id}))),[Object(r.a)(Object(r.a)({},t.data),{},{loaded:!0})])}):Object(r.a)(Object(r.a)({},e),{},{viewers:[].concat(Object(n.a)(e.viewers.filter((function(e){return e.id!==t.data.id}))),[Object(r.a)(Object(r.a)({},t.data),{},{loaded:!0})])});case l:return Object(r.a)(Object(r.a)({},e),{},{viewers:[].concat(Object(n.a)(e.viewers.filter((function(e){return e.id!==t.data.id}))),[Object(r.a)(Object(r.a)({},t.data),{},{loaded:!0})])});case s:return Object(r.a)(Object(r.a)({},e),{},{viewers:e.viewers.filter((function(e){return e.id!==t.data.id}))});case c:return Object(r.a)(Object(r.a)({},e),{},{layoutName:t.data});default:return e}}},211:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(2),r=a(14),i=a(245),o=a.n(i),l=a(64),s=a(1),c=["variant","className","children","type"],u=["variant","className","children"];function d(e){e.variant,e.className,e.children,e.type;var t,a=Object(r.a)(e,c);return Object(s.jsx)("button",Object(n.a)(Object(n.a)({type:null!==(t=e.type)&&void 0!==t?t:"button",className:Object(l.b)(o.a.button,o.a[e.variant],e.className)},a),{},{children:e.children}))}function p(e){e.variant,e.className,e.children;var t=Object(r.a)(e,u);return Object(s.jsx)("a",Object(n.a)(Object(n.a)({className:Object(l.b)(o.a.button,o.a[e.variant],e.className)},t),{},{children:e.children}))}},215:function(e,t,a){e.exports={form:"Form_form__1Bv9v","form-field":"Form_form-field__1Xs7n",checkbox:"Form_checkbox__3V-U6"}},216:function(e,t,a){e.exports={main:"SelectBox_main__2fb1x",threeColorTemplate:"SelectBox_threeColorTemplate__JP90R",label:"SelectBox_label__1bhKt",round:"SelectBox_round__3DRif",extra:"SelectBox_extra__7C26_"}},217:function(e,t,a){e.exports={main:"SplitLayout_main__ZfdFV",preview:"SplitLayout_preview__7iAtg",row:"SplitLayout_row__2Hq6r",column:"SplitLayout_column__1TXiI",areaContainer:"SplitLayout_areaContainer__25FOL",overflowAuto:"SplitLayout_overflowAuto__2pVrk",overflowHidden:"SplitLayout_overflowHidden__2sm8L"}},233:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(2),r=a(14),i=a(0),o=a(349),l=a(199),s=a(28),c=a(1),u=["className"],d=Object(l.a)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,u);return Object(c.jsx)(o.a,Object(n.a)({ref:t,className:Object(s.a)(d(),a)},i))}));p.displayName=o.a.displayName},236:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(13),r=a(2),i=a(9),o=a(17),l=a(44),s=function(e){return function(){var t=Object(o.a)(Object(i.a)().mark((function t(a,n){var r,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n().users.loaded){t.next=2;break}return t.abrupt("return");case 2:return a({type:"FETCH_USERS_REQUEST"}),t.prev=3,t.next=6,Object(l.a)({method:"get",url:"/api/users",headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))}});case 6:r=t.sent,o=r.data,a({type:"FETCH_USERS_SUCCESS",data:o}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),e(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,a){return t.apply(this,arguments)}}()},c=function(e,t){return function(){var a=Object(o.a)(Object(i.a)().mark((function a(n,r){var o,s;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(l.a)({method:"post",url:"/api/users",headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))},data:e});case 3:o=a.sent,s=o.data,n({type:"NEW_USER_SUCCESS",data:s}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},u={loaded:!1,loading:!1,items:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_REQUEST":return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case"FETCH_USERS_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{items:t.data,loading:!1,loaded:!0});case"NEW_USER_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{items:[].concat(Object(n.a)(e.items),[t.data])});default:return e}}},238:function(e,t,a){e.exports={"dark-form-control-select":"resolutions_dark-form-control-select__12Wa2"}},239:function(e,t,a){e.exports={default:"FormField_default__sRnyI",check:"FormField_check__2Wjr7",radioGroup:"FormField_radioGroup__1b3T9",help:"FormField_help__2v_XN"}},241:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(44),r=a(59);function i(e){return function(){return!e.apply(void 0,arguments)}}function o(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}var l=n.a.CancelToken;function s(e){return function(e){var t=function(e){var t=Object(r.b)(e.repoURL);return t}(e);return function(e,a,r){var i=this,o={query:e};o="infer=false&sameAs=false&query="+encodeURIComponent(e),n.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n.a.defaults.headers.post.Accept="application/sparql-results+json,*/*;q=0.9",n.a.defaults.withCredentials=!0,n.a.defaults.credentials="include",0==document.withCredentials&&(n.a.defaults.withCredentials=!1),Object(n.a)({method:"post",url:t,data:o,cancelToken:new l((function(e){i.cancel=e}))}).then((function(e){a&&a.call(i,e.data)})).catch((function(e){r&&r.call(i,e)}))}}(e)}},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"b",(function(){return m}));var n,r=a(9),i=a(17),o=a(5),l=a(4),s=a(11),c=a(12),u=a(113),d=a(44),p=a(65);n=Symbol.toStringTag;var b=Object(o.a)((function e(){var t=this;Object(l.a)(this,e),this.promise=void 0,this.resolve=void 0,this.reject=void 0,this.catch=void 0,this.then=void 0,this[n]="Promise",this[Symbol.toStringTag]="Promise",this.resolve=function(){},this.reject=function(){},this.promise=new Promise((function(e,a){t.resolve=e,t.reject=a})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)})),_=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a)}(Object(u.a)(Error)),h={instances:new Map,cache:new Map},m=function(){function e(t,a){Object(l.a)(this,e),this.lastRequest=null,this.sparqlEndpoint=void 0,this.cancelActiveRequest=null,this.sparqlEndpoint=t,h.instances.set(a,this)}return Object(o.a)(e,[{key:"fetch",value:function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,n,i,o,l,s,c,u,m,g,O,v,y=this;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=this.lastRequest)||void 0===a?void 0:a.query)!==t){e.next=2;break}return e.abrupt("return",this.lastRequest.promise);case 2:if(i=new b,this.lastRequest={query:t,promise:i},o=function(){var e;return i===(null===y||void 0===y||null===(e=y.lastRequest)||void 0===e?void 0:e.promise)},null===(n=this.cancelActiveRequest)||void 0===n||n.call(this),!h.cache.has(t)){e.next=12;break}if(l=h.cache.get(t)){e.next=10;break}throw new Error("Cache problem!");case 10:return setTimeout((function(){return i.resolve({isLatest:o,result:l})}),10),e.abrupt("return",i);case 12:return e.prev=12,(c=new URLSearchParams).set("infer",String(!1)),c.set("sameAs",String(!1)),c.set("query",t),e.next=19,Object(d.a)({method:"post",url:this.sparqlEndpoint,maxContentLength:1/0,maxBodyLength:1/0,data:c,withCredentials:null===(s=document.withCredentials)||void 0===s||s,headers:{Accept:"application/sparql-results+json,*/*;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},cancelToken:new d.a.CancelToken((function(e){return y.cancelActiveRequest=e}))});case 19:if(u=e.sent,!(m=t.match(/#\s*artificially-slow-query\s*=\s*([0-9]+)/))){e.next=24;break}return e.next=24,f(parseInt(m[1]));case 24:return this.cancelActiveRequest=null,g=u.data,j(t)&&h.cache.set(t,g),i.resolve({isLatest:o,result:g}),e.abrupt("return",i);case 31:if(e.prev=31,e.t0=e.catch(12),!Object(p.b)(e.t0)||401!==(null===(O=e.t0.response)||void 0===O?void 0:O.status)&&403!==(null===(v=e.t0.response)||void 0===v?void 0:v.status)){e.next=35;break}throw new _;case 35:throw e.t0;case 36:case"end":return e.stop()}}),e,this,[[12,31]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function f(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){return e()}),t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return!e.includes("#nocache")}},245:function(e,t,a){e.exports={button:"Button_button__13Gds",primary:"Button_primary__2ugne",info:"Button_info__2lxHJ",outline:"Button_outline__1EONj"}},247:function(e,t,a){e.exports={main:"RadioBox_main__OWVGX",label:"RadioBox_label__xmETg",radioContainerHor:"RadioBox_radioContainerHor__1iRy5",radioContainerVer:"RadioBox_radioContainerVer__R820_",rows:"RadioBox_rows__2dSeK",row:"RadioBox_row__26El2"}},25:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a(19),r=a(9),i=a(17),o=a(4),l=a(5),s=a(84),c=a(257);function u(e,t,a){d.setTimeStampParameter({props:{pubsub:a,publish:e,timestampParameters:t}},!0)}var d=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"setTimeStampParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&console.log("timestamp parameter called ",e.props.timestampParameters),e.props.timestampParameters){var a=e.props.timestampParameters.split(","),n=e,r="time:"+Date.now();t&&console.log(a,r),a.length>0&&(t&&console.log(a[0],e.props.pubsub[a[0]]),e.props.pubsub[a[0]]!==r&&setTimeout((function(){e.props.publish(a[0],r)}),25)),a.length>1&&null!=e.props.pubsub[a[1]]&&e.props.pubsub[a[1]]!==r&&setTimeout((function(){console.log("resetting parameter 2 "+a[1]),n.props.publish(a[1],r)}),50),a.length>2&&null!=e.props.pubsub[a[2]]&&e.props.pubsub[a[2]]!==r&&setTimeout((function(){console.log("resetting parameter 3 "+a[2]),n.props.publish(a[2],r)}),75),a.length>3&&null!=e.props.pubsub[a[3]]&&e.props.pubsub[a[3]]!==r&&setTimeout((function(){console.log("resetting parameter 4 "+a[3]),n.props.publish(a[3],r)}),100),a.length>4&&null!=e.props.pubsub[a[4]]&&e.props.pubsub[a[4]]!==r&&setTimeout((function(){console.log("resetting parameter 5 "+a[4]),n.props.publish(a[4],r)}),125),a.length>5&&(console.log("too many properties to reset"),alert("too many properties to reset in search box")),t&&console.log("reset parameter called for ",a)}}},{key:"publish",value:function(e,t,a){var n={key:a};e.dispatch({type:"PUBLISH",data:n})}},{key:"getResetValueDef",value:function(){return{name:"resetValues",type:"text",label:"reset this parameter after select event. multiple parameters via comma seperation"}}},{key:"getRunRuleParametersDef",value:function(){return{name:"ruleTagAfterSubmit",type:"text",label:"run rule with tag after succesful submit"}}},{key:"getRunRuleOptionalParametersDef",value:function(){return{name:"ruleparameters",type:"json",label:"extra json values"}}},{key:"runRule",value:function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a){var n,i,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in n={},a)"string"===typeof a[i]?n[i]=a[i]:console.log("Invalid value for key ".concat(i,": expected a string."));if(o=t.props.ruleTagAfterSubmit){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(c.a)(o,t.props.parameters,n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTimestampParametersDef",value:function(){return{name:"timestampParameters",type:"text",label:"sets a timestamp after main event. multiple parameters via comma seperation"}}},{key:"resetParameter",value:function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,i,o,l,s,c,u,d=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.length>1&&void 0!==d[1]&&d[1]&&console.log("reset parameter called",t.props.resetValues),t.props.resetValues){e.next=4;break}return e.abrupt("return");case 4:a=t.props.resetValues,i=a.split(","),o="http://www.buildingbits.nl/reset",l=[],s=Object(n.a)(i),e.prev=9,u=Object(r.a)().mark((function e(){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.value,null!=(n=t.props.pubsub[a])&&n!==o){e.next=4;break}return e.abrupt("return","continue");case 4:l.push(p((function(){console.log("resetting parameter: ".concat(a)),t.props.publish(a,o)}),25));case 5:case"end":return e.stop()}}),e)})),s.s();case 12:if((c=s.n()).done){e.next=19;break}return e.delegateYield(u(),"t0",14);case 14:if("continue"!==e.t0){e.next=17;break}return e.abrupt("continue",17);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),s.e(e.t1);case 24:return e.prev=24,s.f(),e.finish(24);case 27:return e.abrupt("return",Promise.all(l));case 28:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeUnresolvedParametersFromString",value:function(e){return e.replace(s.b,"")}},{key:"processStringForParameters",value:function(e,t){if(!t)return"";try{return Object(s.d)(t,e.props.pubsub)}catch(a){return console.log("".concat(e,":\n\n").concat(a,"\n\n")),t}}},{key:"emptyDataParameterChange",value:function(e,t,a){e.props.resetDataProps&&null!=t.data&&(console.log(e.props.pubsub.button,t.pubsub.button),console.log(e,t,a))}},{key:"getEmptyDataParameterChange",value:function(){return{name:"resetDataProps",type:"text",label:"reset data value when this parameter changes. multiple parameters via comma seperation"}}},{key:"getListAsSingleValue",value:function(t,a){var n={};return a.forEach((function(e){return n[e]=!0})),e.getMultiplePropValueAsSingleValue(t,n)}},{key:"getMultiplePropValueAsSingleValue",value:function(e,t){if("json"===e){if(null==t)return JSON.stringify([]);var a=[];for(var n in t){t[n]&&a.push(n)}return JSON.stringify(a)}var r="",i="",o="<",l=">",s=",";if("csvstring"===e&&(l=o='"'),"valuestring"===e&&(o='("',l='") ',s=""),"valueuri"===e&&(o="(<",l=">) ",s=""),null==t)return this.getEmptyMultiplePropValueAsSingleValue(e);for(var c in t)t[c]&&(r+=i+o+c+l,i=s);return""===r&&(r=this.getEmptyMultiplePropValueAsSingleValue(e)),r}},{key:"parseMultiplePropValue",value:function(e,t){if("json"===e)return JSON.parse(t);var a={csvuri:{prefix:"<",postfix:">",separator:","},csvstring:{prefix:'"',postfix:'"',separator:","},valuestring:{prefix:'("',postfix:'")',separator:" "},valueuri:{prefix:"(<",postfix:">)",separator:" "}}[null!==e&&void 0!==e?e:"csvuri"],n=a.prefix,r=a.postfix,i=a.separator;t=t.split(i).map((function(e){return e.trim()})).join(i);var o=function(e){if("prefix"===e)return"value";if("value"===e&&""===r)return"separator";if("value"===e)return"postfix";if("postfix"===e&&""===i)return"prefix";if("postfix"===e)return"separator";if("separator"===e&&""===n)return"value";if("separator"===e)return"prefix";throw new Error('unknown value for "lookingFor": '.concat(e))},l=function(a,n,r){var i=r[a.length];if(n!==i)throw console.log({char:n,expectedChar:i,symbol:r,parsedLength:a.length}),new Error("".concat(n," was expected to be part of ").concat(r," as ").concat(e," in ").concat(t));return a+=n},s={values:[],parsed:"",lookingFor:o("separator")},c=Array.from(t).reduce((function(e,t){var a=e.currentEscapeChar,s=e.values,c=e.parsed,u=e.lookingFor;try{if("prefix"===u)return(c=l(c,t,n)).length===n.length?{values:s,parsed:"",lookingFor:o("prefix")}:{values:s,parsed:c,lookingFor:u};if("value"===u){if(!a&&"\\"===t)return{currentEscapeChar:t,values:s,parsed:c,lookingFor:u};if(a||t!==r[0])return{values:s,parsed:c+=t,lookingFor:u};s.push(c),c="",u=o("value")}if("postfix"===u)return(c=l(c,t,r)).length===r.length?{values:s,parsed:"",lookingFor:o("postfix")}:{values:s,parsed:c,lookingFor:u};if("separator"===u)return(c=l(c,t,i)).length===i.length?{values:s,parsed:"",lookingFor:o("separator")}:{values:s,parsed:c,lookingFor:u}}catch(p){var d=p.message;throw new Error(d+"\n\n"+JSON.stringify({values:s,parsed:c,lookingFor:u,char:t}))}throw new Error('unknown value for "lookingFor": '.concat(u))}),s);return c.values}},{key:"getEmptyMultiplePropValueAsSingleValue",value:function(e){if("json"===e)return JSON.stringify([]);var t="",a="<",n=">";return"csvstring"===e&&(n=a='"'),"valuestring"===e&&(a='("',n='") '),"valueuri"===e&&(a="(<",n=">) ",t="http://www.buildingbits.nl/reset"),a+t+n}},{key:"getMultipleValueFormatOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,a=void 0===t?"multipleselectparametertype":t,n=e.label;return{name:a,type:"select",options:[{label:"csv as uri",value:"csvuri"},{label:'csv as string with "',value:"csvstring"},{label:'sparql value string with "',value:"valuestring"},{label:"sparql value uri",value:"valueuri"},{label:"JSON array",value:"json"}],label:void 0===n?"for Multiple selection only: how to set the multivalue parameters":n}}}]),e}();function p(e,t){return new Promise((function(a,n){setTimeout((function(){try{a(e())}catch(t){n(t)}}),t)}))}d.resetUri="http://www.buildingbits.nl/reset",t.a=d},252:function(e,t,a){"use strict";var n=a(19),r=a(2),i=a(4),o=a(5),l=a(29),s=a(11),c=a(12),u=a(0),d=a.n(u),p=a(50),b=a(408),_=a.n(b),h=a(63),m=a.n(h),f=a(409),g=a(410),j=a.p+"static/media/plus.d2c8885b.svg",O=a(293),v=a.p+"static/media/cross.53a62fd9.svg",y=a(25),x=a(14),w=a(9),E=a(17),C=a(10),D=a(44),I=a(253),M=a.n(I),P=a(343),T=a.n(P),k=a(195),L=a(88),S=a(471),R=a.n(S),A=a(1);function N(e){return Object(A.jsx)(u.Suspense,{fallback:Object(A.jsx)(U,{active:e.active}),children:Object(A.jsx)(U,{active:e.active,children:e.children})})}function U(e){return Object(A.jsxs)(A.Fragment,{children:[e.active&&Object(A.jsx)("div",{className:R.a.overlay,children:Object(A.jsx)(L.a,{loading:e.active})}),e.children]})}var B=a(59),W=a(243),V=a(84),K=["children"];a(644);D.a.defaults.timeout=25e4;var z=D.a.CancelToken,F=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).lastQuery=void 0,n.state={loading:!1},n.resolveTemplateVariableInQuery=function(e){if(!1!==n.props.withinSelectedTab&&n.props.query)try{var t=Object(V.d)(n.props.query,n.props.pubsub,e);if(t===n.lastQuery)return;n.lastQuery=t,n.loadData(t)}catch(a){if(a instanceof V.a)return n.setState({message:""});console.error(a)}},n.publishMultipleValues=function(e){return n.props.dispatch({type:"PUBLISH",data:e})},n.publish=function(e,t){return n.props.dispatch({type:"PUBLISH",data:Object(C.a)({},e,t)})},n.setLoading=function(e){n.setState({loading:e}),n.props.voteForUserActionsDisabledWhenLoading&&n.props.voteForUserActionsDisabled(e)},n.setLoadingFromWidget=function(e){setTimeout((function(){n.setLoading(e)}),0)},n.sendNotification=function(e){return Object(k.b)(e)},n.resolveTemplateVariableInQueryDebounce=T()(n.resolveTemplateVariableInQuery,2e3),n.useLoadingWidget=!1,null==window.top.url&&n.createSparqlFunction();var r=Object(B.c)("sparql",n.props.repoName,n.props.repoURL,n.props.localRepoURL);return n.sparql=new W.b(r,n.props.widgetId),n}return Object(o.a)(a,[{key:"getUrl",value:function(){try{var e="/api/sparql/"+this.props.repoURL;this.props.repoURL.startsWith("http")&&(e=this.props.repoURL);var t=!1;"localhost:3000"===window.location.host&&(t=!0),null!=this.props.localRepoURL&&""!==this.props.localRepoURL&&t&&(e=this.props.localRepoURL),window.top.url=e;try{document.url=e}catch(a){}return e}catch(a){console.log("error creating url"+a)}return null}},{key:"createSparqlFunction2",value:function(){var e=this.getUrl();window.top.query=function(){var t=Object(E.a)(Object(w.a)().mark((function t(a,n,r){var i,o,l,s=this;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=encodeURIComponent(a),o={query:a},o="infer=false&sameAs=false&query="+i,D.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",null==document.withCredentials&&(document.withCredentials=!0),D.a.defaults.withCredentials=document.withCredentials,0!=document.withCredentials&&(D.a.defaults.credentials="include"),null==n&&null==r){t.next=12;break}(l=Object(D.a)({method:"post",url:e,data:o,maxContentLength:1/0,maxBodyLength:1/0,headers:{Accept:"application/sparql-results+json"},cancelToken:new z((function(e){s.cancel=e}))})).then((function(e){n&&n.call(s,e.data)})).catch((function(e){r&&r.call(s,e)})),t.next=18;break;case 12:return console.log("run await version"),t.next=15,D.a.post(e,o,{maxContentLength:1/0,maxBodyLength:1/0,headers:{Accept:"application/sparql-results+json"},cancelToken:new z((function(e){s.cancel=e}))});case 15:return l=t.sent,t.abrupt("return",l);case 18:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),this.sparqlQuery=window.top.query}},{key:"createSparqlFunction",value:function(){this.createSparqlFunction2()}},{key:"runJSInQuery",value:function(e){try{if(null==e)return null;if(e.includes("<script>")){var t=e.split("<script>"),a="";for(var n in t)if("0"!==n){var r=t[n].split("<\/script>"),i=r[0],o="";try{o=new Function(i)()}catch(l){console.log("cannot execute js code ",i,l)}null==o&&(o=""),a+=o+r[1]}else a=t[n];return a}}catch(s){console.error("error parsing js in query ",s,e)}return e}},{key:"loadData",value:function(){var e=Object(E.a)(Object(w.a)().mark((function e(t){var a,n,r,i,o=arguments;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=o.length>1&&void 0!==o[1]?o[1]:0)>1)){e.next=3;break}return e.abrupt("return",console.error("retried this already"));case 3:if(this.props.repoURL){e.next=5;break}return e.abrupt("return",console.error("Repo URL is not set!"));case 5:if(t){e.next=7;break}return e.abrupt("return");case 7:return n=this.runJSInQuery(t),0===a&&(this.setLoading(!0),this.setState({message:null})),e.prev=9,e.next=12,this.sparql.fetch(n);case 12:if((r=e.sent).isLatest()){e.next=15;break}return e.abrupt("return");case 15:this.setState({data:r.result}),this.setLoading(!1),e.next=33;break;case 19:if(e.prev=19,e.t0=e.catch(9),!(e.t0 instanceof D.a.CanceledError)){e.next=23;break}return e.abrupt("return");case 23:if(!(e.t0 instanceof W.a)){e.next=31;break}return e.next=26,this.props.reauth();case 26:if((i=e.sent).success){e.next=30;break}return i.goToLoginPage(),e.abrupt("return");case 30:return e.abrupt("return",this.loadData(t));case 31:return console.error(e.t0),e.abrupt("return",this.loadData(t,a+1));case 33:case"end":return e.stop()}}),e,this,[[9,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this.props.definition.variables;e&&e.find((function(e){return"query"===e.name}))&&!1!==this.props.withinSelectedTab&&this.resolveTemplateVariableInQuery()}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.definition.variables;if(a&&a.find((function(e){return"query"===e.name})))if(e.repoURL!==this.props.repoURL)this.resolveTemplateVariableInQueryDebounce();else if(this.props.withinSelectedTab!==e.withinSelectedTab)this.props.withinSelectedTab&&this.resolveTemplateVariableInQuery();else if(e.query!==this.props.query)this.resolveTemplateVariableInQuery();else if(!M()(e.pubsub,this.props.pubsub)){var n=[];Object.keys(this.props.pubsub).forEach((function(a){e.pubsub[a]!==t.props.pubsub[a]&&n.push(a)})),this.resolveTemplateVariableInQuery(n)}}},{key:"render",value:function(){if(null==this.state)return null;var e=this.props,t=e.children,a=Object(x.a)(e,K);return Object(A.jsx)(N,{active:this.state.loading&&this.props.showLoadingOverlay,children:Object(u.cloneElement)(t,Object(r.a)(Object(r.a)(Object(r.a)({},this.state),a),{},{setLoading:this.setLoadingFromWidget,publish:this.publish,publishMultipleValues:this.publishMultipleValues,sendNotification:this.sendNotification,closeDialog2:this.props.closeDialog}))})}}]),a}(u.Component),q=Object(p.b)((function(e){return{layoutName:e.project.layoutName,pubsub:e.pubsub}}))(F),Q=a(104),H=a(488),G=a(290),J=a(348),Z=a.n(J),Y=a(64),X=["userActionsDisabled","clickable"];function $(e){var t=e.userActionsDisabled,a=e.clickable,n=Object(x.a)(e,X);return Object(A.jsx)("div",Object(r.a)(Object(r.a)({className:Object(Y.b)(e.className,Z.a.wrapper,Object(C.a)({},Z.a.clickable,a&&!t)),"data-user-actions-disabled":t},n),{},{"aria-disabled":t,"data-testid":"widget-wrapper",children:e.children}))}var ee=a(23),te=a(171),ae=a(125),ne=["className"],re=Object(ee.a)((function(e){var t=e.className,a=Object(x.a)(e,ne);return Object(A.jsx)(te.a,Object(r.a)(Object(r.a)({},a),{},{arrow:!0,classes:{popper:t}}))}))((function(){return Object(C.a)({},"& .".concat(ae.a.tooltip),{fontSize:"0.875rem",fontWeight:500,textTransform:"uppercase",padding:".75em 1em"})})),ie=a(135),oe=a(58),le=a(13),se=a(7),ce=a(99),ue=a(472),de=a.n(ue),pe=a(20),be=a(37),_e=a(300),he=a(301),me=a.n(he),fe=a(239),ge=a.n(fe),je=a(277),Oe=a(302),ve=a(100),ye=a(28),xe=a(238),we=a.n(xe),Ee=a(774),Ce=a(718),De=a(129),Ie=a(71),Me=a(86),Pe=(a(344),["className"]),Te=["className"],ke=["className"],Le=["className"],Se=["className"],Re=["className"],Ae=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Pe);return Object(A.jsx)(Me.a,Object(r.a)({ref:t,className:Object(ye.a)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a)},n))}));Ae.displayName=Me.a.displayName;var Ne=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Te);return Object(A.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[Object(A.jsx)(Ie.MagnifyingGlassIcon,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),Object(A.jsx)(Me.a.Input,Object(r.a)({ref:t,className:Object(ye.a)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a)},n))]})}));Ne.displayName=Me.a.Input.displayName;var Ue=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,ke);return Object(A.jsx)(Me.a.List,Object(r.a)({ref:t,className:Object(ye.a)("max-h-[300px] overflow-y-auto overflow-x-hidden",a)},n))}));Ue.displayName=Me.a.List.displayName;var Be=u.forwardRef((function(e,t){return Object(A.jsx)(Me.a.Empty,Object(r.a)({ref:t,className:"py-6 text-center text-sm"},e))}));Be.displayName=Me.a.Empty.displayName;var We=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Le);return Object(A.jsx)(Me.a.Group,Object(r.a)({ref:t,className:Object(ye.a)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a)},n))}));We.displayName=Me.a.Group.displayName,u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Se);return Object(A.jsx)(Me.a.Separator,Object(r.a)({ref:t,className:Object(ye.a)("-mx-1 h-px bg-border",a)},n))})).displayName=Me.a.Separator.displayName;var Ve=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Re);return Object(A.jsx)(Me.a.Item,Object(r.a)({ref:t,className:Object(ye.a)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",a)},n))}));Ve.displayName=Me.a.Item.displayName;var Ke=a(161);function ze(e){var t,a,n,r,i=u.useState(!1),o=Object(se.a)(i,2),l=o[0],s=o[1];return Object(A.jsxs)(Ke.a,{open:l,onOpenChange:s,children:[Object(A.jsx)(Ke.d,{asChild:!0,children:Object(A.jsxs)(De.a,{variant:"outline",role:"combobox","aria-expanded":l,className:Object(ye.a)("w-full justify-between !px-2",e.buttonClassName),children:[e.value?null===(t=e.options.find((function(t){return t.value===e.value})))||void 0===t?void 0:t.label:null!==(a=e.placeholder)&&void 0!==a?a:"Select an option...",Object(A.jsx)(Ee.a,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),Object(A.jsx)(Ke.c,{className:Object(ye.a)("w-[200px] p-0",e.contentClassName),style:{zIndex:9999,width:"var(--radix-popper-anchor-width)"},children:Object(A.jsxs)(Ae,{children:[Object(A.jsx)(Ne,{placeholder:null!==(n=e.placeholder)&&void 0!==n?n:"Search..."}),Object(A.jsxs)(Ue,{children:[Object(A.jsx)(Be,{children:null!==(r=e.noResultsLabel)&&void 0!==r?r:"No options found"}),Object(A.jsx)(We,{children:e.options.map((function(t){return Object(A.jsxs)(Ve,{value:t.value,keywords:[t.label],onSelect:function(t){var a;null===(a=e.onChange)||void 0===a||a.call(e,t===e.value?"":t),s(!1)},children:[Object(A.jsx)(Ce.a,{className:Object(ye.a)("mr-2 h-4 w-4",e.value===t.value?"opacity-100":"opacity-0")}),t.label]},t.value)}))})]})]})})]})}var Fe=a(126),qe=["className"],Qe=["className"],He=["className"],Ge=["className"],Je=Fe.c,Ze=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,qe);return Object(A.jsx)(Fe.b,Object(r.a)({ref:t,className:Object(ye.a)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a)},n))}));Ze.displayName=Fe.b.displayName;var Ye=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Qe);return Object(A.jsx)(Fe.d,Object(r.a)({ref:t,className:Object(ye.a)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a)},n))}));Ye.displayName=Fe.d.displayName;var Xe=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,He);return Object(A.jsx)(Fe.d,Object(r.a)({ref:t,className:Object(ye.a)("inline-flex items-center justify-center whitespace-nowrap rounded-t-md bg-muted px-2 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground border-x border-t border-solid border-slate-200 data-[state=active]:border-[#b8c0cb] hover:bg-slate-50",a)},n))}));Xe.displayName=Fe.d.displayName;var $e=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,Ge);return Object(A.jsx)(Fe.a,Object(r.a)({ref:t,className:Object(ye.a)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a)},n))}));$e.displayName=Fe.a.displayName;var et=a(233),tt=a(362),at=a(313),nt=["className"],rt=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,nt);return Object(A.jsx)(at.a,Object(r.a)(Object(r.a)({className:Object(ye.a)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a)},n),{},{ref:t,children:Object(A.jsx)(at.b,{className:Object(ye.a)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}))}));function it(e){var t,a,n=u.useState(null!==(t=e.selected)&&void 0!==t?t:""),r=Object(se.a)(n,2),i=r[0],o=r[1],l=u.useState(!1),s=Object(se.a)(l,2),c=s[0],d=s[1],p=e.suggestions.some((function(e){return e===i}))||!i.length?e.suggestions:[i].concat(Object(le.a)(e.suggestions));return Object(A.jsxs)(Ke.a,{open:c,onOpenChange:d,children:[Object(A.jsx)(Ke.d,{asChild:!0,children:Object(A.jsxs)(De.a,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[null!==(a=e.suggestions.find((function(t){return t===e.selected})))&&void 0!==a?a:e.placeholder,Object(A.jsx)(Ie.CaretSortIcon,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),Object(A.jsx)(Ke.c,{className:"w-full p-0",style:{zIndex:9999,width:"var(--radix-popper-anchor-width)"},children:Object(A.jsxs)(Ae,{children:[Object(A.jsx)(Ne,{className:"h-9",placeholder:e.placeholder,value:i,onValueChange:o}),Object(A.jsxs)(Ue,{children:[Object(A.jsx)(Be,{children:e.noSuggestionsPlaceholder}),Object(A.jsx)(We,{children:p.map((function(t){return Object(A.jsxs)(Ve,{value:t,onSelect:function(t){e.select(t),d(!1)},children:[t,Object(A.jsx)(Ie.CheckIcon,{className:Object(ye.a)("ml-auto h-4 w-4",e.selected===t?"opacity-100":"opacity-0")})]},t)}))})]})]})})]})}rt.displayName=at.a.displayName;var ot=a(60),lt=a(234),st=a(436);function ct(e){var t=[],a=!1,r=0,i=null,o=!1,l=e.replace(/\r?\n/g," ").match(/\(|\)|\?[\w]+|as|\*|\w+|["'][^"']*["']|SELECT|WHERE|{|}/gi);if(!l)return[];var s,c=Object(n.a)(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;if("SELECT"!==u.toUpperCase()){if("WHERE"===u.toUpperCase()||"{"===u)break;if(a){if("*"===u)return[];if("("===u)r++,o||(o=!0,i=null);else if(")"===u)0===--r&&(o=!1,i&&t.push(i));else if(u.startsWith("?")){var d=u.replace("?","");o?i=d:t.push(d)}}}else a=!0}}catch(p){c.e(p)}finally{c.f()}return t}var ut=a(206),dt=a(199),pt=["className","variant"],bt=["className"],_t=["className"],ht=Object(dt.a)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mt=u.forwardRef((function(e,t){var a=e.className,n=e.variant,i=Object(x.a)(e,pt);return Object(A.jsx)("div",Object(r.a)({ref:t,role:"alert",className:Object(ye.a)(ht({variant:n}),a)},i))}));mt.displayName="Alert",u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,bt);return Object(A.jsx)("h5",Object(r.a)({ref:t,className:Object(ye.a)("mb-1 font-medium leading-none tracking-tight",a)},n))})).displayName="AlertTitle";var ft=u.forwardRef((function(e,t){var a=e.className,n=Object(x.a)(e,_t);return Object(A.jsx)("div",Object(r.a)({ref:t,className:Object(ye.a)("text-sm [&_p]:leading-relaxed",a)},n))}));ft.displayName="AlertDescription";var gt=a(68);function jt(e,t){var a=[];for(var n in e){var r=t(n,e[n]);a.push(r)}return a}function Ot(e,t){for(var a in e){t(a,e[a])}}function vt(e){var t,a,r,i=d.a.useState([]),o=Object(se.a)(i,2),l=o[0],s=o[1],c=d.a.useState([]),u=Object(se.a)(c,2),p=u[0],b=u[1],_=d.a.useState(""),h=Object(se.a)(_,2),m=h[0],f=h[1],g=d.a.useState(null===(t=e.customConfig.columnConfigs[0])||void 0===t?void 0:t.id),j=Object(se.a)(g,2),O=j[0],v=j[1],y=Object(oe.b)((function(e){var t=e.currentViewer.activeYasqes;return 0===t.length&&console.error("no sparql editor window was found"),t.length>1&&console.error("could not identify which sparql-editor window is used for data-querying"),1===t.length?t[0]:null}));d.a.useEffect((function(){if(y){var e=function(){f(null===y||void 0===y?void 0:y.getValue());var e=y.getVariablesFromQuery().map((function(e){return e.slice(1)})),t=ct(y.getValueWithoutComments());s(e),b(t)};e(),y.on("blur",e)}}),[y,s]);d.a.useEffect((function(){return function(){var t=gt.k.superRefine((function(e,t){Object(gt.j)(e,t,m)})).safeParse(e.customConfig);t.success?e.setConfigFeedback("valid"):e.setConfigFeedback("error",Object(A.jsx)(Ct,{parsedError:t.error}))}()}),[m,e.customConfig]),window.y=y;var x=Object(ot.l)(Object(ot.k)(ot.c,{activationConstraint:{distance:8}})),w=function(e){return p.includes(e.id)},E=function(e){return gt.c.safeParse(e).success},C=function(t){return e.onChange(e.name,Object(ce.c)(e.customConfig,t))},D=function(e,t){C((function(a){var n=a.columnConfigs.findIndex((function(t){return t.id===e.id}));if(-1===n)throw new Error("columnId ".concat(e.id," could not be found"));t(a.columnConfigs[n])}))},I=function(e,t,a){return D(e,(function(e){return e[t]=a}))},M=function(e,t){return D(e,(function(e){e.editable||(e.editable=Object(gt.f)()),t(e.editable)}))},P=l.filter((function(e){return!e.includes("_")})),T=p.filter((function(e){return!e.includes("_")})),k=P.filter((function(t){return!e.customConfig.columnConfigs.some((function(e){return e.id===t}))})),L=T.filter((function(t){return!e.customConfig.columnConfigs.some((function(e){return e.id===t}))}));return Object(A.jsxs)("div",{className:"flex flex-col gap-2 w-full p-2 border-2 rounded-lg bg-muted text-foreground shadow-lg",style:{fontFamily:'"Exo 2 Variable", sans-serif'},children:[Object(A.jsxs)("div",{className:"grid w-full items-center gap-4 p-4 mt-0 bg-background rounded-lg",children:[Object(A.jsx)(xt,{label:"enable row editing",checked:null===(a=e.customConfig.rowEditor)||void 0===a?void 0:a.enabled,onCheckedChange:function(e){return C((function(t){t.rowEditor||(t.rowEditor=Object(gt.g)()),t.rowEditor.enabled=e;var a,r=Object(n.a)(t.columnConfigs);try{for(r.s();!(a=r.n()).done;){var i=a.value;"sortable"in i&&void 0===(null===i||void 0===i?void 0:i.editable)&&(i.editable=Object(gt.f)())}}catch(o){r.e(o)}finally{r.f()}}))}}),(null===(r=e.customConfig.rowEditor)||void 0===r?void 0:r.enabled)&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(wt,{label:"Default graph",defaultValue:e.customConfig.rowEditor.graph,onChange:function(e){return C((function(t){t.rowEditor||(t.rowEditor=Object(gt.g)()),t.rowEditor.graph=e.target.value}))}})})]}),Object(A.jsxs)("div",{className:"flex w-full gap-2",children:[Object(A.jsx)(te.a,{title:0===T.length?"Autofill with SELECT * is not supported":void 0,children:Object(A.jsx)("span",{children:Object(A.jsxs)(De.a,{disabled:0===T.length,onClick:function(){if(L.length){var t=L.map((function(t){var a;return{id:t,label:t,width:"auto",filterable:!0,sortable:!0,editable:null!==(a=e.customConfig.rowEditor)&&void 0!==a&&a.enabled?Object(gt.f)():void 0}}));e.onChange(e.name,Object(ce.c)(e.customConfig,(function(e){var a;(a=e.columnConfigs).push.apply(a,Object(le.a)(t))}))),v(t[0].id)}},className:"gap-2",children:[Object(A.jsx)(Ie.SymbolIcon,{}),Object(A.jsx)("span",{children:"Auto fill"})]})})}),Object(A.jsxs)(De.a,{onClick:function(){var t,a,n={width:"auto",filterable:!0,sortable:!0,id:null!==(t=null===L||void 0===L?void 0:L[0])&&void 0!==t?t:"data-".concat(Date.now()),label:null!==(a=null===L||void 0===L?void 0:L[0])&&void 0!==a?a:""};e.onChange(e.name,Object(ce.c)(e.customConfig,(function(e){e.columnConfigs.push(n)}))),v(n.id)},className:"gap-2",children:[Object(A.jsx)(Ie.PlusIcon,{}),Object(A.jsx)("span",{children:"Add sparql column"})]}),Object(A.jsxs)(De.a,{onClick:function(){var e=Object(gt.d)();C((function(t){t.columnConfigs.push(e)})),v(e.id)},className:"gap-2",children:[Object(A.jsx)(Ie.PlusIcon,{}),Object(A.jsx)("span",{children:"Add actions column"})]})]}),Object(A.jsx)("div",{className:"shadow rounded-lg",children:Object(A.jsxs)(Je,{value:O,onValueChange:v,children:[Object(A.jsx)(ot.a,{sensors:x,onDragEnd:function(t){t.active&&t.over&&function(t,a){var n=e.customConfig.columnConfigs.findIndex((function(e){return e.id===t})),r=e.customConfig.columnConfigs.findIndex((function(e){return e.id===a}));e.onChange(e.name,Object(ce.c)(e.customConfig,(function(t){t.columnConfigs=Object(lt.b)(e.customConfig.columnConfigs,n,r)})))}(t.active.id,t.over.id)},children:Object(A.jsx)(Ze,{className:"w-full flex flex-row flex-wrap justify-start p-0 h-auto mx-[-1px] bg-transparent",children:Object(A.jsx)(lt.a,{items:e.customConfig.columnConfigs.map((function(e){return e.id})),children:e.customConfig.columnConfigs.map((function(t){return Object(A.jsx)(st.a,{id:t.id,children:Object(A.jsxs)(Xe,{className:"!pr-2 gap-2 [&>button]:hover:opacity-100",value:t.id,"aria-label":t.label,children:[E(t)?Object(A.jsx)(Ie.PlayIcon,{}):w(t)?Object(A.jsx)(Ie.Link2Icon,{}):Object(A.jsx)(Ie.LinkBreak2Icon,{})," ",t.label,Object(A.jsx)(De.a,{variant:"ghost","aria-label":"Remove column",className:"rounded size-5 p-1 hover:bg-slate-300 opacity-50 transition-opacity ",onPointerDown:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},onClick:function(a){var n;a.stopPropagation(),n=t,e.onChange(e.name,Object(ce.c)(e.customConfig,(function(e){e.columnConfigs=e.columnConfigs.filter((function(e){return e.id!==n.id}))})))},children:Object(A.jsx)(Ie.Cross2Icon,{})})]})},t.id)}))})})}),e.customConfig.columnConfigs.map((function(t){var a=Object(gt.i)(t),n="grid w-full items-center gap-4 p-4 mt-0 bg-background rounded-lg";if(a.dataColumn.success&&!a.actionColumn.success){var r,i,o,l,s,c,u,d,p,b,_,h,m=a.dataColumn.data;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)($e,{value:m.id,className:n,children:[Object(A.jsx)(yt,{label:"SPARQL variable name",placeholder:"".concat(w(m)?"\ud83d\udd17":"\u26d3\ufe0f\u200d\ud83d\udca5"," ").concat(m.id),selected:m.id,select:function(e){I(m,"id",e),v(e)},suggestions:k,noSuggestionsPlaceholder:0===P.length?"current query does not contain any sparql identifiers":"there are no unused sparql identifiers remaining"}),Object(A.jsx)(wt,{label:"Header label",defaultValue:m.label,onChange:function(e){return I(m,"label",e.target.value)}}),Object(A.jsx)(wt,{label:Object(A.jsxs)(A.Fragment,{children:["Topic to publish to when clicked with ",Object(A.jsx)("code",{children:"_URI"})," modifier"]}),defaultValue:m.publishTopic,onChange:function(e){return I(m,"publishTopic",e.target.value||void 0)}}),Object(A.jsx)(wt,{label:"Column width",defaultValue:m.width,onChange:function(e){return I(m,"width",e.target.value)}}),Object(A.jsx)(xt,{label:"Filter features",checked:m.filterable,onCheckedChange:function(e){return I(m,"filterable",e)}}),Object(A.jsx)(xt,{label:"Sort features",checked:m.sortable,onCheckedChange:function(e){return I(m,"sortable",e)}}),(null===(r=e.customConfig.rowEditor)||void 0===r?void 0:r.enabled)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(xt,{label:"Edit features",checked:Boolean(null===(i=m.editable)||void 0===i?void 0:i.enabled),onCheckedChange:function(e){return M(m,(function(t){return t.enabled=e}))}}),(null===(o=m.editable)||void 0===o?void 0:o.enabled)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(wt,{label:"Graph",withInterpolation:!0,disabled:!(null!==(l=m.editable)&&void 0!==l&&l.enabled),defaultValue:null===(s=m.editable)||void 0===s?void 0:s.graph,onChange:function(e){return M(m,(function(t){return t.graph=e.target.value}))}}),Object(A.jsx)(wt,{label:"Subject",withInterpolation:!0,disabled:!(null!==(c=m.editable)&&void 0!==c&&c.enabled),defaultValue:null===(u=m.editable)||void 0===u?void 0:u.subject,onChange:function(e){return M(m,(function(t){return t.subject=e.target.value}))}}),Object(A.jsx)(wt,{label:"Predicate",withInterpolation:!0,disabled:!(null!==(d=m.editable)&&void 0!==d&&d.enabled),defaultValue:null===(p=m.editable)||void 0===p?void 0:p.predicate,onChange:function(e){return M(m,(function(t){return t.predicate=e.target.value}))}}),Object(A.jsx)(Et,{label:"Object type",defaultValue:null===(b=m.editable)||void 0===b?void 0:b.objectType,onValueChange:function(e){return M(m,(function(t){return t.objectType=e}))},options:gt.m}),Object(A.jsx)(Et,{label:"Input field type",defaultValue:null===(_=m.editable)||void 0===_?void 0:_.componentType,onValueChange:function(e){return M(m,(function(t){return t.componentType=e}))},options:gt.l}),Object(A.jsx)(Et,{label:"Behaviour when empty field",defaultValue:null===(h=m.editable)||void 0===h?void 0:h.whenEmptyField,onValueChange:function(e){return M(m,(function(t){return t.whenEmptyField=e}))},options:gt.n})]})]})]},m.id)})}var f=Object(gt.h)(t)?a.dataColumn:a.actionColumn;return f.success||console.error(f.error),Object(A.jsxs)($e,{value:t.id,className:n,children:[!f.success&&Object(A.jsxs)("div",{children:[f.error.issues.map((function(e){return Object(A.jsx)(Dt,{zodIssue:e},e.message)})),Object(A.jsx)("div",{children:"For more info, see browser dev tools console."})]}),Object(A.jsx)(ve.a,{name:e.name,value:t,onValueChange:function(e){var a=e;!function(e,t){C((function(a){a.columnConfigs=a.columnConfigs.map((function(a){return a.id===e?t:a}))}))}(t.id,a),v(a.id)}})]},t.id)}))]})})]})}function yt(e){return Object(A.jsxs)(et.a,{className:"grid w-full gap-1.5",children:[Object(A.jsx)("span",{children:e.label}),Object(A.jsx)(it,{placeholder:e.placeholder,selected:e.selected,select:e.select,suggestions:e.suggestions,noSuggestionsPlaceholder:e.noSuggestionsPlaceholder})]})}function xt(e){return Object(A.jsxs)(et.a,{className:"flex items-center space-x-2 w-fit cursor-pointer",children:[Object(A.jsx)(rt,{checked:e.checked,onCheckedChange:e.onCheckedChange}),Object(A.jsx)("span",{children:e.label})]})}function wt(e){return Object(A.jsxs)(et.a,{className:"grid w-full gap-1.5",children:[Object(A.jsxs)("div",{className:"inline-flex justify-between",children:[Object(A.jsx)("span",{children:e.label}),e.withInterpolation&&Object(A.jsxs)("i",{className:"justify-self-end",children:["topic ","{{variables}}"," enabled"]})]}),Object(A.jsx)(tt.a,{type:"text",disabled:e.disabled,defaultValue:e.defaultValue,onChange:e.onChange})]})}function Et(e){return Object(A.jsxs)(et.a,{className:"grid w-full gap-1.5",children:[Object(A.jsx)("span",{children:e.label}),Object(A.jsxs)(ut.a,{defaultValue:e.defaultValue,onValueChange:e.onValueChange,children:[Object(A.jsx)(ut.f,{children:Object(A.jsx)(ut.g,{})}),Object(A.jsx)(ut.b,{children:jt(e.options,(function(e,t){return Object(A.jsx)(ut.d,{value:e,children:t},e)}))})]})]})}function Ct(e){var t=e.parsedError.flatten().fieldErrors,a=[],n=0;for(var r in t){var i;r===gt.a?null===(i=t[r])||void 0===i||i.forEach((function(e){return a.push(e)})):n++}return n&&a.unshift(1===n?"1 field above is invalid":"".concat(n," fields above are invalid")),Object(A.jsx)(A.Fragment,{children:a.map((function(e){return Object(A.jsx)(mt,{className:"bg-red-800 text-white",children:Object(A.jsx)(ft,{children:e})},e)}))})}function Dt(e){var t=e.zodIssue.path.map((function(e){switch(typeof e){case"string":return'key "'.concat(e,'"');case"number":return"index ".concat(e);default:return"unknown ".concat(e)}})).join(" > ");return Object(A.jsx)(mt,{className:"bg-red-800 text-white",children:Object(A.jsxs)(ft,{children:[Object(A.jsx)("code",{className:"text-pink-300",children:e.zodIssue.code})," at ",Object(A.jsx)("code",{className:"text-pink-300",children:t})]})})}function It(e){var t=Object(je.a)();return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(pe.d,{style:{width:"100%",whiteSpace:"pre-line"},children:Object(A.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[Object(A.jsx)("div",{style:{flexGrow:1},children:e.label}),e.topicValueInterpolationEnabled&&Object(A.jsxs)("i",{children:["topic ","{{variables}}"," enabled"]}),e.helpComponent&&Object(A.jsx)("a",{href:"#",onClick:function(a){a.preventDefault(),e.helpComponent&&t(Oe.a,{component:e.helpComponent})},children:"Help..."})]})})})}var Mt=function(e){var t,a;switch(e.type){case"yasgui":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent}),Object(A.jsx)(_e.a,{mode:"init-value",value:e.value,onBlur:function(t){return e.onChange(e.name,t)}})]});case"javascript":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent}),Object(A.jsx)(me.a,{mode:"javascript",theme:"github",style:{width:"100%",height:"120px"},value:e.value,onChange:function(t){e.onChange(e.name,t)},name:"editor"})]});case"select":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent}),Object(A.jsx)(pe.c,{className:Object(ye.a)(ge.a.default,"dark-form-control",we.a["dark-form-control-select"]),value:e.value||"",type:"select",onChange:function(t){return e.onChange(e.name,t.target.value)},children:e.options&&e.options.map((function(e){return Object(A.jsx)("option",{value:e.value,children:e.label},e.value)}))})]});case"searchselect":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent}),Object(A.jsx)(ze,{value:e.value||"",onChange:function(t){return e.onChange(e.name,t)},options:e.options,placeholder:e.placeholder||"Search...",noResultsLabel:e.noResultsLabel||"No results found",buttonClassName:"legacy bg-[#373a3c] !border-[#808080]",contentClassName:"legacy"})]});case"boolean":return Object(A.jsx)(be.a,{children:Object(A.jsxs)(pe.d,{style:{cursor:"pointer"},children:[Object(A.jsx)(pe.c,{checked:null!==(t=e.value)&&void 0!==t&&t,className:ge.a.check,type:"checkbox",onChange:function(t){return e.onChange(e.name,t.target.checked)}}),"  ",e.label]})});case"json":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent}),Object(A.jsx)(ve.a,{name:e.name,value:e.value,onValueChange:function(t){e.onChange(e.name,t)}})]});case"json-text":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent}),Object(A.jsx)(ve.b,{name:e.name,value:e.value||"",onValueChange:function(t){e.onChange(e.name,t)}})]});case"array":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent,topicValueInterpolationEnabled:e.topicValueInterpolationEnabled}),Object(A.jsx)(pe.c,{className:"dark-form-control",value:e.value||"",onChange:function(t){return e.onChange(e.name,t.target.value.split(","))}})]});case"tablepp-custom":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent,topicValueInterpolationEnabled:e.topicValueInterpolationEnabled}),Object(A.jsx)(vt,{name:e.name,customConfig:null!==(a=e.value)&&void 0!==a?a:gt.b,setConfigFeedback:e.setConfigFeedback,onChange:e.onChange})]});case"text":case"number":return Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:e.label,helpComponent:e.helpComponent,topicValueInterpolationEnabled:e.topicValueInterpolationEnabled}),Object(A.jsx)(pe.c,{className:"dark-form-control",value:e.value||"",onChange:function(t){return e.onChange(e.name,t.target.value)}})]});default:var n=e;return console.error("unknown type of formfield: ".concat(n.type)),Object(A.jsxs)(be.a,{children:[Object(A.jsx)(It,{label:n.label,helpComponent:n.helpComponent,topicValueInterpolationEnabled:n.topicValueInterpolationEnabled}),Object(A.jsx)(pe.c,{className:"dark-form-control",onChange:function(e){return n.onChange(n.name,e.target.value)}})]})}},Pt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBPropertyPanel",component:Object(u.lazy)((function(){return a.e(46).then(a.bind(null,1534))})),label:"BBPropertyPanel",variables:[{name:"query",type:"yasgui",defaultQuery:'PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \n\r \n\r select ?property ?pred ?value ?literal ?beschrijving ?beschrijvingValue ?icon ?iconColor\n\rwhere\n\r{\n\r  <{{selection}}> ?pred ?value.\n\r  filter(?pred!=rdf:type).\n\r  filter (?pred!=<http://www.opengis.net/ont/geosparql#asWKT>)\n\r  bind (strafter(StR(?pred),"#") as ?property)\n\r  bind (ISLITERAL(?value) as ?literal)\n\r  bind ("fa fa-star" as ?icon)\n\r  bind ("#aa00aa" as ?iconColor)\n\r  bind ("een beschrijving" as ?beschrijving)\n\r # bind ("een beschrijving 2" as ?beschrijvingValue)\n\r  \n\r  \n\r   \n\r}',label:"to fill the property panel. Use ?property and ?value. optionally use  ?beschrijving  ?beschrijvingValue ?literal ?pred  ?iconColor ?icon"},{name:"childParameterText",type:"text",label:"string to replace in sparql with uri for getting child info (e.g. {{uri}})"},{name:"renderEmpty",type:"boolean",label:"render an empty table"},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},{name:"editable",type:"boolean",label:"allow edits. this needs extra ?graph ?datatype ?uri parameters"},{name:"ruleTagAfterSubmit",type:"text",label:"run rule with tag after succesful submit"},{name:"parameters",type:"json-text",label:"extra parameters send in JSON format,Parameters will be resolved before sending. keep it simple. no subchildren"},y.a.getTimestampParametersDef(),{name:"failureMessage",type:"text",label:"failure message"},{name:"className",type:"text",label:"iframe classNames"}]}}}]),e}(),Tt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBCheckboxTree",component:Object(u.lazy)((function(){return Promise.all([a.e(18),a.e(34)]).then(a.bind(null,1535))})),label:"BBCheckboxTree",variables:[{name:"query",type:"yasgui",label:"to fill the tree.   ?uri ?text ?parent ?icon "}]}}}]),e}();function kt(e){var t=Object(r.a)(Object(r.a)({},e.style),{},{unicodeBidi:"embed",fontFamily:"monospace",whiteSpace:"pre"});return Object(A.jsx)("span",Object(r.a)(Object(r.a)({},e),{},{style:t}))}var Lt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"Table",status:"normal",category:"Default",component:Object(u.lazy)((function(){return Promise.resolve().then(a.bind(null,351))})),label:"Table widget",variables:[{name:"query",type:"yasgui",description:"extra documentation",defaultQuery:"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?label ?labelURI ?comment\n\rwhere\n\r{\n\r    graph ?g\n\r  {\n\r    ?labelURI a/rdfs:subClassOf* <{{cls}}>. ?labelURI rdfs:label ?label.\n\r      optional { ?labelURI rdfs:comment ?comment}\n\r     \n\r  }\n\r\n\r}\n\r        limit 100",label:'The results of this query are displayed in the table in the same order as they are returned from the triplestore. Note that results of query-variable-names that end with either "URI", "URL", "Icon", "IconColor", "IconSize", are not displayed in the table, see help for an explanation of their functionality',helpComponent:St},{name:"publishVariable",type:"text",label:"Variabele in which item URI is published, when a link in the table is clicked.",description:"more information about the publish variable"},{name:"highlightVariable",type:"text",label:"highlight table row with this uri"},{name:"ashtml",type:"boolean",label:"tabel waardes als html"},{name:"title",type:"text",label:"Titel boven de tabel"},{name:"renderEmpty",type:"boolean",label:"render an empty table"},{name:"zeroResult",type:"text",label:"text to display when sparql results is valid but has zero results"},{name:"aggregateResultsByFirstParameter",type:"boolean",label:"aggregate sparql results by the first parameter"},{name:"hideHeader",type:"boolean",label:"Hide the header"},{name:"replaceHeaderJSON",type:"text",label:'Key value JSON that replaces parameter headers. {"label":"naam (volledig)"}'},{name:"resetSelectedValueWhenNotAvailable",type:"boolean",label:"reset selected value when it is not available (anymore)"},{name:"hasNumberedRows",type:"boolean",label:"show row numbers"},{name:"centerContent",type:"boolean",label:"center values in the tabel"},y.a.getResetValueDef(),{name:"deletebuttonrule",type:"text",label:"uri or tag for rule when pushing delete icon"},{name:"deletebuttonruleParams",type:"json",label:"Extra parameters send to the rule when pushing delete icon. Should be a flat JSON with string-only values."},y.a.getTimestampParametersDef()]}}}]),e}();function St(){return Object(A.jsxs)("div",{children:[Object(A.jsxs)("p",{children:["When there is a query-variable-name ",Object(A.jsx)(kt,{children:"varName"})]}),Object(A.jsxs)("ul",{children:[Object(A.jsxs)("li",{children:[Object(A.jsxs)(kt,{children:["{varName}","URI"]})," will make it so that clicking on the table-cell value"," ","of ",Object(A.jsx)(kt,{children:"varName"})," will save the value of ",Object(A.jsx)(kt,{children:"{varName}URI"})," to this widget's"," ","configured app-variable."]}),Object(A.jsxs)("li",{children:[Object(A.jsxs)(kt,{children:["{varName}","URL"]})," will make it so that clicking on the table-cell-value"," ","of ",Object(A.jsx)(kt,{children:"varName"})," will let make the browser follow the value of"," ",Object(A.jsx)(kt,{children:"{varName}URI"})," as a URL"]}),Object(A.jsxs)("li",{children:[Object(A.jsxs)(kt,{children:["{varName}","Icon"]})," will replace table-cell-value of ",Object(A.jsx)(kt,{children:"varName"})," with an"," ","icon from ",Object(A.jsx)("a",{href:"https://fontawesome.com/search?o=r&m=free",target:"_blank",rel:"noreferrer",children:"fontawesome"}),"."," ",Object(A.jsx)(kt,{children:"{varName}Icon"})," should be formatted as ",Object(A.jsx)(kt,{children:"fa-{iconName}"})]}),Object(A.jsxs)("li",{children:[Object(A.jsxs)(kt,{children:["{varName}","IconColor"]})," sets the color of the aforementioned icon, which should be a"," ",Object(A.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/color_value",target:"_blank",rel:"noreferrer",children:"css-color-value"})]}),Object(A.jsxs)("li",{children:[Object(A.jsxs)(kt,{children:["{varName}","IconSize"]})," sets the height of the aforementioned icon, which should be a"," ",Object(A.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/height",target:"_blank",rel:"noreferrer",children:"css-height-value"})]})]})]})}var Rt=a(477),At=a(47),Nt=a(314),Ut=a.n(Nt),Bt=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"createStateValues",value:function(e){for(var t={},a=function(){var a=e[n];Object.keys(a).forEach((function(e){if(!e.endsWith("URI")){var n={value:a[e]};a[e+"URI"]&&(n.link=a[e+"URI"]),t[e]?Array.isArray(t[e])?t[e].filter((function(e){return e.value===n.value})).length||t[e].push(n):t[e].value!==a[e]&&(t[e]=[t[e],n]):t[e]=n}}))},n=0;n<e.length;n++)a();return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&t[e].sort((function(e,t){return e.value.localeCompare(t.value)}))})),t}},{key:"render",value:function(){var e=this.props.data;if(!e||!e.results||0===e.results.bindings.length)return null;var t=Object(At.d)(e);if(!t.length)return null;var a={},n=[],r={},i=[],o=0;for(var l in t){var s=t[l];o++,null==r[s.header]&&(r[s.header]=o,i.push(s.header));var c=a[s.row];null==c&&(c={row:s.row},a[s.row]=c,n.push(c)),c[s.header]=s.value}return console.log(n),Object(A.jsxs)("div",{className:Ut.a.main+(this.props.isFirstItemBold?" "+Ut.a.firstItemBold:""),children:[this.props.title&&Object(A.jsx)("div",{className:Ut.a.title,children:this.props.title}),Object(A.jsxs)("table",{children:[Object(A.jsx)("thead",{children:Object(A.jsx)("tr",{children:i.map((function(e,t){return Object(A.jsx)("th",{children:e},"header"+t)}))})}),Object(A.jsx)("tbody",{children:n.map((function(e,t){return Object(A.jsx)("tr",{children:i.map((function(t,a){return Object(A.jsx)("td",{children:e[t]},"td"+a)}))},"row"+t)}))})]})]})}}],[{key:"getDescription",value:function(){return{name:"TableCells",component:a,label:"TableCells widget",variables:[{name:"query",type:"yasgui",label:"Query to fill table. Use ?header ?value ?row ?col to generate a matrix table ."},{name:"publishVariable",type:"text",label:"Variabele in which tree item URI is published, when a link in the table  is clicked."},{name:"isFirstItemBold",type:"boolean",label:"First item bold"},{name:"title",type:"text",label:"Titel boven de tabel"},{name:"onClick",type:"javascript",label:"Code that runs before link click event."}]}}}]),a}(d.a.Component),Wt=Bt,Vt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"Tree",component:Object(u.lazy)((function(){return a.e(31).then(a.bind(null,1536))})),label:"Tree widget",category:"basic",variables:[{name:"query",type:"yasgui",defaultQuery:'PREFIX owl: <http://www.w3.org/2002/07/owl#>\n\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?label ?uri ?parent ?icon ?description \n\rwhere\n\r{\n\r    \n\r    graph <{{graph}}>\n\r    {\n\r       ?uri a owl:Class.\n\r        ?uri rdfs:label ?label.\n\r    optional {?uri rdfs:subClassOf ?parent. } \n\r    optional {\n\r    filter not exists  {[] rdfs:subClassOf ?uri}   bind ("leaf" as ?icon2) }\n\r            bind (if(BOUND(?icon2),?icon2,"star") as ?icon)\n\r  \n\r    }\n\r}\n\r\n\rlimit 100',label:"Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons and checkbox for checkbox version. Use ?description of an tooltip using a info icon"},{name:"publishVariable",type:"text",label:"Variabele in which tree item URI is published, when tree item is clicked."},{name:"publishVariable2",type:"text",label:"Variabele in which tree item URI2 is published, when tree item is clicked."},{name:"publishVariable3",type:"text",label:"Variabele in which tree item URI3 is published, when tree item is clicked."},{name:"publishVariable4",type:"text",label:"Variabele in which tree item URI4 is published, when tree item is clicked."},{name:"subscribeVariable",type:"text",label:"Publish variabele on which to listen to to define tree item selection."},{name:"textstyle",type:"text",label:"css class for text style. {w2ui}"},{name:"rootLabel",type:"text",label:"Label of the root of the tree. Leave empty for no root."},{name:"expandLevel",type:"int",label:"initially expand the tree to this level"},{name:"title",type:"text",label:"title"},{name:"defaultIcon",type:"text",label:"fa icon name when no icon is defined. "},{name:"aggregate",type:"boolean",label:"Aggregate the results based upon parent and child uri "},{name:"shouldNonSelectedSubTreeClose",type:"boolean",label:"Should a subtree that does not contain selection fold on new selection."},{name:"setSelectionInURL",type:"boolean",label:"the selected URI will be used in the browser URL. THIS WORKS ONLY WHEN browser URL is similar to the selection (Security reasons)"},{name:"debugSetSelectionInURL",type:"boolean",label:"sets a ?selection parameter in the browser url for Debug reasons"},{name:"setSelectionInURLStartsString",type:"text",label:"the selected URI will be used in the browser URL only if it starts with this text. . "},{name:"parseInitialURLForSelection",type:"boolean",label:"parse the initial URL for selection"},{name:"initialSelection",type:"text",label:"initial uri selection"},{name:"scrollSelectionIntoView",type:"boolean",label:"try to automatically scroll the selected object into view"},{name:"multipleCheckBoxParameter",type:"text",label:"parameter for (multiple) checkbox values "},y.a.getMultipleValueFormatOptions(),{name:"deletebuttonrule",type:"text",label:"uri or tag for rule when pushing delete icon"},{name:"deletebuttonruleParams",type:"json",label:"Extra parameters send to the rule when pushing delete icon. Should be a flat JSON with string-only values."},{name:"allowNonLeafDeletion",type:"boolean",label:"Allow deletion of items with children"},y.a.getTimestampParametersDef()]}}}]),e}(),Kt=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"TreeD3",component:Object(u.lazy)((function(){return Promise.all([a.e(55),a.e(32)]).then(a.bind(null,1537))})),label:"TreeD3 widget",variables:[{name:"query",type:"yasgui",label:"to fill tree"},{name:"publishVariableOnTreeItemClick",type:"text",label:"Publish/subscribe variabele in which tree item URI is published, when tree item is clicked."},{name:"subscribeVariableForTreeItemSelection",type:"text",label:"Publish/subscribe variabele on which to listen to define tree item selection."},{name:"subscribeVariableForTreeConnectionHighlight",type:"text",label:"Publish/subscribe variabele on which to listen to define which tree connections to highlight"},{name:"subscribeVariableForFilter",type:"text",label:"Publish/subscribe variabele on which to listen to define which tree items should be filtered out"},{name:"rootLabel",type:"text",label:"Label of the root of the tree. Leave empty for no root."},{name:"treeType",type:"select",label:"Soort boom",options:[{label:"Horizontaal",value:"horizontal"},{label:"Radiaal",value:"radial"}]}]}}}]),e}(),zt=a(216),Ft=a.n(zt),qt=a(241),Qt=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){var a=t.target.value,n=null,r=null;try{n=t.target[t.target.selectedIndex].getAttribute("value2")}catch(i){}try{r=t.target[t.target.selectedIndex].getAttribute("value3")}catch(i){}e.setState({selected:a}),null!=e.props.publishVariable&&""!=e.props.publishVariable&&e.props.publish(e.props.publishVariable,a),null!=e.props.publishVariable2&&null!=n&&""!=e.props.publishVariable2&&e.props.publish(e.props.publishVariable2,n.toString()),null!=e.props.publishVariable3&&null!=r&&""!=e.props.publishVariable3&&e.props.publish(e.props.publishVariable3,r)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&this.preSelect()}},{key:"componentDidUpdate",value:function(e){try{M()(e.data,this.props.data)||this.preSelect()}catch(t){console.log(t)}}},{key:"preSelect",value:function(){try{if(1!=this.props.preSelectFirstItem)return;var e="http://www.buildingbits.nl/reset";if(null==this.props.data)return void(null!=this.props.publishVariable&&this.props.publish(this.props.publishVariable,e));var t=Object(At.d)(this.props.data)[0];if(null==t);else e=t[this.props.data.head.vars[0]];null!=this.props.publishVariable&&this.props.publish(this.props.publishVariable,e),null!=this.props.publishVariable2&&null!=t.uri2&&this.props.publish(this.props.publishVariable2,t.uri2),null!=this.props.publishVariable3&&null!=t.uri3&&this.props.publish(this.props.publishVariable3,t.uri3)}catch(a){console.log(a)}}},{key:"render",value:function(){var e=!0;this.props||(e=!1),this.props.data||(e=!1);var t=null,a=null,n=null;if(e)try{var r=this.props.data.head.vars;r.length<2&&(e=!1),a=r[0],n=r[1];try{t=Object(At.d)(this.props.data).filter(Object(qt.c)(qt.b))}catch(c){e=!1}}catch(u){}null==t&&(t=[]);var i=this.props.publishVariable?this.props.pubsub[this.props.publishVariable]:null,o=Ft.a[this.props.panelstyle],l=this.props.colorPrimaryAction?"primaryColor":"",s={};if(null!=this.props.extrastyle)try{s=JSON.parse(this.props.extrastyle)}catch(u){}return Object(A.jsxs)("div",{className:Ft.a.main,style:s,children:[Object(A.jsx)("div",{className:Ft.a.label,children:this.props.label}),Object(A.jsx)(pe.c,{className:"form-control ".concat(Ft.a.round," ").concat(Ft.a.extra," ").concat(o," ").concat(l),value:i||"",type:"select",onChange:this.onChange,children:t.map((function(e){return Object(A.jsx)("option",{value:e[a],value2:e.uri2,value3:e.uri3,children:e[n]},e[a])}))})]})}}],[{key:"getDescription",value:function(){return{name:"SelectBox",component:a,label:"Select box widget",variables:[{name:"query",type:"yasgui",defaultQuery:'select distinct ?graph ?label \r\n where \r\n{  \r\n graph ?g  \r\n {    \r\n values(?label ?graph)\r\n {  \r\n     ("tva" <http://wistor.nl/ifc/2024/bimlegal/tva>)   \r\n   ("rhijnkade" <http://wistor.nl/ifc/2024/bimlegal/rhijnkade>) \r\n   }\r\n  }\r\n}',label:"To fill select box items"},{name:"publishVariable",type:"text",label:"Variabele in which the URI of the selected item is published."},{name:"publishVariable2",type:"text",label:"Variabelename for ?uri2 of the selected item (if available)."},{name:"publishVariable3",type:"text",label:"Variabelename for ?uri3 of the selected item (if available)."},{name:"preSelectFirstItem",type:"boolean",label:"pre select first item"},{name:"label",type:"text",label:"Label",topicValueInterpolationEnabled:!0},{name:"extrastyle",type:"text",label:'extra css style ({"border-radius":"20px"})'}]}}}]),a}(u.Component),Ht=Qt,Gt=a(169),Jt=a.n(Gt),Zt=a(345),Yt=a.n(Zt),Xt=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.sliderTouched=!1,e.onChange=function(t){e.sliderTouched=!0,e.setState({value:t.target.value})},e.onmouseup=function(t){e.onChangeThrottle()},e.onChangeThrottle=Yt()((function(){var t=e.state.value;t&&(console.log("really publishing ",e.props.publishVariable,t),e.props.publish(e.props.publishVariable,t))}),200),e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.defineMaxMinValue(),a=this.defineMaxMinValue(e);if(t.maxValue!==a.maxValue||t.minValue!==a.minValue){var n=this.sliderTouched?Math.max(t.minValue,Math.min(t.maxValue,this.state.value)):this.props.startMin?t.minValue:t.maxValue;this.setState({value:n}),this.props.publishVariable&&this.props.publishStartValue&&this.props.publish(this.props.publishVariable,n)}}},{key:"defineMaxMinValue",value:function(e){var t=1e6,a=-1e6;try{var n=this.props.data;e&&(n=e.data);var r=n.head.vars[0];return Object(At.d)(n).forEach((function(e){var n=e[r];try{"string"===typeof n&&(n=Number(n))}catch(i){console.log(i)}n<t&&(t=n),n>a&&(a=n)})),{minValue:t,maxValue:a}}catch(i){console.log(i)}return{minValue:t,maxValue:a}}},{key:"render",value:function(){if(!this.props.data)return null;var e=1;if(null!=this.props.tick)try{e=parseInt(this.props.tick)}catch(i){}var t,a=this.defineMaxMinValue(),n=a.minValue,r=a.maxValue;return t=this.props.startMin?this.state.value||n:this.state.value||r,Object(A.jsx)("div",{className:Jt.a.main,children:Object(A.jsx)("table",{children:Object(A.jsx)("tbody",{children:Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{children:[Object(A.jsx)("div",{className:Jt.a.label,children:this.props.label}),Object(A.jsxs)("div",{className:Jt.a.container,children:[Object(A.jsx)("div",{className:Jt.a.rangeValue,children:n}),Object(A.jsx)("input",{className:Jt.a.slider,type:"range",min:n,max:r,value:t,step:e,onChange:this.onChange,onMouseUp:this.onmouseup}),Object(A.jsx)("div",{className:Jt.a.rangeValue,children:r}),Object(A.jsxs)("div",{className:Jt.a.rangeValue,children:["(",t,")"]})]})]})})})})})}}],[{key:"getDescription",value:function(){return{name:"Slider",component:a,label:"Slider widget",variables:[{name:"query",type:"yasgui",label:"Sparql query to define min max values of the slider. it uses only the first parameter"},{name:"publishVariable",type:"text",label:"Variabele in which the value of the slider is published."},{name:"startMin",type:"boolean",label:"default on minimum"},{name:"publishStartValue",type:"boolean",label:"publish the initial value"},{name:"tick",type:"text",label:"tick"},{name:"label",type:"text",label:"Label"},{name:"textwidth",type:"text",label:"text width"}]}}}]),a}(u.Component),$t=Xt,ea=a(145),ta=a.n(ea),aa=a(785),na=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchValue:"",validItems:[],showPopup:!1,selectedIndex:0},e.itemsRef=d.a.createRef(),e.handleKeyPress=function(t){if("Enter"===t.key){if(!e.state.validItems.length)return;var a=null;if(null!=e.state.selectedIndex?a=e.state.validItems[e.state.selectedIndex]:1===e.state.validItems.length&&(a=e.state.validItems[0]),!a)return;var n=e.props.data.head.vars[0],r=e.props.data.head.vars[1];e.publish(a[r],a[n])}else if("ArrowDown"===t.key){t.preventDefault();var i=e.state.selectedIndex;if(i===e.state.validItems.length-1)return;e.setState({selectedIndex:null===i?0:i+1}),e.scrollToSelectedItem("down")}else if("ArrowUp"===t.key){t.preventDefault();var o=e.state.selectedIndex;if(0===o)return;e.setState({selectedIndex:null===o?e.state.validItems.length-1:o-1}),e.scrollToSelectedItem("up")}else"Escape"===t.key&&e.setState({searchValue:""})},e.onChange=function(t){var a=e.props.data.head.vars[0],n=t.target.value,r=Object(At.d)(e.props.data),i=r.filter((function(e){return e[a]&&e[a].toLowerCase().startsWith(n.toLowerCase())})),o=r.filter((function(e){return e[a]&&e[a].toLowerCase().includes(n.toLowerCase())&&!e[a].toLowerCase().startsWith(n.toLowerCase())})),l=[].concat(Object(le.a)(i),Object(le.a)(o));e.setState({searchValue:n,showPopup:!0,validItems:l,selectedIndex:0})},e.onBlur=function(t){setTimeout((function(){e.setState({showPopup:!1})}),300)},e.emptyEvent=function(){e.setState({searchValue:""}),e.props.nullSelectionResetVariable&&null!=e.props.publishVariable&&(e.props.publish(e.props.publishVariable,y.a.resetUri),y.a.resetParameter(Object(l.a)(e),!1))},e}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){if(null==e)return!0;if(null==this.props)return!0;if(e.data!==this.props.data&&!0===this.props.resetPublishVariable){var a=this.props.publishVariable;null!=a&&null!=this.props.pubsub[a]&&(this.setState({searchValue:""}),this.props.publish(a,"http://www.buildingbits.nl/empty"))}try{if(null!=this.props.selectVariable){var n=this.props.selectVariable;if(this.props.pubsub[n]!=e.pubsub[n]){var r=e.pubsub[n];console.log("we should search for "+r)}}}catch(e){}return!0}},{key:"scrollToSelectedItem",value:function(e){var t=this;requestAnimationFrame((function(){if(t.itemsRef.current){var a=t.itemsRef.current.querySelector("[data-is-selected=true]");a&&(function(e,t){var a=e.scrollTop,n=a+e.clientHeight,r=t.offsetTop,i=r+t.clientHeight;return r>=a&&i<=n}(t.itemsRef.current,a)||a.scrollIntoView({block:"up"===e?"start":"end"}))}}))}},{key:"publish",value:function(e,t){var a=this.props.publishVariable;this.props.publish(a,e),y.a.resetParameter(this,!1),this.setState({showPopup:!1,searchValue:t})}},{key:"renderLabel",value:function(e,t,a){var n=e.toLowerCase().indexOf(t.toLowerCase());if(-1===n)return Object(A.jsxs)("div",{children:[Object(A.jsxs)("span",{children:[e," "]}),a&&Object(A.jsx)("span",{children:Object(A.jsx)(aa.a,{fontSize:"small",color:"action",size:"small",children:a})})]});var r=n+t.length,i=e.slice(0,n),o=e.slice(n,r),l=e.slice(r);return Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:i}),Object(A.jsx)("span",{style:{fontWeight:"bold"},children:o}),Object(A.jsx)("span",{children:l}),a&&Object(A.jsx)("span",{children:Object(A.jsx)(aa.a,{size:"small",fontSize:"small",color:"action",children:a})})]})}},{key:"renderValidItems",value:function(){var e=this;try{if(!this.props.data)return;var t=this.props.data.head.vars[0],a=this.props.data.head.vars[1],n=this.state.searchValue,r=this.state.validItems,i=r[this.state.selectedIndex];return n?r.length?this.state.showPopup?Object(A.jsx)("div",{className:ta.a.items,"z-index":200,ref:this.itemsRef,children:r.map((function(r,o){var l=i&&i[a]==r[a],s=r.icon;return Object(A.jsx)("div",{"data-is-selected":l,className:ta.a.item+" "+(l?ta.a.selected:""),onClick:function(){return e.publish(r[a],r[t])},children:e.renderLabel(r[t],n,s)},o)}))}):null:Object(A.jsx)("div",{className:ta.a.noResults,children:"geen resultaten gevonden"}):null}catch(o){console.log(o)}}},{key:"render",value:function(){if(!this.props.data)return null;var e={alignItems:this.props.alignItems||"stretch"},t=this.props.cssEscape;if(t)try{t=JSON.parse(t),e=Object(r.a)(Object(r.a)({},e),t)}catch(n){console.log(n)}var a=this.props.textbefore;return null!=a&&a.length<1&&(a=null),Object(A.jsxs)("div",{className:ta.a.main,style:e,children:[Object(A.jsxs)("div",{className:"".concat(ta.a.inputContainer," ").concat(ta.a[this.props.panelstyle]),children:[a&&Object(A.jsx)("b",{className:ta.a.headertxt,children:a}),Object(A.jsx)(pe.c,{value:this.state.searchValue,component:"input",type:"text",placeholder:this.props.placeholderText,onKeyDown:this.handleKeyPress,onChange:this.onChange,onBlur:this.onBlur}),this.state.searchValue?Object(A.jsx)("img",{style:{cursor:"pointer"},onClick:this.emptyEvent,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik00NTcuNSw0NjZjLTMuNSwwLTYuOS0xLjMtOS41LTRMNDgsNjJjLTUuMy01LjMtNS4zLTEzLjgsMC0xOS4xYzUuMy01LjMsMTMuOC01LjMsMTkuMSwwbDQwMCw0MDBjNS4zLDUuMyw1LjMsMTMuOCwwLDE5LjENCgkJQzQ2NC40LDQ2NC43LDQ2MSw0NjYsNDU3LjUsNDY2eiIvPg0KCTxwYXRoIGQ9Ik01Ny41LDQ2NmMtMy41LDAtNi45LTEuMy05LjUtNGMtNS4zLTUuMy01LjMtMTMuOCwwLTE5LjFMNDQ4LDQzYzUuMy01LjMsMTMuOC01LjMsMTkuMSwwYzUuMyw1LjMsNS4zLDEzLjgsMCwxOS4xTDY3LDQ2Mg0KCQlDNjQuNCw0NjQuNyw2MSw0NjYsNTcuNSw0NjZ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==",alt:"empty"}):Object(A.jsx)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGQ9Ik0yMzIuNjg5LDM0Ljc5N2MxMS44MjcsMi4xNTUsMjMuODI2LDMuNzI1LDM1LjUwNSw2LjYxM0MzODcuNDMxLDcwLjkzMyw0NDkuMTgxLDIwMS41ODQsMzk1LjgyLDMxMi4xMzMNCgljLTQuNjUzLDkuNTgyLTMuNTA3LDE0LjM1LDQuNCwyMS4wODhjNDQuNDIyLDM3Ljc1MiwyMi4xMTksMTguMjIzLDY2LjIyLDU2LjQzM2MyMS41NjksMTguNjU4LDIwLjc0NCw0Mi44NjItMS45NDgsNjAuMTQ2DQoJYy0xMy4xNTYsOS45NzEtMjguODgxLDkuMjM3LTQzLTIuODg4Yy00NC41Ni0zOC4zNy0yMi43MzgtMTkuMDAyLTY3LjE1OS01Ny40NjRjLTMuNzE0LTMuMjMyLTcuNDczLTYuMzUtMTEuNzgyLTkuODc5DQoJYy0yNy4wNDcsMjAuNjI5LTU3LjAyOCwzMy42NDgtOTAuMzEsMzkuNDcxQzE0My4xNDcsNDM4LjIyNCwzNC45NywzNTEuNDY3LDMwLjM2MiwyNDAuNzc5DQoJQzI1LjkwNCwxMzMuODg2LDk4LjE1Miw0OC45OTcsMjAzLjU5MSwzNi45NTJjMi41NTYtMC4yODcsNS4wNDItMS40MSw3LjU1My0yLjE1NUMyMTguMzA2LDM0Ljc5NywyMjUuNTAzLDM0Ljc5NywyMzIuNjg5LDM0Ljc5N3oNCgkgTTM2NS4zMzUsMjI4Ljg4M2MwLjE4NC03Ny45NTYtNjEuODQyLTE0MC40MTYtMTM5LjgzMi0xNDAuNzgzYy03Ny44NTItMC4zNzgtMTQwLjgyOCw2MS44NDItMTQxLjE5NSwxMzkuNDg4DQoJYy0wLjQsNzguMzU3LDYyLjMzNSwxNDEuNDgyLDE0MC41NjUsMTQxLjUwNEMzMDIuNjIyLDM2OS4xODUsMzY1LjE5NywzMDYuNzI1LDM2NS4zMzUsMjI4Ljg4M3oiLz4NCjwvc3ZnPg0K",alt:"magnifying glass"})]}),this.renderValidItems()]})}}],[{key:"getDescription",value:function(){return{name:"SearchAutocomplete",component:a,label:"Search autocomplete widget",variables:[{name:"query",defaultQuery:'PREFIX owl: <http://www.w3.org/2002/07/owl#>\n\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?label ?uri ?icon \n\rwhere\n\r{\n\r    \n\r    graph <{{graph}}>\n\r    {\n\r       ?uri a owl:Class.\n\r       ?uri rdfs:label ?label.\n\r    optional {\n\r    filter not exists  {[] rdfs:subClassOf ?uri}   bind ("folder" as ?icon2) }\n\r    \n\r   #  bind (if(BOUND(?icon2),?icon2,"star") as ?icon)\n\r      \n\r    }\n\r}\n\r\n\rlimit 1000',type:"yasgui",label:"Query to fill search results. parameters search string, uri and optionally ?icon"},{name:"publishVariable",type:"text",label:"Variabele in which searchterm is published."},{name:"nullSelectionResetVariable",type:"boolean",label:"set reset value when nothing is selected"},{name:"alignItems",type:"select",label:"Uitlijning",options:[{label:"Stretch",value:"stretch"},{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}]},y.a.getResetValueDef(),{name:"textbefore",type:"text",label:"text before the search input."},{name:"cssEscape",type:"text",label:"JSON object of CSS statements"},{name:"resetPublishVariable",type:"boolean",label:"Reset the publish variable when sparql changes"},{name:"placeholderText",type:"text",label:"Placeholder text for the search bar"}]}}}]),a}(u.Component);var ra=na,ia=a(140),oa=a(217),la=a.n(oa),sa=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;if(!1===this.props.withinSelectedTab&&null==this.firstTime)return null;this.firstTime=!1;var t=this.props.areaSizes,a=this.props.areas,n=Boolean(this.props.useFlexboxForAreaSizes);null==a&&(a=[]),"string"===typeof t&&(t=t.split(" "));var i=Object(ye.a)(Object(C.a)({},la.a.overflowHidden,this.props.disableScrollbars)),o=this.props.mode||"preview";return Object(A.jsx)("div",{className:la.a.main+" "+la.a[this.props.direction]+" "+la.a[o]+" "+i,style:{gap:this.props.gap||void 0},children:t.map((function(t,l){var s,c=a[l]||{},u=t;t=t.trim();var d="0 0 auto",p="auto";/^\d+$/.test(t)?("0"===t&&(t="0 0 auto"),d=t):p=t;var b="row"===e.props.direction?"width":"height";return e.props.minimize&&(b="max"+b.substr(1).toLocaleUpperCase()+b.substr(1),d="1 1 auto"),"row"!==e.props.direction&&(t.endsWith("px")||(d="1 1 auto")),"preview"!==o&&t.endsWith("px")&&(t=parseInt(t.replace("px","")),t+=200,t+="px"),n&&(d=u,p="auto"),Object(ie.b)(e,c.hidden,"boolean")&&(p="edit"!==e.props.mode?0:"row"===e.props.direction?100:20),Object(A.jsx)("div",{className:Object(ye.a)(la.a.areaContainer,i),style:Object(r.a)(Object(C.a)({flex:d},b,p),null!==(s=e.props.style)&&void 0!==s&&s.length?e.props.style[l]:{}),children:Object(A.jsx)(kr,Object(r.a)(Object(r.a)({},e.props),{},{disableFlexbox:!1,index:l,config:c,onChange:e.props.onChange}))},l)}))})}}],[{key:"getDescription",value:function(){return{name:"SplitLayout",component:a,label:"Split Layout",variables:[{name:"direction",type:"select",label:"Direction",options:[{label:"Rijen",value:"column"},{label:"Kolommen",value:"row"}]},{name:"disableScrollbars",type:"boolean",label:"disable scrollbars"},{name:"minimize",type:"boolean",label:"minimize size"},{name:"areaSizes",type:"array",label:"Column widths or row heights, separated by commas.  Values can be specified in pixels, percentages, or numbers. A number represents a relative ratio compared to the other Rows/Columns. For example: 130px,1,10%"},{name:"useFlexboxForAreaSizes",type:"boolean",label:Object(A.jsxs)("span",{children:["Advanced: Use flexbox for column widths and row heights above."," ","Interprets the area sizes directly as ",Object(A.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/flex",target:"blank",rel:"noreferrer",children:Object(A.jsxs)("u",{children:["CSS flexbox properties ",Object(A.jsx)(Ie.ExternalLinkIcon,{className:"inline-block"})]})}),"."," ","Does not work together with minimize option."]})},{name:"gap",type:"string",label:"Gap size between areas"},{name:"style",type:"json",label:"style for each area"},{name:"areas",type:"json",label:"area definitions"}]}}}]),a}(u.Component),ca=sa,ua=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"SplitLayoutTest",component:Object(u.lazy)((function(){return Promise.all([a.e(16),a.e(23)]).then(a.bind(null,1538))})),label:"Split Layout Test",variables:[{name:"direction",type:"select",label:"Direction",options:[{label:"Rijen",value:"column"},{label:"Kolommen",value:"row"}]},{name:"areaSizes",type:"array",label:"Kolom Breedte of Rij hoogte, gescheiden door comma's. Waarden kunnen gegeven worden in getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 1,3,1)"},{name:"minSizes",type:"array",label:"initiele grootte, gescheiden door comma's. Waarden kunnen gegeven worden in pixels. (Een voorbeeld: 130px,200px,300px)"},{name:"cardSizes",type:"array",label:"padding Waarden kunnen gegeven worden in pixels, percentage of getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 130px,1,10%)"},{name:"areas",type:"json",label:"area definitions"}]}}}]),e}(),da=a(315),pa=a.n(da),ba=a(478),_a=a.n(ba),ha=(a(407),function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={message:""},n.onRunClick=function(){n.loadData(n.yas.getValue())},n.textArea=d.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.withinSelectedTab!==this.props.withinSelectedTab&&this.props.withinSelectedTab){if(this.yas)return;this.yas=new _a.a.Yasqe(this.textArea.current);this.yas.setValue("PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nselect * where { \n  ?s ?p ?o .\n} limit 2")}}},{key:"loadData",value:function(e){var t=this;if(!this.props.repoURL)return console.log("Repo URL is not set!");if(e){var a="/api/sparql/"+this.props.repoURL,n={query:encodeURIComponent(e)},r={Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))};this.props.repoURL.startsWith("http")&&(a=this.props.repoURL,n="infer=true&limit=1000&offset=0&sameAs=true&query="+encodeURIComponent(e),r={"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"}),Object(D.a)({method:"post",url:a,data:n,headers:r}).then((function(e){t.setState({data:e.data,message:""})})).catch((function(e){console.log(e),t.setState({message:"Er ging iets mis met laden van de data."})}))}}},{key:"renderData",value:function(){if(this.state.message)return Object(A.jsx)("div",{children:this.state.message});if(!this.state.data)return null;var e=this.state.data.head.vars,t=Object(At.d)(this.state.data);return Object(A.jsxs)("table",{children:[Object(A.jsx)("thead",{children:Object(A.jsx)("tr",{children:e.map((function(e,t){return Object(A.jsx)("th",{children:e},t)}))})}),Object(A.jsx)("tbody",{children:t.map((function(t,a){return Object(A.jsx)("tr",{children:e.map((function(e,a){var n=t[e]||"";return Object(A.jsx)("td",{children:n},a)}))},a)}))})]})}},{key:"render",value:function(){return Object(A.jsxs)("div",{className:pa.a.main,children:[Object(A.jsx)("div",{ref:this.textArea,type:"textarea"}),Object(A.jsx)("div",{className:pa.a.buttonContainer,children:Object(A.jsx)(pe.a,{color:"primary",style:{minWidth:"120px",marginTop:"12px"},onClick:this.onRunClick,children:"RUN"})}),Object(A.jsx)("div",{className:pa.a.tableContainer,children:this.renderData()})]})}}]),a}(u.Component)),ma=(a(70),a(35)),fa=a(157),ga=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/map/leafletWidgetDeploy171V1.html")},e.state={selectedUri:null},e.scrolling="no",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBMap",component:a,label:"Leaflet map",variables:[{name:"query",type:"yasgui",defaultQuery:'PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?uri ?color ?geometry (concat("label: ",STR(?color)) as ?label)\n\r\n\rwhere\n\r{\n\rgraph <{{graph}}>\n\r    {\n\r      ?uri <http://www.opengis.net/ont/geosparql#asWKT> ?geometry.\n\r    ?uri a ?cls.\n\r       \n\r    }\n\r  ?cls rdfs:label ?color\n\r \n\r    }\n\rlimit 1000\n\r    \n\r#title: title;\n\r \n\r',label:'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring. hints for coloring #color:RGBA(0,255,0,1)@"values"infottext&extr text       #baselayer:PDOK grijs; #title:titel;'},{name:"basequery",type:"yasgui",label:"default for creating a map. when no parameters are available "},{name:"startWithGreyBase",type:"boolean",label:"start with grey baselayer "},{name:"startWithBase",type:"text",label:"selected baselayer like PDOK grijs or grijs, or luchtfoto (PDOK) "},{name:"height",type:"text",label:"height variable"},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},{name:"noResultToast",type:"text",label:"message when there is no result"},fa.a.getJSScriptAfterSelectionChange(),y.a.getResetValueDef(),{name:"className",type:"text",label:"iframe classNames"}]}}}]),a}(ma.a),ja=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/mapV2/leafletWidgetDeploy171V1.html")},e.state={selectedUri:null},e.scrolling="no",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BB Map Experimental",component:a,label:"Leaflet map (Experimental)",experimental:!0,variables:[{name:"query",type:"yasgui",defaultQuery:'PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?uri ?color ?geometry (concat("label: ",STR(?color)) as ?label)\n\r\n\rwhere\n\r{\n\rgraph <{{graph}}>\n\r    {\n\r      ?uri <http://www.opengis.net/ont/geosparql#asWKT> ?geometry.\n\r    ?uri a ?cls.\n\r       \n\r    }\n\r  ?cls rdfs:label ?color\n\r \n\r    }\n\rlimit 1000\n\r    \n\r#title: title;\n\r \n\r',label:'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring. hints for coloring #color:RGBA(0,255,0,1)@"values"infottext&extr text       #baselayer:PDOK grijs; #title:titel;'},{name:"basequery",type:"yasgui",label:"default for creating a map. when no parameters are available "},{name:"startWithGreyBase",type:"boolean",label:"start with grey baselayer "},{name:"height",type:"text",label:"height variable"},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},{name:"noResultToast",type:"text",label:"message when there is no result"},fa.a.getJSScriptAfterSelectionChange(),y.a.getResetValueDef(),{name:"className",type:"text",label:"iframe classNames"}]}}}]),a}(ma.a),Oa=a(147),va=a(82),ya=(a(194),function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/multimap/leafletWidgetDeploy171V1.html")},e.setSelectedUris=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.setState({selectedUris:t}),null!=e.props.publishVariable&&e.props.publish(e.props.publishVariable,t[0]),null!=e.props.multiSelectionPublishVariable&&e.props.publish(e.props.multiSelectionPublishVariable,y.a.getListAsSingleValue(e.props.multiSelectionParameterType,t))},e.sendSelectedUrisToIframe=function(){var t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];null===(t=e.iframeRef.current)||void 0===t||null===(a=t.contentWindow)||void 0===a||null===(n=a.postMessage)||void 0===n||n.call(a,{type:"update-selected-uris",selectedUris:r})},e.state={selectedUris:[],subscribeVariable:void 0},e.scrolling="no",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){Object(Oa.a)(Object(va.a)(a.prototype),"componentDidUpdate",this).call(this,e,t);var n=this.props.pubsub[this.props.subscribeVariable];if(n!==this.state.subscribeVariable)try{this.setState({subscribeVariable:n});var r=y.a.parseMultiplePropValue(this.props.multiSubscribeParameterType,n);this.sendSelectedUrisToIframe(r),this.setSelectedUris(r)}catch(i){console.error(['An error occurred whilst using subscribeVariable "'.concat(this.props.subscribeVariable,'" to update the selected uris. '),'Perhaps multiSubscribeParameterType "'.concat(this.props.multiSubscribeParameterType,'" needs a different setting. '),"Additional details:","\n\n",i.message].join(""))}}}],[{key:"getDescription",value:function(){return{name:"BBMultiMap",component:a,label:"Leaflet Multi map",variables:[{name:"query",type:"yasgui",label:"to fill the multimap. Use ?uri ?label ?graph ?colorPred ?colorPredLabel ?labelPred ?labelPredLabel ?selectedColorPred ?selectedLabelPred ?extra for sparql definitions"},{name:"useSparqlMapDefinitions",type:"boolean",label:"use the sparql results for multiple map definitions"},{name:"height",type:"text",label:"height variable"},{name:"publishVariable",type:"text",label:"Variable in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variable on which to listen to define selection."},y.a.getMultipleValueFormatOptions({name:"multiSubscribeParameterType",label:"For the variable above, in what format the value is provided."}),{name:"multiSelectionPublishVariable",type:"text",label:"Variable in which an item URIs are published, when multiple features on the map are selected."},y.a.getMultipleValueFormatOptions({name:"multiSelectionParameterType",label:"For the variable above, how to set the multivalue parameters"}),{name:"multiSelectionShapePublishVariable",type:"text",label:"Variable in which the drawn shape for multiple feature selection is published."},{name:"multiSelectionShapePublishFormat",type:"select",options:[{label:"GeoJson",value:"GeoJSON"},{label:"WKT (Well Known Text)",value:"WKT"}],label:"For the variable above, in which format to publish the geometry"},{name:"multiSelectionType",type:"select",options:[{label:"hide drawing tools",value:"hide"},{label:"Intersect (features inside and touching the shape)",value:"intersect"},{label:"Within (only features inside the shape)",value:"within"}],label:"The boolean operation to use for selection by shape"},{name:"redrawMapOnSelectionChange",type:"boolean",label:"redraw map on selection change. This can affect performance, but is needed to reflect changes visually for multi-select"},{name:"advancedEdit",type:"boolean",label:"add advanced edit menubar (requires refresh)"},{name:"loadShapeControl",type:"boolean",label:"add load shape as a zip file button (requires refresh)"},{name:"measurementB",type:"boolean",label:"add measurement button (requires refresh)"},{name:"fullscreenB",type:"boolean",label:"add fullscreen button (requires refresh)"},{name:"downloadGeoJSON",type:"boolean",label:"download geojson file (requires refresh)"},{name:"geocoderB",type:"boolean",label:"add geocoder button (requires refresh)"},{name:"removeLayerwidgetB",type:"boolean",label:"remove layerwidget button (requires refresh)"},{name:"removePrintB",type:"boolean",label:"remove print button (requires refresh)"},{name:"zoomHomeB",type:"boolean",label:"remove zoom home buttons (requires refresh)"},{name:"streetview",type:"boolean",label:"add streetview buttons"},{name:"noLegend",type:"boolean",label:"hide legend  (reload is necessary for this to take effect)"},{name:"subscribeExtraSparql",type:"text",label:"parameter containing extra sparql "},{name:"selectboundingbox",type:"boolean",label:"use a boundingbox for selecting an object"},{name:"fitbounds",type:"boolean",label:"after a data update modify the view to fit  "},{name:"allQueries",type:"text",label:"parametername containing an array of all queries (not yet implemented, useful for downloadGIS function)"},{name:"lineWidthScale",type:"text",label:"lineWidthScale"},{name:"lineWidthMinPixels",type:"text",label:"lineWidthMinPixels"},fa.a.getJSScriptAfterSelectionChange(),y.a.getResetValueDef()]}}}]),a}(ma.a)),xa=ya,wa=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/w2ui/treetable.html")},e.scrolling="no",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,[{key:"shouldComponentUpdate222",value:function(e,t){if(null==this.iface)return!0;if(null!=this.props.subscribeVariable){var a=this.props.pubsub[this.props.subscribeVariable];if(this.selected!==a)return this.iface.selectUri(a),this.selected=a,!1}return!1}}],[{key:"getDescription",value:function(){return{name:"BBTreeTable",component:a,label:"BB Tree Table widget",variables:[{name:"query",defaultQuery:"PREFIX owl: <http://www.w3.org/2002/07/owl#>\n\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?text ?uri ?parent \n\rwhere\n\r{\n\r \n\r    graph <{{graph}}>\n\r    {\n\r       ?uri a owl:Class.\n\r        ?uri rdfs:label ?text.\n\r    optional {?uri rdfs:subClassOf ?parent. } \n\r   \n\r  \n\r    }\n\r}\n\r\n\rlimit 1000",type:"yasgui",label:"user ?text ?uri ?parent ?icon "},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the tree is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},{name:"publishVariable1",type:"text",label:"Variabele in which an item var1 is published (if available), when a feature in the tree is clicked."},{name:"publishTextVariable",type:"text",label:"Variabele in which the label is published , when a feature in the tree is clicked."},{name:"title",type:"text",label:"title"},{name:"createRoot",type:"boolean",label:"createRoot"},{name:"expandLevel",type:"int",label:"expandLevel"},{name:"icon",type:"text",label:"icon"},{name:"extraCSS",type:"text",label:"extra css"},{name:"noInfoIcon",type:"boolean",label:"no info icon"},{name:"groupByPropertyValue",type:"text",label:"group by propertyvalue"},{name:"className",type:"text",label:"iframe classNames"}]}}}]),a}(ma.a),Ea=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/static/iframes/yasgui/yasguiConf.html")},e.scrolling="yes",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBYasgui",component:a,label:"BB YasGUI",variables:[{name:"query",type:"yasgui",label:"?sparql ?options variabel (single). getOptions() is available in yasgui "},{name:"pusblishsparqlquery",type:"string",label:"publish the query into this parameter (single tab only)(refresh necessary)"},{name:"escapeDoubleQuotesQuery",type:"boolean",label:"escape double quotes in the query"},{name:"queryOnly",type:"boolean",label:"show only yasque "}]}}}]),a}(ma.a),Ca=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/static/iframes/yasgui/yasguiConfLatest.html")},e.scrolling="yes",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBYasguiLatest",component:a,label:"BB YasGUI Latest",variables:[{name:"query",type:"yasgui",label:"?sparql ?options variabel (single). getOptions() is available in yasgui "},{name:"queryOnly",type:"boolean",label:"show only yasque "}]}}}]),a}(ma.a),Da=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getUrl",value:function(){return ma.a.scrolling="no","/".concat(window.bbFolderName,"/bbyasr.html")}}],[{key:"getDescription",value:function(){return{name:"BBYasr",component:a,label:"BB Yasr",variables:[{name:"query",type:"yasgui",label:"to fill yasr chart. "},{name:"title",type:"text",label:"title of the chart "},{name:"chartType",type:"select",label:"type of the chart",options:[{label:"Pie chart",value:"PieChart"},{label:"ColumnChart",value:"ColumnChart"},{label:"Bar chart",value:"BarChart"},{label:"Line chart",value:"LineChart"},{label:"Donut (nog niet aanwezig)",value:"Donut"},{label:"Gauge",value:"Gauge"}]},{name:"ddd",type:"boolean",label:"3D"},{name:"height",type:"text",label:"height"}]}}}]),a}(ma.a),Ia=Da,Ma=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getUrl",value:function(){return ma.a.scrolling="yes","/".concat(window.bbFolderName,"/bbyasguinotebook.html")}}]),a}(ma.a),Pa=Ma,Ta=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(o.a)(a)}(u.Component),ka=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(o.a)(a,[{key:"render",value:function(){return console.log("rendering apiviz"),null}},{key:"createVizJSON",value:function(){var e=[];return console.log("created viz json",e),e}},{key:"test",value:function(){this.createVizJSON(),this.loadData("select * where {?a ?b ?c} limit 10")}}]),a}(d.a.Component),La=ka,Sa=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getUrl",value:function(){return ma.a.scrolling="no","/".concat(window.bbFolderName,"/bbvoyager.html")}}],[{key:"getDescription",value:function(){return{name:"BBVoyager",component:a,label:"UML Diagram Voyager",variables:[{name:"query",type:"yasgui",label:"to fill the diagram. ( ?domainName ?rangeName ?propname)",defaultQuery:"\n                                 PREFIX sh: <http://www.w3.org/ns/shacl#>\n                      PREFIX owl: <http://www.w3.org/2002/07/owl#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n        \n        \n        select distinct ?domainName ?propName ?rangeName #?selectie  \n        \n        from  <{{versie}}>\n        \n        where \n        {\n            bind (<{{selection}}> as ?selectie)\n                ?cls ^rdfs:subClassOf* ?selectie.\n              filter (?cls not in (owl:Thing, rdfs:Resource) )\n         #outgoing properties\n          {\n               ?selectie rdfs:label ?domainName.\n              ?cls sh:property ?ps.\n              ?ps sh:path ?prop.\n                ?prop rdfs:label ?propName.\n               # ?prop a owl:DatatypeProperty.\n                 {\n                 ?ps sh:datatype ?rangeName.\n                 }\n                 union\n                {\n                        ?ps sh:class/rdfs:label ?rangeName\n                }\n        \n        }\n          \n             union\n            {\n                # objecten die verwijzen naar geselecteerde object\n                ?shape sh:property ?ps.\n            ?ps sh:class ?cls.\n                ?cls rdfs:label ?rangeName.\n                ?shape rdfs:label ?domainName.\n                ?ps sh:path/rdfs:label ?propName.\n        \n         }\n        \n        }\n      "},{name:"height",type:"string",label:"optional css string for the height value"}]}}}]),a}(ma.a),Ra=Sa,Aa=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"Accordion",component:Object(u.lazy)((function(){return Promise.all([a.e(8),a.e(33)]).then(a.bind(null,1539))})),label:"Accordion",variables:[{name:"query",type:"yasgui",label:"use parameter ?label for accordion headings. use ?content for inner accordion content "},{name:"title",type:"text",label:"Titel boven de tabel"},{name:"html",type:"boolean",label:"html text"}]}}}]),e}(),Na=a(183),Ua=a.n(Na),Ba=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.pictureBaseEncoded;if(e)return Object(A.jsxs)("div",{className:Ua.a.main,children:[this.props.title&&Object(A.jsx)("div",{className:Ua.a.title,children:this.props.title}),Object(A.jsx)("img",{src:e})]});var t=this.props.src;return t?Object(A.jsxs)("div",{className:Ua.a.main,children:[this.props.title&&Object(A.jsx)("div",{className:Ua.a.title,children:this.props.title}),Object(A.jsx)("img",{src:t})]}):Object(A.jsx)("div",{className:Ua.a.main,children:this.props.title&&Object(A.jsx)("div",{className:Ua.a.title,children:this.props.title})})}}],[{key:"getDescription",value:function(){return{name:"Picture",component:a,label:"Picture",variables:[{name:"title",type:"text",label:"Titel boven het plaatje"},{name:"pictureBaseEncoded",type:"text",label:"base encoded picture. converteer plaatjes via bijv https://www.base64-image.de/"},{name:"src",type:"text",label:"referentie naar het plaatje"}]}}}]),a}(u.Component),Wa=a(316),Va=a.n(Wa),Ka=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){try{if(!this.props.html&&!this.props.htmlgeenresultaat)return null;var e=this.props.html,t="",a=this.props.data;if(null!=a&&null!=e&&""!=e){if(null!=a.results&&null!=a.results.bindings&&a.results.bindings.length>0){var n=a.results.bindings[0],r=e;for(var i in n)try{var o=n[i].value;r=r.replace("{{"+i+"}}",o).replace("{{"+i+"}}",o).replace("{{"+i+"}}",o).replace("{{"+i+"}}",o).replace("{{"+i+"}}",o).replace("{{"+i+"}}",o)}catch(s){}t+=r}null!=this.props.htmlgeenresultaat&&0===a.results.bindings.length&&(t=y.a.processStringForParameters(this,this.props.htmlgeenresultaat),console.log(this.props.htmlgeenresultaat,t))}else{t=e="";try{t=y.a.processStringForParameters(this,this.props.htmlgeenresultaat)}catch(s){}}t=t.replace(/.*{{.*}}.*/,"");var l=this.props.cls;return null!=Va.a[l]&&(l=Va.a[l]),Object(A.jsx)("div",{className:Va.a.fullwindow+" "+l,dangerouslySetInnerHTML:{__html:t}})}catch(s){return console.log("mannaged ",s),null!=this.props.htmlgeenresultaat?y.a.processStringForParameters(this.props.htmlgeenresultaat):""}}}],[{key:"getDescription",value:function(){return{name:"BBHTML",component:a,label:"BBHTML",variables:[{name:"query",type:"yasgui",label:"use parameter {{parameters}} to change html "},{name:"html",type:"text",label:"html "},{name:"htmlgeenresultaat",type:"text",label:"html bij 0 resultaten"},{name:"cls",type:"text",label:"class "}]}}}]),a}(u.Component),za=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBDForm",component:Object(u.lazy)((function(){return Promise.all([a.e(1),a.e(6),a.e(37)]).then(a.bind(null,1569))})),label:"BBDForm",variables:[{name:"title",type:"text",label:"Titel boven de form",topicValueInterpolationEnabled:!0},{name:"classOrUri",type:"text",label:"uri van de owl/shacl class or individual (not implemented)"},{name:"addEditToolbar",type:"boolean",label:"add edit toolbar (not implemented yet)"},{name:"query",type:"yasgui",defaultQuery:'PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\r\n\r\n\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\r\n\rselect * where\n\r\n\r\n\r{\n\r\n\r  { \n\r\n\r  select ?uri \n\r\n\r    where \n\r\n\r  { \n\r\n\r   bind (uri(concat("http://wistor.nl/ifc/appartement/",replace(str(uuid()),"urn:uuid:","") ))\n\r\n\r        as ?uri)    \n\r\n\r  \n\r\n\r    }\n\r\n\r  }\n\r\n\r  \n\r\n\r  bind (<{{graph}}/extra> as ?graph)\n\r\n\r\n\r\n\r     bind ("Appartement" as ?title)\n\r\n\r  values (  ?propUri ?label ?value ?type ?hidden)\n\r\n\r  {\n\r\n\r   (  <http://wistor.nl/ifc/verdieping> "verdieping" <{{storey}}> "relation" true)\n\r\n\r    (  rdfs:label "naam" "appartement naam" xsd:string false)\n\r\n\r    (  rdfs:comment "extra" "beschrijving" xsd:string false)\n\r\n\r    ( <http://wistor.nl/ifc/nummer> "nummer" 1 xsd:integer false)\n\r\n\r    \n\r\n\r  }\n\r\n\r}',label:"to fill the form. Use graph,title,uri, propUri, label,value, type ({xsd:types},select,relation,stringlist,textarea), optionLabel optionValue ?required regex, multiple,objectOfCls, disabled,hidden, addmodus. createClass for create button ",helpComponent:Fa},{name:"cancelbutton",type:"boolean",label:"show cancel button. (not implemented)"},{name:"readonly",type:"boolean",label:"read-only, no buttons"},{name:"masseditmode",type:"boolean",label:"use multiple uri's but only show prop distinctly. no values for now "},{name:"disabled",type:"boolean",label:"disabled"},{name:"emptyText",type:"text",label:"text by empty sparql results"},{name:"hyperlinkPar",type:"text",label:"parameter to update when selecting a hyperlink"},{name:"submit",type:"select",label:"submit handling ",options:[{label:"kies",value:"kies"},{label:"form command",value:"formCommand"},{label:"internal parameters",value:"internalparameters"},{label:"javascript",value:"javascript"}]},{name:"submitbuttonlabel",type:"text",label:"label for the submit button",topicValueInterpolationEnabled:!0},{name:"ruleTagAfterSubmit",type:"text",label:"run rule with tag after succesful submit"},{name:"parameters",type:"json-text",label:"mandatory extra parameters send in JSON format for rules,Parameters will be resolved before sending. keep it simple. no subchildren"},y.a.getTimestampParametersDef(),{name:"successMessage",type:"text",label:"form submission success message"},{name:"failureMessage",type:"text",label:"failure message"},{name:"closePopup",type:"boolean",label:"close popup after succesful submit"}]}}}]),e}();function Fa(){return Object(A.jsx)("div",{children:Object(A.jsxs)("p",{children:[Object(A.jsx)("code",{children:"?collectionType"})," variables now support the following: ",Object(A.jsx)("code",{children:"rdf:List"})," ","(full uri: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#List')"]})})}var qa=[{name:"query",type:"yasgui",label:"Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons ()"},{name:"tabs",type:"array",label:"Tabs"},{name:"tabSelectionSubscription",type:"text",label:"Variabele to listen to for tab selection"},{name:"hideTabs",type:"text",label:"Variabele to listen to for tab visualisation. Use tab names to hide the tabs"},{name:"disableHiddenTabs",type:"boolean",label:"show the hidden tabs but disable them and use a lock icon"},{name:"icons",type:"array",label:"fa icon names for each tab such as box,cogs,coffee,envelope,hand-point-left,arrow-left,cube,database,gavel,gift,stop,"},{name:"headertext",type:"text",label:"text for the header when expanded"},{name:"lazyLoadingPages",type:"boolean",label:"does not load the tabs/pages in advance. Also returning to a page results in a reload"},{name:"footertext",type:"text",label:"text for the footer"},{name:"backgroundimage",type:"text",label:"background image"},{name:"customStyling",type:"boolean",label:"Enable Custom Styling"},{name:"sidemenuBackgroundColor",type:"text",label:"The background Color in Hex format. e.g. #000000"},{name:"sidemenuTabColor",type:"text",label:"The background color of the tab in Hex format. e.g. #000000"},{name:"sidemenuTabIconColor",type:"text",label:"The background color of the tab icon of the tab in Hex format. e.g. #000000"},{name:"sidemenuTabTextColor",type:"text",label:"The text color of the tab in Hex format. e.g. #000000"},{name:"sidemenuTabHoverColor",type:"text",label:"The background color of the tab on mouse hovering in Hex format. e.g. #000000"},{name:"sidemenuTabIconHoverColor",type:"text",label:"The background color of the tab icon on mouse hovering in Hex format. e.g. #000000"},{name:"sidemenuTabTextHoverColor",type:"text",label:"The text color of the tab on mouse hovering in Hex format. e.g. #000000"},{name:"startCollapsed",type:"boolean",label:"start collapsed"},{name:"onlyCollapsed",type:"boolean",label:"only collapsed"},{name:"rightside",type:"boolean",label:"show menu on the rightside"},{name:"className",type:"text",label:"css classNames"},{name:"areas",type:"json",label:"area definitions"}],Qa=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBSideMenu",component:Object(u.lazy)((function(){return Promise.all([a.e(57),a.e(15)]).then(a.bind(null,1589))})),label:"BBSideMenu",variables:qa}}}]),e}(),Ha=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBEChart",component:Object(u.lazy)((function(){return Promise.all([a.e(5),a.e(35)]).then(a.bind(null,1590))})),label:"BBEChart",variables:[{name:"query",type:"yasgui",defaultQuery:"select distinct ?label (count(distinct ?uri) as ?amount) \r\n  where \r\n  { \r\n graph <{{graph}}> \r\n{\r\n?uri a ?cls\r\n}\r\n  ?cls rdfs:label ?label \r\n} \r\n  group by ?label \r\n order by ?label",label:"Query to fill the chart. first parameter is the type, second the amount for a pie/donut"},{name:"charttype",type:"select",label:"charttype",options:[{label:"Kies",value:"Kies"},{label:"Pie",value:"Pie"},{label:"Small pie",value:"SmallPie"},{label:"Doughnut",value:"Doughnut"},{label:"Small doughnut",value:"DoughnutSmall"},{label:"Bar",value:"Bar"},{label:"Column",value:"Col"},{label:"stacked Column",value:"ColStacked"},{label:"stacked Bar",value:"BarStacked"},{label:"Gauge",value:"gauge"}]},{name:"title",type:"text",label:"title"},{name:"width",type:"text",label:"width css (97%)"},{name:"height",type:"text",label:"height css  (95%) "},{name:"optionOptions",type:"text",label:'extra options for echart {"series":[{"bargap":0}]}'},{name:"color",type:"array",label:"optional colorscheme series,hexcolor... ok,#ffaacc"},{name:"legend",type:"boolean",label:"legend"},{name:"defaultMenu",type:"boolean",label:"defaultMenu"},{name:"stringToColor",type:"boolean",label:"use string values to color chart"},{name:"gradientColors",type:"boolean",label:"use gradient colors"},{name:"enableZoom",type:"boolean",label:"make the chart zoomable"},{name:"labelsInChart",type:"boolean",label:"labels in the chart"},{name:"popupLabelExtension",type:"text",label:"extension string for popup values (euro or stuks) "},{name:"popupLabelFixedFormat",type:"text",label:"1 or 2 or.."}]}}}]),e}(),Ga=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/boorkern/vboorkern.html")},e.state={selectedUri:null},e.scrolling="no",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,[{key:"reExecuteSparql",value:function(){this.updateMe()}}],[{key:"getDescription",value:function(){return{name:"BBBoorkern",component:a,label:"virtuele boorkern",variables:[{name:"query",type:"yasgui",label:"to fill the map. "},{name:"height",type:"text",label:"height variable"},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the figure is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection.(not yet implemented). use selectedUri instead  (set a default value via ::) "},{name:"className",type:"text",label:"iframe classNames"}]}}}]),a}(ma.a),Ja=a(162),Za=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"StartRuleButton",component:Object(u.lazy)((function(){return Promise.all([a.e(0),a.e(26)]).then(a.bind(null,1541))})),label:"StartRuleButton",variables:[{name:"disabled",type:"boolean",label:"disabled"},{name:"title",type:"text",label:"button label",topicValueInterpolationEnabled:!0},{name:"beginIcon",type:"text",label:"begin icon - available prefixes: `fa-` `mui-` `radix-`. Without prefix is deprecated."},{name:"endIcon",type:"text",label:"end icon - available prefixes: `fa-` `mui-` `radix-`. Without prefix is deprecated."},{name:"tooltip",type:"text",label:"button tooltip",topicValueInterpolationEnabled:!0},{name:"startRule",type:"text",label:"start rule with tag. Also EMPTY can be used."},{name:"parameters",type:"json-text",label:"extra parameters send in JSON format,Parameters will be resolved before sending. keep it simple. no subchildren"},y.a.getTimestampParametersDef(),{name:"failureMessage",type:"text",label:"failure message"},{name:"customStyling",type:"boolean",label:"Enable Custom Styling"},{name:"buttonBorderRadius",type:"text",label:'Custom Styling: button-border-radius (examples: "2lh", "50%", "1.2em"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius'},{name:"textColor",type:"text",label:'Custom Styling: text-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"bgColor",type:"text",label:'Custom Styling: background-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"hasButtonShadow",type:"boolean",label:"Custom Styling: enable button-shadow"},{name:"buttonFontSize",type:"text",label:"Custom Styling: button-font-size"},{name:"buttonFontFamily",type:"text",label:"Custom Styling: button-font-family",helpComponent:Ja.a}]}}}]),e}(),Ya=a(438),Xa=a(356),$a=a(78),en=a.n($a),tn=a(339),an=a.n(tn),nn=a(55),rn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.buttonFontSize?this.props.buttonFontSize:"inherit",n=this.props.buttonFontFamily?this.props.buttonFontFamily:"inherit";return Object(A.jsxs)("div",{className:an.a.buttonsContainer,"data-custom-styling":Boolean(this.props.customStyling),style:{"--button-border-radius":this.props.buttonBorderRadius,"--text-color":this.props.textColor,"--background-color":this.props.bgColor,"--margin-between-buttons":this.props.marginBetweenButtons,"--button-container-padding":this.props.buttonContainerPadding,"--button-font-size":a,"--button-font-family":n},children:[this.props.title&&Object(A.jsx)("div",{className:en.a.title,children:this.props.title}),null===(e=this.props.labels)||void 0===e?void 0:e.map((function(e,a){var n,r,i,o,l,s;return t.props.customStyling?Object(A.jsx)(ln,{href:null===(o=t.props.links)||void 0===o?void 0:o[a],openLinkInSameTab:t.props.openLinksInTheSameTab,beginIcon:null===(l=t.props.beginIcons)||void 0===l?void 0:l[a],endIcon:null===(s=t.props.endIcons)||void 0===s?void 0:s[a],hasButtonShadow:t.props.hasButtonShadow,children:e},a):Object(A.jsx)(on,{href:null===(n=t.props.links)||void 0===n?void 0:n[a],openLinkInSameTab:t.props.openLinksInTheSameTab,beginIcon:null===(r=t.props.beginIcons)||void 0===r?void 0:r[a],endIcon:null===(i=t.props.endIcons)||void 0===i?void 0:i[a],children:e},a)}))]})}}],[{key:"getDescription",value:function(){return{name:"BBLinkButtons",component:a,label:"BB Link Buttons",variables:[{name:"labels",type:"array",label:"label,label2,etc",topicValueInterpolationEnabled:!0},{name:"links",type:"array",label:"url1,url2,etc",topicValueInterpolationEnabled:!0},{name:"openLinksInTheSameTab",type:"boolean",label:"Open links in the same tab"},{name:"title",type:"text",label:"titel"},{name:"beginIcons",type:"array",label:'begin-icons: "icon1,icon2,etc"'},{name:"endIcons",type:"array",label:'end-icons: "icon1,icon2,etc"'},{name:"customStyling",type:"boolean",label:"Enable Custom Styling"},{name:"buttonBorderRadius",type:"text",label:'Custom Styling: button-border-radius (examples: "2lh", "50%", "1.2em"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius'},{name:"textColor",type:"text",label:'Custom Styling: text-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"bgColor",type:"text",label:'Custom Styling: background-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"hasButtonShadow",type:"boolean",label:"Custom Styling: enable button-shadow"},{name:"marginBetweenButtons",type:"text",label:'Custom Styling: margin-between-buttons (example: "0.4em")'},{name:"buttonContainerPadding",type:"text",label:'Custom Styling: button-container-padding (example: "0.4em")'},{name:"buttonFontSize",type:"text",label:"Custom Styling: button-font-size"},{name:"buttonFontFamily",type:"text",label:"Custom Styling: button-font-family",helpComponent:Ja.a}]}}}]),a}(u.Component);function on(e){return Object(A.jsx)("a",{className:en.a.viewer,style:{textDecoration:"none",color:"inherit"},href:e.href,target:e.openLinkInSameTab?"_self":"_blank",rel:"noopener noreferrer",children:Object(A.jsxs)("div",{className:en.a.titleText,children:[e.beginIcon&&Object(A.jsx)(nn.a,{icon:e.beginIcon}),e.children,e.endIcon&&Object(A.jsx)(nn.a,{icon:e.endIcon})]})})}function ln(e){return Object(A.jsx)(Xa.a,{component:"a",className:an.a.button,style:{textDecoration:"none",color:"inherit",padding:"10px",margin:"10px"},onClick:e.onClick,href:e.href,target:e.openLinkInSameTab?"_self":"_blank",rel:"noopener noreferrer",color:"grey",variant:"contained",endIcon:e.endIcon&&Object(A.jsx)(nn.a,{icon:e.endIcon}),startIcon:e.beginIcon&&Object(A.jsx)(nn.a,{icon:e.beginIcon}),"data-has-button-shadow":Boolean(e.hasButtonShadow),children:e.children})}var sn=rn,cn=a(480),un=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBStructuredText",component:Object(u.lazy)((function(){return a.e(36).then(a.bind(null,1576))})),label:"BB Structured Text",variables:[{name:"query",type:"yasgui",label:"use parameter ?header ?headerText ?content  "},{name:"paperbackground",type:"select",label:"paper background",options:[{label:"default",value:"noneWhite"},{label:"grey",value:"bbgrey"},{label:"white",value:"bbwhite"},{label:"default grey",value:"noneGrey"}]},{name:"papercolor",type:"select",label:"paper color",options:[{label:"default",value:"noneWhite"},{label:"white paper",value:"bbwhitePaper"},{label:"grey paper",value:"bbgreyPaper"},{label:"default grey",value:"noneGrey"}]},{name:"cls",type:"text",label:"class "}]}}}]),e}(),dn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBKVKProductTemplate",component:Object(u.lazy)((function(){return Promise.all([a.e(1),a.e(20),a.e(24)]).then(a.bind(null,1591))})),label:"BBK KVK Product Template",variables:[{name:"title",type:"text",label:"Titel boven de template"},{name:"query",type:"yasgui",label:"to fill the form. Use title,uri, propUri, label,value, type (xsd,select), optionLabel optionValue ?required regex, multiple,objectOfCls "},{name:"buttons",type:"array",label:"buttons"},{name:"popupFullScreen",type:"array",label:"popupFullScreen"},{name:"popupTitle",type:"array",label:"popupTitle"},{name:"publishVariable",type:"text",label:"Variabele in which URI is published when button is clicked."},{name:"className",type:"text",label:"iframe classNames"}]}}}]),e}(),pn=a(439),bn=a(786),_n=a(481),hn=a.n(_n),mn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:!1,selections:[]},e.handleClickBack=function(t){if(0!==e.state.selections.length&&1!==e.state.selections.length){var a=e.state.selections[e.state.selections.length-2];if(null!=e.props.parameter&&(e.props.publish(e.props.parameter,a.parameter),e.state.selections.pop(),e.state.selections.pop()),e.props.changeSelectedTabs)for(var n in ia.a.registeredTabComponents){var r=ia.a.registeredTabComponents[n];for(var i in a.tabs)if(i===r.getTabId()){var o=a.tabs[i];r.state.selectedIndex!==o&&r.setState({selectedIndex:o})}}}},e.handleClose=function(){e.setState({anchorEl:null})},e}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){try{var a=e.pubsub[e.parameter];if(null==a)return!0;if(0===this.state.selections.length){var n={parameter:a,tabs:{}};for(var r in ia.a.registeredTabComponents){var i=ia.a.registeredTabComponents[r];n.tabs[i.getTabId()]=i.state.selectedIndex}this.state.selections.push(n)}else{if(this.state.selections[this.state.selections.length-1].parameter!==a){for(var o in n={parameter:a,tabs:{}},ia.a.registeredTabComponents){var l=ia.a.registeredTabComponents[o];n.tabs[l.getTabId()]=l.state.selectedIndex}this.state.selections.push(n)}}}catch(s){console.log(s)}return!0}},{key:"render",value:function(){var e=!1;return this.state.selections.length<2&&(e=!0),Object(A.jsx)("div",{children:Object(A.jsx)(te.a,{title:"back",children:Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(bn.a,{disabled:e,variant:"contained","aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClickBack,children:Object(A.jsx)(hn.a,{})})]})})})}}],[{key:"getDescription",value:function(){return{name:"BBBackMenu",component:a,label:"BackMenu",variables:[{name:"parameter",type:"text",label:"parameter "},{name:"changeSelectedTabs",type:"boolean",label:"also set tab selections "}]}}}]),a}(u.Component),fn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBSimplePushButton",component:Object(u.lazy)((function(){return a.e(28).then(a.bind(null,1542))})),category:"Default",label:"Simple Push Button",variables:[{name:"label",type:"text",label:"label"},{name:"beginIcon",type:"text",label:"begin icon"},{name:"endIcon",type:"text",label:"end icon"},{name:"enabled",type:"text",label:"parameter true/false for enabling button"},{name:"tooltip",type:"text",label:"button tooltip"},{name:"query",type:"yasgui",label:"for parameters for label for example"},{name:"link",type:"text",label:"simple link which will be called when the button is clicked"},{name:"postLink",type:"text",label:"alternative to link: a post link with optionally a postObject. keywords allowed such as command for command servlet calls"},{name:"postObject",type:"text",label:"object send via postLink adres. Parameters will be resolved before sending. keep it simple. no subchildren"},{name:"postDownload",type:"boolean",label:"triggers a download"},{name:"downloadFileName",type:"text",label:"download file name "},{name:"messageLWTTitle",type:"text",label:"show message title for long waiting time"},{name:"messageLWT",type:"text",label:"show message for long waiting time"},{name:"changeParameter",type:"text",label:"change parameter value when succesfull"},{name:"setInitialValueChangeParameter",type:"boolean",label:"set initial value for change parameter "},{name:"successMessage",type:"text",label:"shows message after successful operation "},{name:"fontSize",type:"text",label:"size of the text "},{name:"sparqlqueryrapport",type:"yasgui",label:"sparql query rapport. (optionally use #template:)"}]}}}]),e}(),gn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/w2ui/venn.html")},e.scrolling="false",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBVenDiagram",component:a,label:"BB Venn diagram",variables:[{name:"query",type:"yasgui",label:"use ?set and ?amount.  ?set values must be space separated classes. "},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},y.a.getResetValueDef()]}}}]),a}(ma.a),jn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/w2ui/form.html")},e.scrolling="true",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBForm",component:a,label:"BB Form widget",variables:[{name:"query",type:"yasgui",label:"to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring "},{name:"fields",type:"json",label:"json for w2uiform fields"},{name:"tabs",type:"text",label:"w2ui tabs definitie"},{name:"filetype",type:"text",label:"file type extension (e.g.:ifc) "},{name:"service",type:"select",label:"service upload or command",options:[{label:"command",value:"command"},{label:"upload",value:"upload"}]},{name:"commando",type:"text",label:"commando"},{name:"dataCommand",type:"text",label:"extra data send to the server via json"},{name:"endJS",type:"text",label:"js after successfull submit   (getIface().me.props.closeDialog())"},y.a.getTimestampParametersDef()]}}}]),a}(ma.a),On=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBUpload",component:Object(u.lazy)((function(){return a.e(14).then(a.bind(null,1543))})),label:"BB Upload widget",variables:[{name:"serverUrl",type:"text",label:"server url (full url or upload)"},{name:"command",type:"text",label:"command for server  {validateGarantie,uploadAnyXLSX,uploadAnyFile:ruletag}"},{name:"uploadText",type:"text",label:"text for the widget"},{name:"processingText",type:"text",label:"text for the widget when uploading and processing"},{name:"fileExtensions",type:"text",label:"fileExtensions xslx,js"},{name:"fields",type:"json",label:"json for w2uiform fields"},{name:"tabs",type:"text",label:"optional w2ui tabs definitie"},{name:"multiple",type:"boolean",label:"multiple files "},{name:"extraJSON",type:"text",label:'extra json info. parameters may be used. {"graph":"{{graph}}"}'},{name:"autoUpload",type:"boolean",label:"auto upload "},{name:"resultUri",type:"text",label:"parameter that will be updated after succesful upload containing uri where more information can be found on the uploaded "},{name:"successEval",type:"text",label:'javascript code after successfull upload... e.g. me.downloadReport("garantierapport","garantie.html") '},y.a.getTimestampParametersDef()]}}}]),e}(),vn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/noml.html")},e.scrolling="no",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBNOML",component:a,label:"BBNOML",variables:[{name:"data",type:"text",label:"noml input"}]}}}]),a}(ma.a),yn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BB ButtonPopup",component:Object(u.lazy)((function(){return a.e(17).then(a.bind(null,1544))})),label:"Button Popup",variables:[{name:"title",type:"text",label:"button label",topicValueInterpolationEnabled:!0},{name:"beginIcon",type:"text",label:"begin icon"},{name:"endIcon",type:"text",label:"end icon"},{name:"popupFullScreen",type:"boolean",label:"popup fullScreen not implemented"},{name:"popupMinWidth",type:"string",label:"popup min width in CSS, e.g. 600px"},{name:"popupMaxWidth",type:"string",label:"popup max width in CSS, e.g. 100vw for max screen width"},{name:"popupMinHeight",type:"string",label:"popup min height in CSS, e.g. 600px"},{name:"popupMaxHeight",type:"string",label:"popup max height in CSS, e.g. 100vh for max screen height"},{name:"popupContentPadding",type:"string",label:"popup content padding in CSS, e.g. 0px for zero padding"},{name:"popupCloseOnBackdropClick",type:"boolean",label:"close popup when clicking outside the popup"},{name:"popupCloseOnEscapeKey",type:"boolean",label:"close popup when pressing Escape"},{name:"popupTitle",type:"text",label:"popupTitle",topicValueInterpolationEnabled:!0},{name:"tooltip",type:"text",label:"button tooltip",topicValueInterpolationEnabled:!0},{name:"disable",type:"text",label:"disable when parameter is empty/reset value or true"},{name:"autoOpenOnParameter",type:"text",label:"automatically opens popup when the parameter changes."},{name:"closeAtParameterChange",type:"text",label:"close popup when the parameter changes. deprecated"},{name:"openDialog",type:"boolean",label:"open dialog the first time"},{name:"customStyling",type:"boolean",label:"Enable Custom Styling"},{name:"buttonBorderRadius",type:"text",label:'Custom Styling: button-border-radius (examples: "2lh", "50%", "1.2em"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius'},{name:"textColor",type:"text",label:'Custom Styling: text-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"bgColor",type:"text",label:'Custom Styling: background-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"hasButtonShadow",type:"boolean",label:"Custom Styling: enable button-shadow"},{name:"buttonFontSize",type:"text",label:"Custom Styling: button-font-size"},{name:"buttonFontFamily",type:"text",label:"Custom Styling: button-font-family",helpComponent:Ja.a}]}}}]),e}(),xn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/static/iframes/rdfviewer/index.html")},e.state={selectedUri:null},e.scrolling="no",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBRDFViewer",component:a,label:"BB RDF Viewer",variables:[{name:"query",defaultQuery:'\n\rselect * where\n\r{\n\r\n\r  graph ?g\n\r  {\n\r  \n\r   ?uri a <http://rdf.bg/ontologies/ifc#IfcSpace>.\n\r   ?uri <http://rdf.bg/ontologies/ifc#geometry> ?geometry.\n\r    \n\r   #?uri <http://rdf.bg/ontologies/ifc#propertySets> ?ps.\n\r\n\r  #?ps<http://rdf.bg/ontologies/ifc#properties> ?pss.\n\r  #?pss <http://rdf.bg/ontologies/ifc#name> "".\n\r  #?pss <http://rdf.bg/ontologies/ifc#value> ?color.\n\r  ?uri a ?cls.\n\r    bind (strafter(STR(?cls),"#") as ?color)\n\r    bind (concat("IFC class:",?color) as ?label)\n\r  #bind (0.3 as ?alpha)\n\r  }\n\r}\n\rlimit 1000',type:"yasgui",label:" Use ?file. or upcoming blob parameters"},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when an object is selected."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},y.a.getResetValueDef()]}}}]),a}(ma.a),wn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/static/iframes/cesiumMap/cesiumConf.html")},e.state={selectedUri:null},e.scrolling="no",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBCesiumJS",component:a,label:"Cesium JS",variables:[{name:"query",type:"yasgui",label:" Use ?uri ?geometry ?color"},{name:"basequery",type:"yasgui",label:" Use ?uri ?geometry ?color"},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},y.a.getResetValueDef()]}}}]),a}(ma.a),En=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/w2ui/SVG.html")},e.scrolling="false",e.noEvents=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBSGV",component:a,label:"SVG widget (Single Line Diagram)",variables:[{name:"query",type:"yasgui",label:"to fill the svg. use ?uri ?x ?x ?type "},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},{name:"dragNodes",type:"boolean",label:"drag nodes"},y.a.getResetValueDef(),{name:"className",type:"text",label:"iframe classNames"}]}}}]),a}(ma.a),Cn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"Wegselector",component:Object(u.lazy)((function(){return a.e(53).then(a.bind(null,1545))})),label:"Wegselector",variables:[{name:"title",type:"text",label:"Titel boven de form"},{name:"showStrook",type:"boolean",label:"show strook options"},{name:"publishVariable",type:"text",label:"Published filter sparql bps into a parameter"}]}}}]),e}(),Dn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){if(null==e)return!1;if(null==e.data)return!1;try{if(e.data!=this.props.data&&null!=e.data&&null!=e.data.results)try{if(null==e.data.results.bindings)return!1;if(1!=e.data.results.bindings.length)return!1;var a=e.data.results.bindings[0].uri.value,n=e.publishParameter;null!=n&&this.props.publish(n,a)}catch(r){}}catch(i){}return!1}},{key:"render",value:function(){return null}}],[{key:"getDescription",value:function(){return{name:"BBParameterLinkEmptyWidget",component:a,label:"Parameter Link (EmptyWidget)",variables:[{name:"query",type:"yasgui",label:"Query to link a parameter"},{name:"publishParameter",type:"text",label:"publish parameter name (use ?uri single value limit 1)"}]}}}]),a}(u.Component),In=a(317),Mn=a.n(In),Pn=[{name:"query",type:"yasgui",label:'Query to display sequence path. The following variable-names should be queried: "?name", "?uri", "?parentUri". The utmost-grand-parent is displayed on the left, with the utmost-grand-child on the right.If there are multiple parents, then multiple sequence paths will be shown.'},{name:"iconName",type:"text",label:'font-awesome-icon-name to be used between path-nodes (default: "angle-right")'},{name:"topicOnClick",type:"text",label:"Topic to publish URI when clicking on path-node"}],Tn=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={sequences:[],data:void 0,previousData:void 0},e.render=function(){return Object(A.jsx)("div",{className:"".concat(Mn.a.main," ").concat(Mn.a[e.props.panelstyle]),disabled:e.state.loading,children:e.state.sequences.map((function(t){return Object(A.jsx)("div",{children:t.map((function(t,a){var n;return Object(A.jsxs)(d.a.Fragment,{children:[0!==a&&Object(A.jsx)(nn.a,{icon:null!==(n=e.props.iconName)&&void 0!==n&&n.length?e.props.iconName:"angle-right"}),Object(A.jsx)("span",{className:"".concat(Mn.a.pathSegment," ").concat(e.props.panelstyle),onClick:function(){return e.select(t.uri.value)},children:t.name.value})]},t.uri.value)}))},t)}))})},e.componentDidUpdate=function(){try{if(e.props.data&&e.props.data!==e.state.previousData){var t=function(e){var t=i(),a=t.rowByUri,r=t.rowsByParentUri;return e.filter((function(e){var t;return!((null===(t=e.parentUri)||void 0===t?void 0:t.value)in a)})).flatMap((function(e){return o([[e]])}));function i(){var t,a={},r={},i=Object(n.a)(e);try{for(i.s();!(t=i.n()).done;){var o,l=t.value;a[l.uri.value]=l,null!==(o=l.parentUri)&&void 0!==o&&o.value&&(r[l.parentUri.value]?r[l.parentUri.value].push(l):r[l.parentUri.value]=[l])}}catch(s){i.e(s)}finally{i.f()}return{rowByUri:a,rowsByParentUri:r}}function o(e){return e.flatMap((function(e){var t=e.at(-1),a=r[t.uri.value];return a?o(a.map((function(t){return[].concat(Object(le.a)(e),[t])}))):[e]}))}}(e.props.data.results.bindings);e.setState({sequences:t,previousData:e.props.data})}}catch(a){console.error(a.message)}},e.select=function(t){return e.props.dispatch({type:"PUBLISH",data:Object(C.a)({},e.props.topicOnClick,t)})},e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"SequencePaths",component:a,label:"Sequence-paths widget",variables:Pn}}}]),a}(d.a.Component);var kn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"IFCJSViewer",component:Object(u.lazy)((function(){return Promise.resolve().then(a.bind(null,480))})),label:"IFC JS Viewer (v2)",variables:[{name:"query",type:"yasgui",label:"use parameter ?filename ?guid ?hidden ?alpha ?color  "}]}}}]),e}(),Ln=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBThreeJSViewer",component:Object(u.lazy)((function(){return Promise.all([a.e(9),a.e(21)]).then(a.bind(null,1573))})),label:"BB ThreeJS viewer (v2)",variables:[{name:"glb files prefix",type:"text",label:"prefix for all glb files (e.g. http://wistor.nl/BloodBee/cgi/download/) "},{name:"glb files",type:"array",label:'comma separated file names to load. "file1.glb,file2.glb" or use parameters {{filename}}'},{name:"visualisation hint",type:"select",options:[{label:"normal",value:"normal"},{label:"transparent",value:"transparent"},{label:"very transparent",value:"vtransparent"},{label:"toon",value:"toon"},{label:"toon transparent",value:"toontransparent"},{label:"nice",value:"nice"},{label:"nicer",value:"nicer"},{label:"nicer grey",value:"nicerGrey"},{label:"grey",value:"grey"},{label:"grey transparent",value:"greytransparent"},{label:"grey very transparent",value:"greyverytransparent"}],label:"such as transparent,normal,toon "},{name:"simpleMode",type:"boolean",label:"use this for only basic viewing of IFC models"},{name:"query",type:"yasgui",label:"use parameter ?guid ?uri ?hidden ?alpha ?color ?label (?gltf). use sparqlhints #transparent   "},{name:"guidpublishparameter",type:"text",label:"parameter for guid publishing"},{name:"guidselector",type:"text",label:"parameter for selecting object using GUID"},{name:"selectOnlySparqlResults",type:"boolean",label:"select only sparql result objects"},{name:"visualiseOnlySparqlResults",type:"boolean",label:"visualise only sparql result objects"}]}}}]),e}(),Sn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBSparnatural",component:Object(u.lazy)((function(){return a.e(48).then(a.bind(null,1546))})),label:"BB Sparnatural",variables:[{name:"configttl",type:"text",label:'local filename such as "config.ttl". (refresh is necessary) '},{name:"lang",type:"text",label:"language, default is nl (refresh is necessary)"},{name:"limit",type:"text",label:"limit (default is 100000) (refresh is necessary)"},{name:"configttlAsString",type:"text",label:"config as a string. (not implemented) "},{name:"query",type:"yasgui",label:"perhaps create sparnatural config using sparql results? (not implemented) "}]}}}]),e}(),Rn=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"Nebula",component:Object(u.lazy)((function(){return a.e(50).then(a.bind(null,1547))})),label:"Nebula",variables:[{name:"query",type:"yasgui",label:"use parameter ?label for accordion headings. use ?content for inner accordion content "},{name:"title",type:"text",label:"Titel boven de tabel"}]}}}]),e}();function An(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Object(u.useRef)();Object(u.useEffect)((function(){n.current&&clearTimeout(n.current),n.current=setTimeout((function(){return e()}),t)}),a)}var Nn=pe.b,Un=pe.c,Bn=pe.d,Wn={DEBOUNCE_TIME:1,WIDTH:"100%"},Vn={name:"Text input",component:function(e){var t=function(t){if(e.topicToPublish){var a=y.a.processStringForParameters({props:e},t);b(a),s(t),e.publish(e.topicToPublish,a)}},a=1e3*Number(e.debounceTimeInSeconds||Wn.DEBOUNCE_TIME),n="",r="";e.inputParameter&&(n=e.inputParameter,r=y.a.processStringForParameters({props:e},n),!0);var i=Object(u.useState)(n),o=Object(se.a)(i,2),l=o[0],s=o[1],c=Object(u.useState)(r),d=Object(se.a)(c,2),p=d[0],b=d[1];return An((function(){return t(l)}),a,[l]),Object(u.useEffect)((function(){return t(l)}),[e.topicToPublish]),Object(u.useEffect)((function(){var a=y.a.processStringForParameters({props:e},l);a!=p&&(console.log("updating to ",a),t(l))}),[e]),Number.isNaN(a)?Object(A.jsxs)("div",{children:['Error: configured waiting time is not a number: "',e.debounceTimeInSeconds,'"']}):Object(A.jsxs)(Nn,{style:{padding:"0.25rem",width:"100%"},children:[e.label&&Object(A.jsx)(Bn,{style:{marginLeft:"0.25rem",marginBottom:"0.25rem"},children:e.label}),Object(A.jsx)(Un,{hiddenvalue:{resolvedText:p},value:l,onChange:function(e){return s(e.target.value)},style:{width:e.width||Wn.WIDTH}})]})},label:"Text input",variables:[{name:"label",type:"text",label:"Label above input-field"},{name:"topicToPublish",type:"text",label:"Topic/Parameter to which to publish the user input"},{name:"inputParameter",type:"text",label:"Initial value  (refresh is necessary)"},{name:"debounceTimeInSeconds",type:"text",label:"Seconds to wait after user input to broadcast value to topic"},{name:"width",type:"text",label:'Width of text input (use css length value; default is "100%")'}]};var Kn={name:"DynamicFilter",component:Object(u.lazy)((function(){return Promise.all([a.e(7),a.e(12)]).then(a.bind(null,1568))})),label:"Dynamic Filter",variables:[{name:"urlPublishVariable",type:"text",label:"Variable in which the browser's URL is published upon filter change."},{name:"filtersPublishVariable",type:"text",label:'Variable in which the filters are published. Note that the query will need "PREFIX xsd" in the header.'},{name:"filterLogicalOperation",type:"select",label:"The behaviour when multiple filters are selected",options:[{value:"AND",label:"Filters connected without UNION (AND)"},{value:"OR",label:"Filters connected with UNION (OR)"}]},{name:"query",type:"yasgui",label:"SparQL query to define the possible filters: ?sparqlParameter ?property ?propertyURI ?value ?valueURI ?type ?defaultExpanded ?defaultVisible. Last two parameters are optional.",helpComponent:function(){return Object(A.jsx)("table",{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?sparqlParameter"})}),Object(A.jsxs)("td",{children:["String literal with the name of the SparQL parameter used in the published snippet (",Object(A.jsx)("code",{children:"?subj"}),"). Do not include the ",Object(A.jsx)("code",{children:"?"}),"."]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?property"})}),Object(A.jsx)("td",{children:"String literal with the label of the filterable property."})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?propertyURI"})}),Object(A.jsx)("td",{children:"String literal with the URI of the filterable property."})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?value"})}),Object(A.jsxs)("td",{children:["For checkboxes, radiobuttons, search: string literal with the label of the filterable values.",Object(A.jsx)("br",{}),"For range or daterange: ",Object(A.jsx)("code",{children:'"min"'})," or ",Object(A.jsx)("code",{children:'"max"'})," to indicate if it's the min or max value."]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?valueURI"})}),Object(A.jsxs)("td",{children:["For checkboxes, radiobuttons, search: string URI or literal of the filterable values.",Object(A.jsx)("br",{}),"For range: number literal of the min or max value.",Object(A.jsx)("br",{}),"For daterange: date literal of the min or max value like ",Object(A.jsx)("code",{children:'"2023-01-01T00:00:00Z"^^xsd:dateTime'}),"."]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?type"})}),Object(A.jsxs)("td",{children:["Either ",Object(A.jsx)("code",{children:'"checkboxes"'}),", ",Object(A.jsx)("code",{children:'"radiobuttons"'}),", ",Object(A.jsx)("code",{children:'"search"'}),", ",Object(A.jsx)("code",{children:'"range"'})," or ",Object(A.jsx)("code",{children:'"daterange"'}),"."]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?defaultExpanded"})}),Object(A.jsxs)("td",{children:["Whether to expand the filter by default. Either ",Object(A.jsx)("code",{children:"true"})," or ",Object(A.jsx)("code",{children:"false"}),"."]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:Object(A.jsx)("code",{children:"?defaultVisible"})}),Object(A.jsxs)("td",{children:["Whether the filter is shown by default. Either ",Object(A.jsx)("code",{children:"true"})," or ",Object(A.jsx)("code",{children:"false"}),". If ",Object(A.jsx)("code",{children:"false"}),", it can be added by the user via the Add button."]})]})]})})}}]};var zn={name:"Excel widget",component:Object(u.lazy)((function(){return a.e(39).then(a.bind(null,1548))})),label:"Excel widget",variables:[{name:"excelUrl",type:"text",label:"An excel URL to load (If there is a excelUrlTopic specified, this will be ignored)"},{name:"excelUrlTopic",type:"text",label:"Published topic on which to listen to the excel URL to load"},{name:"selectedCellLocation",type:"text",label:'A variable to publish the selected cell location. The publish format is excel axis e.g "A10", "B8".'},{name:"selectedCellValue",type:"text",label:"A variable to publish the selected cell value"},{name:"currentActiveSheetName",type:"text",label:"A variable to publish the name of the current active sheet"},{name:"highlightColor",type:"text",label:"The default color for hightlighting the cells in format of Hex Code (#RRGGBB). If no highlighting color is specified in the sparql data, this color will be used."},{name:"fastHighlighting",type:"boolean",label:"[experimental] Enable this to highlight the cells is faster. But resetting the hightlights may requires reloading workbook or refresh the page. Note: Only the default color can be used for this highlight."},{name:"query",type:"yasgui",label:"Query certain cells to be highlighted in the loaded workbook. The query pattern should be `select ?sheetIndex ?sheetName ?row ?col ?color ?value ?range` Note: Only cells that has values and their values are equal to ?value can be highlighted! If both sheetIndex and sheetName are specified, sheetIndex takes priority."}]},Fn=a(352),qn=a.n(Fn),Qn=function(e){return Object(A.jsxs)("label",{className:qn.a["toggle-switch"],children:[Object(A.jsx)("input",{type:"checkbox",checked:e.isToggled,onClick:function(){return e.onClick()}}),Object(A.jsx)("span",{className:qn.a.switch})]})},Hn=a(482),Gn=a.n(Hn),Jn={name:"ToggleWidget",component:function(e){var t=e.appearance||"icon",a=e.iconImage||"filter",n=e.publishTopic||"defaultTopic",r=function(){n&&e.publish(n,!e.pubsub[n])};return Object(A.jsxs)("div",{style:{"--icon-color":e.disabledIconColor,"--bg-color":e.disabledBgColor,"--active-icon-color":e.enabledIconColor,"--active-bg-color":e.enabledBgColor},children:["checkbox"==t&&Object(A.jsx)("input",{type:"checkbox",checked:e.pubsub[n],onClick:r}),"toggleSwitch"==t&&Object(A.jsx)(Qn,{isToggled:e.pubsub[n],onClick:r}),"icon"==t&&Object(A.jsx)(bn.a,{className:Gn.a.iconButton,onClick:r,"data-active":e.pubsub[n],children:Object(A.jsx)(nn.a,{icon:a})})]})},label:"Toggle Widget",variables:[{name:"appearance",type:"select",label:"Choose your preferred appearance",options:[{label:"Icon",value:"icon"},{label:"Checkbox",value:"checkbox"},{label:"Toggle Switch",value:"toggleSwitch"}]},{name:"iconImage",type:"text",label:"name of the Font Awesome icon you want to use"},{name:"publishTopic",type:"text",label:"topic to publish binary state to"},{name:"enabledBgColor",type:"text",label:'Custom Styling: Enabled background-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"enabledIconColor",type:"text",label:'Custom Styling: Enabled icon-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"disabledBgColor",type:"text",label:'Custom Styling: Disabled background-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"disabledIconColor",type:"text",label:'Custom Styling: Disabled icon-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'}]};var Zn={name:"JobStatus",component:Object(u.lazy)((function(){return Promise.all([a.e(0),a.e(27)]).then(a.bind(null,1549))})),label:"Job status indicator (rule engine)",variables:[{name:"initiatorTagsToInclude",type:"text",label:"Monitor only jobs initiated by specified rule tags. Can be comma separated. By default all jobs are monitored."},{name:"statusLabels",type:"json",label:"JSON that maps the job statuses to a human-friendly label"},{name:"statusTextTemplateString",type:"text",label:"Template string for the job status display. May have HTML. You can use placeholders {{.count}} and {{.status}} (NOTE: these are not available as pubsub variables)"},{name:"zeroJobsString",type:"text",label:"Text for the job status display when there are zero active jobs. May have HTML."},{name:"refetchInterval",type:"text",label:"How often to refresh in seconds. Cannot be lower than 1."}]},Yn=[{name:"query",type:"yasgui",label:'Query where all possible internal sources for the video queried as `?src_URL`s. External urls are not supported, the urls need to start with "/servlets/cgi/download/"'},{name:"timeJumpTopic",type:"text",label:"Topic (variable) for which integer updates will make the video seek to that point in time as seconds"},y.a.getTimestampParametersDef()],Xn={name:"VideoPlayer",component:d.a.lazy((function(){return a.e(42).then(a.bind(null,1550))})),label:"VideoPlayer",variables:Yn},$n=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BB Maplibre",component:Object(u.lazy)((function(){return a.e(44).then(a.bind(null,1551))})),label:"BBLibremap",variables:[{name:"query",type:"yasgui",label:"Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons ()"}]}}}]),e}(),er=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBMermaid",component:Object(u.lazy)((function(){return Promise.all([a.e(22),a.e(45)]).then(a.bind(null,1552))})),label:"BBPMermaid",variables:[{name:"mermaid",type:"json-text",label:"mermaid string"}]}}}]),e}(),tr=Object(o.a)((function e(){Object(i.a)(this,e)}));tr.basic="basic",tr.experimental="experimental",tr.widget2D="2D",tr.widget3D="3D",tr.graphic="graphic",tr.edit="edit",tr.other="other",tr.layout="layout";var ar=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"List",component:Object(u.lazy)((function(){return a.e(30).then(a.bind(null,1553))})),label:tr.basic+" List widget",category:tr.basic,variables:[{name:"title",type:"text",label:"Titel boven de lijst"},{name:"query",type:"yasgui",label:"first variabele for the labels ",defaultQuery:"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\rselect ?label ?uri where\n\r{\n\r  graph<{{graph}}>\n\r  {\n\r\t\t?uri rdfs:label ?label\n\r  }\n\r}\n\r  \n\rlimit 10"},{name:"publishVariable",type:"text",label:"sparql parameter name for publishing select event result"},{name:"subscribeVariable",type:"text",label:"Published variabele on which to listen to to define list item selection."},{name:"multipleselect",type:"boolean",label:"allow multiple selections. parameters are filled as comma separated values"},{name:"allMultipleSelect",type:"boolean",label:'Add "All" multiple select'},{name:"defaultSelectAll",type:"boolean",label:"Selects all as default behaviour and after each query update"},y.a.getMultipleValueFormatOptions(),y.a.getResetValueDef(),{name:"customStyling",type:"boolean",label:"Enable Custom Styling"},{name:"areaBorderStyle",type:"text",label:'Custom Styling: area-border-style (example: "3px solid grey"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border'},{name:"areaBorderRadius",type:"text",label:'Custom Styling: area-border-radius (examples: "0.8em", "1.2em"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius'},{name:"textColor",type:"text",label:'Custom Styling: text-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"bgColor",type:"text",label:'Custom Styling: background-color (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"selectedTextColor",type:"text",label:'Custom Styling: text-color of selection (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"selectedBgColor",type:"text",label:'Custom Styling: background-color of selection (examples: "green", "#FF0000", "hsl(0 100% 50% / 50%)"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value'},{name:"itemBorderStyle",type:"text",label:'Custom Styling: border between each list-item (examples: "3px solid grey")'},{name:"itemPaddingVertical",type:"text",label:'Custom Styling: vertical padding of each list-item (examples: "0.8em", "1.4em"). See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-top'},{name:"itemPaddingHorizontal",type:"text",label:'Custom Styling: horizontal padding of each list-item (examples: "0.4em", "1.0em"). See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-left'}]}}}]),e}(),nr=a(247),rr=a.n(nr),ir=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){try{var a=t.target.value;e.props.publish(e.props.publishVariable,a)}catch(n){console.log(n)}try{null!=e.props.publishVariableLabel&&(console.log(t.target.alt),e.props.publish(e.props.publishVariableLabel,t.target.alt))}catch(n){console.log(n)}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.restructureOptions()}},{key:"restructureOptions",value:function(){var e=this.props.options;try{e=e.split(",")}catch(t){return null}return e=e.reduce((function(t,a,n){return n%2===0&&(a=a.trim(),t=[].concat(Object(le.a)(t),[{value:a,label:e[n+1]||a}])),t}),[])}},{key:"renderOptionsHorizontal",value:function(){var e=this,t=this.props.pubsub[this.props.publishVariable],a=this.restructureOptions();return a?Object(A.jsx)(u.Fragment,{children:a.map((function(a){return Object(A.jsx)("div",{children:Object(A.jsxs)("label",{className:rr.a.radioContainerHor,children:[Object(A.jsx)("input",{type:"radio",name:e.props.label,checked:t===a.value,value:a.value,onChange:e.onChange,alt:a.label}),Object(A.jsx)("span",{style:{verticalAlign:"middle",paddingRight:"15px",paddingLeft:"12px"},children:a.label})]})},a.value)}))}):Object(A.jsx)("div",{children:"Options should be a comma separated list of value,label pairs"})}},{key:"renderOptionsVertical",value:function(){var e=this,t=this.props.pubsub[this.props.publishVariable],a=this.restructureOptions();return a?Object(A.jsx)("div",{children:a.map((function(a){return Object(A.jsx)("div",{children:Object(A.jsxs)("label",{className:rr.a.radioContainerVer,children:[Object(A.jsx)("input",{type:"radio",name:e.props.label,checked:t===a.value,value:a.value,onChange:e.onChange,alt:a.label}),Object(A.jsx)("span",{style:{verticalAlign:"middle",paddingLeft:"12px"},children:a.label})]})},a.value)}))}):Object(A.jsx)("div",{children:"Options should be a comma separated list of value,label pairs"})}},{key:"render",value:function(){var e=this.props.horizontal;return Object(A.jsxs)("div",{className:rr.a.main,children:[Object(A.jsxs)("div",{className:rr.a.label,children:[this.props.label," "]}),e?this.renderOptionsHorizontal():this.renderOptionsVertical()]})}}],[{key:"getDescription",value:function(){return{name:"RadioBox",component:a,label:"Radio box widget",variables:[{name:"publishVariable",type:"text",label:"Variabele in which the URI of the selected radio box is published."},{name:"publishVariableLabel",type:"text",label:"Variabele in which the LABEL of the selected radio box is published."},{name:"label",type:"text",label:"Label",topicValueInterpolationEnabled:!0},{name:"horizontal",type:"boolean",label:"horizontal"},{name:"options",type:"text",label:"Options defined by a comma separated list of value/label pairs"}]}}}]),a}(u.Component),or=ir,lr=a(722),sr=[{name:"query",type:"yasgui",description:"extra documentation",defaultQuery:'SELECT\n  ?title\n  (?note as ?title_URI)\n  ("" as ?comments)\n  ("fa-comments" as ?comments_ICON)\n  (?note as ?comments_URI)\n  ?author\n  ?author_ICON\n  ("16px" as ?author_ICONSIZE)\n  ?author_ICONCOLOR\n  ?sourceLink\n  ?sourceLink_ICON\n  ?sourceLink_URL\nWHERE {\n  BIND(IF(BOUND(?sourceLink_URL), "radix-external-link", "") AS ?sourceLink_ICON)\n  VALUES (?note ?title ?author ?author_ICON ?author_ICONCOLOR ?sourceLink ?sourceLink_URL) {\n    (<https://example.com/notes/1> "My first babby note" "Baby" "fa-baby" "magenta" undef undef)\n    (<https://example.com/notes/2> "Server is down" "BimBamBoom" "fa-user-group" "#060270" "app.wistor.nl" "https://app.wistor.nl")\n    (<https://example.com/notes/3> "Tips on keeping data secure" "Hackermann \ud83d\ude0e" "fa-user" "#388B17" "google.com" "https://google.com")\n  }\n}\n',label:['Query-variable-names structured as "?{identifier}_{modifier}" modify','the display query-variable-results of "?{identifier}",',"see help for more info"].join(" "),helpComponent:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"mb-3",children:"The results of this query are displayed in the table in the same order as they are returned from the triplestore."}),Object(A.jsxs)("p",{className:"mb-3",children:["It is possible to modify a cell by selecting sparql-variables with the following name-shape ",Object(A.jsx)("code",{children:"?{identifier}_{modifier}"}),". Rows have an empty identifier, e.g. ",Object(A.jsx)("code",{children:"?_{modifier}"}),"."]}),Object(A.jsxs)("p",{children:["The following ",Object(A.jsx)("code",{children:"modifier"}),"s have been implemented:"]}),Object(A.jsxs)("ul",{className:"list-disc pl-4",children:[Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"URI"}),': makes the cell clickable. On click it publishes this value to the global "publish topic", or the column-configuration-specific `publishTopic` (the latter overrides the former).'," ",Object(A.jsxs)("em",{children:["If this modifier is used, then ",Object(A.jsx)("code",{children:"URL"})," should not be used"]})," as you cannot have both behaviours."," ","An error-notification is clearly visible on your screen if both modifiers are active."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"URL"}),": makes the cell clickable. On click it opens a new browser-tab/window with this value as its URL."," ",Object(A.jsxs)("em",{children:["If this modifier is used, then ",Object(A.jsx)("code",{children:"URL"})," should not be used"]})," as you cannot have both behaviours."," ","An error-notification is clearly visible on your screen if both modifiers are active."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"ICON"}),": name of the icon, this can be an icon from"," ",Object(A.jsx)("a",{href:"https://fontawesome.com/search?o=r&m=free",target:"_blank",rel:"noreferrer",className:"text-indigo-400 hover:text-decoration-underline",children:"fontawesome"}),", "," ",Object(A.jsx)("a",{href:"https://www.radix-ui.com/icons",target:"_blank",rel:"noreferrer",className:"text-indigo-400 hover:text-decoration-underline",children:"Radix Icons"}),", or"," ",Object(A.jsx)("a",{href:"https://mui.com/material-ui/material-icons/",target:"_blank",rel:"noreferrer",className:"text-indigo-400 hover:text-decoration-underline",children:"MUI Icons"}),Object(A.jsx)("br",{}),"Examples: ",Object(A.jsx)("code",{children:"fa-user"}),", ",Object(A.jsx)("code",{children:"fa-minus-circle"}),", ",Object(A.jsx)("code",{children:"radix-layers"}),", ",Object(A.jsx)("code",{children:"radix-dots-horizontal"}),", ",Object(A.jsx)("code",{children:"mui-add"}),"."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"ICONCOLOR"}),": css color of the icon. Examples: ",Object(A.jsx)("code",{children:"blue"}),", ",Object(A.jsx)("code",{children:"rgba(128, 128, 0, 0.5)"}),", ",Object(A.jsx)("code",{children:"#ffee33"})]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"ICONSIZE"}),": css size of the icon. Examples: ",Object(A.jsx)("code",{children:"15px"}),", ",Object(A.jsx)("code",{children:"16pt"}),", ",Object(A.jsx)("code",{children:"2rem"})]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"TEXTCOLOR"}),": css color of the text. Examples: ",Object(A.jsx)("code",{children:"blue"}),", ",Object(A.jsx)("code",{children:"rgba(128, 128, 0, 0.5)"}),", ",Object(A.jsx)("code",{children:"#ffee33"})]})]})]})}},{name:"custom",type:"tablepp-custom",label:"Column Config\n\u2139\ufe0fNote: The displayed order of columns is determined by the order of the tabs, not the order of the result variables in the SPARQL query. You can drag-and-drop tabs to change their order.",helpComponent:function(){var e={id:Object(lr.a)(),label:"Actions",width:"150px",buttons:[{icon:"fa-star",actions:[{type:"start-rule",startRule:"favourite rule",parameters:{someParameter:"{{someValue}}"},timestampVariable:"myTimestamp"}]},{buttons:[{label:"Open user details",icon:"fa-user",actions:[{type:"publish",topic:"userForPopup",value:"{{user}}"}]}]}]};return Object(A.jsxs)("div",{children:[Object(A.jsx)("h3",{className:"font-bold font-lg",children:"SPARQL columns"}),Object(A.jsxs)("p",{className:"mb-3",children:["The visible columns and the order of columns are explicitly decided by the SPARQL column tabs. Use the 'Auto fill' button to automatically populate them based on variables in your ",Object(A.jsx)("code",{children:"SELECT"})," statement."]}),Object(A.jsxs)("p",{className:"mb-3",children:["If you see a column with the '\ud83d\udd17' symbol, it means it is linked to a valid SPARQL variable. ",Object(A.jsx)("br",{}),"Columns with the '\u26d3\ufe0f\u200d\ud83d\udca5' symbol are not linked to a valid SPARQL variable."]}),Object(A.jsx)("h3",{className:"font-bold font-lg",children:"Action columns"}),Object(A.jsxs)("p",{className:"mb-3",children:["You can also create additional columns which are not linked to a specific SPARQL variable, but can be used to trigger an action.",Object(A.jsxs)("ul",{className:"list-disc list-inside",children:[Object(A.jsxs)("li",{children:["Currently two action types are supported in buttons: ",Object(A.jsx)("code",{children:'"publish"'})," and ",Object(A.jsx)("code",{children:'"start-rule"'})]}),Object(A.jsxs)("li",{children:["You can use query result variables in ",Object(A.jsx)("code",{children:"{{placeholders}}"}),", from any row's SPARQL column variable or global pubsub variables"]}),Object(A.jsx)("li",{children:'Create a button without an icon and with button-children to display a "..."-dropdown menu'})]})]}),Object(A.jsxs)("p",{className:"mb-3",children:["An advanced example for an action column:",Object(A.jsx)("br",{}),Object(A.jsx)("pre",{style:{color:"#e83e8c"},children:JSON.stringify(e,null,4)})]})]})}},{name:"publishVariable",type:"text",label:'Topic (variable) in which item URI is published when a link in the table is clicked. Can be overridden by the column-configuration\'s "publishTopic".',description:"more information about the publish variable"},{name:"hideColumnHeaders",type:"boolean",label:"hide column headers"},{name:"showFilters",type:"boolean",label:"enable global filter"},{name:"idToFilterTextOf",type:"text",label:"Limit global filtering to specific identifier(s), separate with comma. Leave empty to filter all fields."},{name:"paginationEnabled",type:"boolean",label:"enable pagination"},{name:"paginationPageSize",type:"number",label:"maximum number of rows to show per page"},{name:"selectionMode",type:"select",options:[{value:"DISABLED",label:"Disabled"},{value:"SINGLE",label:"Single row (highlight)"},{value:"MULTIPLE",label:"Multiple rows (checkboxes)"}],label:"row selection mode"},{name:"variableToPublishOnSelection",type:"text",label:"Variable name from the SPARQL query representing the value for selection. Will be used for the selection publish and subscription settings below."},{name:"selectedRowSubscription",type:"text",label:"Variabele to listen to for row selection."},{name:"lastSelectedRowTopic",type:"text",label:"Topic to publish last selected row to."},{name:"selectedRowsTopic",type:"text",label:"Topic to publish selected rows to."},{name:"topicToListenToForSelectedRows",type:"text",label:"Topic to listen for selected rows, this is based on your multiple value configuration. The default format is with diamond brackets and with a comma separator, so for example: <value1>,<value2>"},y.a.getMultipleValueFormatOptions(),{name:"enableButtonExportSelectionToCsv",type:"boolean",label:"enable button to export selection to CSV"},{name:"labelButtonExportSelectionToCSV",type:"text",label:"label for button to export selection to CSV"},{name:"delimiterExportSelectionToCSV",type:"select",label:"delimiter used when exporting selection to CSV",options:[{label:"comma",value:","},{label:"semicolon",value:";"},{label:"tab",value:"\t"}]},{name:"filenameExportSelectionToCSV",type:"text",label:"filename of csv-file when exporting selection to CSV",topicValueInterpolationEnabled:!0}];var cr={name:"Table++",component:u.lazy((function(){return Promise.all([a.e(0),a.e(10),a.e(25)]).then(a.bind(null,1567))})),label:"Table++",variables:sr},ur=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"IFCJSViewerV3",component:Object(u.lazy)((function(){return a.e(54).then(a.bind(null,1558))})),label:tr.experimental+" IFC Viewer V3 (BIM-Legal development) ",category:tr.experimental,variables:[{name:"modus",type:"select",label:"modus",options:[{label:"Viewer",value:"Viewer"},{label:"Upload only",value:"Upload"},{label:"Viewer with Upload",value:"ViewerWithUpload"},{label:"Download BIM-Legal file",value:"BIMLegalDownload"}]},{name:"uploadFileMode",type:"select",label:"upload File Mode",options:[{label:"single Ifc",value:"singleIfc"},{label:"multiple Ifc  (not yet implemented)",value:"multipleIfc"}]},{name:"uploadButtonLabel",type:"text",label:"Text for the upload button"},{name:"uploadPanelLabel",type:"text",label:"Text for the upload panel"},{name:"uploadAppearance",type:"select",label:"Upload appearance",options:[{label:"Tall (default)",value:"tall"},{label:"Compact",value:"compact"}]},{name:"uploadBelongsTo",type:"text",label:"uri for belongsTo parameter",helpComponent:function(){return Object(A.jsx)("p",{children:" the uploadany file uri of the uploaded ifc file and its derivations (like frag and LD) will be connected via the wistor#belongsTo Parameter to this parameter value "})}},{name:"uploadconversionjson",type:"json",label:"conversion to LD and viewer options in JSON",helpComponent:hr},{name:"bimlegalfrag",type:"boolean",label:"create a IFCSpace frag file only"},{name:"AfterUploadIFCUriSelection",type:"text",label:"parameter that will be filled with the IFCupload uri",helpComponent:function(){return Object(A.jsx)("p",{children:" After a succesful upload the uploadany file uri will be set to this parameter. This can be handy to automaticially select the uploaded file "})}},y.a.getTimestampParametersDef(),y.a.getRunRuleParametersDef(),{name:"files prefix",type:"text",label:"prefix for all ifc files (e.g. http://wistor.nl/servlets/cgi/download/repo/) "},{name:"ifcfiles",type:"array",label:"comma separated url(s) to IFC files to display. parameters can be used here referring to (wistor) download locations using the wistor download servlet"},{name:"Visualisation mode",type:"select",label:"2d of 3d modus",options:[{label:"3D",value:"3D"},{label:"2D",value:"2D"}]},{name:"objectVisualisationMode",type:"select",label:"options to visualise IFC data icw Sparql results",options:[{label:"normal (no sparql necessary)",value:"normal"},{label:"show only sparql results ",value:"sparqlonly"},{label:"show all transparent (sparql results in color) ",value:"transparent"}]},{name:"query",type:"yasgui",label:"use parameter ?guid (necessary to link?) ?uri (handy for publishing) ?hidden (false/true) ?alpha ?color (create a color based upon this value) ?colorHex ?label (popup label)  ",defaultQuery:""},{name:"predefinedColors",type:"json",label:'JSON-object linking ?color labels to actual CSS-style colors. Example: { "Walls": "#3366ff", "Floors": "red" }'},{name:"publishVariable",type:"text",label:"sparql parameter name for publishing select event result. Arguably we need GUIDS to link data to the viewer. Perhaps GUID based interaction (publish guids instead of URIs is handier)"},{name:"subscribeVariable",type:"text",label:"Published variabele on which to listen for selection."},{name:"zoomOnSelectionChange",type:"boolean",label:"Automatically zoom in to selection when selection variable has changed."},{name:"zoomToSelection",type:"boolean",label:"Automatically zoom in to selection when changing selection interactively."},{name:"resetSelectionOnSparqlUpdate",type:"boolean",label:"Reset selection on SPARQL update."},{name:"multipleselect",type:"boolean",label:"allow multiple selections. parameters are filled as comma separated values"},y.a.getMultipleValueFormatOptions(),{name:"bimlegaleditorversion",type:"boolean",label:"allow other scripts to interact with special functions for bim-legal"}]}}}]),e}(),dr={categoriesToInclude:["IFCELEMENT","IFCSITE","IFCPROJECT","IFCBUILDING","IFCBUILDINGSTOREY","IFCGROUP","IFCZONE"],relationsToInclude:["IsDefinedBy","ContainedInStructure","ContainsElements","Decomposes","IsDecomposedBy","IsGroupedBy","HasAssignments"],includeElementsWithoutRelations:!0,psetNameRegex:null},pr={categoriesToInclude:["IFCELEMENT","IFCSITE","IFCPROJECT","IFCBUILDING","IFCBUILDINGSTOREY","IFCGROUP"],relationsToInclude:["IsDecomposedBy","Decomposes","AssociatedTo","HasAssociations","ClassificationForObjects","IsGroupedBy","HasAssignments","IsDefinedBy","DefinesOcurrence","IsTypedBy","Types","Defines","ContainedInStructure","ContainsElements","HasControlElements","AssignedToFlowElement","ConnectedTo","ConnectedFrom","ReferencedBy","Declares","HasContext","Controls","IsNestedBy","Nests"],includeElementsWithoutRelations:!0,psetNameRegex:null},br={categoriesToInclude:["IFCELEMENT"],relationsToInclude:["IsDefinedBy"],includeElementsWithoutRelations:!1,psetNameRegex:null},_r={categoriesToInclude:["IFCSPACE","IFCSITE","IFCPROJECT","IFCBUILDING","IFCBUILDINGSTOREY"],relationsToInclude:["IsDefinedBy","ContainsElements","ContainedInStructure"],includeElementsWithoutRelations:!0,psetNameRegex:null};function hr(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("h3",{className:"mb-2 font-bold",children:"Configuration properties"}),Object(A.jsxs)("ul",{className:"mb-3",children:[Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"categoriesToInclude"}),": list of IFC object categories to include in export, like ",Object(A.jsx)("code",{}),". IFCELEMENT is a shortcut for all categories that have"," ",Object(A.jsx)("a",{href:"https://standards.buildingsmart.org/IFC/RELEASE/IFC4_1/FINAL/HTML/schema/ifcproductextension/lexical/ifcelement.htm",rel:"noopener noreferrer",target:"_blank",style:{textDecoration:"underline"},children:"IfcElement"})," ","as superclass. Should be in UPPERCASE. If this is not set or null, all non-orphaned elements are included."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"categoriesToView"}),": list of IFC object categories to show in the viewer, like ",Object(A.jsx)("code",{}),". IFCELEMENT is a shortcut for all categories that have"," ",Object(A.jsx)("a",{href:"https://standards.buildingsmart.org/IFC/RELEASE/IFC4_1/FINAL/HTML/schema/ifcproductextension/lexical/ifcelement.htm",rel:"noopener noreferrer",target:"_blank",style:{textDecoration:"underline"},children:"IfcElement"})," ","as superclass. Should be in UPPERCASE. If this is not set or null, nothing will be shown."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"relationsToInclude"}),": defines relations to include (according the relation name in IFC). Is case sensitive. Use IsDefinedBy for property set relations. If this is not set or null, all supported relations are included."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"includeElementsWithoutRelations"}),": boolean whether to include elements where zero relations where found according to the relationsToInclude & psetNameRegex settings."]}),Object(A.jsxs)("li",{children:[Object(A.jsx)("code",{children:"psetNameRegex"}),": regex to only export property sets relations with a specific name. If this is not set, null, or empty, all property sets are included."]})]}),Object(A.jsx)("h3",{className:"mb-2 font-bold",children:"Example configurations"}),Object(A.jsxs)(Je,{defaultValue:"default",children:[Object(A.jsxs)(Ze,{children:[Object(A.jsx)(Ye,{value:"default",children:"Default"}),Object(A.jsx)(Ye,{value:"everything",children:"Everything"}),Object(A.jsx)(Ye,{value:"elements-psets",children:"IfcElements with psets"}),Object(A.jsx)(Ye,{value:"bimlegal",children:"BIMLegal"})]}),Object(A.jsx)($e,{value:"default",children:Object(A.jsx)(ve.b,{value:JSON.stringify(dr,null,4),readonly:!0})}),Object(A.jsx)($e,{value:"everything",children:Object(A.jsx)(ve.b,{value:JSON.stringify(pr,null,4),readonly:!0})}),Object(A.jsx)($e,{value:"elements-psets",children:Object(A.jsx)(ve.b,{value:JSON.stringify(br,null,4),readonly:!0})}),Object(A.jsx)($e,{value:"bimlegal",children:Object(A.jsx)(ve.b,{value:JSON.stringify(_r,null,4),readonly:!0})})]})]})}var mr=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/static/iframes/ifc-viewer/index.html")},e.scrolling="yes",e.noEvents=!1,e.usesParameters=!1,e}return Object(o.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBIfcViewerNextGen",component:a,label:"BB IFC Viewer next gen",variables:[]}}}]),a}(ma.a),fr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBTable",component:Object(u.lazy)((function(){return Promise.all([a.e(13),a.e(49)]).then(a.bind(null,1559))})),label:"BB Table widget",variables:[{name:"query",type:"yasgui",label:"to fill the table use any parameter. Optionally use Check parameter extension for boolean values. Optionally use the Fix extension (?parameternameFix) to restrict the amount of numbers after the decimal for each parameter. Optionally use ?background for background coloring "},{name:"renderEmpty",type:"boolean",label:"render an empty table"},{name:"colSizes",type:"array",label:"optional array of col sizes. 100px,50%,350px. Needs a widgetrefresh when changed"},{name:"publishVariable",type:"text",label:"Published uri variabele for other widgets."},{name:"replaceHeaderJSON",type:"text",label:'Key value JSON that replaces parameter headers. {"label":"naam (volledig)"}'},{name:"searchbar",type:"boolean",label:"show searchbar (widget refresh necessary)"},{name:"className",type:"text",label:"iframe classNames"},{name:"uselocalnumberformat",type:"boolean",label:"use local number format"},{name:"downloadbutton",type:"boolean",label:"add toolbar with download button (widget refresh necessary)"},{name:"downloadURL",type:"text",label:"base exceltemplate. This will be used to insert the data in the first sheet"},{name:"downloadStartRow",type:"text",label:"start row to insert the data into the excelsheet"},{name:"downloadNoHeader",type:"boolean",label:"do not export sparql parameter names as columnames"},{name:"wraptext",type:"boolean",label:"wrap text in the table"},{name:"excelheadertext",type:"text",label:"headertext for row 1 when downloading this table in excel"},{name:"summaryFields",type:"text",label:"add summary below using the following csv sparql parameters (costs, profit)"},{name:"filename",type:"text",label:"xlsx filename"},{name:"selectType",type:"select",label:"Selection type (refresh is necessary)",options:[{label:"Rows",value:"row"},{label:"Cells",value:"cell"}]}]}}}]),e}(),gr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BB SVGEditor",component:Object(u.lazy)((function(){return Promise.all([a.e(41),a.e(47)]).then(a.bind(null,1560))})),label:"BB SVGEditor",variables:[{name:"query",type:"yasgui",label:"Query to fill the svg. use ?uri and ?svg"}]}}}]),e}(),jr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BB Ganttchart",component:Object(u.lazy)((function(){return a.e(43).then(a.bind(null,1592))})),label:"BB Ganttchart (under development)",variables:[{name:"query",type:"yasgui",label:"use parameter ?id ?uri ?name ?start ?end ?progress ?dependencies ?graph ?code"},{name:"editable",type:"boolean",label:"editable"},{name:"timestampParameters",type:"text",label:"sets a timestamp after main event. multiple parameters via comma seperation"}]}}}]),e}(),Or=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BB Component",component:Object(u.lazy)((function(){return a.e(38).then(a.bind(null,1561))})),label:"BB Component (Experimental)",type:"experimental",variables:[{name:"url",type:"text",label:"use an url to another app to re-use the main widget."},{name:"urlData",type:"json",label:"a copy of the config data from the app specified by the url (not implemented yet)"}]}}}]),e}(),vr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BB Menubar",component:Object(u.lazy)((function(){return Promise.all([a.e(11),a.e(19)]).then(a.bind(null,1562))})),label:"Menubar (Experimental)",type:"experimental",variables:[{name:"query",type:"yasgui",label:"use parameter ?uri ?label ?parent ?command (not yet implemented) "},{name:"perspectives",type:"json",label:'a JSON array for defining perspectives in the for [ { "label": "label","key":"home","icon":"pi pi-fw pi-inbox","children":[] }]'},{name:"menubarconfig",type:"json",label:'JSON configuration for the menubar.  eg {"id": "chatagent","icon": "pi pi-help","label": "Chat","subcommand": "popup"} other subcommands are runrule and perspectives. you can use item:[] to specify children'},{name:"areas",type:"json",label:"area definitions"}]}}}]),e}(),yr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBPython",component:Object(u.lazy)((function(){return a.e(52).then(a.bind(null,1563))})),label:"BB Python in the browser (experimental)",type:"experimental",variables:[{name:"pythoncode deprecated. will be deleted soon",type:"text",label:"python code to execute between {}"},{name:"pythoncode2",type:"json",label:"python code to execute between 2 {}"}]}}}]),e}(),xr={name:"Image Gallery",component:d.a.lazy((function(){return Promise.all([a.e(56),a.e(29)]).then(a.bind(null,1564))})),label:"Image Gallery [Temporary]",variables:[{name:"query",type:"yasgui",label:"Query where all possible sources for the video queried as `?src_URL`s"},{name:"textLoading",type:"text",label:"text when loading"},{name:"textNoResults",type:"text",label:"text when no results"},{name:"columnCount",type:"text",label:"number of columns"},{name:"textErrorLoading",type:"text",label:"text when error loading results"},{name:"deletionRule",type:"text",label:"rule triggered when requesting delete"},{name:"deletionRuleParamsJSON",type:"json-text",label:'parameters for the rulechain, for example {"graph":"{{graph}}"}'}]},wr=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getDescription",value:function(){return{name:"BBMJOPwidget",component:Object(u.lazy)((function(){return a.e(51).then(a.bind(null,1565))})),label:"MJOP Widget (experimental)",type:"experimental",variables:[{name:"query",type:"yasgui",label:"use parameter... (not yet implemented)  "}]}}}]),e}(),Er=[Qa.getDescription(),ca.getDescription(),ua.getDescription(),ia.a.getDescription(),Aa.getDescription(),wr.getDescription(),vr.getDescription(),Or.getDescription(),yr.getDescription(),jr.getDescription(),Ha.getDescription(),Ya.a.getDescription(),ar.getDescription(),$t.getDescription(),Ht.getDescription(),or.getDescription(),ra.getDescription(),Vt.getDescription(),Tn.getDescription(),Tt.getDescription(),gr.getDescription(),Pt.getDescription(),Kt.getDescription(),Lt.getDescription(),Rt.a.getDescription(),Wt.getDescription(),Vn,{name:"Yasgui",component:ha,label:"Yasgui widget"},cr,fr.getDescription(),wa.getDescription(),Ba.getDescription(),Ka.getDescription(),mn.getDescription(),fn.getDescription(),Kn,ja.getDescription(),ga.getDescription(),$n.getDescription(),xa.getDescription(),wn.getDescription(),cn.default.getDescription(),kn.getDescription(),Ln.getDescription(),Ea.getDescription(),Ca.getDescription(),{name:"BBYasguiNotebook",component:Pa,label:"BB YasGUINotebook",variables:[]},{name:"BBNotebook",component:Ta,label:"BB Notebook",variables:[]},Ia.getDescription(),{name:"BBKGApiVizWidget",component:La,label:"BBKGApiVizWidget",variables:[{name:"query",type:"yasgui",label:"just to start. "}]},za.getDescription(),vn.getDescription(),Ra.getDescription(),er.getDescription(),Ga.getDescription(),dn.getDescription(),pn.a.getDescription(),sn.getDescription(),un.getDescription(),gn.getDescription(),En.getDescription(),jn.getDescription(),On.getDescription(),yn.getDescription(),xn.getDescription(),Cn.getDescription(),Dn.getDescription(),Za.getDescription(),Rn.getDescription(),Sn.getDescription(),zn,Jn,Zn,ur.getDescription(),mr.getDescription(),Xn,xr],Cr=Er.sort((function(e,t){return e.label.localeCompare(t.label)})),Dr=a(280);function Ir(e){var t,a,n=d.a.useState((function(){return{waitingToSaveAndClose:!1,feedback:{warning:{},error:{}},configInput:e.configRendered,configOriginal:e.configRendered}})),i=Object(se.a)(n,2),o=i[0],l=i[1];d.a.useEffect((function(){o.waitingToSaveAndClose&&e.configRendered===o.configInput&&(e.saveConfigRendered(),e.close())}),[o.waitingToSaveAndClose,e.configRendered]);var s=d.a.useRef(!0),c=function(e,t){return l(Object(ce.c)((function(a){"widget"===e?function(e,t){if(e.widget=t,"SplitLayout"===t||"SplitLayoutTest"===t||"BBKVKProductTemplate"===t||"BB ButtonPopup"===t){var a=e;a.direction="column",a.areas=[Object(ce.b)(a)],a.areaSizes="SplitLayoutTest"===t?["1","1"]:["200px","1"]}else if("Tab"===t||"BBSideMenu"===t){var n=e;n.tabs=["Tab 1","Tab 2"],n.areas=[Object(ce.b)(e)]}else{var r=e.areas&&e.areas.find((function(e){return e&&e.widget===t}));r&&(e=r)}Ot(Dr.a.general,(function(t){t in e||(e[t]=Dr.a.general[t])}));var i=Dr.a[e.widget];null!=i&&Ot(i,(function(t){t in e||(e[t]=i[t])}))}(a.configInput,t):a.configInput=Object(r.a)(Object(r.a)({},a.configInput),{},Object(C.a)({},e,t))})))};An((function(){o.configInput!==e.configRendered&&s.current&&e.setConfigToRender(o.configInput)}),200,[o.configInput]);var u=null!==(t=e.widgetDefinition)&&void 0!==t?t:Cr.find((function(e){return e.name===o.configInput.widget}));return Object(A.jsxs)(Q.a,{onClose:void 0,children:[Object(A.jsx)(Mt,{name:"widget",label:"Widget",type:"searchselect",placeholder:"Search widgets...",noResultsLabel:"No widgets found",options:[{label:"Selecteer een widget",value:""}].concat(Object(le.a)(Cr.map((function(e){return{label:e.label,value:e.name}})))),value:o.configInput.widget,onChange:c}),Object(A.jsx)(Mt,{name:"panelstyle",label:"panel style",type:"searchselect",placeholder:"Search panel styles...",noResultsLabel:"No styles found",options:[{label:"Selecteer een style",value:""},{label:"standaard",value:"standaard"},{label:"no scrollBars",value:"noScrollBars"},{label:"toolbar",value:"toolbar"},{label:"border",value:"border"},{label:"border 2",value:"border2"},{label:"paper",value:"paper"},{label:"paper 2",value:"paper2"},{label:"padding",value:"padding1"},{label:"padding 2",value:"padding2"},{label:"padding 3",value:"padding3"},{label:"none",value:"none"},{label:"none white",value:"noneWhite"},{label:"refresh",value:"refresh"},{label:"three color template",value:"threeColorTemplate"}],value:o.configInput.panelstyle,onChange:c}),Object(A.jsx)(Mt,{name:"panelstyleExtra",label:"panel style  (noScrollBars)",type:"text",value:o.configInput.panelstyleExtra,onChange:c}),Object(A.jsx)(Mt,{name:"titleMenubar",label:"title menubar",type:"text",value:o.configInput.titleMenubar,onChange:c}),Object(A.jsx)(Mt,{name:"infoMenubar",label:"Info popup menubar",type:"text",value:o.configInput.infoMenubar,onChange:c}),Object(A.jsx)(Mt,{name:"colorPrimaryAction",label:'give primary action color (when panel style "three color template")',type:"boolean",value:o.configInput.colorPrimaryAction,onChange:c}),Object(A.jsxs)(be.a,{tag:"fieldset",className:de.a.fieldset,children:[Object(A.jsx)("legend",{children:"Behaviour on loading"}),Object(A.jsx)(Mt,{name:"showLoadingOverlay",label:"Show loading overlay while loading.",type:"boolean",value:o.configInput.showLoadingOverlay,onChange:c}),Object(A.jsx)(Mt,{name:"syncWithUserActionsDisabled",label:"User interaction disabled while other widgets are loading.",type:"boolean",value:o.configInput.syncWithUserActionsDisabled,onChange:c}),Object(A.jsx)(Mt,{name:"voteForUserActionsDisabledWhenLoading",label:"Widget blocks user interaction on other widgets while loading.",type:"boolean",value:o.configInput.voteForUserActionsDisabledWhenLoading,onChange:c})]}),Object(A.jsx)(Mt,{name:"hidden",label:"hide this panel. Parameter must be true or false",type:"text",topicValueInterpolationEnabled:!0,value:o.configInput.hidden,onChange:c}),Mr(o.configInput.widget)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Mt,{name:"finalTopLeftBorderRadius",label:"final top-left border radius",type:"text",value:o.configInput.finalTopLeftBorderRadius,onChange:c}),Object(A.jsx)(Mt,{name:"finalTopRightBorderRadius",label:"final border top-right radius",type:"text",value:o.configInput.finalTopRightBorderRadius,onChange:c}),Object(A.jsx)(Mt,{name:"finalBottomLeftBorderRadius",label:"final bottom-left border radius",type:"text",value:o.configInput.finalBottomLeftBorderRadius,onChange:c}),Object(A.jsx)(Mt,{name:"finalBottomRightBorderRadius",label:"final bottom-right border radius",type:"text",value:o.configInput.finalBottomRightBorderRadius,onChange:c})]}),Object(A.jsx)(Mt,{name:"hiddenwhenparametersareempty",label:"comma separated parameters that need to have a value",type:"text",value:o.configInput.hiddenwhenparametersareempty,onChange:c}),null===u||void 0===u||null===(a=u.variables)||void 0===a?void 0:a.map((function(e){return Object(A.jsx)(Mt,{name:e.name,label:e.label,type:e.type,options:"options"in e?e.options:void 0,value:o.configInput[e.name],onChange:c,setConfigFeedback:function(t,a){return function(e,t,a){return l(Object(ce.c)((function(n){switch(t){case"valid":return delete n.feedback.error[e],void delete n.feedback.warning[e];case"error":return delete n.feedback.warning[e],void(n.feedback.error[e]=a);case"warning":return delete n.feedback.error[e],void(n.feedback.warning[e]=a);default:throw new Error("Oops should be unreachable, dev spaghetti. If this happens often, migrate (partially) to TypeScript")}})))}(e.name,t,a)}},e.name)})),Boolean(Object.keys(o.feedback.error).length)&&Object(A.jsx)("div",{className:"bg-slate-200 p-2 rounded-md",children:Object.values(o.feedback.error)}),Object(A.jsxs)("div",{style:{textAlign:"center"},children:[Object(A.jsx)(pe.a,{color:"secondary",style:{minWidth:"120px",marginTop:"12px"},onClick:function(){e.setConfigToRender(o.configOriginal),e.close()},children:"Cancel"}),Object(A.jsx)(pe.a,{disabled:Boolean(Object.keys(o.feedback.error).length),color:"primary",style:{minWidth:"120px",marginTop:"12px",marginLeft:"40px"},onClick:function(){s.current=!1,e.setConfigToRender(o.configInput),l((function(e){return Object(r.a)(Object(r.a)({},e),{},{waitingToSaveAndClose:!0})}))},children:"OK"})]})]})}function Mr(e){return!!e&&("BBParameterLinkEmptyWidget"!==e&&!e.includes("SplitLayout"))}var Pr=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).state={dialogVisible:!1},n.onInsertLayout=function(e){var t=Object(r.a)({},n.props.config),a=null;if(window.confirm("Do you want this widget to be the first element in the new splitlayout"))a={areaSizes:["auto","auto"],areas:[t,{}],direction:"column",widget:"SplitLayout"};else if(window.confirm("Do you want this widget to be the second element in the new splitlayout"))a={areaSizes:["auto","auto"],areas:[{},t],direction:"column",widget:"SplitLayout"};else{if(!window.confirm("Do you want this widget to be the third element in the new splitlayout or cancel all"))return;a={areaSizes:["auto","auto","auto"],areas:[{},{},t],direction:"column",widget:"SplitLayout"}}n.props.onChange(a,n.props.index)},n.onDeleteWidget=function(e){if(window.confirm("are you sure that you want to delete this?")){var t=Object(r.a)({},n.props.config);t={},n.props.onChange(t,n.props.index)}},n.onChildChange=function(e,t){try{var a=Object(r.a)({},n.props.config);a.areas[t]=e,n.props.onChange(a,n.props.index)}catch(i){console.log(i)}},n.onShowPopupInfo=function(){n.setState({popupInfoVisible:!0});var e=Object(l.a)(n);setTimeout((function(){e.infoPopupClose()}),2500)},n.infoPopupClose=function(){n.setState({popupInfoVisible:!1})},n.openConfigurationWindow=function(){return n.setState({dialogVisible:!0})},n.closeConfigurationWindow=function(){return n.setState({dialogVisible:!1})},n.handleVoteForUserActionsDisabled=function(e){n.props.dispatch({type:"VOTE_USER_ACTIONS_DISABLED",data:{voterId:n.widgetId,value:e}})};try{n.widgetId=_()("".concat(e.config.widget,"-"))}catch(o){}return n}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.hasVotedForUserActionsDisabled()&&this.handleVoteForUserActionsDisabled(!1)}},{key:"hasVotedForUserActionsDisabled",value:function(){return oe.a.getState().currentViewer.votersForGlobalUserActionsDisabled.has(this.widgetId)}},{key:"renderWidget",value:function(e,t){if(!e.widget)return"edit"===this.props.mode?Object(A.jsx)("div",{children:"Selecteer een widget."}):void 0;if("edit"===this.props.mode&&null==t)return Object(A.jsx)("div",{children:"Selecteer een widget."});if(null==t)return null;if(Object(ie.b)(this,e.hidden,"boolean"))return null;var a=!!e.syncWithUserActionsDisabled&&this.props.userActionsDisabled;return Object(A.jsx)($,{userActionsDisabled:a,clickable:!!this.props.onClick,onClick:this.props.onClick,children:Object(A.jsx)(q,Object(r.a)(Object(r.a)({reauth:this.props.reauth,widgetId:this.widgetId,repoName:this.props.repoName,repoURL:this.props.repoURL,parameterValues:this.props.parameterValues,localRepoURL:this.props.localRepoURL,mode:this.props.mode,save:this.props.save,sparqlErrorMessage:this.props.sparqlErrorMessage,withinSelectedTab:this.props.withinSelectedTab,parseUrlProperties:this.props.parseUrlProperties},Tr(e,t,this)),{},{definition:t,onChange:this.onChildChange,closeDialog:this.props.closeDialog,userActionsDisabled:a,voteForUserActionsDisabled:this.handleVoteForUserActionsDisabled,children:Object(A.jsx)(t.component,{})}))})}},{key:"render",value:function(){var e=this,t=this.props.config||{},a=!1,n=t.titleMenubar;null!=n&&(n=n.trim(),n=y.a.processStringForParameters(this,n),n=y.a.removeUnresolvedParametersFromString(n)),null!=n&&""!==n&&" "!==n&&(a=!0);var r=this.props.mode,i=Cr.find((function(e){return e.name===t.widget}));try{var o=i.variables.find((function(e){return"query"===e.name}));null!=o&&null==t.query&&(t.query=o.defaultQuery)}catch(D){}var l="",s="",c="",u="";if(null!=t.panelstyleExtra){var d=t.panelstyleExtra.split(" ");try{l=d[0]}catch(D){}try{s=d[1]}catch(D){}try{c=d[2]}catch(D){}try{u=d[3]}catch(D){}}var p=" "+m.a.outerAreaContainerDisplayFlex;this.props.disableFlexbox&&(p="");var b=!1;null!=t.infoMenubar&&t.infoMenubar.length>2&&(b=!0);var _=t.hidden;if(null==_&&(_=!1),0!=_){_=y.a.processStringForParameters(this,_);try{_=JSON.parse(_.toLowerCase())}catch(D){}}var h=t.hiddenwhenparametersareempty;if(null!==h&&void 0!==h&&h.length){var x=h.split(",");for(var w in x){var E=x[w];null==this.props.pubsub[E]&&(_=!0),"http://www.buildingbits.nl/reset"==this.props.pubsub[E]&&(_=!0)}}var C=_?"hidden":"visible";return"edit"===r&&(C="visible"),Object(A.jsx)(H.a,{appear:!0,timeout:1e3,in:!0,style:{visibility:C},children:Object(A.jsxs)("div",{className:m.a.outerAreaContainer+" "+(Mr(t.widget)?"":m.a.zeroBorderRadiusWidget)+" "+p+" "+("edit"===r?"":m.a.viewMode)+" "+m.a[t.widget]+" "+m.a[t.panelstyle]+" "+m.a[l]+" "+m.a[s]+" "+m.a[c]+" "+m.a[u],style:{"--area-border-style":t.areaBorderStyle,"--area-border-radius":t.areaBorderRadius,"--final-top-left-border-radius":t.finalTopLeftBorderRadius,"--final-top-right-border-radius":t.finalTopRightBorderRadius,"--final-bottom-left-border-radius":t.finalBottomLeftBorderRadius,"--final-bottom-right-border-radius":t.finalBottomRightBorderRadius},"data-custom-styling":Boolean(t.customStyling),"data-final-top-left-border-radius":!!t.finalTopLeftBorderRadius,"data-final-top-right-border-radius":!!t.finalTopRightBorderRadius,"data-final-bottom-left-border-radius":!!t.finalBottomLeftBorderRadius,"data-final-bottom-right-border-radius":!!t.finalBottomRightBorderRadius,"data-widget-type":t.widget,children:["edit"===r&&Object(A.jsxs)("div",{className:m.a.hoverToEdit,children:[Object(A.jsx)("div",{className:m.a.hoverIndicator,"aria-label":"Hover to reveal widget toolbar"}),Object(A.jsx)(re,{placement:"bottom",title:t.widget&&"".concat(t.widget," widget"),children:Object(A.jsxs)("div",{className:m.a.editArea,role:"toolbar","aria-label":"Widget toolbar",children:[Object(A.jsx)("img",{src:j,alt:"box",className:m.a.insertIcon,"aria-label":"Insert widget",onClick:function(){return e.onInsertLayout(t.widget)}}),Object(A.jsx)("img",{src:"areas"in t?g.a:f.a,alt:"gear",className:m.a.editIcon,"aria-label":"Configure widget",onClick:this.openConfigurationWindow}),Object(A.jsx)("img",{src:v,alt:"cross",className:m.a.insertIcon,"aria-label":"Delete widget",onClick:function(){return e.onDeleteWidget(t.widget)}})]})})]}),a&&Object(A.jsxs)("div",{className:m.a.menubar,children:[Object(A.jsxs)("div",{className:m.a.menubartxt,children:[" ",n]}),b&&Object(A.jsx)("img",{src:O.a,alt:"box",className:m.a.insertIcon,onClick:function(){return e.onShowPopupInfo()}})]}),this.renderWidget(t,i),this.state.popupInfoVisible&&Object(A.jsx)(Q.a,{onClose:this.infoPopupClose,children:Object(A.jsx)("div",{children:t.infoMenubar})}),this.state.dialogVisible&&Object(A.jsx)(Ir,{configRendered:t,widgetDefinition:i,close:this.closeConfigurationWindow,saveConfigRendered:this.props.save,setConfigToRender:function(t){return e.props.onChange(t,e.props.index)}})]})})}}]),a}(u.Component);function Tr(e,t,a){var i;null==e&&(console.log("this is weird"),e={});var o,l=Object(r.a)({},e),s=null!==(i=null===t||void 0===t?void 0:t.variables)&&void 0!==i?i:[],c=Object(n.a)(s);try{for(c.s();!(o=c.n()).done;){var u=o.value;u.topicValueInterpolationEnabled&&(Array.isArray(l[u.name])?l[u.name]=l[u.name].map((function(e){return y.a.processStringForParameters(a,e)})):"string"===typeof l[u.name]&&(l[u.name]=y.a.processStringForParameters(a,l[u.name])))}}catch(d){c.e(d)}finally{c.f()}return l}var kr=t.a=Object(p.b)((function(e){return{userActionsDisabled:Object(G.b)(e.currentViewer)}}))(Pr)},257:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),r=a(97),i=a(84),o=a(58),l=a(383);function s(e,t,a){var s,c,u=Object(n.a)(Object(n.a)({},null!==(s=null===(c=o.a.getState())||void 0===c?void 0:c.pubsub)&&void 0!==s?s:{}),null!==a&&void 0!==a?a:{});return new Promise((function(a,n){var o=Object(i.e)(e,u),s=Object(i.e)(null!==t&&void 0!==t?t:"",u);Object(l.a)(o)?r.a.ruleRule(o,s,a,n):r.a.runRulesWithTag(o,s,a,n)}))}},277:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),r=a(32),i=a.n(r),o=a(1),l=function(e,t){var a=function(){var e=document.getElementById("modals");return e||((e=document.createElement("div")).setAttribute("id","modals"),document.body.appendChild(e)),e}(),r=document.createElement("div");a.appendChild(r);return new Promise((function(a){i.a.render(Object(o.jsx)(e,Object(n.a)(Object(n.a)({},t),{},{onClose:function(e){a(e),i.a.render(null,r),r.remove()}})),r)}))},s=function(){return function(e,t){return l(e,t)}}},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(64),r=a(462);function i(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object(r.twMerge)(Object(n.a)(t))}},280:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={general:{voteForUserActionsDisabledWhenLoading:!0,syncWithUserActionsDisabled:!0,showLoadingOverlay:!0},SelectBox:{preSelectFirstItem:!0},ToggleWidget:{appearance:"icon",publishTopic:"defaultTopic",enabledBgColor:"#00589b",disabledBgColor:"gray"},"BB ButtonPopup":{popupMinWidth:"600px",popupMaxWidth:"100vw",popupMinHeight:"0",popupMaxHeight:"100vh",popupCloseOnBackdropClick:!0,popupCloseOnEscapeKey:!0},BBParameterLinkEmptyWidget:{showLoadingOverlay:!1},JobStatus:{statusLabels:{RUNNING:"running",QUEUED:"queued"},statusTextTemplateString:"<b>{{.count}}</b> {{.status}}",refetchInterval:"5"},IFCJSViewerV3:{resetSelectionOnSparqlUpdate:!0}}},290:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(13),r=a(2),i={appCss:{},activeYasqes:[],votersForGlobalUserActionsDisabled:new Set};function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_YASQE":return Object(r.a)(Object(r.a)({},t),{},{activeYasqes:[].concat(Object(n.a)(t.activeYasqes),[a.data])});case"REMOVE_YASQE":return Object(r.a)(Object(r.a)({},t),{},{activeYasqes:t.activeYasqes.filter((function(e){return e!==a.data}))});case"SET_APP_CSS":return Object(r.a)(Object(r.a)({},t),{},{appCss:null!==(e=a.data)&&void 0!==e?e:{}});case"SET_VIEWER_CONFIG":return Object(r.a)(Object(r.a)({},t),{},{config:a.data});case"VOTE_USER_ACTIONS_DISABLED":var o=new Set(t.votersForGlobalUserActionsDisabled);return a.data.value?o.add(a.data.voterId):o.delete(a.data.voterId),Object(r.a)(Object(r.a)({},t),{},{votersForGlobalUserActionsDisabled:o})}return t}function l(e){return e.votersForGlobalUserActionsDisabled.size>0}},291:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(2),r=a(58),i={enabled:!1};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return"SET_DEBUGGER_ENABLED"===t.type?Object(n.a)(Object(n.a)({},e),{},{enabled:Boolean(t.enabled)}):e}function l(e){var t={type:"SET_DEBUGGER_ENABLED",enabled:e};r.a.dispatch(t)}},293:function(e,t,a){"use strict";t.a=a.p+"static/media/info.8b4e18dd.svg"},294:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(275),r=a(7),i=a(13),o=a(0),l=a(1),s=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/g;function c(e){if(!e.text)return null;var t,a=(t=e.text,Object(i.a)(t.matchAll(s)).map((function(e){return Object(r.a)(e,1)[0]}))),c=function(e,t){return t.reduceRight((function(e,t){var a=Object(n.a)(e),r=a[0],o=a.slice(1);return[].concat(Object(i.a)(r.split(t)),Object(i.a)(o))}),[e])}(e.text,a);return Object(l.jsx)("span",{children:c.map((function(e,t){var n=null===a||void 0===a?void 0:a[t];return Object(l.jsxs)(o.Fragment,{children:[e,n&&Object(l.jsx)("a",{href:"mailto:".concat(n),children:n},"email ".concat(t))]},"fragment ".concat(t))}))})}},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(7),r=a(0),i=a(469),o=a.n(i),l=(a(639),a(407),a(58)),s=a(1);function c(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),i=a[0],c=a[1],u=Object(r.useState)(null),d=Object(n.a)(u,2),p=d[0],b=d[1];Object(r.useEffect)((function(){if(!p)return function(){};var e=new o.a(p);return c(e),l.a.dispatch({type:"ADD_YASQE",data:e}),function(){return l.a.dispatch({type:"REMOVE_YASQE",data:e})}}),[p]);var _=e.onBlur,h=e.value;return Object(r.useEffect)((function(){i&&(i.setValue(h||""),i.on("blur",(function(){return _(i.getValue())})))}),[i,_,h]),Object(r.useEffect)((function(){i&&"init-value"!==e.mode&&i.setValue(e.value)}),[i,e.value,e.mode]),Object(s.jsx)("div",{ref:b})}},302:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(0);var n=a(104),r=a(239),i=a.n(r),o=a(20),l=a(1),s=o.a;function c(e){var t=e.component;return Object(l.jsxs)(n.a,{onClose:e.onClose,children:[Object(l.jsx)("div",{className:i.a.help,children:Object(l.jsx)(t,{onClose:e.onClose})}),Object(l.jsx)("div",{style:{textAlign:"center"},children:Object(l.jsx)(s,{color:"primary",style:{minWidth:"120px",marginTop:"12px"},onClick:function(){return e.onClose()},children:"OK"})})]})}},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=new Set,r=new BroadcastChannel("user-input-channel");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;e.addEventListener("keydown",(function(e){!function(e){if(n.has(e))return;n.add(e),o()}(e.key)})),e.addEventListener("keyup",(function(e){!function(e){if(!n.has(e))return;n.delete(e),o()}(e.key)}))}function o(){r.postMessage(n)}},310:function(e,t,a){e.exports={overlay:"Dialog_overlay__S_Pka",frame:"Dialog_frame__3XaI8",closeButton:"Dialog_closeButton__1TQZw",okButton:"Dialog_okButton__2Pl7D",body:"Dialog_body__iLin2"}},311:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),react_redux__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(50),_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(85),_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11__),reactstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(20),_FormGroup__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(37),_Dialog__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(104),axios__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(44),_ConfigurationTopBar__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(487),_Header__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(120),_Footer__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(164),_Notification__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(470),_Area__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(252),_Spinner__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(88),_defaultConfig_json__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(483),_defaultConfig_json__WEBPACK_IMPORTED_MODULE_22___namespace=__webpack_require__.t(483,1),react_helmet__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(119),_mui_material__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(708),_mui_material__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(721),_mui_material__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(493),_helpers_layout__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(184),react_toastify__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(195),react_toastify_dist_ReactToastify_css__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(703),react_toastify_dist_ReactToastify_css__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(react_toastify_dist_ReactToastify_css__WEBPACK_IMPORTED_MODULE_29__),_AutoHyperlink__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(294),_redux_project__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(208),_helpers_url__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(59),_ViewerContextUtils__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(484),_AppVariables__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(485),_FontList__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(162),_SparqlTriggerExecutor__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(486),_JsonEditor__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(100),date_fns__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(707),typeface_exo__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(440),typeface_exo__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(typeface_exo__WEBPACK_IMPORTED_MODULE_39__),_fontsource_variable_exo_2__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(406),_fontsource_variable_exo_2__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(_fontsource_variable_exo_2__WEBPACK_IMPORTED_MODULE_40__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__),_excluded=["project"],Viewer=function(_Component){Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__.a)(Viewer,_Component);var _super=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_8__.a)(Viewer);function Viewer(){var e;Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_5__.a)(this,Viewer);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=_super.call.apply(_super,[this].concat(a))).state={popupInfoVisible:!1,dialogVisible:!1,notification:{},loading:!0,showJSONEditor:!1,config:null},e.onJsonEditClick=function(){e.setState({showJSONEditor:!0})},e.keepAlive=function(t){if("init"!==t){if("destroy"===t){if(!e.keepAliveInterval)return;return clearInterval(e.keepAliveInterval),e.keepAliveInterval=null}throw new Error("unknown mode: ".concat(JSON.stringify(t)))}e.keepAliveInterval||setInterval((function(){return e.isAuthorised()}),3e5)},e.publish=function(t,a){e.props.dispatch({type:"PUBLISH",data:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.a)({},t,a)})},e.saveTriggers=function(){var t=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function t(a){return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateViewer({triggers:a});case 2:return t.next=4,e.save();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){var a=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},e.state.viewer),{},{mainArea:t});e.setState({viewer:a})},e.selectLayout=function(t){var a=Object(_helpers_layout__WEBPACK_IMPORTED_MODULE_27__.b)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},e.state.viewer),{},{layoutName:t}));e.setState({viewer:a}),e.props.dispatch({type:_redux_project__WEBPACK_IMPORTED_MODULE_31__.b,data:t})},e.savingPromise=null,e.save=function(){var t=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function t(a){var n,r;return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.savingPromise){t.next=8;break}return t.prev=1,t.next=4,e.savingPromise;case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:return e.registerAppCss(null===(n=e.state)||void 0===n||null===(r=n.viewer)||void 0===r?void 0:r.css),e.savingPromise=e.saveImpl(a),t.abrupt("return",e.savingPromise);case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.saveImpl=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function t(){var a,n,r,i,o,l,s,c,u,d=arguments;return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(d.length>0&&void 0!==d[0]?d[0]:{}).showNotification,n=void 0===a||a,delete(r=e.state.viewer).project,i=getViewProps(e.props),o=i.projectPath,l=i.viewerPath,t.prev=4,t.next=7,Object(axios__WEBPACK_IMPORTED_MODULE_15__.a)({method:r.new?"post":"put",url:"/api/projects/".concat(o,"/viewers")+(r.new?"":"/".concat(l)),headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))},data:r});case 7:s=t.sent,c=s.data,n&&(e.timer&&clearTimeout(e.timer),e.setState({notification:{text:"saved",type:"success"}}),e.timer=setTimeout((function(){return e.setState({notification:{}})}),3e3)),e.setState({viewer:Object(_helpers_layout__WEBPACK_IMPORTED_MODULE_27__.b)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{new:!1}))}),c.project,u=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_0__.a)(c,_excluded),e.props.dispatch({type:"SAVE_VIEWER_SUCCESS",data:u}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),401===t.t0.response.status?e.props.history.push("/login","projects/".concat(o,"/").concat(l)):(e.setState({notification:{text:"not saved: "+t.t0.response.data,type:"failure"}}),e.timer=setTimeout((function(){return e.setState({notification:{}})}),3e3));case 18:case"end":return t.stop()}}),t,null,[[4,15]])}))),e.onDialogOkClick=function(){e.setState({dialogVisible:!1}),e.save()},e.onHeaderClick=function(t){"edit"===getViewProps(e.props).mode&&e.setState({dialogVisible:!0})},e.jsonOKClick=function(){e.setState({showJSONEditor:!1})},e.voteToDisableUserActions=function(t,a){e.props.dispatch({type:"VOTE_USER_ACTIONS_DISABLED",data:{voterId:t,value:a}})},e}return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_6__.a)(Viewer,[{key:"getUrl",value:function(e){try{var t="/api/sparql/"+e.repoURL;e.repoURL.startsWith("http")&&(t=e.repoURL);var a=!1;return"localhost:3000"===window.location.host&&(a=!0),null!=e.localRepoURL&&""!==e.localRepoURL&&a&&(t=e.localRepoURL),t}catch(n){console.log("error creating url ",n)}return null}},{key:"constructRepoLoginPath",value:function(e,t){var a=getViewProps(this.props).viewerPath,n=new URLSearchParams(e);return n.set("repoUrl",t),n.set("viewerPath",a),"/loginbb?id="+encodeURIComponent(btoa("?"+n.toString()))}},{key:"componentDidMount",value:function(){var _componentDidMount=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function _callee5(){var _this2=this,_getViewProps3,projectPath,viewerPath,viewer,request,config,configResponse,_error$response,_error$response2,loadConfig,auth,isAuthorised,user;return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(_getViewProps3=getViewProps(this.props),projectPath=_getViewProps3.projectPath,viewerPath=_getViewProps3.viewerPath,Viewer._instance=this,viewer=this.props.project.viewers.find((function(e){return e.path===viewerPath})),!viewer||!viewer.loaded){_context5.next=6;break}return console.log("component did mount load into state"),_context5.abrupt("return",this.loadViewerIntoState(viewer));case 6:return window.CONNECTED_APPS_STATIC&&null==window.CONFIG_URL&&(window.CONFIG_URL="./config.json"),request=window.CONNECTED_APPS_STATIC?{method:"get",url:window.CONFIG_URL,headers:{"Content-Type":"application/json"}}:{method:"get",url:"/api/projects/".concat(projectPath,"/viewers/").concat(viewerPath),headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))}},_context5.prev=8,_context5.next=11,Object(axios__WEBPACK_IMPORTED_MODULE_15__.a)(request);case 11:configResponse=_context5.sent,config=configResponse.data,_context5.next=22;break;case 15:if(_context5.prev=15,_context5.t0=_context5.catch(8),401!==(null===(_error$response=_context5.t0.response)||void 0===_error$response?void 0:_error$response.status)){_context5.next=19;break}return _context5.abrupt("return",this.props.history.push("/login","projects/".concat(projectPath,"/").concat(viewerPath)));case 19:if(404!==(null===(_error$response2=_context5.t0.response)||void 0===_error$response2?void 0:_error$response2.status)){_context5.next=21;break}return _context5.abrupt("return",this.loadNewViewerConfig(viewerPath));case 21:throw _context5.t0;case 22:if(config){_context5.next=24;break}throw new Error("somehow no config was fetched");case 24:if(null==window.CONNECTED_APPS_STATIC&&config.repoURL.startsWith("http")&&(config.repoURL.includes("BloodBee")||alert('Attention: This app interacts with external triplestore-endpoint "'.concat(config.repoURL,'". Ignore this message if this is on purpose. This message will not show up when this app is locked-and-published.'))),null!=config.prejs)try{eval(config.prejs)}catch(error2){console.log(error2,config.prejs)}if(loadConfig=function(){var e=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function e(){return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_this2.loadViewerIntoState(config);case 2:_this2.props.dispatch({type:_redux_project__WEBPACK_IMPORTED_MODULE_31__.a,data:config}),_this2.keepAlive("init");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!this.shouldConnectToWistorBackend(config)){_context5.next=51;break}return _context5.next=30,this.reauth(config);case 30:if(auth=_context5.sent,!auth.isAutoLogin||auth.success){_context5.next=33;break}return _context5.abrupt("return",auth.goToLoginPage());case 33:return _context5.next=35,this.isAuthorised(config);case 35:if(isAuthorised=_context5.sent,user=isAuthorised.user,user){_context5.next=44;break}if(!window.location.search.toLowerCase().includes("debug=skiplogin")){_context5.next=43;break}return console.log("debug skiplogin"),loadConfig(),_context5.abrupt("return");case 43:throw new Error("somehow no user data was fetched");case 44:if(isAuthorised.success){_context5.next=46;break}return _context5.abrupt("return",isAuthorised.goToLoginPage());case 46:this.publish("user.fullAccess",Boolean(user.fullAccess)),null!=user.parameters&&(document.userParameters=user.parameters),null==document.userParameters&&(document.userParameters={}),document.userParameters.userUri=user.userUri,document.userParameters.userName=user.userName;case 51:loadConfig();case 52:case"end":return _context5.stop()}}),_callee5,this,[[8,15]])})));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"isAuthorised",value:function(){var e=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function e(t){var a,n,r,i,o,l,s,c,u,d,p=arguments;return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:{silent:!1},n=this.viewerParams(t),r=n.isLoggedInUrl,i=n.viewerPath,o=n.goToLoginPage,l=n.repo,s=n.repo2,e.prev=2,e.next=5,Object(axios__WEBPACK_IMPORTED_MODULE_15__.a)({method:"get",url:r,withCredentials:!0,params:{viewerPath:i}});case 5:u=e.sent,c=u.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return d=c?null==c.loggedIn?(console.error("no user data was fetched (22)"),!1):"true"===c.loggedIn.toLowerCase()&&("USER_NOT_PERMITTED"===c.oidcLoginStatus||"REPO_NOT_PERMITTED"===c.oidcLoginStatus?(null!==a&&void 0!==a&&a.silent||alert("Your account does not have sufficient permissions for this application."),!1):null!=l&&null!=c.repo&&(l.toLowerCase()===c.repo.toLowerCase()||s.toLowerCase()===c.repo.toLowerCase()||(null!==a&&void 0!==a&&a.silent||alert("wrong repo. This account is not valid for this application."),!1))):(null!==a&&void 0!==a&&a.silent||console.error("no user data was fetched"),!1),e.abrupt("return",{user:c,goToLoginPage:o,success:d});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reauth",value:function(){var e=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function e(){var t,a,n,r,i,o,l,s,c,u,d,p,b,_,h,m=arguments;return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=m.length>0&&void 0!==m[0]?m[0]:this.state.viewer)){e.next=3;break}throw new Error("Reauth requested without any config loaded");case 3:if(a=this.viewerParams(t),n=a.isAutoLogin,r=a.psw,i=a.login,o=a.autoLoginUrl,l=a.goToLoginPage,n){e.next=6;break}return e.abrupt("return",{isAutoLogin:n,goToLoginPage:l,success:!1});case 6:return e.prev=6,this.autoLogin=null!==(c=this.autoLogin)&&void 0!==c?c:Object(axios__WEBPACK_IMPORTED_MODULE_15__.a)({method:"post",url:o,withCredentials:!0,data:{login:i,psw:r}}),e.next=10,this.autoLogin;case 10:b=e.sent,s="true"===(null===(u=b.data)||void 0===u||null===(d=u.loggedIn)||void 0===d||null===(p=d.toLowerCase)||void 0===p?void 0:p.call(d)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),(s=!(401===(null===e.t0||void 0===e.t0||null===(_=e.t0.response)||void 0===_?void 0:_.status)||403===(null===e.t0||void 0===e.t0||null===(h=e.t0.response)||void 0===h?void 0:h.status)))||alert("Default login credentials are incorrect. Login with valid credentials and change it to fix this.");case 18:return this.autoLogin=null,e.abrupt("return",{isAutoLogin:n,goToLoginPage:l,success:s});case 20:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"viewerParams",value:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.viewer,n=getViewProps(this.props),r=n.projectPath,i=n.viewerPath,o=new URLSearchParams(a.bbsparqlendpoint),l=o.get("repo"),s=null!==(e=o.get("repo2"))&&void 0!==e?e:"",c=o.get("psw"),u=o.get("login"),d=null!=c&&null!=u,p=Object(_helpers_url__WEBPACK_IMPORTED_MODULE_32__.a)(a.repoURL,l),b=Object(_helpers_url__WEBPACK_IMPORTED_MODULE_32__.a)(a.localRepoURL,l),_=Object(_helpers_url__WEBPACK_IMPORTED_MODULE_32__.c)("sparql",l,p,b),h=Object(_helpers_url__WEBPACK_IMPORTED_MODULE_32__.c)("login",l,p,b),m=Object(_helpers_url__WEBPACK_IMPORTED_MODULE_32__.c)("isloggedin",l,p,b),f=this.constructRepoLoginPath(a.bbsparqlendpoint,_);return{projectPath:r,viewerPath:i,repo:l,repo2:s,isAutoLogin:d,psw:c,login:u,autoLoginUrl:h,sparqlUrl:_,isLoggedInUrl:m,repoURL:p,localRepoURL:b,repoLoginUrl:f,goToLoginPage:function(){return t.props.history.replace(f,t.props.location.pathname)}}}},{key:"shouldConnectToWistorBackend",value:function(e){var t,a,n;return!((null===(t=e.localRepoURL)||void 0===t?void 0:t.includes(":7200"))&&"localhost:3000"===window.location.host)&&(!e.deleted&&(!window.location.search.includes("debug=skiplogin")&&Boolean(null===(a=e.bbsparqlendpoint)||void 0===a||null===(n=a.includes)||void 0===n?void 0:n.call(a,"repo="))))}},{key:"loadNewViewerConfig",value:function(e){this.setState({viewer:Object(_helpers_layout__WEBPACK_IMPORTED_MODULE_27__.b)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},_defaultConfig_json__WEBPACK_IMPORTED_MODULE_22__),{},{path:e,new:!0})),loading:!1})}},{key:"componentDidUpdate",value:function(e,t){var a,n=null===this||void 0===this||null===(a=this.state)||void 0===a?void 0:a.viewer;if(null!=n){if(n!==t.viewer&&this.props.dispatch({type:"SET_VIEWER_CONFIG",data:n}),this.state.viewer.update60Enabled)if(this.props.update60Running);else{if(this.update60)return;this.update60=!0;var r=this;setTimeout((function(){r.changingProps()}),500)}else this.state.update60Running&&(console.log("disabling update 60"),this.props.dispatch({type:"PUBLISH",data:{update60Running:!1}}));null!=this.state.viewer.id||this.save({showNotification:!1})}}},{key:"loadViewerIntoState",value:function(e){var t=this;if(null==this.loadViewerIntoStateOnlyOnce)return this.loadViewerIntoStateOnlyOnce=!0,new Promise((function(a,n){try{t.setState({viewer:Object(_helpers_layout__WEBPACK_IMPORTED_MODULE_27__.b)(e),loading:!1,popupInfoVisible:e.popupInfoAtStart},a),t.props.dispatch({type:_redux_project__WEBPACK_IMPORTED_MODULE_31__.b,data:e.layoutName}),t.registerAppCss(e.css);var r=Object(_ViewerContextUtils__WEBPACK_IMPORTED_MODULE_33__.a)(e);for(var i in r)t.publish(i,r[i])}catch(o){n(o)}}))}},{key:"updateViewer",value:function(){var e=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().mark((function e(t){var a=this;return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){a.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},a.state.viewer),t)},(function(){return e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uuidv4",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},{key:"changingProps",value:function(){this.state.update60Running||this.props.update60Running||(this.props.dispatch({type:"PUBLISH",data:{update60:"start",update60Running:!0}}),this.changingProps60(!0))}},{key:"changingProps60",value:function(e){if(e||this.state.viewer.update60Enabled){var t=this;if(t.loop60)return;t.loop60=!0,setTimeout((function(){console.log("changing update60 value ");var e=t.uuidv4();t.props.dispatch({type:"PUBLISH",data:{update60:e}}),t.loop60=!1,t.changingProps60(!1)}),6e4)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.keepAlive("destroy"),Viewer._instance=null}},{key:"registerAppCss",value:function(e){if(!e)return this.props.dispatch({type:"SET_APP_CSS"});try{var t=JSON.parse(e);this.props.dispatch({type:"SET_APP_CSS",data:t})}catch(a){console.error(a)}}},{key:"render",value:function(){var e,t,a,n,r,i,o,l=this;if(null==this)return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_21__.a,{});if(null==this.state)return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_21__.a,{});if(this.state.loading)return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_21__.a,{});var s=this.props.loginState,c=this.state.viewer;if(!c||c.deleted)return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("p",{children:"This viewer does not exist or has been deleted. Please contact an admin if this is a problem."});var u=this;document.st=function(){c.notShowTop=!1,u.setState({notShowTop:!1})},document.preview=function(){getViewProps(this.props).mode="preview",u.setState({mode:"preview"})},document.edit=function(){getViewProps(this.props).mode="edit",u.setState({mode:"edit"})};var d=this.state.notification,p=getViewProps(this.props),b=p.mode,_=p.projectPath,h=p.viewerPath,m=c.notShowBottom;m=null==m||!m;var f=c.notShowTop;f=null==f||!f;var g=c.css;if(g)try{g=JSON.parse(g)}catch(O){g={}}else g={};var j=this.viewerParams(c).repo;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)("div",{className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.wrapper,style:g,children:[null===(e=c.triggers)||void 0===e?void 0:e.map((function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_SparqlTriggerExecutor__WEBPACK_IMPORTED_MODULE_36__.a,{signalIsFetching:function(t){e.voteForUserActionsDisabledWhenLoading&&l.voteToDisableUserActions(e.label,t)},templateId:e.label,endpoint:Object(_helpers_url__WEBPACK_IMPORTED_MODULE_32__.c)("sparql",j,c.repoURL,c.localRepoURL),sparqlTemplate:e.sparqlQuery,pubVars:l.props.pubsub,publish:l.publish,dispatch:l.props.dispatch},e.label)})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)("div",{className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.mainContainer,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(react_helmet__WEBPACK_IMPORTED_MODULE_23__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("title",{children:c.title}),c.project&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("link",{rel:"icon",type:"image/png",href:"".concat(window.CONNECTED_APPS_STATIC?".":"","/favicon-").concat(c.project.path,".png"),sizes:"16x16"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Notification__WEBPACK_IMPORTED_MODULE_19__.a,{messageType:d.type,text:d.text}),!f&&s.isLoggedIn&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.Fragment,{children:"app-variables"===new URLSearchParams(window.location.search).get("hover")&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_AppVariables__WEBPACK_IMPORTED_MODULE_34__.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[!window.CONNECTED_APPS_STATIC&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_ConfigurationTopBar__WEBPACK_IMPORTED_MODULE_16__.a,{loginState:s,openAppSettings:function(){l.setState({dialogVisible:!0})},mode:b,projectPath:_,viewerPath:h,repoURL:c.repoURL,saveTriggers:this.saveTriggers,triggers:null!==(t=c.triggers)&&void 0!==t?t:[]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)("div",{style:{position:"relative",flexGrow:1,overflow:"auto",display:"flex",flexDirection:"column"},children:[f&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(react__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Header__WEBPACK_IMPORTED_MODULE_17__.a,{title:c.title,subtitle:c.subtitle,repoURL:c.repoURL,localRepoURL:c.localRepoURL,bbsparqlendpoint:c.bbsparqlendpoint,pageWidth:c.pageWidth,parseUrlProperties:c.parseUrlProperties,logoutbutton:c.logoutbutton,noLoginButton:!0,logoURL:c.logoURL,onInfoClick:c.infoMessage?function(){return l.setState({popupInfoVisible:!0})}:null})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("div",{className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.main,style:{maxWidth:c.pageWidth},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("div",{className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.areaContainer,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Area__WEBPACK_IMPORTED_MODULE_20__.a,{reauth:this.reauth.bind(this,c),config:c.mainArea,onChange:this.onChange,mode:b,repoName:j,repoURL:c.repoURL,localRepoURL:c.localRepoURL,parseUrlProperties:c.parseUrlProperties,sparqlErrorMessage:c.sparqlErrorMessage,parameterValues:c.parameterValues,save:this.save})})}),(null===(a=this.state.viewer.layout)||void 0===a?void 0:a.showFooter)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_Footer__WEBPACK_IMPORTED_MODULE_18__.a,{onClick:"edit"===b?this.onHeaderClick:null,config:c.footer})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_24__.a,{style:{zIndex:1337},maxWidth:"xl",open:Boolean(this.state.popupInfoVisible&&c.infoMessage),onClose:function(){return l.setState({popupInfoVisible:!1})},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("div",{className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.infoDialogueContainer,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_AutoHyperlink__WEBPACK_IMPORTED_MODULE_30__.a,{text:c.infoMessage})})}),this.state.dialogVisible&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_Dialog__WEBPACK_IMPORTED_MODULE_14__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Layout"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_25__.a,{className:"dark-form-control form-control white-font-override",onChange:function(e){return l.selectLayout(e.target.value)},value:this.state.viewer.layoutName||"",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{value:_helpers_layout__WEBPACK_IMPORTED_MODULE_27__.a.CUSTOM,children:"Custom"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{value:_helpers_layout__WEBPACK_IMPORTED_MODULE_27__.a.ORIGINAL,children:"Original"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Title"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.title||"",type:"text",onChange:function(e){return l.updateViewer({title:e.target.value})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Subtitle"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.subtitle||"",type:"text",onChange:function(e){return l.updateViewer({subtitle:e.target.value})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Info message"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.infoMessage||"",type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{infoMessage:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:null!==(n=c.popupInfoAtStart)&&void 0!==n&&n,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{popupInfoAtStart:e.target.checked})})}}),"show popup info at start"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"pre app javascript"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.prejs||"",type:"javascript",onChange:function(e){l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{prejs:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"bb repo and app parameters"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.bbsparqlendpoint||"",type:"text",onChange:function(e){l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{bbsparqlendpoint:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Sparql endpoint"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.repoURL||"",type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{repoURL:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"local sparql endpoint (http://localhost:7200/repositories/test)"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.localRepoURL,type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{localRepoURL:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"sparql endpoint error message"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.sparqlErrorMessage||"",type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{sparqlErrorMessage:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Logo URL"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.logoURL||"",type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{logoURL:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{style:{display:"flex",gap:"1rem"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)("div",{style:{flexGrow:1},children:["Global CSS in JSON formaat, bijvoorbeeld: ",'{"fontFamily": "Exo"}']}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FontList__WEBPACK_IMPORTED_MODULE_35__.b,{})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.css||"",type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{css:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Pagina breedte"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{className:"dark-form-control",value:c.pageWidth||"",type:"text",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{pageWidth:e.target.value})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"default parameter values "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_JsonEditor__WEBPACK_IMPORTED_MODULE_37__.b,{value:c.parameterValues||"",onValueChange:function(e){l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{parameterValues:e})})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:c.update60Enabled,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{update60Enabled:e.target.checked})})}}),"enable update60 parameter refresh at 60s interval"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:c.parseUrlProperties,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{parseUrlProperties:e.target.checked})})}}),"parse url parameters as property values"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:c.notShowTop,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{notShowTop:e.target.checked})})}})," ","do not show top"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:c.logoutbutton,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{logoutbutton:e.target.checked})})}}),"show logout button in the header"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:c.notShowBottom,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{notShowBottom:e.target.checked})})}}),"do not show bottom"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:"Config in JSON formaat"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_JsonEditor__WEBPACK_IMPORTED_MODULE_37__.a,{exportFileName:"".concat(null===(r=this.state.viewer)||void 0===r||null===(i=r.project)||void 0===i?void 0:i.path,"-").concat(null===(o=this.state.viewer)||void 0===o?void 0:o.path,"-config.").concat(Object(date_fns__WEBPACK_IMPORTED_MODULE_38__.a)(new Date,"yyyy-MM-dd.HHmm"),".json"),value:c,onValueChange:function(e){null!=e&&l.setState((function(t){return{viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},e),{},{id:t.viewer.id,user:t.viewer.user,path:t.viewer.path,project:t.viewer.project,createdAt:t.viewer.createdAt})}}))}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(_FormGroup__WEBPACK_IMPORTED_MODULE_13__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.d,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.c,{checked:c.public,className:_Viewer_module_css__WEBPACK_IMPORTED_MODULE_11___default.a.settingsCheckbox,type:"checkbox",onChange:function(e){return l.setState({viewer:Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.a)({},c),{},{public:e.target.checked})})}}),"publiek"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)("div",{style:{textAlign:"center"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{color:"primary",style:{minWidth:"120px",marginTop:"12px"},onClick:this.onDialogOkClick,children:"OK"})})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_41__.jsx)(react_toastify__WEBPACK_IMPORTED_MODULE_28__.a,{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}],[{key:"getInstance",value:function(){return Viewer._instance}}]),Viewer}(react__WEBPACK_IMPORTED_MODULE_9__.Component);function getViewProps(e){return window.CONNECTED_APPS_STATIC?{mode:"preview",projectPath:window.PROJECT,viewerPath:window.VIEWER}:{mode:e.match.params.mode,projectPath:e.match.params.projectPath,viewerPath:e.match.params.viewerPath}}Viewer._instance=null;var mapStateToProps=function(e){return{project:e.project,loginState:e.login,pubsub:e.pubsub}};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_10__.b)(mapStateToProps)(Viewer)},314:function(e,t,a){e.exports={main:"TableCells_main__1LDXq",list:"TableCells_list__Baqjh",firstItemBold:"TableCells_firstItemBold__8TtNe",link:"TableCells_link__3I5-i"}},315:function(e,t,a){e.exports={main:"Yasgui_main__2QBJb",buttonContainer:"Yasgui_buttonContainer__3Nrd0",tableContainer:"Yasgui_tableContainer__36LQd"}},316:function(e,t,a){e.exports={fullscreen:"BBHTML_fullscreen__1xDzG",fullwindow:"BBHTML_fullwindow__3laee"}},317:function(e,t,a){e.exports={main:"SequencePaths_main__3J324",pathSegment:"SequencePaths_pathSegment__pWb5f",refresh:"SequencePaths_refresh__2DLmt",threeColorTemplate:"SequencePaths_threeColorTemplate__3vOol",label:"SequencePaths_label__Z4T5_"}},339:function(e,t,a){e.exports={buttonsContainer:"Button_buttonsContainer__1LJk_",button:"Button_button__d0b-b"}},344:function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return j}));var n=a(2),r=a(14),i=a(0),o=a(92),l=a(71),s=a(28),c=a(1),u=["className"],d=["className","children"],p=["className"],b=["className"],_=o.f,h=o.h,m=o.e,f=o.a,g=i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,u);return Object(c.jsx)(o.d,Object(n.a)({ref:t,className:Object(s.a)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},i))}));g.displayName=o.d.displayName;var j=i.forwardRef((function(e,t){var a=e.className,i=e.children,u=Object(r.a)(e,d);return Object(c.jsxs)(m,{children:[Object(c.jsx)(g,{}),Object(c.jsxs)(o.b,Object(n.a)(Object(n.a)({ref:t,className:Object(s.a)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},u),{},{children:[i,Object(c.jsxs)(o.a,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[Object(c.jsx)(l.Cross2Icon,{className:"h-4 w-4"}),Object(c.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})}));j.displayName=o.b.displayName;i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,p);return Object(c.jsx)(o.g,Object(n.a)({ref:t,className:Object(s.a)("text-lg font-semibold leading-none tracking-tight",a)},i))})).displayName=o.g.displayName,i.forwardRef((function(e,t){var a=e.className,i=Object(r.a)(e,b);return Object(c.jsx)(o.c,Object(n.a)({ref:t,className:Object(s.a)("text-sm text-muted-foreground",a)},i))})).displayName=o.c.displayName},347:function(e,t,a){e.exports={main:"Notifications_main__19VRm",box:"Notifications_box__1mf7Y"}},348:function(e,t,a){e.exports={wrapper:"WidgetWrapper_wrapper__2_llH",clickable:"WidgetWrapper_clickable__2Ptdx"}},35:function(e,t,a){"use strict";var n=a(4),r=a(5),i=a(29),o=a(11),l=a(12),s=a(0),c=a(32),u=a.n(c),d=a(47),p=(a(702),a(345),a(25)),b=a(157),_=(a(70),a(241)),h=a(97),m=a(59),f=a(479),g=a.n(f),j=a(194),O=a.n(j),v=a(303),y=a(195),x=a(1),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).iframeRef=Object(s.createRef)(),e.state={imgViz:!1,selectedUri:null,reloadID:1},e.noEvents=!1,e.usesParameters=!0,e.getAbsoluteRepoUrl=m.b,e.parseTextForVariables=d.c,e.command=h.a,e.commandInstance=new h.a(Object(i.a)(e)),e.publishUtils=p.a,e.onClick=function(t,a){var n,r=Object(i.a)(e);if(null==a&&(a=t),null!=t&&"http://www.bbsgroep.nl/application/v2/hasTextOutput"===t)return r.noEvents=!0,null!=(n=r.props.publishTextVariable)&&r.props.publish(n,a),void(r.noEvents=!1);if(null!=t&&"http://www.bbsgroep.nl/application/v2/hasVar1Output"===t)return r.noEvents=!0,null!=(n=r.props.publishVariable1)&&a!==t&&r.props.publish(n,a),void(r.noEvents=!1);if(r.noEvents=!0,null!=(n=r.props.publishVariable)){r.props.publish(n,a);try{b.a.runAfterSelection(r)}catch(o){console.log(o)}p.a.resetParameter(r)}r.noEvents=!1},e.publish=function(t,a){var n=e.props[t];n&&e.props.publish(n,a)},e.publishList=function(t,a,n){var r=e.props[t];if(r){var i=e.props[a],o=p.a.getListAsSingleValue(i,n);e.props.publish(r,o)}},e.updateMe=e.updateMe2,e}return Object(r.a)(a,[{key:"showToast",value:function(e,t){null==t&&(t="info"),Object(y.b)(e,{type:t})}},{key:"uploadSuccessfulAfter",value:function(){p.a.setTimeStampParameter(this,!0)}},{key:"executeSparql",value:function(e,t,a){var n=Object(d.c)(e,this.props);null==this.query&&(this.query=Object(_.a)(this.props)),this.query(n,(function(e){null!=t&&t.call(this,e)}),(function(e){null!=a&&a.call(this,e),console.log(e)}))}},{key:"getUrl",value:function(){return""}},{key:"componentDidMount",value:function(){if(this.mounted=!0,u.a.findDOMNode(this).parentNode.setAttribute("style","position:relative;"),null!=this.iface){try{null!=this.iface.afterIntegration&&this.iface.afterIntegration(this.props)}catch(e){console.log(e)}this.updateMe(null)}}},{key:"getObjectDiff",value:function(e,t){return Object.keys(e).reduce((function(a,n){if(t.hasOwnProperty(n)){if(O.a.isEqual(e[n],t[n])){var r=a.indexOf(n);a.splice(r,1)}}else a.push(n);return a}),Object.keys(t))}},{key:"shouldComponentUpdate",value:function(e,t){if(!this.mounted)return!1;if(null==this.iface)return!1;if(this.noEvents)return!1;var a=O.a.cloneDeep(e.pubsub),n=O.a.cloneDeep(this.props.pubsub);return delete n.update60,delete n.update60Timestamp,delete n.update60Running,delete n.update60RunningTimestamp,delete a.update60,delete a.update60Timestamp,delete a.update60Running,delete a.update60RunningTimestamp,0!=g()(this,e,t)||!O.a.isEqual(a,n)}},{key:"componentDidUpdate",value:function(e,t){this.updateMe(this.props,this.state),this.iface.onComponentDidUpdate&&this.iface.onComponentDidUpdate(e,t)}},{key:"registerMe",value:function(){var e=this;if(Object(v.a)(e.iframeRef.current.contentWindow),e.iface.me=e,e.iface.setLoading=function(t){e.props.setLoading(t)},e.iface.setMessage=function(t){if(null!=t){try{e.props.sendNotification(t)}catch(a){}console.log("Toaster msg:",t)}},null==e.iface.widget&&(e.iface.widget={sendEvent:function(t,a){null!=e.props.publishVariable&&(e.onClick(a),e.setState({selectedUri:a}))},publish:this.publish,publishList:this.publishList,test:function(){console.log("test")},reExecuteSparql:function(){try{e.reExecuteSparql()}catch(t){console.log(t)}}}),this.mounted){try{null!=e.iface.afterIntegration&&e.iface.afterIntegration()}catch(t){console.log(t)}this.updateMe(this.props)}}},{key:"updateMe2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,a=e.data;try{if(null==t.props.data&&null==a&&null!=t.firstData22){var n=t.props.query;t.props.basequery&&(n=t.props.basequery),null!=e.executedSparql&&(n=e.executedSparql);var r=null;null!=n&&(r=Object(d.c)(n,e)),t.iface.setBeginSparqlResults(t.firstData22,n,null,null,r),delete t.firstData22}else if(null!=e.data){if(t.latestData22!=e.data){var i=e.query;null!=e.executedSparql&&(i=e.executedSparql);var o=null;null!=i&&(o=Object(d.c)(i,e)),t.iface.setBeginSparqlResults(e.data,i,null,null,o),t.latestData22=e.data}}else if(null!=t.props.data){if(t.latestData22!=t.props.data){var l=t.props.query;null!=e.executedSparql&&(l=e.executedSparql);var s=null;null!=l&&(s=Object(d.c)(l,e)),t.iface.setBeginSparqlResults(t.props.data,l,null,null,s),t.latestData22=t.props.data}}else null!=t.props.basequery&&null==(t=this).onlyOnce&&(t.onlyOnce="done",t.props.basequery.length>10&&window.top.query(t.props.basequery,(function(e){t.firstData22=e,t.updateMe(null)})))}catch(c){console.log(c)}try{this.iface.setPubSub(e.pubsub)}catch(c){}e=={}&&(e=this.props),this.setSelection(e)}},{key:"setSelection",value:function(e){try{var t=e.subscribeVariable;if(null!=t&&null!=e.pubsub){var a=e.pubsub[t];null!=a&&null!=this.state&&this.state.selection!==a&&null!=this.iface&&(this.iface.selectUri(a),this.state.selection=a)}}catch(n){console.log("error met selection ",n)}}},{key:"reload",value:function(){this.once=null,this.iface=null,this.onlyOnce=null,window.top.Singleton.getInstance().iframes[this.htmlid]=null,this.htmlid=null,this.setState({reloadID:Date.now()})}},{key:"getParameters",value:function(){if(!this.usesParameters)return"?usepar=false";var e="?y=y"+Date.now();this.props.title&&(e+="&title="+this.props.title);this.props.createRoot&&(e+="&createRoot="+this.props.createRoot);this.props.icon&&(e+="&icon="+this.props.icon);this.props.expandLevel&&(e+="&expandLevel="+this.props.expandLevel);this.props.direction&&(e+="&direction="+this.props.direction),e="";var t="?";for(var a in this.props)if("loading"!==a&&"save"!==a&&"query"!==a&&"definition"!==a&&"children"!==a&&"pubsub"!==a&&"basequery"!==a&&"repoURL"!==a&&"localRepoURL"!==a&&"sparqlErrorMessage"!==a&&"titleMenubar"!==a&&"widget"!==a&&"panelstyle"!==a&&"panelstyle2"!==a&&"extendquery"!==a&&"jsAfterSelection"!==a&&"parameterValues"!==a&&"data"!==a&&"withinSelectedTab"!==a&&"selectguidquery"!==a&&"replaceHeaderJSON"!==a&&"voteForUserActionsDisabledWhenLoading"!=a&&"syncWithUserActionsDisabled"!=a&&"childParameterText"!=a&&"message"!=a&&"userActionsDisabled"!=a&&"layoutName"!=a&&"infoMenubar"!=a&&"panelstyleExtra"!=a){var n=this.props[a];if(null!=n){if("function"===typeof n)continue;if(Array.isArray(n))continue;try{n.toString().includes("||")&&(n=n.toString().replaceAll("||","@@"))}catch(r){}try{n=n.toString().replaceAll("{{","!@!@")}catch(r){}try{n=n.toString().replaceAll("}}","@!@!")}catch(r){}e+=t+a+"="+n,t="&"}}return e}},{key:"render",value:function(){null==this.once&&(this.renderOnce(),this.once="done");var e="100%";try{null!=this.props.height&&(e=this.props.height)}catch(r){}var t="reload="+this.state.reloadID,a="";this.props.className&&(a=this.props.className);var n=this.getParameters();return t=""===n?"?"+t:"&"+t,Object(x.jsx)("iframe",{id:this.htmlid,ref:this.iframeRef,loading222:"lazy",className:a,width:"100%",height:e,frameBorder:"0",scrolling:this.scrolling,src:"."+this.getUrl()+n+t})}},{key:"renderOnce",value:function(){var e=this;this.getUrl();try{this.props.data&&0!==this.props.data.results.bindings.length||this.props.renderEmpty&&(this.firstData22=Object(d.b)(this.props.query))}catch(t){}null==this.htmlid&&(a.htmln++,this.htmlid="iframe"+a.htmln),null==window.top.Singleton.getInstance().iframes&&(window.top.Singleton.getInstance().iframes={}),window.top.Singleton.getInstance().iframes[this.htmlid]=function(t){e.iface=t,e.registerMe()}}}]),a}(s.Component);w.htmln=0,w.scrolling="no",t.a=w},351:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(2),i=a(17),o=a(4),l=a(5),s=a(29),c=a(11),u=a(12),d=a(0),p=a.n(d),b=a(79),_=a.n(b),h=a(47),m=a(25),f=a(55),g=(a(97),a(171)),j=a(725),O=a(257),v=a(1);var y=Object(v.jsx)(f.a,{icon:"check",color:"green"}),x=Object(v.jsx)(f.a,{icon:"times",color:"red"}),w=Object(v.jsx)(f.a,{className:_.a.deleteIcon+" "+_.a.link,icon:"times",color:"grey"}),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).deleteClick=function(){var t=Object(i.a)(Object(n.a)().mark((function t(a){var i,o;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(i=e.props.deletebuttonrule)){t.next=4;break}return window.alert("This function is not available, as no rule has been configured for the delete button"),t.abrupt("return");case 4:if(window.confirm("Are you sure you want to delete this?")){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,e.props.setLoading(!0),t.next=10,Object(O.a)(i,JSON.stringify(Object(r.a)(Object(r.a)({},a),null!==(o=e.props.deletebuttonruleParams)&&void 0!==o?o:{})));case 10:m.a.setTimeStampParameter(Object(s.a)(e),!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),window.alert("An error occurred during deletion"),console.error(t.t0);case 17:return t.prev=17,e.props.setLoading(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[6,13,17,20]])})));return function(e){return t.apply(this,arguments)}}(),e.onClick=function(){var t=Object(i.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=a){t.next=2;break}return t.abrupt("return");case 2:if(!(a.length<2)){t.next=4;break}return t.abrupt("return");case 4:if(null==a||"http://www.example.org/5c3c96ea1d83d8396b87bc0b"!=a){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,m.a.resetParameter(Object(s.a)(e));case 8:e.props.publish(e.props.publishVariable,a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openLink=function(e){null!=e&&(e.length<2||window.open(e,"_blank"))},e}return Object(l.a)(a,[{key:"getHeader",value:function(e){try{var t=JSON.parse(this.props.replaceHeaderJSON)[e];if(null!=t)return t}catch(n){}return(a=(a=(a=e).replace(/([a-zA-Z])(?=[A-Z])/g,"$1 ").toLowerCase()).replace("_"," ")).charAt(0).toUpperCase()+a.slice(1);var a}},{key:"shouldComponentUpdate",value:function(e,t,a){if(e.data==this.props.data){if(null==this.props.highlightVariable)return!1;var n=this.props.highlightVariable;if(this.props.pubsub[n]==e.pubsub[n])return!1}if(this.props.resetSelectedValueWhenNotAvailable&&null!=this.props.publishVariable){var r=this.props.publishVariable,i=this.props.pubsub[r];if(null!=i&&i!=m.a.resetUri)return this.props.publish(r,m.a.resetUri),!1}return!0}},{key:"render",value:function(){var e=this,t=this.props.data;if(null==this.props.data||null==this.props.data.results||null==this.props.data.results.bindings||0==this.props.data.results.bindings.length){if(!this.props.renderEmpty){try{if(null!=this.props.zeroResult&&null!=this.props.zeroResult&&this.props.data.results&&0===this.props.data.results.bindings.length){var a=this.props.zeroResult;return Object(v.jsx)("div",{className:_.a.main,children:Object(v.jsx)("p",{children:a})})}}catch(u){}return null}t=Object(h.b)(this.props.query)}var n=null;if(null!=this.props.highlightVariable){var r=this.props.highlightVariable;n=this.props.pubsub[r]}var i=t.head.vars,o=Object(h.d)(t);this.props.aggregateResultsByID&&(o=Object(h.a)(o,i[0]));var l=i.filter((function(e){return!e.endsWith("URI")&&(!e.endsWith("URL")&&(!e.endsWith("Icon")&&(!e.endsWith("IconSize")&&(!e.endsWith("IconColor")&&!e.endsWith("HIDDEN")))))})),s=this.props.centerContent?_.a.centertext:"",c=Boolean(this.props.deletebuttonrule);return Object(v.jsxs)("div",{className:_.a.main,children:[this.props.title&&Object(v.jsx)("div",{className:_.a.title,children:this.props.title}),Object(v.jsxs)("table",{children:[!this.props.hideHeader&&Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[this.props.hasNumberedRows&&Object(v.jsx)("th",{className:_.a.rowNumberHeader+"  "+s},-1),l.map((function(t,a){return Object(v.jsx)("th",{className:s,children:e.getHeader(t)},a)})),c&&Object(v.jsx)("th",{className:_.a.rowNumberHeader+"  "+s,children:"delete"},-2)]})}),Object(v.jsx)("tbody",{children:o.map((function(t,a){return Object(v.jsxs)("tr",{children:[e.props.hasNumberedRows&&Object(v.jsx)("td",{className:_.a.rowNumber+" "+s,children:a+1}),l.map((function(a,r){var i=t[a]||"",o=t[a+"URI"],l=t[a+"URL"],c=t[a+"Icon"],u=t[a+"IconSize"],d=t[a+"IconColor"],p=c?Object(v.jsx)(g.a,{title:i,children:Object(v.jsx)(f.a,{icon:c,style:{height:u,color:d},alt:i})}):"true"===i?y:"false"===i?x:i;return Object(v.jsx)("td",{className:s,children:o||l?Object(v.jsx)(j.a,{component:"button",className:function(){if(o)return"".concat(_.a.link," ").concat(_.a.inlineblock," ").concat(o===n?_.a.highlight:"");if(l)return"".concat(_.a.link," ").concat(_.a.inlineblock);throw new Error("this should be unreachable")}(),onClick:function(){if(o)return e.onClick(o);if(l)return e.openLink(l);throw new Error("this should be unreachable")},dangerouslySetInnerHTML:e.props.ashtml?{__html:p}:void 0,children:e.props.ashtml?void 0:p}):e.props.ashtml?Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:p}}):p},r)})),c&&Object(v.jsx)("td",{onClick:function(){return e.deleteClick(t)},className:_.a.iconcenter+" "+s,children:w},a)]},a)}))})]})]})}}]),a}(p.a.Component);t.default=E},352:function(e,t,a){e.exports={"toggle-switch":"ToggleSwitch_toggle-switch__3mZfo",switch:"ToggleSwitch_switch__19J5H"}},362:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(2),r=a(14),i=a(0),o=a(28),l=a(1),s=["className","type"],c=i.forwardRef((function(e,t){var a=e.className,i=e.type,c=Object(r.a)(e,s);return Object(l.jsx)("input",Object(n.a)({type:i,className:Object(o.a)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t},c))}));c.displayName="Input"},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(2),r=a(20),i=a(1);function o(e){return Object(i.jsx)(r.b,Object(n.a)({"data-form-field":!0},e))}},375:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var n=a(10),r=a(2),i=a(58);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUBLISH":var a=Date.now(),n=t.data;for(var i in t.data)n[i+"Timestamp"]=String(a);return null!=window.top&&(window.top.changes=n),t.data=n,Object(r.a)(Object(r.a)({},e),t.data);case"PUBLISH2":return console.log("publish 2",e,t.data),e;default:return e}}function l(){return[Object(i.b)((function(e){var t;return null!==(t=e.pubsub)&&void 0!==t?t:{}})),c]}function s(){var e,t;return null!==(e=null===(t=i.a.getState())||void 0===t?void 0:t.pubsub)&&void 0!==e?e:{}}function c(e,t){i.a.dispatch({type:"PUBLISH",data:Object(n.a)({},e,t)})}},383:function(e,t,a){"use strict";function n(e){try{return new URL(e),!0}catch(t){return!1}}a.d(t,"a",(function(){return n}))},409:function(e,t,a){"use strict";t.a=a.p+"static/media/gear-white.9f887544.svg"},410:function(e,t,a){"use strict";t.a=a.p+"static/media/gear-blue.dbaac633.svg"},436:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),r=a(234),i=a(21),o=a(1);function l(e){var t=Object(r.c)({id:e.id}),a=t.attributes,l=t.listeners,s=t.setNodeRef,c=t.transform,u=t.transition;return Object(o.jsx)("div",Object(n.a)(Object(n.a)(Object(n.a)({ref:s},a),l),{},{className:e.className,style:{transform:i.a.Translate.toString(c),transition:u},children:e.children}))}},438:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),r=a(5),i=a(11),o=a(12),l=a(35),s=a(25),c=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/w2ui/visgraph.html")},e.scrolling="false",e.noEvents=!1,e.usesParameters=!1,e}return Object(r.a)(a,null,[{key:"getDescription",value:function(){return{name:"BBVis",component:a,label:"graph vis",variables:[{name:"query",type:"yasgui",defaultQuery:'PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\rPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct *\n\r\n\rwhere\n\r{\n\r  \n\r  bind ( <{{selection}}>  as ?node)\n\r    \n\r    optional {?node rdfs:label|skos:prefLabel ?nodeLabel2.}\n\r\n\r bind (STRBEFORE(STR(?node),"#") as ?btext)\n\r bind (IF(?btext="",REPLACE(STR(?node),\'([^/]+$)\',""),?btext) as ?nodeType)\n\r    bind (IF(BOUND(?nodeLabel2),?nodeLabel2, ?nodeType) as ?nodeLabel)\n\r\n\r\n\r    ?node ?edge ?object.\n\r\n\r  filter (!ISBLANK(?object))\n\r  filter(!ISLITERAL(?object))\n\r\n\r\n\rbind (STRBEFORE(STR(?object),"#") as ?botext)\n\r bind (IF(?botext="",REPLACE(STR(?object),\'([^/]+$)\',""),?botext) as ?objectType)\n\r\n\r   \n\r  bind (REPLACE(REPLACE(REPLACE(REPLACE(STR(?edge),"http://www.w3.org/2000/01/rdf-schema#","rdfs:"),"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdf:"),"http://www.w3.org/2004/02/skos/core#","skos:"),"http://www.rws.nl/abdl#","abdl:") as ?edgeLabel)\n\r    optional {?object rdfs:label|skos:prefLabel ?olabel. } \n\r    bind (if (BOUND(?olabel),?olabel, ?object) as ?objectLabel2)\n\r\n\r bind (REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?objectLabel2),"http://www.w3.org/2000/01/rdf-schema#","rdfs:"),"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdf:"),"http://www.w3.org/2004/02/skos/core#","skos:"),"http://www.rws.nl/abdl#","abdl:"),"https://bimloket.nl/data/kernmodel/thesaurus#","cbnl:") as ?objectLabel)\n\r\n\r\n\r\n\r}\n\r',label:"to fill the graph. Use node nodeLabel edge edgeLabel object objectLabel. optional hier (true false) for hierarchical rep. shape/shapeO (e.g circle) for node shape. objectType & nodeType voor kleur/groepering "},{name:"extendquery",type:"yasgui",label:"  {{uri}} and Use  edge edgeLabel object objectLabel",defaultQuery:'PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\n          PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n          \n          PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n          \n          \n          select distinct *\n          \n          \n          where\n          \n          {\n          \n            \n          \n            bind ( <{{uri}}>  as ?node)\n          \n              \n          \n              optional {?node rdfs:label|skos:prefLabel ?nodeLabel2.}\n          \n          \n           bind (STRBEFORE(STR(?node),"#") as ?btext)\n          \n           bind (IF(?btext="",REPLACE(STR(?node),\'([^/]+$)\',""),?btext) as ?nodeType)\n          \n              bind (IF(BOUND(?nodeLabel2),?nodeLabel2, ?nodeType) as ?nodeLabel)\n          \n          \n          \n              ?node ?edge ?object.\n          \n          \n            filter (!ISBLANK(?object))\n          \n            filter(!ISLITERAL(?object))\n          \n          \n          \n          bind (STRBEFORE(STR(?object),"#") as ?botext)\n          \n           bind (IF(?botext="",REPLACE(STR(?object),\'([^/]+$)\',""),?botext) as ?objectType)\n          \n          \n             \n          \n            bind (REPLACE(REPLACE(REPLACE(REPLACE(STR(?edge),"http://www.w3.org/2000/01/rdf-schema#","rdfs:"),"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdf:"),"http://www.w3.org/2004/02/skos/core#","skos:"),"http://www.rws.nl/abdl#","abdl:") as ?edgeLabel)\n          \n              optional {?object rdfs:label|skos:prefLabel ?olabel. } \n          \n              bind (if (BOUND(?olabel),?olabel, ?object) as ?objectLabel2)\n          \n          \n           bind (REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?objectLabel2),"http://www.w3.org/2000/01/rdf-schema#","rdfs:"),"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdf:"),"http://www.w3.org/2004/02/skos/core#","skos:"),"http://www.rws.nl/abdl#","abdl:"),"https://bimloket.nl/data/kernmodel/thesaurus#","cbnl:") as ?objectLabel)\n          \n          \n          \n          \n          }\n          \n          '},{name:"edgelabels",type:"boolean",label:"show edge labels using edgeLabel"},{name:"useLocalNames",type:"boolean",label:"use local names for labels"},{name:"legend",type:"boolean",label:"show legend based upon parameters objectType and nodeType"},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},{name:"direction",type:"select",label:"direction layout",options:[{label:"Vertical starting from top",value:"UD"},{label:"Vertical starting from bottom",value:"DU"},{label:"Horizontal starting from left",value:"LR"},{label:"Horizontal starting from right",value:"RL"}]},{name:"edgetype",type:"select",label:"edge type",options:[{label:"none",value:null},{label:"to",value:"to"},{label:"from",value:"from"},{label:"middel",value:"middle"},{label:"to and from",value:"to;from"}]},{name:"hierarchical",type:"boolean",label:"hierarchical"},{name:"dragNodes",type:"boolean",label:"drag nodes"},{name:"editable",type:"boolean",label:"editable"},s.a.getResetValueDef(),{name:"className",type:"text",label:"iframe classNames"}]}}}]),a}(l.a)},439:function(e,t,a){"use strict";var n=a(2),r=a(4),i=a(5),o=a(11),l=a(12),s=a(0),c=a(351),u=a(1),d=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).openLink=function(e){window.open(e,"_blank")},e}return Object(i.a)(a,[{key:"componentDidMount2",value:function(e,t){console.log(this.props,e,t)}},{key:"shouldComponentUpdate2",value:function(e){return console.log(e),!0}},{key:"analyseResults",value:function(e){var t={};if(null==e)return t;for(var a in e.bindings){var n=e.bindings[a];null!=n.page&&(t.page=n.page.value)}return t}},{key:"render",value:function(){if(!this.props.data||0===this.props.data.results.bindings.length)return null;var e=this.analyseResults(this.props.data.results);return null!=e.page?Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[Object(u.jsxs)("a",{target:"_blank",href:e.page,children:[" ","open wet in nieuwe tab"]}),Object(u.jsx)(c.default,Object(n.a)({},this.props))]})}):Object(u.jsx)(c.default,Object(n.a)({},this.props))}}],[{key:"getDescription",value:function(){return{name:"BBKVKFlexibleTextWidget",component:a,label:"BBKVKFlexibleTextWidget widget",variables:[{name:"query",type:"yasgui",label:'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix "URI", eg: ?object ?objectURI.'}]}}}]),a}(s.Component);t.a=d},461:function(e,t,a){e.exports={backButton:"BackButton_backButton__A_0bp"}},463:function(e,t,a){e.exports={deleteIcon:"DeleteAppConfigButton_deleteIcon__1t14v"}},468:function(e,t,a){e.exports={input:"Input_input__3jVtO"}},47:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var n=a(13),r=a(454),i=a(84);function o(e){var t=e&&e.results.bindings||[];return t=t.map((function(e){var t={};return Object.keys(e).forEach((function(a){t[a]=e[a].value})),t}))}function l(e,t){var a=e||[],n={};for(var r in a){var i=a[r],o=n[i[t]];if(null==o)o=i,n[i[t]]=o;else for(var l in i)o[l]=i[l]}return Object.values(n)}function s(e){var t=new r.Parser,a=null;try{null==e&&(e="select ?a ?aURI ?c where {?a ?aURI ?c}");var n=e.replace(new RegExp("<{{","g"),"<http://").replace(new RegExp("}}>","g"),".nl>");a=t.parse(n)}catch(d){n="select ?a ?aURI ?c where {?a ?aURI ?c}",a=t.parse(n)}var i=a.variables,o={head:{vars:[]},results:{bindings:[]}},l=o.results.bindings,s={};for(var c in l.push(s),i){if(Array.isArray(i[c]))var u=i[c].slice(1);else null==(u=i[c].variable)&&(u=i[c]),u=u.replace("?","");o.head.vars.push(u),u.endsWith("URI")?s[u]={type:"uri",value:"http://www.example.org/5c3c96ea1d83d8396b87bc0b"}:s[u]={type:"literal",value:""}}return o}function c(e,t){if(e){var a=e.match(i.b);if(!a)return e;a=a.map((function(e){return e.replace(/[{}]/g,"")})),a=Object(n.a)(new Set(a));for(var r=0;r<a.length;r++){var o=a[r],l=t.pubsub[o];if(null==l&&console.log("found empty property",o),o.includes("||")){var s=o.split("||")[0];if("http://www.buildingbits.nl/reset"===(l=t.pubsub[s])&&(l=null),null==l){var c=o.split("||")[1].split("||")[0].split("::")[0];"http://www.buildingbits.nl/reset"===(l=t.pubsub[c])&&(l=null)}}if(o.includes("::")&&null==l){var u=o.split("::")[0];"http://www.buildingbits.nl/reset"===(l=t.pubsub[u])&&(l=null),null==l&&(l=o.split("::")[1])}var d=o.match(/^!(.+)$/);if(d){var p=d[1],b=t.pubsub[p];l=!("true"===String(b).toLowerCase())}o=o.replaceAll("||","\\|\\|");var _=new RegExp("{{".concat(o,"}}"),"g");try{e=e.replace(_,l)}catch(h){console.log("ERROR ",e,l,a,this.props.pubsub[o])}}return e}}window.top.downloadObjectAsJson=function(e,t){var a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",t+".json"),document.body.appendChild(n),n.click(),n.remove()},window.top.downloadConfig=function(){window.top.downloadObjectAsJson(window.top.data,"config")},window.top.generateEmptyResponse=function(){s(null)}},470:function(e,t,a){"use strict";var n=a(4),r=a(5),i=a(11),o=a(12),l=a(0),s=a(347),c=a.n(s),u=a(1),d=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){if(!this.props.text)return null;var e="#007bff",t=this.props.type;return"success"===t&&(e="green"),"failure"===t&&(e="red"),Object(u.jsx)("div",{className:c.a.main,children:Object(u.jsx)("div",{className:c.a.box,style:{backgroundColor:e},children:this.props.text})})}}]),a}(l.Component);t.a=d},471:function(e,t,a){e.exports={overlay:"Loader_overlay__2dwX4"}},472:function(e,t,a){e.exports={fieldset:"WidgetConfiguration_fieldset__1ZVZa"}},477:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_Table2_module_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(144),_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_Table2_module_css__WEBPACK_IMPORTED_MODULE_6__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42),_helpers_sparql__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);function camelCaseToSpaces(e){return(e=e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1 ").toLowerCase()).charAt(0).toUpperCase()+e.slice(1)}var TableRow=function(_Component){Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__.a)(TableRow,_Component);var _super=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_4__.a)(TableRow);function TableRow(){var _this;Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.a)(this,TableRow);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_this.onClick=function(uri,url){var _this2=this;if(null==uri||"http://www.example.org/5c3c96ea1d83d8396b87bc0b"!=uri){try{if(null!=uri&&"function link()"==uri.toString().substring(0,15)&&null==url)return}catch(e){}if(null==url){try{eval(this.props.onClick)}catch(error){console.log(error)}setTimeout((function(){null!=uri&&(uri.length<2||_this2.props.publish(_this2.props.publishVariable,uri))}),0)}else this.openLink(url)}},_this.openLink=function(e){window.open(e,"_blank")},_this}return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.a)(TableRow,[{key:"getHeader",value:function(e){try{var t=JSON.parse(this.props.replaceHeaderJSON)[e];if(null!=t)return t}catch(a){}return camelCaseToSpaces(e)}},{key:"render",value:function(){var e=this,t=this.props.valueObject,a=null;try{null!=t&&null!=t.value&&t.value.includes("&&")&&(a=t.value.split("&&")[1],t.value=t.value.split("&&")[0])}catch(s){console.log(s)}var n=this.props.index,r=this.props.html,i=t.value,o=!1,l="hans was here";return null!=t.copyValue&&(o=!0,l=t.copyValue),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("tr",{className:void 0!==n?_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.list:"",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("td",{children:!n&&this.getHeader(this.props.headVar)}),t.link||t.link2?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("td",{className:_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.link,onClick:function(){return e.onClick(t.link,t.link2)},children:r=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})}):r?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("td",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{dangerouslySetInnerHTML:{__html:i}}),o&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__.a,{className:_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.copyicon,size:"sm",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_8__.g,onClick:function(){navigator.clipboard.writeText(l)}})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("td",{children:[" ",t.value,o&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__.a,{className:_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.copyicon,size:"sm",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_8__.g,onClick:function(){navigator.clipboard.writeText(l)}})]}),null!=a&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("td",{children:[" ",a," "]})]})})}}]),TableRow}(react__WEBPACK_IMPORTED_MODULE_5__.Component),Table2=function(e){Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__.a)(a,e);var t=Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_4__.a)(a);function a(){return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.a)(this,a),t.apply(this,arguments)}return Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.a)(a,[{key:"createStateValues",value:function(e){for(var t={},a=function(){var a=e[n];Object.keys(a).forEach((function(e){if(!e.endsWith("URI")&&!e.endsWith("URL")&&!e.endsWith("CopyValue")){var n={value:a[e]};a[e+"URI"]&&(n.link=a[e+"URI"]),a[e+"URL"]&&(n.link2=a[e+"URL"]),a[e+"CopyValue"]&&(n.copyValue=a[e+"CopyValue"]),t[e]?Array.isArray(t[e])?t[e].filter((function(e){return e.value===n.value})).length||t[e].push(n):t[e].value!==a[e]&&(t[e]=[t[e],n]):t[e]=n}}))},n=0;n<e.length;n++)a();return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&t[e].sort((function(e,t){return e.value.localeCompare(t.value)}))})),t}},{key:"shouldComponentUpdate22",value:function(e,t){var a=this.props.data;return a&&a.results&&0!==a.results.bindings.length||this.props.renderEmpty&&(a=Object(_helpers_sparql__WEBPACK_IMPORTED_MODULE_9__.b)(this.props.query),null!=this.state.loading&&1!=this.state.loading||this.setState({loading:!1})),!0}},{key:"render",value:function(){var e=this,t=this.props.data;if(!t||!t.results||0===t.results.bindings.length){if(!this.props.renderEmpty)return null;t=Object(_helpers_sparql__WEBPACK_IMPORTED_MODULE_9__.b)(this.props.query)}try{if(null!=this.props.zeroResult&&null!=this.props.zeroResult&&this.props.data.results&&0===this.props.data.results.bindings.length){var a=this.props.zeroResult;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.main,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{children:a})})}}catch(o){}var n=Object(_helpers_sparql__WEBPACK_IMPORTED_MODULE_9__.d)(t);if(!n.length)return null;var r=this.createStateValues(n),i=!1;return null!=this.state&&this.state.loading&&(i=!0),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{disabled:i,className:_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.main+(this.props.isFirstItemBold?" "+_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.firstItemBold:""),children:[this.props.title&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:_Table2_module_css__WEBPACK_IMPORTED_MODULE_6___default.a.headertxt,children:this.props.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("table",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("tbody",{children:t.head.vars.map((function(t){if(t.endsWith("URI"))return null;if(t.endsWith("URL"))return null;if(t.endsWith("CopyValue"))return null;var a=r[t];a||(a="");var n=!1;return t.endsWith("HTML")&&(t=t.substr(0,t.length-4),n=!0),Array.isArray(a)?a.map((function(a,r){return Object(react__WEBPACK_IMPORTED_MODULE_5__.createElement)(TableRow,Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},e.props),{},{key:r,index:r,valueObject:a,headVar:t,html:n}))})):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(TableRow,Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_bim_connected_configurator_linked_data_view_configurator_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},e.props),{},{index:0,valueObject:a,headVar:t}),t)}))})})]})}}],[{key:"getDescription",value:function(){return{name:"Table2",component:a,label:"Table2 widget",variables:[{name:"query",defaultQuery:"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\r\n\rselect distinct ?label ?subClassURI  ?subClass ?comment\n\rwhere\n\r{\n\r    graph ?g\n\r  {\n\r      <{{cls}}> rdfs:label ?label.\n\r      optional { <{{cls}}> rdfs:comment ?comment}\n\r      optional { <{{cls}}> rdfs:subClassOf ?subClassURI.?subClassURI rdfs:label ?subClass.}\n\r  }\n\r\n\r}",type:"yasgui",label:'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix "URI", eg: ?object ?objectURI. For HTML rendering add the suffix "HTML". use the parameter extension CopyValue to add a copy button'},{name:"publishVariable",type:"text",label:"Variabele in which tree item URI is published, when a link in the table  is clicked."},{name:"replaceHeaderJSON",type:"text",label:'Key value JSON that replaces parameter headers. {"label":"naam (volledig)"}'},{name:"renderEmpty",type:"boolean",label:"render an empty table"},{name:"zeroResult",type:"text",label:"text to display when sparql results is valid but has zero results"},{name:"isFirstItemBold",type:"boolean",label:"First item bold"},{name:"vertical",type:"text",label:"vertical presentation"},{name:"title",type:"text",label:"Titel boven de tabel"},{name:"onClick",type:"javascript",label:"Code that runs before link click event."}]}}}]),a}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=Table2},480:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(5),i=a(147),o=a(82),l=a(11),s=a(12),c=(a(70),a(35)),u=a(25),d=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).getUrl=function(){return"/".concat(window.bbFolderName,"/static/iframes/ifcviewer/indexFragments.html")},e.state={selectedUri:null},e.scrolling="no",e.noEvents=!1,e}return Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){var n=Object(i.a)(Object(o.a)(a.prototype),"shouldComponentUpdate",this).call(this,e,t);try{var r=e.resetparameter;if(null!=r)this.props.pubsub[r]!==e.pubsub[r]&&null!=this.iface.resetViewer&&this.iface.resetViewer()}catch(s){}try{var l=e.reloadparameter;if(null!=l)if(this.props.pubsub[l]!==e.pubsub[l])return console.log("reload BBIFCViewer"),this.reload(),!0}catch(s){}return n}}],[{key:"getDescription",value:function(){return{name:"BBIFCViewer",component:a,label:"BBIFCViewer",variables:[{name:"query",type:"yasgui",label:" Use ?uri ?expressID ?file. optionally ?highlight boolean . Optionally use ?color for automatic coloring."},{name:"publishVariable",type:"text",label:"Variabele in which an item URI is published, when a feature in the map is clicked."},{name:"subscribeVariable",type:"text",label:"Published uri variabele on which to listen to define selection."},u.a.getResetValueDef(),{name:"className",type:"text",label:"iframe classNames"},{name:"resetparameter",type:"text",label:"resets the viewer when this parameter changes (BETA)"},{name:"reloadparameter",type:"text",label:"reloads the IFCviewer when this parameter changes for more consistent viewer behaviour"},{name:"selectguidquery",type:"yasgui",label:" Use ?guid to highlight (make red) objects in the 3d viewer"}]}}}]),a}(c.a);t.default=d},482:function(e,t,a){e.exports={iconButton:"ToggleWidget_iconButton__3ySlG"}},483:function(e){e.exports=JSON.parse('{"title":"new application","subtitle":"version 0.1","mainArea":{"widget":"SplitLayout","areas":[],"areaSizes":["0","1"],"direction":"column"},"bbsparqlendpoint":"repo=Demo","repoURL":"/servlets/cgi/sparql/Demo","logoURL":"/logos/logo-wistor.png","sparqlErrorMessage":"\\"errors connecting to the server\\"","css":"{\\"height\\":\\"100%\\"}","pageWidth":"99%","parameterValues":"{\\"imgeo\\":\\"http://www.buildingbits.nl/coins2/draft/IMGEO.rdf\\",\\"cb23\\":\\"http://rotterdam.nl/data/CB23\\"}","public":true}')},484:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(19),r=a(59),i=function(e,t){var a={};try{var i=Object(r.b)(e.repoURL).split("sparql"),o=i[0],l="";i.length>1&&(l=i[1].substring(1)+"/",a.repo=l,window.repo=l),a.cgi=o,a.repoUrl=Object(r.b)(e.repoURL),a.now=Date.now(),window.cgi=o,window.repoURL=Object(r.b)(e.repoURL);var s={},c=e.parameterValues;if(null!=c)for(var u in c=JSON.parse(c))s[u]=c[u]}catch(O){}if(e.parseUrlProperties){try{var d,p=window.top.window.location.search,b=new URLSearchParams(p).entries(),_=Object(n.a)(b);try{for(_.s();!(d=_.n()).done;){var h=d.value,m=h[0],f=h[1];s[m]=f}}catch(v){_.e(v)}finally{_.f()}}catch(O){console.log(O)}}if(document.userParameters)try{for(var g in document.userParameters){var j=document.userParameters[g];s[g]=j}}catch(O){}for(var g in s)a[g]=s[g];return a}},485:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(50),r=a(85),i=a.n(r),o=a(1);var l=Object(n.b)((function(e){return{appVariables:e.pubsub}}))((function(e){return Object(o.jsx)("pre",{className:i.a.appVariables,children:JSON.stringify(e.appVariables,void 0,"\n\t").slice(1,-1)})}))},486:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(19),r=a(9),i=a(17),o=a(7),l=a(0),s=a(84),c=a(243);function u(e){var t=Object(l.useState)(),a=Object(o.a)(t,2),n=a[0],u=a[1],p=function(e,t){var a=Object(l.useState)(),n=Object(o.a)(a,2),r=n[0],i=n[1];return Object(l.useEffect)((function(){i(new c.b(t,e))}),[e,t]),r}(e.templateId,e.endpoint);return Object(l.useEffect)((function(){try{var t=Object(s.d)(e.sparqlTemplate,e.pubVars);u(t)}catch(a){console.error(a)}}),[e.endpoint,e.publish,e.pubVars,e.sparqlTemplate,e.templateId]),Object(l.useEffect)((function(){n&&p&&Object(i.a)(Object(r.a)().mark((function t(){var a,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,null===(a=e.signalIsFetching)||void 0===a||a.call(e,!0),t.next=4,p.fetch(n);case 4:if(o=t.sent,null===(i=e.signalIsFetching)||void 0===i||i.call(e,!1),o.isLatest()){t.next=8;break}return t.abrupt("return");case 8:d(o.result,e.publish),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}),[p,n]),Object(l.useEffect)((function(){return function(){var t;return null===(t=e.signalIsFetching)||void 0===t?void 0:t.call(e,!1)}}),[]),null}function d(e,t){var a=e.results.bindings;if(1!==a.length)throw new Error("got more than one result");var r,i=Object(n.a)(e.head.vars);try{for(i.s();!(r=i.n()).done;){var o=r.value;t(o,a[0][o].value)}}catch(l){i.e(l)}finally{i.f()}}},487:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var n=a(2),r=a(14),i=a(10),o=a(9),l=a(17),s=a(7),c=a(130),u=a(48),d=a(42),p=a(124),b=a.n(p),_=a(64),h=a(0),m=a.n(h),f=a(32),g=(a(406),a(97)),j=a(163),O=a(13),v=a(708),y=a(783),x=a(91),w=a.n(x),E=a(215),C=a.n(E),D=a(468),I=a.n(D),M=a(211),P=a(722),T=a(300),k=a(1),L=R();function S(e){var t=Object(h.useState)({triggers:e.triggers.length?e.triggers:[L],triggerIdx:0}),a=Object(s.a)(t,2),r=a[0],c=a[1],p=Object(h.useRef)(null),b=r.triggers[r.triggerIdx];if(!b)throw new Error("current trigger draft does not exist (index ".concat(r.triggerIdx,")"));var m=function(e){return c((function(t){return Object(n.a)(Object(n.a)({},t),{},{triggers:t.triggers.map((function(a,r){return r===t.triggerIdx?Object(n.a)(Object(n.a)({},a),e):a}))})}))};return Object(k.jsx)(v.a,{open:e.open,fullWidth:!0,maxWidth:"md",onClose:function(){},children:Object(k.jsx)(y.a,{style:{padding:"0"},children:Object(k.jsxs)("div",{className:w.a["popup-content"],children:[Object(k.jsxs)("nav",{className:w.a.sidebar,children:[Object(k.jsxs)("div",{className:w.a["section-header"],children:[Object(k.jsx)("span",{children:"Triggers"}),Object(k.jsx)("div",{className:w.a["tool-bar"],children:Object(k.jsxs)("button",{type:"button",onClick:function(){c((function(e){return{triggers:[].concat(Object(O.a)(e.triggers),[R()]),triggerIdx:r.triggers.length}})),requestAnimationFrame((function(){var e,t;null===(e=p.current)||void 0===e||e.focus(),null===(t=p.current)||void 0===t||t.select()}))},children:[Object(k.jsx)(u.a,{icon:d.a}),Object(k.jsx)("span",{children:"Add"})]})})]}),Object(k.jsx)("div",{className:w.a.items,children:r.triggers.map((function(e,t){return Object(k.jsxs)("button",{className:Object(_.b)(w.a.item,w.a["on-hover"],Object(i.a)({},w.a.active,t===r.triggerIdx)),onClick:function(){return e=t,c((function(t){return Object(n.a)(Object(n.a)({},t),{},{triggerIdx:e})}));var e},children:[t===r.triggerIdx&&Object(k.jsx)(u.a,{icon:d.k}),Object(k.jsx)("span",{children:e.label}),Object(k.jsx)("div",{className:Object(_.b)(w.a["tool-bar"]),children:Object(k.jsx)("button",{type:"button",title:"Remove",className:w.a.square,children:Object(k.jsx)(u.a,{icon:d.q,onClick:function(e){var a;e.stopPropagation(),a=t,c((function(e){return 1===e.triggers.length?{triggers:[L],triggerIdx:0}:{triggers:e.triggers.filter((function(e,t){return t!==a})),triggerIdx:0===a&&0===e.triggerIdx?0:a<=e.triggerIdx?e.triggerIdx-1:e.triggerIdx}}))}})})})]},e.id)}))})]}),Object(k.jsxs)("form",{className:Object(_.b)(w.a.content,C.a.form),onSubmit:function(e){e.preventDefault()},children:[Object(k.jsxs)("div",{className:w.a["form-content"],children:[Object(k.jsxs)("label",{className:C.a["form-field"],children:[Object(k.jsx)("span",{children:"Label"}),Object(k.jsx)("input",{type:"text",ref:p,required:!0,className:I.a.input,value:b.label,onChange:function(e){return m({label:e.target.value})}})]}),Object(k.jsxs)("label",{className:C.a["form-field"],children:[Object(k.jsx)("span",{children:"SPARQL query"}),Object(k.jsx)(T.a,{mode:"update-value",value:b.sparqlQuery,onBlur:function(e){return m({sparqlQuery:e})}})]}),Object(k.jsxs)("label",{className:Object(_.b)(C.a["form-field"],C.a.checkbox),children:[Object(k.jsx)("input",{type:"checkbox",checked:b.voteForUserActionsDisabledWhenLoading,onChange:function(){return m({voteForUserActionsDisabledWhenLoading:!b.voteForUserActionsDisabledWhenLoading})}}),Object(k.jsx)("span",{children:"Block User Interaction"})]})]}),Object(k.jsxs)("div",{className:w.a.footer,children:[Object(k.jsx)(M.a,{variant:"outline",onClick:e.onClose,children:"Cancel"}),Object(k.jsx)(M.a,{variant:"primary",type:"submit",onClick:Object(l.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveTriggers(r.triggers);case 2:e.onClose();case 3:case"end":return t.stop()}}),t)}))),children:"Save"})]})]})]})})})}function R(){return{id:Object(P.a)(),label:"Untitled trigger",sparqlQuery:"",voteForUserActionsDisabledWhenLoading:!1}}var A=a(58),N=a(291),U=a(171),B=["to","onClick","children","active","chevron"];function W(e){var t=Object(h.useState)(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(A.b)((function(e){return e.debugging.enabled})),c=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.c)();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e.loginState.isLoggedIn&&"viewer"!==e.loginState.user.role?Object(k.jsxs)(k.Fragment,{children:[n&&Object(f.createPortal)(Object(k.jsx)(S,{open:!0,onClose:function(){return r(!1)},triggers:e.triggers,saveTriggers:e.saveTriggers}),document.body),Object(k.jsxs)(V,{small:!0,children:[Object(k.jsx)(q,{to:"/projects/".concat(e.projectPath),children:Object(k.jsx)(u.a,{icon:d.b,className:"back-button"})}),Object(k.jsxs)(q,{active:"edit"===e.mode,to:"/projects/".concat(e.projectPath,"/").concat(e.viewerPath,"/").concat("edit"===e.mode?"":"edit").concat(window.location.search),children:[Object(k.jsx)(u.a,{icon:d.o}),Object(k.jsx)(F,{children:"Edit widgets"})]}),Object(k.jsxs)(q,{onClick:e.openAppSettings,children:[Object(k.jsx)(u.a,{icon:d.w,className:"iets"}),Object(k.jsx)(F,{children:"App settings"})]}),Object(k.jsxs)(q,{onClick:function(){return r(!0)},children:[Object(k.jsx)(u.a,{icon:d.c}),Object(k.jsx)(F,{children:"Triggers"})]}),Object(k.jsx)(U.a,{title:Object(k.jsxs)("span",{children:["Enables rule engine logging in developer console. ",Object(k.jsx)("br",{}),"This may impact performance and increase server resource usage."]}),children:Object(k.jsxs)(q,{active:i,onClick:function(){return Object(N.b)(!i)},children:[Object(k.jsx)(u.a,{icon:d.d}),Object(k.jsx)(F,{children:"Debug rules"})]})}),Object(k.jsx)(z,{}),Object(k.jsxs)(q,{chevron:!0,children:[Object(k.jsx)("span",{children:e.loginState.user.name}),Object(k.jsx)(u.a,{icon:d.v,style:{marginBottom:"2px"}}),Object(k.jsxs)(K,{children:[Object(k.jsxs)(q,{onClick:function(){g.a.sendCommand({props:{repoURL:e.repoURL}},"logout",null,(function(){window.location.reload()}))},children:[Object(k.jsx)(u.a,{icon:d.s}),Object(k.jsx)(F,{children:"Log out / reset app session"})]}),Object(k.jsxs)(q,{onClick:function(){return c()},children:[Object(k.jsx)(u.a,{icon:d.r}),Object(k.jsx)(F,{children:"Log out platform"})]})]})]})]})]}):null}function V(e){return Object(k.jsx)("ul",{className:Object(_.b)(b.a["top-bar"],"flex items-center",Object(i.a)({},b.a.small,!!e.small)),children:e.children})}function K(e){return Object(k.jsx)("ul",{className:b.a["sub-menu"],children:e.children})}function z(){return Object(k.jsx)("li",{className:b.a.separator})}function F(e){return Object(k.jsx)("span",{className:b.a["icon-text"],children:e.children})}var q=m.a.forwardRef((function(e,t){e.to,e.onClick,e.children,e.active,e.chevron;var a,o,l=Object(r.a)(e,B),s=!!e.to||!!e.onClick;return Object(k.jsx)("li",Object(n.a)(Object(n.a)({ref:t},l),{},{className:Object(_.b)(b.a.item,(a={},Object(i.a)(a,b.a.clickable,s),Object(i.a)(a,b.a.active,!!e.active),a)),children:Object(k.jsxs)(c.b,{to:null!==(o=e.to)&&void 0!==o?o:"#",onClick:function(t){e.onClick&&(t.preventDefault(),e.onClick())},children:[e.children,e.chevron&&Object(k.jsx)(u.a,{className:b.a.chevron,icon:d.f})]})}))}))},55:function(e,t,a){"use strict";var n=a(179),r=a(48);a.d(t,"a",(function(){return r.a}));var i=a(42);n.b.add(i.y)},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return g}));var n=a(13),r=a(209),i=a(453),o=a(2);var l=a(208),s=a(178),c=a(236),u=a(375),d=a(290),p={user:null,isLoggedIn:!1,isLoggingIn:!1};var b=a(291),_=Object(r.b)({event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"ITEM_SELECT_EVENT"===t.type?Object(o.a)(Object(o.a)({},e),{},{selectedItem:t.payload}):e},project:l.c,projects:s.b,users:c.b,pubsub:u.a,login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(o.a)(Object(o.a)({},e),{},{user:null,isLoggingIn:!0,isLoggedIn:!1});case"LOGIN_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload,isLoggingIn:!1,isLoggedIn:!0});case"LOGIN_FAILURE":case"LOGOUT":return Object(o.a)(Object(o.a)({},e),{},{user:null,isLoggedIn:!1,isLoggingIn:!1})}return e},currentViewer:d.a,debugging:b.a}),h=a(50);function m(e,t){return t instanceof Set?Object(n.a)(t):t}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({serialize:{replacer:m}}):r.c;return Object(r.d)(_,e,t(Object(r.a)(i.a)))}(),g=h.c},59:function(e,t,a){"use strict";function n(e,t,a,n){return i(r(a,n),t).replace("sparql",e)}function r(e,t){var a=window.location.origin,n=a.includes("localhost")&&t?t:e;return n.startsWith("http://")||n.startsWith("https://")?n:n.startsWith("/")?a+n:"".concat(a,"/").concat(n)}function i(e,t){return e&&function(e){return/servlets\/cgi\/sparql\/?$/.test(e)}(e)&&t?e.endsWith("/")?e+t:e+"/"+t:e}a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}))},628:function(e,t){},629:function(e,t){},63:function(e,t,a){e.exports={outerAreaContainer:"Area_outerAreaContainer__1pdUe",outerAreaContainerDisplayFlex:"Area_outerAreaContainerDisplayFlex__3oBwe",SplitLayout:"Area_SplitLayout__hItNH",viewMode:"Area_viewMode__22c2D",hoverToEdit:"Area_hoverToEdit__v_r_E",hoverIndicator:"Area_hoverIndicator__15kd1",editArea:"Area_editArea__3RVvP",editButtonsContainer:"Area_editButtonsContainer__1ksf9",menubar:"Area_menubar__2_CUv",marginTop15:"Area_marginTop15__3vCPs",marginLeft5:"Area_marginLeft5__3sCtD",marginLeft10:"Area_marginLeft10__2alkk",menubartxt:"Area_menubartxt__EQj6h",editIcon:"Area_editIcon__8JQkq",insertIcon:"Area_insertIcon__2oUZs",w2ui:"Area_w2ui__3N6RM",text11:"Area_text11__1KTuO",border:"Area_border__34cb1",border2:"Area_border2__13qk1",noscrollbar:"Area_noscrollbar__3YRnT",padding1:"Area_padding1__397z8",padding2:"Area_padding2__3Izby",padding3:"Area_padding3__2JFZV",none:"Area_none__10xlh",noneWhite:"Area_noneWhite__399oV",refresh:"Area_refresh__2CBU7",threeColorTemplate:"Area_threeColorTemplate__2Umlp",zeroBorderRadiusWidget:"Area_zeroBorderRadiusWidget__2lsag",areaMenuBarGrey:"Area_areaMenuBarGrey__1vKcc",paper:"Area_paper__3T4xE",paper2Org:"Area_paper2Org__18rhN",noScrollBars:"Area_noScrollBars__1rXMI",paper2:"Area_paper2__2cZan",toolbar:"Area_toolbar__3QKl-"}},651:function(e,t){},653:function(e,t){},660:function(e,t){},662:function(e,t){},68:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"m",(function(){return d})),a.d(t,"l",(function(){return p})),a.d(t,"n",(function(){return b})),a.d(t,"c",(function(){return w})),a.d(t,"k",(function(){return D})),a.d(t,"i",(function(){return I})),a.d(t,"d",(function(){return M})),a.d(t,"f",(function(){return T})),a.d(t,"g",(function(){return k})),a.d(t,"a",(function(){return S})),a.d(t,"j",(function(){return R})),a.d(t,"h",(function(){return A})),a.d(t,"e",(function(){return N}));var n=a(13),r=a(19),i=a(16),o=a(722),l=a(84),s={columnConfigs:[]},c=i.a.string().nonempty(),u=i.a.object({componentType:i.a.union([i.a.literal("text"),i.a.literal("textarea")]).default("text")}),d={"http://www.w3.org/2001/XMLSchema#string":"xsd:string"},p={text:"single-line textfield",textarea:"multi-line textfield"},b={disallow:"disallow empty field","remove-triple":"remove triple if empty field","update-as-zero-value":"update as empty string"},_=i.a.intersection(i.a.object({enabled:i.a.boolean(),graph:i.a.optional(i.a.string()),subject:i.a.string(),predicate:i.a.string(),objectType:i.a.literal("http://www.w3.org/2001/XMLSchema#string"),whenEmptyField:i.a.union([i.a.literal("disallow"),i.a.literal("update-as-zero-value"),i.a.literal("remove-triple")]).default("disallow")}),u),h=i.a.object({id:c,label:i.a.string(),filterable:i.a.boolean(),sortable:i.a.boolean(),width:i.a.string()}),m=i.a.object({publishTopic:i.a.optional(i.a.string()),editable:i.a.optional(_)}),f=i.a.intersection(h,m),g=i.a.object({type:i.a.literal("start-rule"),startRule:i.a.string(),parameters:i.a.optional(i.a.record(i.a.string(),i.a.string())),timestampVariable:i.a.optional(i.a.string())}),j=i.a.object({type:i.a.literal("publish"),topic:i.a.string(),value:i.a.string()}),O=i.a.object({type:i.a.union([i.a.literal("start-row-edit"),i.a.literal("cancel-row-edit"),i.a.literal("send-row-edit-request"),i.a.literal("send-row-delete-request")]),timestampVariable:i.a.optional(i.a.string())}),v=i.a.object({onSuccess:i.a.optional(i.a.string()),onFailure:i.a.optional(i.a.string())}),y=i.a.intersection(i.a.union([g,j,O]),i.a.object({notification:i.a.optional(v)})),x=i.a.object({message:i.a.optional(i.a.string()),yesIcon:i.a.optional(i.a.string()),yesColor:i.a.optional(i.a.string()),noIcon:i.a.optional(i.a.string()),noColor:i.a.optional(i.a.string())}),w=i.a.object({id:c,label:i.a.string(),width:i.a.string(),buttons:i.a.array(i.a.object({icon:i.a.optional(i.a.string()),label:i.a.optional(i.a.string()),actions:i.a.optional(i.a.array(y)),buttons:i.a.optional(i.a.array(i.a.object({label:i.a.string(),icon:i.a.string(),actions:i.a.array(y),confirmation:i.a.optional(x),hidden:i.a.optional(i.a.union([i.a.boolean(),i.a.string()]))}))),confirmation:i.a.optional(x),hidden:i.a.optional(i.a.union([i.a.boolean(),i.a.string()]))}))}),E=i.a.union([f,w]),C=i.a.object({enabled:i.a.boolean().default(!0),graph:i.a.string()}),D=i.a.object({columnConfigs:i.a.array(E),rowEditor:i.a.optional(C)});function I(e){return{dataColumn:f.safeParse(e),actionColumn:w.safeParse(e)}}function M(){return{id:Object(o.a)(),label:"Actions",width:"auto",buttons:[{icon:"fa-star",label:"Run a rule!",actions:[P("start-rule")]},{icon:"radix-component-instance",label:"Pubsub something!",actions:[P("publish")]},{label:"edit this row",icon:"radix-pencil-1",actions:[P("start-row-edit")]},{label:"send edit request",icon:"radix-check",actions:[P("send-row-edit-request")],confirmation:{message:"Are you sure you want to finalise this edit?",yesIcon:"",yesColor:"",noIcon:"",noColor:""}},{label:"cancel editing",icon:"radix-cross-2",actions:[P("cancel-row-edit")]},{label:"delete this row",icon:"radix-trash",actions:[P("send-row-delete-request")],confirmation:{message:"Are you sure you want to delete this row?",yesIcon:"",yesColor:"",noIcon:"",noColor:""}}]}}function P(e){switch(e){case"start-rule":return{type:e,notification:N[e],startRule:"my-rule-tag",parameters:{myRuleParam:"{{myRuleParamValue}}"},timestampVariable:"myTimestampAfterRuleCompletes"};case"publish":return{type:e,notification:N[e],topic:"myTopic",value:"{{columnVariableOrPubsubVariable}}"};case"start-row-edit":case"cancel-row-edit":return{type:e,notification:N[e]};case"send-row-edit-request":return{type:e,notification:N[e],timestampVariable:"timestampRowEditUpdate"};case"send-row-delete-request":return{type:e,notification:N[e],timestampVariable:"timestampRowDeleteUpdate"}}}function T(){return{enabled:!0,subject:"",predicate:"",objectType:"http://www.w3.org/2001/XMLSchema#string",componentType:"text",whenEmptyField:"disallow"}}function k(){return{enabled:!1,graph:""}}function L(e){var t,a=new Set,n=function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;a.add(i.type)}}catch(o){n.e(o)}finally{n.f()}},i=Object(r.a)(e.columnConfigs);try{for(i.s();!(t=i.n()).done;){var o=t.value;if("buttons"in o){var l,s=Object(r.a)(o.buttons);try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.actions&&n(c.actions),c.buttons){var u,d=Object(r.a)(c.buttons);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.actions&&n(p.actions)}}catch(b){d.e(b)}finally{d.f()}}}}catch(b){s.e(b)}finally{s.f()}}}}catch(b){i.e(b)}finally{i.f()}return a}var S="custom combination";function R(e,t,a){var o,s;if(null!==(o=e.rowEditor)&&void 0!==o&&o.enabled){var c,u=function(e){var t,a=new Set,n=function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(("send-row-delete-request"===i.type||"send-row-edit-request"===i.type)&&"timestampVariable"in i&&i.timestampVariable){var o,l=Object(r.a)(i.timestampVariable.split(","));try{for(l.s();!(o=l.n()).done;){var s=o.value;a.add(s)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){n.e(c)}finally{n.f()}},i=Object(r.a)(e.columnConfigs);try{for(i.s();!(t=i.n()).done;){var o=t.value;if("buttons"in o){var l,s=Object(r.a)(o.buttons);try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.actions&&n(c.actions),c.buttons){var u,d=Object(r.a)(c.buttons);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.actions&&n(p.actions)}}catch(b){d.e(b)}finally{d.f()}}}}catch(b){s.e(b)}finally{s.f()}}}}catch(b){i.e(b)}finally{i.f()}return a}(e),d=Object(l.c)(a),p=Object(r.a)(d);try{for(p.s();!(c=p.n()).done;){var b=c.value;u.delete(b)}}catch(O){p.e(O)}finally{p.f()}u.size&&t.addIssue({code:i.a.ZodIssueCode.custom,path:[S],message:"sparql query is missing the following timestamp variables: ".concat(Object(n.a)(u).join(", "))});var _=(new Set).add("start-row-edit").add("cancel-row-edit").add("send-row-edit-request").add("send-row-delete-request"),h=L(e),m=_.difference(h);m.size&&t.addIssue({code:i.a.ZodIssueCode.custom,path:[S],message:"missing action-buttons with the following action-types: ".concat(Object(n.a)(m).join(", "))})}if(null===(s=e.rowEditor)||void 0===s||!s.enabled){var f=(new Set).add("start-row-edit").add("cancel-row-edit").add("send-row-edit-request").add("send-row-delete-request"),g=L(e),j=f.intersection(g);j.size&&t.addIssue({code:i.a.ZodIssueCode.custom,path:[S],message:"actions of the following types are not allowed without row-editing enabled: ".concat(Object(n.a)(j).join(", "))})}}function A(e){return h.safeParse(e).success}var N={publish:{onSuccess:"succesfully published app variable",onFailure:"failed to publishe app variable"},"start-rule":{onSuccess:"succesfully ran rule(-chain) completely",onFailure:"failed to run rule(-chain) completely"},"send-row-delete-request":{onSuccess:"succesfully deleted row",onFailure:"failed to delete row"},"send-row-edit-request":{onSuccess:"succesfully edited row",onFailure:"failed to edit row"},"start-row-edit":{onSuccess:"succesfully started row editing",onFailure:"failed to start row editing"},"cancel-row-edit":{onSuccess:"succesfully canceled row editing",onFailure:"failed to cancel row editing"}}},70:function(e,t){if(null==a)var a=function(){var e;return{getInstance:function(){return e||(e=new Object("I am the instance 22")),e}}}();null==window.top.Singleton&&(window.top.Singleton=a)},702:function(e,t,a){},705:function(e,t,a){"use strict";a.r(t);var n,r,i=a(451),o=a(50),l=a(58),s=a(780),c=a(733),u=(a(549),a(550),a(551),a(9)),d=a(17),p=a(4),b=a(5),_=a(11),h=a(12),m=a(0),f=(a(552),a(130)),g=a(54),j=a(2),O=a(123),v=a.n(O),y=a(198),x=a.n(y),w=a(120),E=a(88),C=a.p+"static/media/add.ca1bc826.svg",D=a(20),I=a(104),M=a.p+"static/media/wistor-mark-color.27e292d1.svg",P=a(119),T=a(164),k=a(178),L=a(1),S=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e.onDialogOkClick=function(){e.props.createProject(e.state.values,(function(t){401===t.response.status&&e.props.history.push("/login","projects")})),e.setState({dialogVisible:!1})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.loginState;if(t.isLoggedIn&&"superadmin"!==t.user.role&&t.user.project)return this.props.history.replace("/projects/".concat(t.user.project.path));this.props.fetchProjects((function(t){401===t.response.status&&e.props.history.push("/login","projects")}))}},{key:"render",value:function(){var e,t=this;if(this.props.projects.loading)return Object(L.jsx)(E.a,{});if(!this.props.projects.loaded)return null;var a=this.props.loginState,n=this.props.projects.items;return n=x()(n,["title"],["asc"]),Object(L.jsxs)("div",{children:[Object(L.jsxs)(P.a,{children:[Object(L.jsx)("title",{children:"Wistor"}),Object(L.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon.png",sizes:"16x16"})]}),Object(L.jsx)(w.a,{}),Object(L.jsxs)("div",{className:v.a.mainContainer,children:[Object(L.jsx)("div",{className:v.a.main,children:Object(L.jsxs)("div",{className:v.a.content,children:[Object(L.jsx)("img",{src:M,alt:"logo",style:{maxHeight:"96px",margin:"0 12px 12px"}}),Object(L.jsx)("div",{className:v.a.title,children:"Welcome to Wistor"}),Object(L.jsx)("p",{className:v.a.paragr,children:"Data-centric working made easy"}),Object(L.jsx)("div",{className:v.a.subTitle,children:"Select a project:"}),Object(L.jsxs)("div",{className:v.a.projects,children:[n.map((function(e){return Object(L.jsx)("div",{className:v.a.project,onClick:function(){return t.props.history.push("/projects/".concat(e.path))},children:Object(L.jsx)("div",{children:e.title})},e.id)})),"superadmin"===(null===(e=a.user)||void 0===e?void 0:e.role)&&Object(L.jsx)("div",{className:v.a.project,onClick:function(){return t.setState({dialogVisible:!0})},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{className:"inline",src:C,alt:"add",style:{width:"24px"}}),Object(L.jsx)("span",{style:{verticalAlign:"middle",paddingLeft:"12px"},children:"Create a new project..."})]})})]})]})}),Object(L.jsx)(T.a,{})]}),this.state.dialogVisible&&Object(L.jsxs)(I.a,{children:[Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Title"}),Object(L.jsx)(D.c,{name:"title",className:"dark-form-control",value:this.state.values.title||"",type:"text",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{title:e.target.value})})}})]}),Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Path"}),Object(L.jsx)(D.c,{name:"path",className:"dark-form-control",value:this.state.values.path||"",type:"text",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{path:e.target.value})})}})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},children:[Object(L.jsx)(D.a,{color:"primary",style:{minWidth:"120px",margin:"12px"},onClick:function(){return t.setState({dialogVisible:!1})},"aria-label":"Cancel",children:"Cancel"}),Object(L.jsx)(D.a,{color:"primary",style:{minWidth:"120px",margin:"12px"},onClick:this.onDialogOkClick,"aria-label":"OK",children:"OK"})]})]})]})}}]),a}(m.Component),R=Object(o.b)((function(e){return{projects:e.projects,loginState:e.login}}),{fetchProjects:k.c,createProject:k.a})(S),A=a(143),N=a.n(A),U=a(236),B=a(461),W=a.n(B),V=["title","titleId"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K.apply(this,arguments)}function z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function F(e,t){var a=e.title,i=e.titleId,o=z(e,V);return m.createElement("svg",K({id:"Layer_2",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"512px",height:"512px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":i},o),a?m.createElement("title",{id:i},a):null,n||(n=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M463.5,257.5c0,5.5-4.4,9.9-9.8,9.9H77.1c-5.4,0-9.8-4.6-9.8-9.9 c0-5.5,4.4-9.9,9.8-9.9h376.6C459.1,247.6,463.5,252.2,463.5,257.5z"})),r||(r=m.createElement("path",{d:"M265.4,59.4c2.6,0,5.2,1,7.2,3.1c3.8,4,3.6,10.2-0.3,14l-190.6,181l190.6,181c4,3.8,4.1,10,0.3,14c-3.8,4-10.1,4.1-14,0.3 L52.9,257.5L258.6,62.1C260.5,60.3,262.9,59.4,265.4,59.4z"})))}var q=m.forwardRef(F),Q=(a.p,function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props.to;t?e.props.history.push(t):e.props.history.goBack()},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(L.jsx)(q,{onClick:this.onClick,className:W.a.backButton})}}]),a}(m.Component)),H=Object(g.g)(Q),G=a(28),J=a(238),Z=a.n(J),Y=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e.onDialogOkClick=function(){e.props.createUser(e.state.values,(function(e){return alert("User could not be created. Refresh the page and try again. Contact us if you need further assistance.")})),e.setState({dialogVisible:!1})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchProjects((function(t){401===t.response.status&&e.props.history.push("/login","users")})),this.props.fetchUsers((function(t){401===t.response.status&&e.props.history.push("/login","users")}))}},{key:"render",value:function(){var e,t=this;if(this.props.users.loading||this.props.projects.loading)return Object(L.jsx)(E.a,{});if(!this.props.projects.loaded||!this.props.users.loaded)return null;var a=this.props.loginState,n=this.props.users.items,r=this.props.projects.items;n=x()(n,["name"],["asc"]);var i="superadmin"===(null===(e=a.user)||void 0===e?void 0:e.role);return Object(L.jsxs)("div",{children:[Object(L.jsxs)(P.a,{children:[Object(L.jsx)("title",{children:"Wistor Apps"}),Object(L.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon.png",sizes:"16x16"})]}),Object(L.jsx)(H,{}),Object(L.jsx)(w.a,{}),Object(L.jsxs)("div",{className:N.a.mainContainer,children:[Object(L.jsx)("div",{className:N.a.main,children:Object(L.jsxs)("div",{className:N.a.content,children:[Object(L.jsx)("div",{className:N.a.title,children:"Users"}),Object(L.jsxs)("div",{className:N.a.users,children:[Object(L.jsx)("div",{className:N.a.tableContainer,children:Object(L.jsxs)("table",{children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Name"}),Object(L.jsx)("th",{children:"Email"}),Object(L.jsx)("th",{children:"Role"}),i&&Object(L.jsx)("th",{children:"Project"})]})}),Object(L.jsx)("tbody",{children:n.map((function(e){return Object(L.jsxs)("tr",{className:N.a.user,children:[Object(L.jsx)("td",{style:{fontSize:"1.1em",fontWeight:"500"},children:e.name}),Object(L.jsx)("td",{children:e.email}),Object(L.jsx)("td",{children:e.role}),i&&Object(L.jsx)("td",{children:e.project&&e.project.title})]},e.id)}))})]})}),a.isLoggedIn&&Object(L.jsx)("div",{className:N.a.add,onClick:function(){return t.setState({dialogVisible:!0})},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{className:"inline",src:C,alt:"add",style:{width:"24px"}}),Object(L.jsx)("span",{style:{verticalAlign:"middle",paddingLeft:"12px"},children:"Create a new user..."})]})})]})]})}),Object(L.jsx)(T.a,{})]}),this.state.dialogVisible&&Object(L.jsxs)(I.a,{children:[Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Name"}),Object(L.jsx)(D.c,{className:"dark-form-control",value:this.state.values.name||"",type:"text",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{name:e.target.value})})}})]}),Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Email"}),Object(L.jsx)(D.c,{className:"dark-form-control",value:this.state.values.email||"",type:"text",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{email:e.target.value})})}})]}),Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Password"}),Object(L.jsx)(D.c,{className:"dark-form-control",value:this.state.values.password||"",type:"text",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{password:e.target.value})})}})]}),Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Role"}),Object(L.jsxs)(D.c,{className:Object(G.a)("dark-form-control",Z.a["dark-form-control-select"]),value:this.state.values.role||"",type:"select",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{role:e.target.value})})},children:[Object(L.jsx)("option",{value:"",children:"Choose a role"}),Object(L.jsx)("option",{value:"viewer",children:"Viewer"}),Object(L.jsx)("option",{value:"editor",children:"Editor"}),Object(L.jsx)("option",{value:"admin",children:"Administrator"}),i&&Object(L.jsx)("option",{value:"superadmin",children:"SuperAdministrator"})]})]}),i&&Object(L.jsxs)(D.b,{children:[Object(L.jsx)(D.d,{children:"Project"}),Object(L.jsxs)(D.c,{className:Object(G.a)("dark-form-control",Z.a["dark-form-control-select"]),value:this.state.values.project||"",type:"select",onChange:function(e){return t.setState({values:Object(j.a)(Object(j.a)({},t.state.values),{},{project:e.target.value})})},children:[Object(L.jsx)("option",{value:"",children:"Choose a project"}),r.map((function(e){return Object(L.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},children:[Object(L.jsx)(D.a,{color:"primary",style:{minWidth:"120px",margin:"12px"},onClick:function(){return t.setState({dialogVisible:!1})},children:"Cancel"}),Object(L.jsx)(D.a,{color:"primary",style:{minWidth:"120px",margin:"12px"},onClick:this.onDialogOkClick,children:"OK"})]})]})]})}}]),a}(m.Component),X=Object(o.b)((function(e){return{projects:e.projects,users:e.users,loginState:e.login}}),{fetchProjects:k.c,fetchUsers:U.c,createUser:U.a})(Y),$=a(78),ee=a.n($),te=a(44),ae=a(7),ne=a(463),re=a.n(ne),ie=a(55),oe=a(708),le=a(772),se=a(783),ce=a(784),ue=a(356),de={confirming:!1,deleting:!1};function pe(e){var t=Object(m.useState)(de),a=Object(ae.a)(t,2),n=a[0],r=a[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ie.a,{icon:"trash",className:re.a.deleteIcon,onClick:function(e){e.stopPropagation(),r((function(e){return Object(j.a)(Object(j.a)({},e),{},{confirming:!0})}))}}),Object(L.jsxs)(oe.a,{open:n.confirming,children:[Object(L.jsxs)(le.a,{children:['Deletion of "',e.title,'"']}),Object(L.jsxs)(se.a,{children:[Object(L.jsx)("p",{children:"Are you sure you want to delete this project?"}),"Project details:",Object(L.jsxs)("ul",{className:"list-disc list-inside",children:[Object(L.jsxs)("li",{children:["Title: ",e.title]}),Object(L.jsxs)("li",{children:["Created by: ",e.createdBy]}),Object(L.jsxs)("li",{children:["Created on: ",e.createdOn]})]})]}),Object(L.jsxs)(ce.a,{children:[Object(L.jsx)(ue.a,{autoFocus:!0,variant:"contained",color:"grey",disabled:n.deleting,onClick:function(e){e.stopPropagation(),r((function(e){return Object(j.a)(Object(j.a)({},e),{},{confirming:!1})}))},children:"Keep"}),Object(L.jsx)(ue.a,{variant:"contained",color:"error",disabled:n.deleting,onClick:function(){var t=Object(d.a)(Object(u.a)().mark((function t(a){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.stopPropagation(),r((function(e){return Object(j.a)(Object(j.a)({},e),{},{deleting:!0})})),t.next=4,e.deleteAppConfig();case 4:r((function(e){return{deleting:!1,confirming:!1}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:n.deleting?"Deleting...":"Delete"})]})]})]})}function be(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(d.a)(Object(u.a)().mark((function e(t,a){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(te.a)({method:"post",url:"/api/delete-project",data:{id:t},headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))}});case 3:return a({type:"DELETE_APP_SUCCESS",data:{id:t}}),e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),alert("Unsuccessful app deletion"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var he=a(48),me=a(42);var fe=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).newClicked=function(){var t=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();e.props.history.push("/projects/".concat(e.props.project.path,"/").concat(t,"/edit"))},e.deleteApp=function(){var t=Object(d.a)(Object(u.a)().mark((function t(a){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",be(a,e.props.dispatch));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectPath,a=this.props.project;(a.path!==t||a.loading)&&Object(te.a)({method:"get",url:"/api/projects/"+t,headers:{Authorization:"Bearer ".concat(localStorage.getItem("kvk-vb-token"))}}).then((function(t){var a=t.data;e.props.dispatch({type:"FETCH_PROJECT_SUCCESS",data:a})}))}},{key:"renderViewers",value:function(e,t){var a=this;return e.length?Object(L.jsx)("div",{children:e.map((function(e){return Object(L.jsxs)("div",{className:ee.a.viewer,onClick:function(){return a.props.history.push("/projects/".concat(a.props.project.path,"/").concat(e.path))},children:[Object(L.jsx)("div",{className:ee.a.titleText,children:e.title}),Object(L.jsx)("div",{className:ee.a.viewerIcon,"data-tooltip":"This app is ".concat(e.public?"public":"private"),children:Object(L.jsx)(he.a,{icon:e.public?me.n:me.m})}),Object(L.jsx)("div",{className:ee.a.viewerIcon,"data-tooltip":"This app is ".concat(e.noConfigCache?"not using config cache":"using cache"),children:Object(L.jsx)(he.a,{icon:e.noConfigCache?me.x:me.h})}),null!=e.user&&Object(L.jsx)("div",{style:{fontSize:"0.9em",opacity:"0.6"},children:e.user.name}),je(a.props.loginState,e.user)&&Object(L.jsx)(pe,{deleteAppConfig:function(){return a.deleteApp(e.id)},title:e.title,createdBy:e.user.name,createdOn:e.createdAt})]},e.path)}))}):Object(L.jsxs)("div",{className:ee.a.noViewerMessage,children:["No apps found in this project... ",!t&&"Maybe when you login."]})}},{key:"render",value:function(){var e=this.props.project;if(e.loading)return Object(L.jsx)(E.a,{});var t=e.viewers,a=this.props.loginState;return t=x()(t,["title"],["asc"]),Object(L.jsxs)("div",{children:[Object(L.jsxs)(P.a,{children:[Object(L.jsx)("title",{children:e.title}),Object(L.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon-".concat(e.path,".png"),sizes:"16x16"})]}),Object(L.jsx)(H,{to:"/"}),Object(L.jsx)(w.a,{}),Object(L.jsxs)("div",{className:ee.a.mainContainer,children:[Object(L.jsx)("div",{className:ee.a.main,children:Object(L.jsxs)("div",{className:ee.a.content,children:[Object(L.jsx)("div",{className:ee.a.title,children:"Wistor Apps in ".concat(this.props.project.title)}),Object(L.jsxs)("div",{className:ee.a.viewers,children:[this.renderViewers(t,a.isLoggedIn),a.isLoggedIn&&"viewer"!==a.user.role&&Object(L.jsx)("div",{className:ee.a.viewer,onClick:this.newClicked,children:Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{className:"inline",src:C,alt:"add",style:{width:"24px"}}),Object(L.jsx)("span",{style:{verticalAlign:"middle",paddingLeft:"12px"},children:"Create a new app..."})]})})]})]})}),Object(L.jsx)(T.a,{})]})]})}}]),a}(m.Component),ge=["keon.chen@bim-connected.com","marcin.koziuk@bim-connected.com","norent.khy@bim-connected.com","richa.mehta@bim-connected.com","robin.vantol@bim-connected.com"].map((function(e){return e.toLowerCase()}));function je(e,t){return!!e.isLoggedIn&&("superadmin"===e.user.role&&(!!ge.includes(e.user.email.toLowerCase())||!(!t||e.user.id!==t.id)))}var Oe=Object(o.b)((function(e){return{project:e.project,loginState:e.login}}))(fe),ve=a(311),ye=a(97),xe=a(99),we=a(303),Ee=a(163),Ce=a(305),De=a(14),Ie=a(170),Me=a.n(Ie),Pe=(a(440),a(211)),Te=a(64),ke=["error","isLoggingIn"];function Le(e){return Object(L.jsxs)("div",{className:Me.a["login-app"],children:[Object(L.jsxs)(P.a,{children:[Object(L.jsx)("title",{children:"Wistor"}),Object(L.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon.png",sizes:"16x16"})]}),Object(L.jsx)(w.a,{modern:!0,noLoginButton:!0}),Object(L.jsx)("div",{className:Me.a["login-container"],children:Object(L.jsx)("div",{className:Me.a["login-main"],children:e.children})})]})}function Se(e){var t=e.error,a=e.isLoggingIn,n=Object(De.a)(e,ke);return Object(L.jsxs)("div",{className:Me.a["login-button-bar"],children:[a&&Object(L.jsx)("div",{className:Me.a["login-spinner"],children:Object(L.jsx)(ie.a,{icon:"spinner",spin:!0})}),t&&Object(L.jsx)("div",{className:Me.a["login-error"],children:t}),Object(L.jsx)(Pe.a,Object(j.a)(Object(j.a)({variant:"primary",type:"submit"},n),{},{children:"Log in"}))]})}function Re(e){return Object(L.jsx)(Pe.b,{variant:"outline",href:e.href,className:Object(Te.b)(Me.a["login-button-sso"]),children:e.children})}var Ae=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;var Ne=Object(o.b)((function(e){return{loginState:e.login}}))((function(e){var t=Object(Ce.a)(),a=t.register,n=t.handleSubmit,r=t.formState,i=Object(m.useState)(null),o=Object(ae.a)(i,2),l=o[0],s=o[1],c=function(){var t=Object(d.a)(Object(u.a)().mark((function t(a){var n;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dispatch({type:"LOGIN_REQUEST"}),s(null),t.next=4,Object(Ee.b)(a);case 4:(n=t.sent).success?(e.dispatch({type:"LOGIN_SUCCESS",payload:n.user}),"/login"===window.location.pathname&&e.history.push("/"),window.location.reload()):(e.dispatch({type:"LOGIN_FAILURE"}),s(n.reason));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(L.jsxs)(Le,{children:[Object(L.jsx)("h1",{children:"Welcome"}),Object(L.jsxs)("form",{onSubmit:n(c),children:[Object(L.jsxs)("label",{children:["Username",Object(L.jsx)("input",Object(j.a)({type:"email",required:!0,className:"font-normal"},a("email",{required:!0,pattern:Ae})))]}),Object(L.jsxs)("label",{children:["Password",Object(L.jsx)("input",Object(j.a)({type:"password",required:!0,className:"font-normal"},a("password",{required:!0})))]}),Object(L.jsx)(Se,{disabled:r.isSubmitting,isLoggingIn:e.loginState.isLoggingIn,error:l})]})]})})),Ue=a(59),Be=a(65),We=a(16),Ve=We.a.object({loggedIn:We.a.string(),repo:We.a.string().optional(),parameters:We.a.record(We.a.string(),We.a.any()).optional(),message:We.a.string().optional()});function Ke(e,t,a){return ze.apply(this,arguments)}function ze(){return(ze=Object(d.a)(Object(u.a)().mark((function e(t,a,n){var r,i,o,l,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Ue.c)("login",a,n),e.prev=1,e.next=4,te.a.post(r,{login:t.username,psw:t.password},{withCredentials:!0,headers:{"Content-Type":"application/json"}});case 4:if(o=e.sent,"true"===(l=Ve.parse(o.data)).loggedIn.toLowerCase()){e.next=8;break}return e.abrupt("return",{success:!1,reason:null!==(s=l.message)&&void 0!==s?s:"Incorrect username or password"});case 8:if(l.repo===a){e.next=10;break}return e.abrupt("return",{success:!1,reason:"This account is not valid for this app"});case 10:return l.parameters&&(document.userParameters=l.parameters),e.abrupt("return",{success:!0,user:{repo:l.repo,userParameters:null!==(i=l.parameters)&&void 0!==i?i:{}}});case 14:if(e.prev=14,e.t0=e.catch(1),e.t0 instanceof Be.a){e.next=18;break}throw e.t0;case 18:return console.error(e.t0),e.abrupt("return",{success:!1,reason:"Request failure"});case 20:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}var Fe=Object(o.b)((function(e){return{loginState:e.login}}))((function(e){var t=Object(Ce.a)(),a=t.register,n=t.handleSubmit,r=t.formState,i=Object(m.useState)(null),o=Object(ae.a)(i,2),l=o[0],s=o[1],c=Object(m.useState)([]),p=Object(ae.a)(c,2),b=p[0],_=p[1],h=function(){var e=window.location.search,t=new URLSearchParams(e).get("id");if(null==t)return null;var a=atob(decodeURIComponent(t)),n=new URLSearchParams(a),r=n.get("repoUrl");if(null==r)throw new Error('no "repoUrl" found in '.concat(a));var i=n.get("repo");if(null==i)throw new Error('no "repo" found in '.concat(a));var o=n.get("viewerPath");if(null==o)throw new Error('no "viewerPath" found in '.concat(a));return{repo:i,repoUrl:r,viewerPath:o}}();Object(m.useEffect)((function(){function e(){return(e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("/servlets/cgi/api/ssoconfig/repo/".concat(null===h||void 0===h?void 0:h.repo,"/viewer/").concat(null===h||void 0===h?void 0:h.viewerPath),{headers:{Accept:"application/json"}});case 2:if((t=e.sent).headers["content-type"].includes("application/json")){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==h&&void 0!==h&&h.repo&&function(){return e.apply(this,arguments)}().then((function(e){return _(e)})).catch((function(){}))}),[null===h||void 0===h?void 0:h.repo]);var f=function(){var t=Object(d.a)(Object(u.a)().mark((function t(a){var n;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s(null),t.next=6,Ke(a,h.repo,h.repoUrl);case 6:(n=t.sent).success?(e.history.replace(e.location.state||"/"),window.CONNECTED_APPS_STATIC&&window.location.reload()):s(n.reason),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),s("Login error");case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();if(!h)return Object(L.jsx)(Le,{children:"Invalid repository information."});var g=e.loginState.isLoggedIn&&"superadmin"===e.loginState.user.role;return Object(L.jsxs)(Le,{children:[Object(L.jsx)("h1",{children:"Welcome"}),Object(L.jsxs)("form",{onSubmit:n(f),children:[Object(L.jsxs)("p",{children:["This app requires a login."," ",g&&"Repository: ".concat(h.repo)]}),Object(L.jsxs)("label",{children:["Username",Object(L.jsx)("input",Object(j.a)({type:"username",required:!0,className:"font-normal"},a("username",{required:!0})))]}),Object(L.jsxs)("label",{children:["Password",Object(L.jsx)("input",Object(j.a)({type:"password",required:!0,className:"font-normal"},a("password",{required:!0})))]}),Object(L.jsx)(Se,{disabled:r.isSubmitting,isLoggingIn:r.isSubmitting,error:l}),b.length>0&&Object(L.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:".75rem",marginTop:"1.5rem"},children:b.map((function(t){return Object(L.jsxs)(Re,{href:"/servlets/cgi/api/sso/authorize/".concat(t.ssoClientId,"?ssoSuccessRedirectUrl=").concat(e.location.state),children:[Object(L.jsx)("img",{src:t.image,alt:""}),Object(L.jsxs)("span",{children:["Sign in with ",t.label]})]},t.uri)}))})]})]})})),qe=["loginState","children","component"];var Qe=Object(o.b)((function(e){return{loginState:e.login}}))((function(e){var t=e.loginState,a=(e.children,e.component),n=Object(De.a)(e,qe),r=Object(g.f)(e.path),i=e.protectIf&&!e.protectIf(r)||t.isLoggedIn;return Object(L.jsx)(g.a,Object(j.a)(Object(j.a)({},n),{},{component:i?a:Ne}))}));Object(xe.a)();var He=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isFetchingLoginInfo:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.wistorArt(),Object(we.a)(),window.CONNECTED_APPS_STATIC||this.fetchLoginInfo()}},{key:"fetchLoginInfo",value:function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isFetchingLoginInfo:!0}),this.props.dispatch({type:"LOGIN_REQUEST"}),e.prev=2,e.next=5,Object(Ee.a)();case 5:(t=e.sent)?this.props.dispatch({type:"LOGIN_SUCCESS",payload:t}):this.props.dispatch({type:"LOGIN_FAILURE"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),this.props.dispatch({type:"LOGIN_FAILURE"});case 13:return e.prev=13,this.setState({isFetchingLoginInfo:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"wistorArt",value:function(){console.log(" __      __.__          __                \r\n/  \\    /  \\__| _______/  |_  ___________ \r\n\\   \\/\\/   /  |/  ___/\\   __\\/  _ \\_  __ \\\r\n \\        /|  |\\___ \\  |  | (  <_> )  | \\/\r\n  \\__/\\  / |__/____  > |__|  \\____/|__|   \r\n       \\/          \\/                     \r\n"),console.log("version 0.32")}},{key:"render",value:function(){if(window.top.command=ye.a,!window.top.primereact)return this.render2()}},{key:"render2",value:function(){return window.CONNECTED_APPS_STATIC?Object(L.jsx)(f.a,{children:Object(L.jsxs)(g.c,{children:[Object(L.jsx)(g.a,{path:"/",exact:!0,component:ve.a}),Object(L.jsx)(g.a,{path:"/loginbb",component:Fe}),Object(L.jsx)(g.a,{path:"*",component:ve.a})]})}):this.state.isFetchingLoginInfo?Object(L.jsx)(E.a,{}):Object(L.jsx)(f.a,{children:Object(L.jsxs)("div",{className:"app",children:[Object(L.jsx)(Qe,{path:"/",exact:!0,component:R}),Object(L.jsx)(g.a,{path:"/loginbb",component:Fe}),Object(L.jsx)(g.a,{path:"/login",component:Ne}),Object(L.jsx)(Qe,{path:"/users",component:X}),Object(L.jsx)(Qe,{path:"/projects/:projectPath",exact:!0,component:Oe}),Object(L.jsx)(Qe,{protectIf:function(e){return"edit"===(null===e||void 0===e?void 0:e.params.mode)},path:"/projects/:projectPath/:viewerPath/:mode(edit)?",component:ve.a})]})})}}]),a}(m.Component),Ge=Object(o.b)()(He);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=a(734),Ze=a(363),Ye=a(489),Xe=a(458),$e=Object(Ze.b)({palette:{grey:{main:Xe.a[300],dark:Xe.a[400]}}}),et=Object(Ze.b)($e,{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:$e.palette.getContrastText($e.palette.grey[300])}},{props:{variant:"outlined",color:"grey"},style:{color:$e.palette.text.primary,borderColor:"light"===$e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:"1px solid ".concat($e.palette.action.disabledBackground)},"&:hover":{borderColor:"light"===$e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:Object(Ye.a)($e.palette.text.primary,$e.palette.action.hoverOpacity)}}},{props:{color:"grey",variant:"text"},style:{color:$e.palette.text.primary,"&:hover":{backgroundColor:Object(Ye.a)($e.palette.text.primary,$e.palette.action.hoverOpacity)}}}]}}}),tt=new s.a,at=document.getElementById("root");Object(i.createRoot)(at).render(Object(L.jsx)(o.a,{store:l.a,children:Object(L.jsx)(c.a,{client:tt,children:Object(L.jsx)(Je.a,{theme:et,children:Object(L.jsx)(Ge,{})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t,a){e.exports={mainContainer:"Project_mainContainer__1pj6p",main:"Project_main__2Y8rr",content:"Project_content__24m3l",title:"Project_title__22_I_",titleText:"Project_titleText__1G20m",viewer:"Project_viewer__19IpZ",viewerDisabled:"Project_viewerDisabled__2PNlk",noViewerMessage:"Project_noViewerMessage__1ePu9",viewerIcons:"Project_viewerIcons__UeS93",viewerIcon:"Project_viewerIcon__1F4L8"}},79:function(e,t,a){e.exports={main:"Table_main__1KlIE",title:"Table_title__X9IJi",rowNumberHeader:"Table_rowNumberHeader__3h76N",rowNumber:"Table_rowNumber__YKpiQ",link:"Table_link__jCT0D",highlight:"Table_highlight__2cQtm",centertext:"Table_centertext__2Fu1Q",inlineblock:"Table_inlineblock__1PwI1",deleteIcon:"Table_deleteIcon__1g9jk",spin:"Table_spin__3d39r"}},80:function(e,t,a){e.exports={wrapper:"Footer_wrapper__2rG-r",main:"Footer_main__1l7I7",names:"Footer_names__3Ib0-",commentMessage:"Footer_commentMessage__3kubv",email:"Footer_email__2GJZb"}},84:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return _}));var n=a(13),r=a(19),i=a(5),o=a(4),l=a(11),s=a(12),c=a(113),u=/{{!?[A-Za-z0-9|:._/]*}}/g,d=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e,n){Object(o.a)(this,a);var r="Template-placeholder {{".concat(e,"}} did not resolve to a value");return t.call(this,r,n)}return Object(i.a)(a)}(Object(c.a)(Error));function p(e,t){var a=_(e);if(!a.length)return e;var n,i=e,o=Object(r.a)(a);try{for(o.s();!(n=o.n()).done;){var l=n.value,s=h(l,t);if("boolean"===typeof s&&(s=String(s)),null==s)return"";i=m(i,l,s)}}catch(c){o.e(c)}finally{o.f()}return i}function b(e,t){try{return p(e,t)}catch(a){return console.log("parameters sparql query can not be resolved (yet). "),e}}function _(e){var t=e.match(u);return t?Object(n.a)(new Set(t.map((function(e){return e.replace(/[{}]/g,"")})))):[]}function h(e,t){var a,n=t[e];e.includes("||")&&("http://www.buildingbits.nl/reset"===(n=t[e.split("||")[0]])&&(n=null),null==n&&"http://www.buildingbits.nl/reset"===(n=t[e.split("||")[1].split("||")[0].split("::")[0]])&&(n=null));e.includes("::")&&null==n&&("http://www.buildingbits.nl/reset"===(n=t[e.split("::")[0]])&&(n=null),null==n&&(n=e.split("::")[1]));var r=null===(a=e.match(/^!(.+)$/))||void 0===a?void 0:a[1];return r&&(n=!("true"===String(t[r]).toLowerCase())),n}function m(e,t,a){var n=a.replace(/\$/g,"$$$$"),r=new RegExp("{{".concat(t.replaceAll("||","\\|\\|"),"}}"),"g");return e.replace(r,n)}},85:function(e,t,a){e.exports={wrapper:"Viewer_wrapper__Mp8IX",settingsCheckbox:"Viewer_settingsCheckbox__1BOaO",mainContainer:"Viewer_mainContainer__7WemJ",main:"Viewer_main__2vgBd",editButton:"Viewer_editButton__O63Oh",areaContainer2:"Viewer_areaContainer2__1Imf2",areaContainer:"Viewer_areaContainer__2mCAm",infoDialogueContainer:"Viewer_infoDialogueContainer__3r8Vu",configButton:"Viewer_configButton__1_3sl",appVariables:"Viewer_appVariables__3QNDN"}},88:function(e,t,a){"use strict";var n=a(4),r=a(5),i=a(11),o=a(12),l=a(0),s=a.p+"static/media/spinner.7db2bb37.gif",c=a(1),u=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e="hidden";return!0===this.props.loading&&(e="visible"),Object(c.jsx)("img",{className:"spinner",style:{visibility:e,width:"32px",position:"absolute",zIndex:"11",display:"table",margin:"2px"},style22:{width:"32px"},src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHdpZHRoPSI0MHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7IiB4PSIwcHgiIHk9IjBweCI+CiAgICA8ZGVmcz4KICAgICAgICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWwogICAgICAgICAgICBALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTM1OWRlZykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQGtleWZyYW1lcyBzcGluIHsKICAgICAgICAgICAgICBmcm9tIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC0zNTlkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHN2ZyB7CiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDUwJSA1MCU7CiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogc3BpbiAxLjVzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgICAgICAgICAgIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOwogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBzcGluIDEuNXMgbGluZWFyIGluZmluaXRlOwogICAgICAgICAgICB9CiAgICAgICAgXV0+PC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJvdXRlciI+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwwQzIyLjIwNTgsMCAyMy45OTM5LDEuNzg4MTMgMjMuOTkzOSwzLjk5MzlDMjMuOTkzOSw2LjE5OTY4IDIyLjIwNTgsNy45ODc4MSAyMCw3Ljk4NzgxQzE3Ljc5NDIsNy45ODc4MSAxNi4wMDYxLDYuMTk5NjggMTYuMDA2MSwzLjk5MzlDMTYuMDA2MSwxLjc4ODEzIDE3Ljc5NDIsMCAyMCwwWiIgc3R5bGU9ImZpbGw6YmxhY2s7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44NTc4Niw1Ljg1Nzg2QzcuNDE3NTgsNC4yOTgxNSA5Ljk0NjM4LDQuMjk4MTUgMTEuNTA2MSw1Ljg1Nzg2QzEzLjA2NTgsNy40MTc1OCAxMy4wNjU4LDkuOTQ2MzggMTEuNTA2MSwxMS41MDYxQzkuOTQ2MzgsMTMuMDY1OCA3LjQxNzU4LDEzLjA2NTggNS44NTc4NiwxMS41MDYxQzQuMjk4MTUsOS45NDYzOCA0LjI5ODE1LDcuNDE3NTggNS44NTc4Niw1Ljg1Nzg2WiIgc3R5bGU9ImZpbGw6cmdiKDIxMCwyMTAsMjEwKTsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwzMi4wMTIyQzIyLjIwNTgsMzIuMDEyMiAyMy45OTM5LDMzLjgwMDMgMjMuOTkzOSwzNi4wMDYxQzIzLjk5MzksMzguMjExOSAyMi4yMDU4LDQwIDIwLDQwQzE3Ljc5NDIsNDAgMTYuMDA2MSwzOC4yMTE5IDE2LjAwNjEsMzYuMDA2MUMxNi4wMDYxLDMzLjgwMDMgMTcuNzk0MiwzMi4wMTIyIDIwLDMyLjAxMjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTMwLDEzMCwxMzApOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjQ5MzksMjguNDkzOUMzMC4wNTM2LDI2LjkzNDIgMzIuNTgyNCwyNi45MzQyIDM0LjE0MjEsMjguNDkzOUMzNS43MDE5LDMwLjA1MzYgMzUuNzAxOSwzMi41ODI0IDM0LjE0MjEsMzQuMTQyMUMzMi41ODI0LDM1LjcwMTkgMzAuMDUzNiwzNS43MDE5IDI4LjQ5MzksMzQuMTQyMUMyNi45MzQyLDMyLjU4MjQgMjYuOTM0MiwzMC4wNTM2IDI4LjQ5MzksMjguNDkzOVoiIHN0eWxlPSJmaWxsOnJnYigxMDEsMTAxLDEwMSk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNMy45OTM5LDE2LjAwNjFDNi4xOTk2OCwxNi4wMDYxIDcuOTg3ODEsMTcuNzk0MiA3Ljk4NzgxLDIwQzcuOTg3ODEsMjIuMjA1OCA2LjE5OTY4LDIzLjk5MzkgMy45OTM5LDIzLjk5MzlDMS43ODgxMywyMy45OTM5IDAsMjIuMjA1OCAwLDIwQzAsMTcuNzk0MiAxLjc4ODEzLDE2LjAwNjEgMy45OTM5LDE2LjAwNjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTg3LDE4NywxODcpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTUuODU3ODYsMjguNDkzOUM3LjQxNzU4LDI2LjkzNDIgOS45NDYzOCwyNi45MzQyIDExLjUwNjEsMjguNDkzOUMxMy4wNjU4LDMwLjA1MzYgMTMuMDY1OCwzMi41ODI0IDExLjUwNjEsMzQuMTQyMUM5Ljk0NjM4LDM1LjcwMTkgNy40MTc1OCwzNS43MDE5IDUuODU3ODYsMzQuMTQyMUM0LjI5ODE1LDMyLjU4MjQgNC4yOTgxNSwzMC4wNTM2IDUuODU3ODYsMjguNDkzOVoiIHN0eWxlPSJmaWxsOnJnYigxNjQsMTY0LDE2NCk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNMzYuMDA2MSwxNi4wMDYxQzM4LjIxMTksMTYuMDA2MSA0MCwxNy43OTQyIDQwLDIwQzQwLDIyLjIwNTggMzguMjExOSwyMy45OTM5IDM2LjAwNjEsMjMuOTkzOUMzMy44MDAzLDIzLjk5MzkgMzIuMDEyMiwyMi4yMDU4IDMyLjAxMjIsMjBDMzIuMDEyMiwxNy43OTQyIDMzLjgwMDMsMTYuMDA2MSAzNi4wMDYxLDE2LjAwNjFaIiBzdHlsZT0iZmlsbDpyZ2IoNzQsNzQsNzQpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjQ5MzksNS44NTc4NkMzMC4wNTM2LDQuMjk4MTUgMzIuNTgyNCw0LjI5ODE1IDM0LjE0MjEsNS44NTc4NkMzNS43MDE5LDcuNDE3NTggMzUuNzAxOSw5Ljk0NjM4IDM0LjE0MjEsMTEuNTA2MUMzMi41ODI0LDEzLjA2NTggMzAuMDUzNiwxMy4wNjU4IDI4LjQ5MzksMTEuNTA2MUMyNi45MzQyLDkuOTQ2MzggMjYuOTM0Miw3LjQxNzU4IDI4LjQ5MzksNS44NTc4NloiIHN0eWxlPSJmaWxsOnJnYig1MCw1MCw1MCk7Ii8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K",alt:"spinner"})}},{key:"render_old",value:function(){return Object(c.jsx)("div",{style:{textAlign:"center"},children:Object(c.jsx)("img",{style:{width:"32px"},src:s,alt:"spinner"})})}}]),a}(l.Component);t.a=u},91:function(e,t,a){e.exports={"popup-content":"TriggerPopup_popup-content__29mOA",sidebar:"TriggerPopup_sidebar__3Bpiz","section-header":"TriggerPopup_section-header__1D4-J",items:"TriggerPopup_items__26irm",item:"TriggerPopup_item__1VS_Q",active:"TriggerPopup_active__3dhql","tool-bar":"TriggerPopup_tool-bar__SVN-E",square:"TriggerPopup_square__1UCdy","on-hover":"TriggerPopup_on-hover__3XJ0v",content:"TriggerPopup_content__1_FBe","form-content":"TriggerPopup_form-content__2V_Zu",footer:"TriggerPopup_footer__2eTzo"}},97:function(e,t,a){"use strict";var n=a(9),r=a(10),i=a(2),o=a(17),l=a(4),s=a(5),c=a(44),u=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"logoff",value:function(){var e=Object(o.a)(Object(n.a)().mark((function e(){var t,a,r=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:window.top.url,a=r.length>1?r[1]:void 0;try{Object(c.a)({method:"post",url:t.replace("sparql","logout"),withCredentials:!0}),null!=a&&a.call(this)}catch(n){console.log("error logoff",n)}case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();window.top.logoff=u.logoff;var d=u,p=a(47),b=a(59),_=a(58),h=function(){function e(t){Object(l.a)(this,e),this.widget=t}return Object(s.a)(e,[{key:"uploadTest",value:function(){var e=document.createElement("button");e.id="uploadButton",e.innerText="Upload File",document.body.appendChild(e);var t=document.createElement("input");t.type="file",t.id="fileInput",t.style.display="none",document.body.appendChild(t),e.addEventListener("click",(function(){t.click()}));var a=this;t.addEventListener("change",(function(e){var t=e.target.files;a.uploadFile(t,{uri:"http://wistor.nl/zelfverzonnenURI",belongsTo:"http://wistor.nl/zelfverzonnenParent"})}))}},{key:"uploadFile",value:function(e,t){var a=new FormData;if(null!=t)try{for(var n in t){var r=Object(p.c)(t[n],this.props);a.append(n,r)}}catch(s){console.log(s)}var i=this;if(e.length){var o=e[0];a.append("command","uploadAnyFile"),a.append("file",o,o.name),c.a.defaults.withCredentials=!0,c.a.defaults.credentials="include";var l=Object(b.b)(this.widget.props.repoURL);if(null!=l)return l=l.replace("sparql","upload"),c.a.post(l,a).then((function(e){})).catch((function(e){console.log("upload failure ",e),alert("could not upload file"),i.setState({enabled:!0})}));alert("no upload url defined")}}},{key:"getParameterValue",value:function(e){Object(p.c)(e,this.props)}}],[{key:"getRepoUrl",value:function(){var e=window.top.repoURL;if(null!=e)return e;var t=document.querySelector("iframe");return t?(t.contentDocument||t.contentWindow.document).repoURL:null}},{key:"test",value:function(){e.sendCommand2({commando:"stroefheidcurve",uri:"http://www.rws.nl/VenR/2023/nwb/wegvakken#RWRW016B1HRRv36p1t36p2"})}},{key:"sendCommand",value:function(e,t,a,n,r){null==a&&(a={});var i=null;try{i=e.props.repoURL}catch(u){}if(null!=i&&i.includes("sparql")){var o=i.replace("sparql","command"),l=new FormData;if(l.append("commando",t),a.commando=t,null!=a)for(var s in a)l.append(s,a[s]);c.a.defaults.withCredentials=!0,c.a.defaults.credentials="include",c.a.post(o,a,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("SUCCESS command",e),null!=n&&n.call(this,e)})).catch((function(e){null!=r?r.call(this):alert("command error")}))}}},{key:"sendCommand2",value:function(){var t=Object(o.a)(Object(n.a)().mark((function t(a,o,l){var s,u,d,p,b,h;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(s=e.getRepoUrl())&&s.includes("sparql")){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,u=s.replace("sparql","command"),d=Object(i.a)(Object(i.a)({},a),{},Object(r.a)({},"debugMode",_.a.getState().debugging.enabled)),t.next=8,c.a.post(u,d);case 8:if(null!=(p=t.sent)){t.next=11;break}return t.abrupt("return");case 11:if(console.log("\n\nSuccesful RULE results:\n"),console.log(p.data),null==p.data){t.next=32;break}if("debugMessages"in p.data&&(b=p.data.debugMessages.some((function(e){return"ERROR"===e.level})),h=p.data.debugMessages.some((function(e){return"WARN"===e.level})),b?console.error("Rule engine reported one or more errors.",p.data.debugMessages):h?console.warn("Rule engine reported one or more warnings.",p.data.debugMessages):console.log(p.data.debugMessages)),t.prev=15,null==p.data.loggedIn||!1!==p.data.loggedIn){t.next=19;break}return null!=l&&l.call(this,p),t.abrupt("return");case 19:t.next=23;break;case 21:t.prev=21,t.t0=t.catch(15);case 23:if(t.prev=23,null==p.data.success||0==p.data.success){t.next=27;break}return null!=o&&o.call(this,p),t.abrupt("return");case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(23),console.log("error",t.t1);case 32:try{console.log(p.data.errors)}catch(n){}null!=l&&l.call(this),t.next=40;break;case 36:t.prev=36,t.t2=t.catch(3),console.log("command error",t.t2),null!=l&&l.call(this,t.t2);case 40:case"end":return t.stop()}}),t,this,[[3,36],[15,21],[23,29]])})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"ruleRule",value:function(t,a,n,r){var i={commando:"VRCommands",command2:"runSparqlRule",command3:t,parameters:a};e.sendCommand2(i,n,r)}},{key:"runRulesWithTagPromise",value:function(){var t=Object(o.a)(Object(n.a)().mark((function t(a,r){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var i={commando:"VRCommands",command2:"runSparqlRulesWithTag",command3:a,parameters:r};e.sendCommand2(i,(function(e){t(e)}),(function(e){n(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"runRulesWithTag",value:function(t,a,n,r){var i={commando:"VRCommands",command2:"runSparqlRulesWithTag",command3:t,parameters:a};e.sendCommand2(i,n,r)}},{key:"deleteServerCache",value:function(t){var a={commando:"refreshCache",graph:t};e.sendCommand2(a,(function(e){console.log("success",e)}),(function(e){console.log("error ",e)}))}},{key:"logoff",value:function(){var e=window.cgi+"sparql";d.logoff(e)}}]),e}();window.top.command=h;t.a=h}},[[705,3,4]]]);
//# sourceMappingURL=main.4fc49fff.chunk.js.map