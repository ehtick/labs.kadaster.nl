(this["webpackJsonpviewer-builder-client"]=this["webpackJsonpviewer-builder-client"]||[]).push([[29],{1453:function(t,e,a){t.exports={"custom-grid":"styles_custom-grid__KlpXy"}},1564:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return v}));var n=a(2),r=a(9),l=a(17),s=a(19),o=a(7),c=a(0),i=a.n(c),u=a(257),d=a(1452),b=a.n(d),f=a(1453),m=a.n(f),j=a(28),p=a(1);function v(t){var e,a,c,d=i.a.useState({status:"init"}),f=Object(o.a)(d,2),v=f[0],h=f[1];i.a.useEffect((function(){if(!t.data)return h({status:"no-metadata"});if(!t.data.results.bindings.length)return h({status:"no-metadata"});var e,a=[],n=Object(s.a)(t.data.results.bindings);try{for(n.s();!(e=n.n()).done;){var r,l=e.value;if("literal"!==(null===(r=l.src_URL)||void 0===r?void 0:r.type))return console.error("the following row is missing `src_URL`: ".concat(JSON.stringify(l))),h({status:"noncompliant-metadata"});a.push(l.src_URL.value)}}catch(o){n.e(o)}finally{n.f()}return h({status:"loaded-metadata",srcURLS:a})}),[t.data]);var g=function(){var e=Object(l.a)(Object(r.a)().mark((function e(a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deletionRule){e.next=2;break}return e.abrupt("return");case 2:Object(u.a)(t.deletionRule,t.deletionRuleParamsJSON);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O="loaded-metadata"===v.status?v.fullscreenSrc:null,w=O?[{label:"go back to gallery",onClick:function(){return h((function(t){if("loaded-metadata"!==t.status)throw new Error("oops");return Object(n.a)(Object(n.a)({},t),{},{fullscreenSrc:void 0})}))}},{label:"delete this image",onClick:function(){return g(O)}},{label:"download image",onClick:function(){window.open(O)}}]:[];return"init"===v.status?Object(p.jsx)("div",{children:null!==(e=t.textLoading)&&void 0!==e?e:"loading..."}):"noncompliant-metadata"===v.status?Object(p.jsx)("div",{children:null!==(a=t.textErrorLoading)&&void 0!==a?a:"there was a problem loading the data"}):"no-metadata"===v.status?Object(p.jsx)("div",{children:null!==(c=t.textNoResults)&&void 0!==c?c:"there is nothing to display"}):Object(p.jsxs)("div",{className:"relative h-full w-full",children:[Object(p.jsx)("div",{className:Object(j.a)(m.a["custom-grid"],"grid gap-4 overflow-auto w-full h-full"),style:{"--column-count":t.columnCount},children:v.srcURLS.map((function(t){return Object(p.jsx)("div",{className:"relative aspect-square rounded-xl border overflow-clip content-center bg-slate-200 shadow",children:Object(p.jsx)("img",{className:"cursor-pointer object-cover aspect-square m-auto hover:scale-105 ease-in-out duration-300",src:t,alt:"",loading:"lazy",onClick:function(){return h((function(e){if("loaded-metadata"!==e.status)throw new Error("impossibru");return Object(n.a)(Object(n.a)({},e),{},{fullscreenSrc:t})}))}})})}))}),O&&Object(p.jsxs)("div",{className:"flex flex-col absolute left-0 right-0 top-0 bottom-0 bg-gray-700",children:[Object(p.jsx)(b.a,{src:O,alt:"",className:"m-auto"}),Object(p.jsx)("div",{className:"flex flex-row gap-2 m-2",children:w.map((function(t){return Object(p.jsx)("button",{className:"p-2 bg-blue-700 rounded-lg",onClick:t.onClick,children:t.label})}))})]})]})}}}]);
//# sourceMappingURL=29.54af1aba.chunk.js.map