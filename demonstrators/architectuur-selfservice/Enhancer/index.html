
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>GraphQL naar Linked Data - Self-Service GIS platform Architectuur</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="amber">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#graphql-naar-linked-data-de-enhancer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Self-Service GIS platform Architectuur" class="md-header__button md-logo" aria-label="Self-Service GIS platform Architectuur" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 17c-.13 0-.26 0-.39.04l-1.61-3.25a2.5 2.5 0 0 0-1.75-4.29c-.13 0-.25 0-.39.04l-1.63-3.25c.48-.45.77-1.08.77-1.79a2.5 2.5 0 0 0-5 0c0 .71.29 1.34.76 1.79L8.64 9.54c-.14-.04-.26-.04-.39-.04a2.5 2.5 0 0 0-1.75 4.29l-1.61 3.25C4.76 17 4.63 17 4.5 17a2.5 2.5 0 0 0 0 5A2.5 2.5 0 0 0 7 19.5c0-.7-.29-1.34-.76-1.79l1.62-3.25c.14.04.26.04.39.04s.25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0A2.5 2.5 0 0 0 12 17c-.13 0-.26 0-.39.04L10 13.79c.46-.45.75-1.08.75-1.79s-.29-1.34-.75-1.79l1.61-3.25c.13.04.26.04.39.04s.26 0 .39-.04L14 10.21c-.45.45-.75 1.09-.75 1.79a2.5 2.5 0 0 0 2.5 2.5c.13 0 .25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0 2.5 2.5 0 0 0-2.5-2.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Self-Service GIS platform Architectuur
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GraphQL naar Linked Data
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/kadaster-it/datascience-architecture-selfservice/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Introductie
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Architecture/" class="md-tabs__link md-tabs__link--active">
        Data
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Modelling/" class="md-tabs__link">
        Modelling
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Gebruik/" class="md-tabs__link">
        Gebruik
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../UseCases/" class="md-tabs__link">
        Use cases
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Self-Service GIS platform Architectuur" class="md-nav__button md-logo" aria-label="Self-Service GIS platform Architectuur" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 17c-.13 0-.26 0-.39.04l-1.61-3.25a2.5 2.5 0 0 0-1.75-4.29c-.13 0-.25 0-.39.04l-1.63-3.25c.48-.45.77-1.08.77-1.79a2.5 2.5 0 0 0-5 0c0 .71.29 1.34.76 1.79L8.64 9.54c-.14-.04-.26-.04-.39-.04a2.5 2.5 0 0 0-1.75 4.29l-1.61 3.25C4.76 17 4.63 17 4.5 17a2.5 2.5 0 0 0 0 5A2.5 2.5 0 0 0 7 19.5c0-.7-.29-1.34-.76-1.79l1.62-3.25c.14.04.26.04.39.04s.25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0A2.5 2.5 0 0 0 12 17c-.13 0-.26 0-.39.04L10 13.79c.46-.45.75-1.08.75-1.79s-.29-1.34-.75-1.79l1.61-3.25c.13.04.26.04.39.04s.26 0 .39-.04L14 10.21c-.45.45-.75 1.09-.75 1.79a2.5 2.5 0 0 0 2.5 2.5c.13 0 .25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0 2.5 2.5 0 0 0-2.5-2.5z"/></svg>

    </a>
    Self-Service GIS platform Architectuur
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/kadaster-it/datascience-architecture-selfservice/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Introductie
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Introductie" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introductie
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introductie
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Status/" class="md-nav__link">
        Status
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Visie/" class="md-nav__link">
        Visie
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Data
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Architecture/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Brondata/" class="md-nav__link">
        Brondata
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GraphQLETL/" class="md-nav__link">
        GraphQL
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          GraphQL naar Linked Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        GraphQL naar Linked Data
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#json-ld" class="md-nav__link">
    JSON-LD
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enhancer" class="md-nav__link">
    Enhancer
  </a>
  
    <nav class="md-nav" aria-label="Enhancer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bevragen-obv-een-query" class="md-nav__link">
    Bevragen obv een query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bevragen-obv-voorgedefinieerde-queries" class="md-nav__link">
    Bevragen obv voorgedefiniëerde queries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json-ld-context" class="md-nav__link">
    JSON-LD Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linked-data" class="md-nav__link">
    Linked Data
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../LinkedData/" class="md-nav__link">
        Linked Data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../KnowledgeGraph/" class="md-nav__link">
        Knowledge Graph
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../LDViews/" class="md-nav__link">
        LD Views
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Netwerk/" class="md-nav__link">
        Netwerk
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Modelling
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Modelling" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Modelling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Modelling/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../IRI/" class="md-nav__link">
        IRI Strategie
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Semantics/" class="md-nav__link">
        Definities
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Gebruik
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Gebruik" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Gebruik
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Gebruik/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GraphQL/" class="md-nav__link">
        GraphQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SparQL/" class="md-nav__link">
        Linked Data (SPARQL)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Use cases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Use cases" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Use cases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../UseCases/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#json-ld" class="md-nav__link">
    JSON-LD
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enhancer" class="md-nav__link">
    Enhancer
  </a>
  
    <nav class="md-nav" aria-label="Enhancer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bevragen-obv-een-query" class="md-nav__link">
    Bevragen obv een query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bevragen-obv-voorgedefinieerde-queries" class="md-nav__link">
    Bevragen obv voorgedefiniëerde queries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json-ld-context" class="md-nav__link">
    JSON-LD Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linked-data" class="md-nav__link">
    Linked Data
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/kadaster-it/datascience-architecture-selfservice/edit/master/docs/Enhancer.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="graphql-naar-linked-data-de-enhancer">GraphQL naar Linked Data: De Enhancer</h1>
<p>In de sectie omtrent <a href="../GraphQLETL/">GraphQL</a> beschrijven wij reeds hoe we GraphQL kunnen gebruiken om data te leveren in een JSON (JavaScript Object Notation) formaat. Wij gebruiken dit - naast een ontsluitingskanaal richting de eindgebruiker - ook als mogelijkheid om Linked Data te genereren.</p>
<h2 id="json-ld">JSON-LD</h2>
<p>In de omzetting van JSON naar Linked Data maken wij veel gebruik van de open standaard <a href="https://json-ld.org/">JSON-LD</a>, zoals gestandaardiseerd door het <a href="https://www.w3.org/TR/json-ld/">W3C</a>. JSON-LD - in zijn essentie - biedt de mogelijkheid om van JSON data lichtgewicht Linked Data te genereren.</p>
<p><img alt="Logo JSON-LD" src="../images/json-ld-logo.jpg" /></p>
<blockquote>
<p>Deze documentatie is gebaseerd op <a href="https://www.w3.org/TR/json-ld11/">JSON-LD 1.1</a>, zoals beheerd door de W3C.</p>
</blockquote>
<h2 id="enhancer">Enhancer</h2>
<p>Het Data Science Team heeft een component ontwikkeld dat op basis van een GraphQL endpoint in staat is JSON-LD te bevragen. De enhancer neemt de volgende configuratie:</p>
<ul>
<li>JSON-LD Context</li>
<li>Een GraphQL endpoint</li>
</ul>
<p>Vervolgens dient de Enhancer als een additioneel endpoint waar op basis van een accept header data data wordt teruggeven in een bepaald formaat:</p>
<ul>
<li>application/n-quads</li>
<li>application/ld+json</li>
</ul>
<p>Vervolgens zijn er twee manieren om de enhancer aan te spreken:</p>
<h3 id="bevragen-obv-een-query">Bevragen obv een query</h3>
<p>Het enhancer endpoint kan benaderd worden met een POST request met in de body een GraphQL query, zoals</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;{ bag2nummeraanduiding(first:10 ) { jsonldid jsonldtype objecteindtijd objectbegintijd tijdstipregistratie eindregistratie tijdstipregistratielv tijdstipeindregistratielv primaryTopic { jsonldid jsonldtype identificatie { jsonldid jsonldtype }} inonderzoek geconstateerd documentnummer documentdatum aanduidingrecordinactief aanduidingrecordcorrectie huisnummer huisletter huisnummertoevoeging postcode nummeraanduidingstatus ligtin ligtaan }}&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>en de headers</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span> 
    <span class="nt">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/ld+json&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Het reusltaat van deze bevraging is een JSON-LD respons van de desbetreffende GraphQL query.</p>
<h3 id="bevragen-obv-voorgedefinieerde-queries">Bevragen obv voorgedefiniëerde queries</h3>
<p>Voor het omzetten van de GraphQL levering naar Linked Data bereiden we vaak voorgedefiniëerde queries voor in de enhancer, waarmee op basis van (paginatie) parameters een set aan objecten opgevraagd kan worden. Dit is bijvoorbeeld bruikbaar in een full load van een dataset als Linked Data.</p>
<p>Het configureren van deze voorgedefiniëerde queries werkt momenteel door in de Enhancer een graphql query toe te voegen onder de directory /query. Zie bijvoorbeeld de query /bag/pand.graphql.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span> 
    <span class="nt">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;{ bag2pand(#filter#) { jsonldid jsonldtype jsonldbase jsonldvocab jsonldlabel voorkomenidentificatie begingeldigheid eindgeldigheid tijdstipregistratie eindregistratie tijdstipregistratielv tijdstipeindregistratielv primaryTopic { jsonldid jsonldtype identificatie { jsonldid jsonldtype namespace lokaalid } } geometrie geconstateerd documentnummer documentdatum oorspronkelijkbouwjaar pandstatus vorigeGeldigeVersie vorigeGeregistreerdeVersie } } &quot;</span> 
<span class="p">}</span> 
</code></pre></div>
<p><strong>Tip voor de developer:</strong> Gebruik <a href="https://www.gillmeister-software.com/online-tools/text/remove-line-breaks.aspx">deze website</a> om een GraphQL query te verlossen van newlines.</p>
<p>Vervolgens kan de data bevraagd worden met een request naar <em>http://enhancer-endpoint/bag/pand/0/1000</em> waarbij de laatste twee (paginatie) parameters zijn die gedefiniëerd zijn in de enhancer. Door gebruik te maken van deze parameters kan over de gehele set aan objecten worden gelopen.</p>
<h2 id="json-ld-context">JSON-LD Context</h2>
<p>Een voorbeeld van een (ingekorte) JSON-LD Context (van de BAG) is hieronder te vinden:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;@context&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;@base&quot;</span><span class="p">:</span> <span class="s2">&quot;https://bag2.basisregistraties.overheid.nl/bag/id/registratie/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;@version&quot;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">,</span>
    <span class="nt">&quot;@vocab&quot;</span><span class="p">:</span> <span class="s2">&quot;https://bag2.basisregistraties.overheid.nl/bag/def/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;adresseerbaarobjectstatus&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@context&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;@base&quot;</span><span class="p">:</span> <span class="s2">&quot;https://bag2.basisregistraties.overheid.nl/bag/id/status/&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;status&quot;</span><span class="p">,</span>
      <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;@id&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;begingeldigheid&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;nen3610:beginGeldigheid&quot;</span><span class="p">,</span>
      <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;xsd:date&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;bronhouder&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@context&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;@base&quot;</span><span class="p">:</span> <span class="s2">&quot;https://bag2.basisregistraties.overheid.nl/bag/id/bronhouder/&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;@id&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;@nest&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dct&quot;</span><span class="p">:</span> <span class="s2">&quot;http://purl.org/dc/terms/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;documentdatum&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;dct:created&quot;</span><span class="p">,</span>
      <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;xsd:date&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;documentnummer&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;dct:identifier&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;eindgeldigheid&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;nen3610:eindGeldigheid&quot;</span><span class="p">,</span>
      <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;xsd:date&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;eindregistratie&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;eindRegistratie&quot;</span><span class="p">,</span>
      <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;xsd:dateTime&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>waarbij <em>keys</em> in de JSON-LD context verwijzen naar attributen en/of objecten in de GraphQL typedefs (bijv. documentnummer, eindgeldigheid, etc.). Op deze manier weet de Enhancer hoe deze attributen om te zetten zijn naar een Linked data formaat (zoals nquads).</p>
<h2 id="linked-data">Linked Data</h2>
<p>In de pipeline van het omzetten van een GraphQL levering hebben we een manier nodig om (in batch) over de totale set aan objecten cq. voorkomens heen te lopen. We gebruiken de volgende header:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/n-quads&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>en lopen over de gehele set heen die we willen bevragen middels de voorgedefinieerde queries. Deze batch bevragingen worden aangeroepen vanuit een minimaal stuk code wat wij tot voorheen <em>de microservice</em> noemden. Dit proces wordt verder toegelicht in de documentatie rondom onze <a href="../Pipeline/">ETL Pipeline</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../GraphQLETL/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              GraphQL
            </div>
          </div>
        </a>
      
      
        <a href="../LinkedData/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Linked Data
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
    
  </body>
</html>