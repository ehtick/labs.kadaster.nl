
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>LD Views - Self-Service GIS platform Architectuur</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="amber">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ld-views" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Self-Service GIS platform Architectuur" class="md-header__button md-logo" aria-label="Self-Service GIS platform Architectuur" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 17c-.13 0-.26 0-.39.04l-1.61-3.25a2.5 2.5 0 0 0-1.75-4.29c-.13 0-.25 0-.39.04l-1.63-3.25c.48-.45.77-1.08.77-1.79a2.5 2.5 0 0 0-5 0c0 .71.29 1.34.76 1.79L8.64 9.54c-.14-.04-.26-.04-.39-.04a2.5 2.5 0 0 0-1.75 4.29l-1.61 3.25C4.76 17 4.63 17 4.5 17a2.5 2.5 0 0 0 0 5A2.5 2.5 0 0 0 7 19.5c0-.7-.29-1.34-.76-1.79l1.62-3.25c.14.04.26.04.39.04s.25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0A2.5 2.5 0 0 0 12 17c-.13 0-.26 0-.39.04L10 13.79c.46-.45.75-1.08.75-1.79s-.29-1.34-.75-1.79l1.61-3.25c.13.04.26.04.39.04s.26 0 .39-.04L14 10.21c-.45.45-.75 1.09-.75 1.79a2.5 2.5 0 0 0 2.5 2.5c.13 0 .25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0 2.5 2.5 0 0 0-2.5-2.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Self-Service GIS platform Architectuur
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              LD Views
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/kadaster-it/datascience-architecture-selfservice/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Introductie
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Architecture/" class="md-tabs__link md-tabs__link--active">
        Data
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Modelling/" class="md-tabs__link">
        Modelling
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Gebruik/" class="md-tabs__link">
        Gebruik
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../UseCases/" class="md-tabs__link">
        Use cases
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Self-Service GIS platform Architectuur" class="md-nav__button md-logo" aria-label="Self-Service GIS platform Architectuur" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 17c-.13 0-.26 0-.39.04l-1.61-3.25a2.5 2.5 0 0 0-1.75-4.29c-.13 0-.25 0-.39.04l-1.63-3.25c.48-.45.77-1.08.77-1.79a2.5 2.5 0 0 0-5 0c0 .71.29 1.34.76 1.79L8.64 9.54c-.14-.04-.26-.04-.39-.04a2.5 2.5 0 0 0-1.75 4.29l-1.61 3.25C4.76 17 4.63 17 4.5 17a2.5 2.5 0 0 0 0 5A2.5 2.5 0 0 0 7 19.5c0-.7-.29-1.34-.76-1.79l1.62-3.25c.14.04.26.04.39.04s.25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0A2.5 2.5 0 0 0 12 17c-.13 0-.26 0-.39.04L10 13.79c.46-.45.75-1.08.75-1.79s-.29-1.34-.75-1.79l1.61-3.25c.13.04.26.04.39.04s.26 0 .39-.04L14 10.21c-.45.45-.75 1.09-.75 1.79a2.5 2.5 0 0 0 2.5 2.5c.13 0 .25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0 2.5 2.5 0 0 0-2.5-2.5z"/></svg>

    </a>
    Self-Service GIS platform Architectuur
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/kadaster-it/datascience-architecture-selfservice/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Introductie
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Introductie" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introductie
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introductie
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Status/" class="md-nav__link">
        Status
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Visie/" class="md-nav__link">
        Visie
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Data
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Architecture/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Brondata/" class="md-nav__link">
        Brondata
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GraphQLETL/" class="md-nav__link">
        GraphQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Enhancer/" class="md-nav__link">
        GraphQL naar Linked Data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../LinkedData/" class="md-nav__link">
        Linked Data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../KnowledgeGraph/" class="md-nav__link">
        Knowledge Graph
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          LD Views
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        LD Views
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#technische-implementatie" class="md-nav__link">
    Technische Implementatie
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-panden" class="md-nav__link">
    Technische Implementatie Panden
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Panden">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bag-pand" class="md-nav__link">
    BAG Pand
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgt-panden" class="md-nav__link">
    BGT Panden
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-gebouw" class="md-nav__link">
    BRT Gebouw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-gebieden" class="md-nav__link">
    Technische Implementatie Gebieden
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Gebieden">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bag-woonplaats" class="md-nav__link">
    BAG Woonplaats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#administrative-area-gebaseerd-op-bgt-gebieden" class="md-nav__link">
    Administrative Area gebaseerd op BGT Gebieden
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bag-en-bgt-openbare-ruimte" class="md-nav__link">
    BAG en BGT Openbare Ruimte
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wijken-en-buurten" class="md-nav__link">
    Wijken en Buurten
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wijken-en-buurten-linkset-met-bag" class="md-nav__link">
    Wijken en Buurten Linkset met BAG
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-terreindelen" class="md-nav__link">
    Technische Implementatie Terreindelen
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Terreindelen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-begroeid-terreindeel" class="md-nav__link">
    BGT Begroeid Terreindeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onbegroeid-terreindeel" class="md-nav__link">
    Onbegroeid Terreindeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-terrein" class="md-nav__link">
    BRT Terrein
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-waterdelen" class="md-nav__link">
    Technische Implementatie Waterdelen
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Waterdelen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-waterdeel" class="md-nav__link">
    BGT Waterdeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-waterdeel" class="md-nav__link">
    BRT Waterdeel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-wegdelen" class="md-nav__link">
    Technische Implementatie Wegdelen
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Wegdelen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-wegdeel" class="md-nav__link">
    BGT Wegdeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-wegdeel" class="md-nav__link">
    BRT Wegdeel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-overig" class="md-nav__link">
    Technische Implementatie Overig
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Overig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-brug" class="md-nav__link">
    BGT Brug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rce-monumenten" class="md-nav__link">
    RCE Monumenten
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Netwerk/" class="md-nav__link">
        Netwerk
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Modelling
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Modelling" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Modelling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Modelling/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../IRI/" class="md-nav__link">
        IRI Strategie
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Semantics/" class="md-nav__link">
        Definities
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Gebruik
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Gebruik" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Gebruik
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Gebruik/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GraphQL/" class="md-nav__link">
        GraphQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SparQL/" class="md-nav__link">
        Linked Data (SPARQL)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Use cases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Use cases" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Use cases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../UseCases/" class="md-nav__link">
        Overzicht
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#technische-implementatie" class="md-nav__link">
    Technische Implementatie
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-panden" class="md-nav__link">
    Technische Implementatie Panden
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Panden">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bag-pand" class="md-nav__link">
    BAG Pand
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgt-panden" class="md-nav__link">
    BGT Panden
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-gebouw" class="md-nav__link">
    BRT Gebouw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-gebieden" class="md-nav__link">
    Technische Implementatie Gebieden
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Gebieden">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bag-woonplaats" class="md-nav__link">
    BAG Woonplaats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#administrative-area-gebaseerd-op-bgt-gebieden" class="md-nav__link">
    Administrative Area gebaseerd op BGT Gebieden
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bag-en-bgt-openbare-ruimte" class="md-nav__link">
    BAG en BGT Openbare Ruimte
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wijken-en-buurten" class="md-nav__link">
    Wijken en Buurten
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wijken-en-buurten-linkset-met-bag" class="md-nav__link">
    Wijken en Buurten Linkset met BAG
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-terreindelen" class="md-nav__link">
    Technische Implementatie Terreindelen
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Terreindelen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-begroeid-terreindeel" class="md-nav__link">
    BGT Begroeid Terreindeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onbegroeid-terreindeel" class="md-nav__link">
    Onbegroeid Terreindeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-terrein" class="md-nav__link">
    BRT Terrein
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-waterdelen" class="md-nav__link">
    Technische Implementatie Waterdelen
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Waterdelen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-waterdeel" class="md-nav__link">
    BGT Waterdeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-waterdeel" class="md-nav__link">
    BRT Waterdeel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-wegdelen" class="md-nav__link">
    Technische Implementatie Wegdelen
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Wegdelen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-wegdeel" class="md-nav__link">
    BGT Wegdeel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brt-wegdeel" class="md-nav__link">
    BRT Wegdeel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technische-implementatie-overig" class="md-nav__link">
    Technische Implementatie Overig
  </a>
  
    <nav class="md-nav" aria-label="Technische Implementatie Overig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgt-brug" class="md-nav__link">
    BGT Brug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rce-monumenten" class="md-nav__link">
    RCE Monumenten
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/kadaster-it/datascience-architecture-selfservice/edit/master/docs/LDViews.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="ld-views">LD Views</h1>
<p>Om technisch tot een invulling te komen van een Knowledge Graph bovenop onze registratieve Linked Data, maken wij gebruik van zgn. LD Views. LD Views zijn geautomatiseerde afbeeldingen van registratieve datasets naar een geïntegreerde kennisgraaf. Met deze aanpak transformeren we de registratieve laag naar een additionele laag dat gebruik maakt van bovengenoemd datamodel.</p>
<figure>
  <img src="../images/architectuur-ld-views.png">
  <figcaption>
    Figuur 1. Architectuur overzicht van de werking van LD Views.
  </figcaption>
</figure>

<p>In deze architectuur zijn een aantal zaken van belang. We beginnen met brondata (paarse laag) zoals eerder beschreven in <a href="../Brondata/">Brondata</a>. Deze zetten we middels <a href="../GraphQLETL/">GraphQL</a> en de <a href="../Enhancer/">Enhancer</a> om naar registratieve <a href="../LinkedData/">Linked Data</a> (de oranje laag).</p>
<p>Vanuit daar creeëren we één of meerdere Views (afhankelijk van gebruik) op deze data, welke laag we dan ook de Knowledge Graph noemen. Governance technisch zal een business architect moeten bepalen welke data er in deze laag moet zitten - en waar deze data vandaan moet komen. Het unieke hier is dat de data op zichzelf vaak al bevraagbaar is (middels uitgebreide en complexe SPARQL queries op de registratieve Linked Data), maar dat deze voor gemakkelijk gebruik persistent wordt opgeslagen. Voor verschillende doeleinden kunnen verschillende LD Views ontstaan in de toekomst.</p>
<blockquote>
<p>We geloven heel erg in het statement <em>One size fits none</em>. Immers, er valt niet één datamodel, één dataset of één manier van ontsluiting te bedenken waar alle gebruikers baat bij hebben. Door dit wel na te streven lopen we het risico een oplossing te creeëren die voor niemand echt de perfect aansluiting geeft. Daarom houden we de brondata grotendeels intact en staan we toe op basis van verschillende use cases één of meerdere Knowledge Graphs beschikbaar te stellen.</p>
</blockquote>
<h2 id="technische-implementatie">Technische Implementatie</h2>
<p>Voor de technische implementatie van LD Views wordt gebruik gemaakt van de open standaarden SPARQL construct en SHACL Rules.</p>
<dl>
  <dt>SPARQL construct</dt>
  <dd>Wordt gebruikt om inhoudelijke transformaties in uit te drukken.  Deze transformaties corresponderen met LD View tabellen zoals Tabel 1 en 2.  De met Tabel 2 corresponderende bevraging is hieronder opgenomen.</dd>
  <dt>SHACL Rules</dt>
  <dd>worden gebruikt om de SPARQL construct queries op te slaan als linked data.  Deze worden ook gebruikt om de volgorde waarin de transformaties moeten worden uitgevoerd vast te leggen.</dd>
</dl>

<h3 id="technische-implementatie-panden">Technische Implementatie Panden</h3>
<h4 id="bag-pand">BAG Pand</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-bag-pand">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-bag-pand/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">status</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/id/status/&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>
<span class="k">prefix</span> <span class="nn">xsd</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2001/XMLSchema#&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?administrativeArea</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">containsPlace</span> <span class="nv">?place</span><span class="p">.</span>
  <span class="nv">?geoCoordinates</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoCoordinates</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?verblijfsobjectRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">latitude</span> <span class="nv">?latitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">longitude</span> <span class="nv">?longitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BAG puntgeometrie&#39;</span><span class="p">.</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?pandRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BAG vlakgeometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span>
      <span class="nv">?pandRegistratie</span><span class="p">,</span>
      <span class="nv">?verblijfsobjectRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">bag</span><span class="p">:</span><span class="nt">Pand</span><span class="p">,</span>
      <span class="nv">?gebruiksdoel</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">address</span> <span class="nv">?postalAddress</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">containedInPlace</span> <span class="nv">?administrativeArea</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">dateCreated</span> <span class="nv">?dateCreated</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">floorSize</span> <span class="nv">?oppervlakte</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span>
      <span class="nv">?geoCoordinates</span><span class="p">,</span>
      <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?placeName</span><span class="p">.</span>
  <span class="nv">?postalAddress</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">PostalAddress</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?nummeraanduidingRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">addressCountry</span> <span class="s">&#39;Nederland&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">addressLocality</span> <span class="nv">?woonplaatsNaam</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?postalAddressName</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">postalCode</span> <span class="nv">?postcode</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">streetAddress</span> <span class="nv">?streetAddress</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/graphs/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># BAG nummeraanduiding: identity</span>
  <span class="nv">?nummeraanduidingRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">postcode</span> <span class="nv">?postcode</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?nummeraanduidingRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="nv">?nummeraanduidingRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">status</span> <span class="nv">?nummeraanduidingStatus</span><span class="p">.</span>
  <span class="k">filter</span><span class="p">(</span><span class="nv">?nummeraanduidingStatus</span> <span class="k">not in</span> <span class="p">(</span><span class="nn">status</span><span class="p">:</span><span class="nt">naamgevingIngetrokken</span><span class="p">))</span>
  <span class="c"># BAG nummeraanduiding: connections</span>
  <span class="nv">?nummeraanduidingRegistratie</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">ligtAan</span> <span class="nv">?openbareRuimte</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?nummeraanduiding</span><span class="p">.</span>
  <span class="c"># BAG nummeraanduiding: the rest</span>
  <span class="nv">?nummeraanduiding</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?postalAddressId</span><span class="p">.</span>
  <span class="nv">?nummeraanduidingRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">huisnummer</span> <span class="nv">?huisnummer</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?nummeraanduidingRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">huisletter</span> <span class="nv">?huisletter</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?nummeraanduidingRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">huisnummertoevoeging</span> <span class="nv">?huisnummertoevoeging</span><span class="p">.</span> <span class="p">}</span>

  <span class="c"># BAG openbare ruimte: identity</span>
  <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?openbareRuimte</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">status</span> <span class="nv">?openbareRuimteStatus</span><span class="p">.</span>
  <span class="k">filter</span><span class="p">(</span><span class="nv">?openbareRuimteStatus</span> <span class="k">not in</span> <span class="p">(</span><span class="nn">status</span><span class="p">:</span><span class="nt">naamgevingIngetrokken</span><span class="p">))</span>
  <span class="c"># BAG openbare ruimte: connections</span>
  <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">ligtIn</span> <span class="nv">?woonplaats</span><span class="p">.</span>
  <span class="c"># BAG openbare ruimte: the rest</span>
  <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?openbareRuimteNaam</span><span class="p">.</span>

  <span class="c"># BAG verblijfsobject: identity</span>
  <span class="nv">?verblijfsobjectRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">hoofdadres</span> <span class="nv">?nummeraanduiding</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?verblijfsobjectRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="nv">?verblijfsobjectRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">status</span> <span class="nv">?verblijfsobjectStatus</span><span class="p">.</span>
  <span class="k">filter</span><span class="p">(</span><span class="nv">?verblijfsobjectStatus</span> <span class="k">not in</span> <span class="p">(</span><span class="nn">status</span><span class="p">:</span><span class="nt">nietGerealiseerdVerblijfsobject</span><span class="p">,</span>
                                        <span class="nn">status</span><span class="p">:</span><span class="nt">verblijfsobjectIngetrokken</span><span class="p">,</span>
                                        <span class="nn">status</span><span class="p">:</span><span class="nt">verblijfsobjectTenOnrechteOpgevoerd</span><span class="p">))</span>
  <span class="c"># BAG verblijfsobject: connections</span>
  <span class="nv">?verblijfsobjectRegistratie</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">maaktDeelUitVan</span> <span class="nv">?pand</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?verblijfsobject</span><span class="p">.</span>
  <span class="c"># BAG verblijfsobject: the rest</span>
  <span class="nv">?verblijfsobject</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?verblijfsobjectId</span><span class="p">.</span>
  <span class="nv">?verblijfsobjectRegistratie</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">gebruiksdoel</span> <span class="nv">?gebruiksdoel</span><span class="p">;</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?puntRd</span><span class="p">;</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">oppervlakte</span> <span class="nv">?oppervlakte</span><span class="p">.</span>

  <span class="c"># BAG pand: identity</span>
  <span class="nv">?pandRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?pand</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?pandRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="nv">?pandRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">status</span> <span class="nv">?pandStatus</span><span class="p">.</span>
  <span class="k">filter</span><span class="p">(</span><span class="nv">?pandStatus</span> <span class="k">not in</span> <span class="p">(</span><span class="nn">status</span><span class="p">:</span><span class="nt">nietGerealiseerdPand</span><span class="p">,</span>
                             <span class="nn">status</span><span class="p">:</span><span class="nt">pandGesloopt</span><span class="p">,</span>
                             <span class="nn">status</span><span class="p">:</span><span class="nt">pandTenOnrechteOpgevoerd</span><span class="p">))</span>
  <span class="c"># BAG pand: the rest</span>
  <span class="nv">?pand</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?pandId</span><span class="p">.</span>
  <span class="nv">?pandRegistratie</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">bouwjaar</span> <span class="nv">?bouwjaar</span><span class="p">;</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">.</span>

  <span class="c"># BAG woonplaats: identity</span>
  <span class="nv">?woonplaatsRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?woonplaats</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?woonplaatsRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="nv">?woonplaatsRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">status</span> <span class="nv">?woonplaatsStatus</span><span class="p">.</span>
  <span class="k">filter</span><span class="p">(</span><span class="nv">?woonplaatsStatus</span> <span class="k">not in</span> <span class="p">(</span><span class="nn">status</span><span class="p">:</span><span class="nt">woonplaatsIngetrokken</span><span class="p">))</span>
  <span class="c"># BAG woonplaats: the rest</span>
  <span class="nv">?woonplaats</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?administrativeAreaId</span><span class="p">.</span>
  <span class="nv">?woonplaatsRegistratie</span> <span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?woonplaatsNaam</span><span class="p">.</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?administrativeAreaId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?administrativeArea</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">xsd</span><span class="p">:</span><span class="nt">integer</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nv">?bouwjaar</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?dateCreated</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-coordinates/bag-&#39;</span><span class="p">,</span>
                  <span class="nv">?verblijfsobjectId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoCoordinates</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bag-&#39;</span><span class="p">,</span>
                  <span class="nv">?pandId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">xsd</span><span class="p">:</span><span class="nt">double</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">latitude</span><span class="p">(</span><span class="nv">?punt</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?latitude</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">xsd</span><span class="p">:</span><span class="nt">double</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">longitude</span><span class="p">(</span><span class="nv">?punt</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?longitude</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?verblijfsobjectId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">2d</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/postal-address/&#39;</span><span class="p">,</span>
                  <span class="nv">?postalAddressId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?postalAddress</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?puntRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?punt</span><span class="p">)</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?placeName</span><span class="p">),</span>
          <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Adres van &#39;</span><span class="p">,</span><span class="nv">?placeName</span><span class="p">),</span>
          <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?postalAddressName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?streetAddress</span><span class="p">),</span>
          <span class="nf">concat</span><span class="p">(</span><span class="nv">?streetAddress</span><span class="p">,</span><span class="s">&#39;, &#39;</span><span class="p">,</span><span class="nv">?postcode</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">,</span><span class="nv">?woonplaatsNaam</span><span class="p">),</span>
          <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?placeName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="nv">?openbareRuimteNaam</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">,</span><span class="nf">str</span><span class="p">(</span><span class="nv">?huisnummer</span><span class="p">),</span>
              <span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?huisletter</span><span class="p">),</span><span class="nv">?huisletter</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">),</span>
              <span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?huisnummertoevoeging</span><span class="p">),</span>
                 <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;-&#39;</span><span class="p">,</span><span class="nv">?huisnummertoevoeging</span><span class="p">),</span>
                 <span class="s">&#39;&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?streetAddress</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="bgt-panden">BGT Panden</h3>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-bgt-pand">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-bgt-pand/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?bgtPandRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT maaiveld geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">Pand</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/graphs/instanties&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?bgtPandRegistratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">bagPand</span> <span class="nv">?bagPand0</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?bgtPandRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># the rest</span>
  <span class="nv">?bgtPandRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?bgtPandId</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?bgtPandRegistratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">.</span> <span class="p">}</span>
  <span class="c"># connections</span>
  <span class="k">optional</span> <span class="p">{</span>
    <span class="p">[</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">maaktDeelUitVan</span> <span class="nv">?bagPand</span><span class="p">;</span>
      <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?verblijfsobjectId</span> <span class="p">].</span>
  <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bag2.basisregistraties.overheid.nl/bag/id/object/NL.IMBAG.Pand.&#39;</span><span class="p">,</span>
                  <span class="nf">strafter</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nv">?bagPand0</span><span class="p">),</span>
                           <span class="s">&#39;https://bag2.basisregistraties.overheid.nl/bag/id/pand/NL.IMBAG.Pand.&#39;</span><span class="p">)))</span> <span class="k">as</span> <span class="nv">?bagPand</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?bgtPandId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?verblijfsobjectId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="brt-gebouw">BRT Gebouw</h3>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-brt-gebouw">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-brt-gebouw/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">brt</span><span class="p">:</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="c">#prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">geo</span><span class="p">:</span> <span class="nl">&lt;https://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?gebouwRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BRT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?gebouwRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">brt</span><span class="p">:</span><span class="nt">Gebouw</span><span class="p">,</span>
      <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/graphs/instanties&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/id/graph/instanties&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/id/graph/brt-2-bag&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?pandRegistratie</span> <span class="nn">geo</span><span class="p">:</span><span class="nt">sfWithin</span> <span class="nv">?gebouw</span><span class="p">.</span>
  <span class="c"># connections</span>
  <span class="nv">?gebouwRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?gebouw</span><span class="p">.</span>
  <span class="nv">?pandRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?pand</span><span class="p">.</span>
  <span class="p">[</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">maaktDeelUitVan</span> <span class="nv">?pand</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?verblijfsobject</span> <span class="p">].</span>
  <span class="c"># the rest</span>
  <span class="nv">?gebouwRegistratie</span>
    <span class="nn">brt</span><span class="p">:</span><span class="nt">geometriePunt</span><span class="err">|</span><span class="nn">brt</span><span class="p">:</span><span class="nt">geometrieVlak</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">brt</span><span class="p">:</span><span class="nt">typeGebouw</span> <span class="nv">?type</span><span class="p">.</span>
  <span class="nv">?gebouw</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?gebouwId</span><span class="p">.</span>
  <span class="nv">?verblijfsobject</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?verblijfsobjectId</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?gebouwRegistratie</span> <span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?name</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/brt-&#39;</span><span class="p">,</span>
                  <span class="nv">?gebouwId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?verblijfsobjectId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="technische-implementatie-gebieden">Technische Implementatie Gebieden</h3>
<h4 id="bag-woonplaats">BAG Woonplaats</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-bag-woonplaats">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-bag-woonplaats/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">status</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/id/status/&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?administrativeArea</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">AdministrativeArea</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?woonplaatsRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">Woonplaats</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?naam</span><span class="p">.</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?woonplaatsRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BAG vlakgeometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/graphs/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?woonplaatsRegistratie</span> <span class="k">a</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">WoonplaatsRegistratie</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?woonplaatsRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="nv">?woonplaatsRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">status</span> <span class="nv">?woonplaatsStatus</span><span class="p">.</span>
  <span class="k">filter</span><span class="p">(</span><span class="nv">?woonplaatsStatus</span> <span class="k">not in</span> <span class="p">(</span><span class="nn">status</span><span class="p">:</span><span class="nt">woonplaatsIngetrokken</span><span class="p">))</span>
  <span class="c"># the rest</span>
  <span class="nv">?woonplaatsRegistratie</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?woonplaats</span><span class="p">;</span>
    <span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?naam</span><span class="p">.</span>
  <span class="nv">?woonplaats</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?administrativeArea</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bag-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">simplify</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">),</span><span class="mf">1.0e-4</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="administrative-area-gebaseerd-op-bgt-gebieden">Administrative Area gebaseerd op BGT Gebieden</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-administrative-area">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-administrative-area/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">AdministrativeArea</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nv">?class</span><span class="p">,</span>
      <span class="nv">?functie</span><span class="p">,</span>
      <span class="nv">?fysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?plusFunctie</span><span class="p">,</span>
      <span class="nv">?plusFysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?plusType</span><span class="p">,</span>
      <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?placeName</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="err">values</span> <span class="nv">?class</span> <span class="p">{</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">BuurtRegistratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">OpenbareRuimteRegistratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">StadsdeelRegistratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">WaterschapRegistratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">WijkRegistratie</span>
  <span class="p">}</span>
  <span class="nv">?registratie</span> <span class="k">a</span> <span class="nv">?class</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># the rest</span>
  <span class="nv">?registratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bronhouder</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?bronhouderNaam</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?object</span><span class="p">.</span>
  <span class="nv">?object</span>
    <span class="k">a</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?classLabel</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">bgt_fysiekVoorkomen</span> <span class="nv">?fysiekVoorkomen0</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">functie</span> <span class="nv">?functie</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">naam</span> <span class="nv">?naam</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plusFunctie</span> <span class="nv">?plusFunctie</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plus_fysiekVoorkomen</span> <span class="nv">?plusFysiekVoorkomen0</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plusType</span> <span class="nv">?plusType</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">type</span> <span class="nv">?type</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?fysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?fysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?naam</span><span class="p">),</span>
          <span class="nv">?naam</span><span class="p">,</span>
          <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Een &#39;</span><span class="p">,</span>
                 <span class="nf">lcase</span><span class="p">(</span><span class="nv">?classLabel</span><span class="p">),</span>
                 <span class="s">&#39; van bronhouder &#39;</span><span class="p">,</span>
                 <span class="nv">?bronhouderNaam</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?placeName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?plusFysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?plusFysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="bag-en-bgt-openbare-ruimte">BAG en BGT Openbare Ruimte</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-administrative-area">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-administrative-area/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">dct</span><span class="p">:</span> <span class="nl">&lt;http://purl.org/dc/terms/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?administrativeArea</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">containsPlace</span> <span class="nv">?place</span><span class="p">.</span>
  <span class="nv">?geoCoordinates</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoCoordinates</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?openbareRuimteLabelRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">latitude</span> <span class="nv">?latitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">longitude</span> <span class="nv">?longitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT puntgeometrie&#39;</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span>
      <span class="nv">?openbareRuimteRegistratie</span><span class="p">,</span>
      <span class="nv">?openbareRuimteLabelRegistratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span> <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">dateCreated</span> <span class="nv">?dateCreated</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoCoordinates</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/graphs/instanties&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># Openbare ruimte label ↔ openbare ruimte: identity</span>
  <span class="nv">?openbareRuimteLabelRegistratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">bagOpenbareRuimte</span> <span class="nv">?openbareRuimte0</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?openbareRuimteLabelRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bag2.basisregistraties.overheid.nl/bag/id/object/NL.IMBAG.Openbareruimte.&#39;</span><span class="p">,</span>
                  <span class="nf">strafter</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nv">?openbareRuimte0</span><span class="p">),</span>
                           <span class="s">&#39;https://bag2.basisregistraties.overheid.nl/bag/id/openbare-ruimte/&#39;</span><span class="p">)))</span> <span class="k">as</span> <span class="nv">?openbareRuimte</span><span class="p">)</span>
  <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?openbareRuimte</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># Openbare ruimte: connections</span>
  <span class="nv">?openbareRuimteRegistratie</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">ligtIn</span> <span class="nv">?woonplaats</span><span class="p">.</span>
  <span class="c"># Openbare ruimte: the rest</span>
  <span class="nv">?openbareRuimteRegistratie</span>
    <span class="nn">bag</span><span class="p">:</span><span class="nt">type</span> <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">dct</span><span class="p">:</span><span class="nt">created</span> <span class="nv">?dateCreated</span><span class="p">;</span>
    <span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?openbareRuimteNaam</span><span class="p">.</span>
  <span class="nv">?openbareRuimte</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?openbareRuimteId</span><span class="p">.</span>
  <span class="c"># Openbare ruimte label: the rest</span>
  <span class="nv">?openbareRuimteLabelRegistratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?puntRd</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?openbareRuimteLabelId</span><span class="p">.</span>
  <span class="c"># Woonplaats: the rest</span>
  <span class="nv">?woonplaats</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?woonplaatsId</span><span class="p">.</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?woonplaatsId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?administrativeArea</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-coordinates/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?openbareRuimteLabelId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoCoordinates</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">latitude</span><span class="p">(</span><span class="nv">?punt</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?latitude</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">longitude</span><span class="p">(</span><span class="nv">?punt</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?longitude</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?openbareRuimteId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?puntRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?punt</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="wijken-en-buurten">Wijken en Buurten</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-administrative-area">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-administrative-area/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">geo</span><span class="p">:</span> <span class="nl">&lt;http://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">rdfs</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>
<span class="k">prefix</span> <span class="nn">wbk</span><span class="p">:</span> <span class="nl">&lt;https://data.labs.kadaster.nl/cbs/wbk/vocab/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geo</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?buurt</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&quot;CBS geometrie&quot;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?administrativeArea</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?buurt</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span> <span class="nn">wbk</span><span class="p">:</span><span class="nt">Buurt</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geo</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">identifier</span> <span class="nv">?id</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://data.labs.kadaster.nl/cbs/wbk/graphs/geo&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="nv">?buurt</span>
    <span class="k">a</span> <span class="nn">wbk</span><span class="p">:</span><span class="nt">Buurt</span><span class="p">;</span>
    <span class="nn">geo</span><span class="p">:</span><span class="nt">hasGeometry</span><span class="o">/</span><span class="nn">geo</span><span class="p">:</span><span class="nt">asWKT</span> <span class="nv">?shape</span><span class="p">;</span>
    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">label</span> <span class="nv">?label</span><span class="p">.</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?administrativeArea</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/wbk-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geo</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">strafter</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nv">?buurt</span><span class="p">),</span>
                <span class="s">&#39;https://data.labs.kadaster.nl/cbs/wbk/id/buurt/&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?id</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nv">?label</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?name</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">simplify</span><span class="p">(</span><span class="nv">?shape</span><span class="p">,</span><span class="mf">1.0e-4</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="wijken-en-buurten-linkset-met-bag">Wijken en Buurten Linkset met BAG</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-administrative-area">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-administrative-area/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">geo</span><span class="p">:</span> <span class="nl">&lt;http://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?administrativeArea</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">AdministrativeArea</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?buurt</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">containsPlace</span> <span class="nv">?place</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/graphs/instanties&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://data.labs.kadaster.nl/cbs/wbk-2-bag/graphs/links&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?buurt</span> <span class="nn">geo</span><span class="p">:</span><span class="nt">sfContains</span> <span class="nv">?pandRegistratie</span><span class="p">.</span>
  <span class="c"># connections</span>
  <span class="nv">?pandRegistratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?pand</span><span class="p">.</span>
  <span class="p">[</span> <span class="nn">bag</span><span class="p">:</span><span class="nt">maaktDeelUitVan</span> <span class="nv">?pand</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?verblijfsobjectId</span> <span class="p">].</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">strafter</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nv">?buurt</span><span class="p">),</span>
                <span class="s">&#39;https://data.labs.kadaster.nl/cbs/wbk/id/buurt/&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?buurtId</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?buurtId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?administrativeArea</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?verblijfsobjectId</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="technische-implementatie-terreindelen">Technische Implementatie Terreindelen</h3>
<h4 id="bgt-begroeid-terreindeel">BGT Begroeid Terreindeel</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-begroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-begroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">bgt</span><span class="p">:</span><span class="nt">BegroeidTerreindeel</span><span class="p">,</span>
      <span class="nv">?additionalClass</span><span class="p">,</span>
      <span class="nv">?functie</span><span class="p">,</span>
      <span class="nv">?fysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?plusFunctie</span><span class="p">,</span>
      <span class="nv">?plusFysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?plusType</span><span class="p">,</span>
      <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?placeName</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?registratie</span> <span class="k">a</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">BegroeidTerreindeelRegistratie</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># the rest</span>
  <span class="nv">?registratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bronhouder</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?bronhouderNaam</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">bgt_fysiekVoorkomen</span> <span class="nv">?fysiekVoorkomen0</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">functie</span> <span class="nv">?functie</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">naam</span> <span class="nv">?naam</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plusFunctie</span> <span class="nv">?plusFunctie</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plus_fysiekVoorkomen</span> <span class="nv">?plusFysiekVoorkomen0</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plusType</span> <span class="nv">?plusType</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">type</span> <span class="nv">?type</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?fysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?fysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?naam</span><span class="p">),</span>
          <span class="nv">?naam</span><span class="p">,</span>
          <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Een begroeid terreindeel van bronhouder &#39;</span><span class="p">,</span>
                 <span class="nv">?bronhouderNaam</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?placeName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?plusFysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?plusFysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="onbegroeid-terreindeel">Onbegroeid Terreindeel</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-onbegroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-onbegroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">bgt</span><span class="p">:</span><span class="nt">OnbegroeidTerreindeel</span><span class="p">,</span>
      <span class="nv">?fysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?plusFysiekVoorkomen</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?placeName</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?registratie</span> <span class="k">a</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">OnbegroeidTerreindeelRegistratie</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># the rest</span>
  <span class="nv">?registratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bgt_fysiekVoorkomen</span> <span class="nv">?fysiekVoorkomen0</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bronhouder</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?bronhouderNaam</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plus_fysiekVoorkomen</span> <span class="nv">?plusFysiekVoorkomen0</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?fysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?fysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?naam</span><span class="p">),</span>
          <span class="nv">?naam</span><span class="p">,</span>
          <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Een onbegroeid terreindeel van bronhouder &#39;</span><span class="p">,</span>
                 <span class="nv">?bronhouderNaam</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?placeName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?plusFysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?plusFysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="brt-terrein">BRT Terrein</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-onbegroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-onbegroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bag</span><span class="p">:</span> <span class="nl">&lt;https://bag2.basisregistraties.overheid.nl/bag/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">brt</span><span class="p">:</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="c">#prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">geo</span><span class="p">:</span> <span class="nl">&lt;https://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BRT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">brt</span><span class="p">:</span><span class="nt">Terrein</span><span class="p">,</span>
      <span class="nv">?fysiekVoorkomen_TE</span><span class="p">,</span>
      <span class="nv">?type</span><span class="p">,</span>
      <span class="nv">?voorkomen</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?object</span> <span class="k">a</span> <span class="nn">brt</span><span class="p">:</span><span class="nt">Terrein</span><span class="p">.</span>
  <span class="c"># connections</span>
  <span class="nv">?registratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?object</span><span class="p">.</span>
  <span class="c"># the rest</span>
  <span class="nv">?object</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="nv">?registratie</span>
    <span class="nn">brt</span><span class="p">:</span><span class="nt">geometrieVlak</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">brt</span><span class="p">:</span><span class="nt">typeLandgebruik</span> <span class="nv">?type</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">brt</span><span class="p">:</span><span class="nt">fysiekVoorkomen_TE</span> <span class="nv">?fysiekVoorkomen_TE</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">brt</span><span class="p">:</span><span class="nt">voorkomen_TE</span> <span class="nv">?voorkomen</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">skos</span><span class="p">:</span><span class="nt">altLabel</span><span class="err">|</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?name</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/brt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="technische-implementatie-waterdelen">Technische Implementatie Waterdelen</h3>
<h4 id="bgt-waterdeel">BGT Waterdeel</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-onbegroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-onbegroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geo</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">bgt</span><span class="p">:</span><span class="nt">Waterdeel</span><span class="p">,</span>
      <span class="nv">?plusType</span><span class="p">,</span>
      <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geo</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?placeName</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?registratie</span> <span class="k">a</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">WaterdeelRegistratie</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># the rest</span>
  <span class="nv">?registratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bronhouder</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?bronhouderNaam</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">type</span> <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plusType</span> <span class="nv">?plusType</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geo</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?naam</span><span class="p">),</span>
          <span class="nv">?naam</span><span class="p">,</span>
          <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Een waterdeel van bronhouder &#39;</span><span class="p">,</span>
                 <span class="nv">?bronhouderNaam</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?placeName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="brt-waterdeel">BRT Waterdeel</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-onbegroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-onbegroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">brt</span><span class="p">:</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoCoordinates</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoCoordinates</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">latitude</span> <span class="nv">?latitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">longitude</span> <span class="nv">?longitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BRT geometrie&#39;</span><span class="p">.</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BRT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">brt</span><span class="p">:</span><span class="nt">Waterdeel</span><span class="p">,</span>
      <span class="nv">?functie</span><span class="p">,</span>
      <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span>
      <span class="nv">?geoCoordinates</span><span class="p">,</span>
      <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?object</span> <span class="k">a</span> <span class="nn">brt</span><span class="p">:</span><span class="nt">Waterdeel</span><span class="p">.</span>
  <span class="c"># connections</span>
  <span class="nv">?registratie</span> <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span> <span class="nv">?object</span><span class="p">.</span>
  <span class="c"># the rest</span>
  <span class="nv">?object</span> <span class="nn">nen3610</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="nv">?registratie</span>
    <span class="nn">brt</span><span class="p">:</span><span class="nt">functie_WA</span> <span class="nv">?functie</span><span class="p">;</span>
    <span class="nn">brt</span><span class="p">:</span><span class="nt">typeWater</span> <span class="nv">?type</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">skos</span><span class="p">:</span><span class="nt">altLabel</span><span class="err">|</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?name</span><span class="p">.</span> <span class="p">}</span>
  <span class="p">{</span>
    <span class="nv">?registratie</span> <span class="nn">brt</span><span class="p">:</span><span class="nt">geometriePunt</span> <span class="nv">?puntRd</span><span class="p">.</span>
    <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?puntRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?punt</span><span class="p">)</span>
    <span class="k">bind</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">latitude</span><span class="p">(</span><span class="nv">?punt</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?latitude</span><span class="p">)</span>
    <span class="k">bind</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">longitude</span><span class="p">(</span><span class="nv">?punt</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?longitude</span><span class="p">)</span>
    <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-coordinates/brt-&#39;</span><span class="p">,</span>
                    <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoCoordinates</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">union</span> <span class="p">{</span>
    <span class="nv">?registratie</span> <span class="nn">brt</span><span class="p">:</span><span class="nt">geometrieLijn</span><span class="err">|</span><span class="nn">brt</span><span class="p">:</span><span class="nt">geometrieVlak</span> <span class="nv">?vormRd</span><span class="p">.</span>
    <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vormRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
    <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/brt-&#39;</span><span class="p">,</span>
                    <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="technische-implementatie-wegdelen">Technische Implementatie Wegdelen</h3>
<h4 id="bgt-wegdeel">BGT Wegdeel</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-onbegroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-onbegroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">bgt</span><span class="p">:</span><span class="nt">Wegdeel</span><span class="p">,</span>
      <span class="nv">?functie</span><span class="p">,</span>
      <span class="nv">?fysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?plusFunctie</span><span class="p">,</span>
      <span class="nv">?plusFysiekVoorkomen</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?placeName</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># identity</span>
  <span class="nv">?registratie</span> <span class="k">a</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">WegdeelRegistratie</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># the rest</span>
  <span class="nv">?registratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bgt_fysiekVoorkomen</span> <span class="nv">?fysiekVoorkomen0</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bronhouder</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?bronhouderNaam</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">functie</span> <span class="nv">?functie</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plusFunctie</span> <span class="nv">?plusFunctie</span><span class="p">.</span> <span class="p">}</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">plus_fysiekVoorkomen</span> <span class="nv">?plusFysiekVoorkomen0</span><span class="p">.</span> <span class="p">}</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?fysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?fysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">if</span><span class="p">(</span><span class="nf">bound</span><span class="p">(</span><span class="nv">?naam</span><span class="p">),</span>
          <span class="nv">?naam</span><span class="p">,</span>
          <span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Een wegdeel van bronhouder &#39;</span><span class="p">,</span><span class="nv">?bronhouderNaam</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?placeName</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://bgt.basisregistraties.overheid.nl/bgt/id/fysiek-voorkomen/&#39;</span><span class="p">,</span>
                  <span class="nv">?plusFysiekVoorkomen0</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?plusFysiekVoorkomen</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="brt-wegdeel">BRT Wegdeel</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-onbegroeid-terreindeel">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-onbegroeid-terreindeel/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">brt</span><span class="p">:</span> <span class="nl">&lt;https://brt.basisregistraties.overheid.nl/brt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?geoCoordinates</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoCoordinates</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">latitude</span> <span class="nv">?latitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">longitude</span> <span class="nv">?longitude</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BRT geometrie&#39;</span><span class="p">.</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BRT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span>
      <span class="nn">brt</span><span class="p">:</span><span class="nt">Wegdeel</span><span class="p">,</span>
      <span class="nv">?fysiekVoorkomen</span><span class="p">,</span>
      <span class="nv">?hoofdverkeersgebruik</span><span class="p">,</span>
      <span class="nv">?typeInfrastructuur</span><span class="p">,</span>
      <span class="nv">?typeWeg</span><span class="p">,</span>
      <span class="nv">?verhardingstype</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span>
      <span class="nv">?geoCoordinates</span><span class="p">,</span>
      <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="technische-implementatie-overig">Technische Implementatie Overig</h3>
<h4 id="bgt-brug">BGT Brug</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-bgt-brug">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-bgt-brug/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">bgt</span><span class="p">:</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">prefix</span> <span class="nn">foaf</span><span class="p">:</span> <span class="nl">&lt;http://xmlns.com/foaf/0.1/&gt;</span>
<span class="k">prefix</span> <span class="nn">nen3610</span><span class="p">:</span> <span class="nl">&lt;http://definities.geostandaarden.nl/def/nen3610#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>
<span class="k">prefix</span> <span class="nn">skos</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span>
<span class="k">prefix</span> <span class="nn">tfg</span><span class="p">:</span> <span class="nl">&lt;https://triplydb.com/Triply/functions/geo/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?bridge</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Bridge</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span> <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?registratie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;BGT geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/def/&gt;</span>
<span class="k">from named</span> <span class="nl">&lt;https://bgt.basisregistraties.overheid.nl/bgt/id/graph/instanties&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="c"># Brug: identity</span>
  <span class="nv">?registratie</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">hoortBijTypeOverbrugging</span> <span class="nn">bgt</span><span class="p">:</span><span class="nt">Brug</span><span class="p">.</span>
  <span class="k">filter</span> <span class="nf">not exists</span> <span class="p">{</span> <span class="nv">?registratie</span> <span class="nn">prov</span><span class="p">:</span><span class="nt">invalidatedAtTime</span> <span class="p">[].</span> <span class="p">}</span>
  <span class="c"># Brug: the rest</span>
  <span class="nv">?registratie</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">bronhouder</span><span class="o">/</span><span class="nn">skos</span><span class="p">:</span><span class="nt">prefLabel</span> <span class="nv">?bronhouderNaam</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">geometrie</span> <span class="nv">?vlakRd</span><span class="p">;</span>
    <span class="nn">bgt</span><span class="p">:</span><span class="nt">typeOverbruggingsdeel</span> <span class="nv">?type</span><span class="p">;</span>
    <span class="nn">foaf</span><span class="p">:</span><span class="nt">primaryTopic</span><span class="o">/</span><span class="nn">bgt</span><span class="p">:</span><span class="nt">identificatie</span><span class="o">/</span><span class="nn">nen3610</span><span class="p">:</span><span class="nt">lokaalID</span> <span class="nv">?id</span><span class="p">.</span>

  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?bridge</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/bgt-&#39;</span><span class="p">,</span>
                  <span class="nv">?id</span><span class="p">))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;Een brugdeel van bronhouder &#39;</span><span class="p">,</span><span class="nv">?bronhouderNaam</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?name</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nn">tfg</span><span class="p">:</span><span class="nt">project</span><span class="p">(</span><span class="nv">?vlakRd</span><span class="p">)</span> <span class="k">as</span> <span class="nv">?polygon</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="rce-monumenten">RCE Monumenten</h4>
<p>De bijbehorende tabel vindt u <a href="https://labs.kadaster.nl/demonstrators/architectuur-selfservice/KnowledgeGraph/#ld-view-for-bgt-brug">hier</a> en de bijbehorende Weaver model vindt u <a href="https://kadaster.wvr.io/ld-view-bgt-brug/home">hier</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">prefix</span> <span class="nn">ceo</span><span class="p">:</span> <span class="nl">&lt;https://linkeddata.cultureelerfgoed.nl/def/ceo#&gt;</span>
<span class="k">prefix</span> <span class="nn">geo</span><span class="p">:</span> <span class="nl">&lt;http://www.opengis.net/ont/geosparql#&gt;</span>
<span class="k">prefix</span> <span class="nn">prov</span><span class="p">:</span> <span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span>
<span class="k">prefix</span> <span class="nn">sdo</span><span class="p">:</span> <span class="nl">&lt;https://schema.org/&gt;</span>

<span class="k">construct</span> <span class="p">{</span>
  <span class="nv">?place</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">Place</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?rijksmonument</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">additionalType</span> <span class="nn">ceo</span><span class="p">:</span><span class="nt">Rijksmonument</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">geo</span> <span class="nv">?geoShape</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="nv">?name</span><span class="p">.</span>
  <span class="nv">?geoShape</span>
    <span class="k">a</span> <span class="nn">sdo</span><span class="p">:</span><span class="nt">GeoShape</span><span class="p">;</span>
    <span class="nn">prov</span><span class="p">:</span><span class="nt">wasDerivedFrom</span> <span class="nv">?geometrie</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">name</span> <span class="s">&#39;RCE geometrie&#39;</span><span class="p">;</span>
    <span class="nn">sdo</span><span class="p">:</span><span class="nt">polygon</span> <span class="nv">?polygon</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">from named</span> <span class="nl">&lt;https://linkeddata.cultureelerfgoed.nl/id/ceo/&gt;</span>

<span class="k">where</span> <span class="p">{</span>
  <span class="nv">?rijksmonument</span>
    <span class="k">a</span> <span class="nn">ceo</span><span class="p">:</span><span class="nt">Rijksmonument</span><span class="p">;</span>
    <span class="nn">ceo</span><span class="p">:</span><span class="nt">heeftGeometrie</span> <span class="nv">?geometrie</span><span class="p">;</span>
    <span class="nn">ceo</span><span class="p">:</span><span class="nt">rijksmonumentnummer</span> <span class="nv">?nummer</span><span class="p">.</span>
  <span class="k">optional</span> <span class="p">{</span> <span class="nv">?rijksmonument</span> <span class="nn">ceo</span><span class="p">:</span><span class="nt">heeftNaam</span><span class="o">/</span><span class="nn">ceo</span><span class="p">:</span><span class="nt">naam</span> <span class="nv">?name</span><span class="p">.</span> <span class="p">}</span>
  <span class="nv">?geometrie</span> <span class="nn">geo</span><span class="p">:</span><span class="nt">asWKT</span> <span class="nv">?polygon</span><span class="p">.</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/place/&#39;</span><span class="p">,</span>
                  <span class="nf">str</span><span class="p">(</span><span class="nv">?nummer</span><span class="p">)))</span> <span class="k">as</span> <span class="nv">?place</span><span class="p">)</span>
  <span class="k">bind</span><span class="p">(</span><span class="nf">iri</span><span class="p">(</span><span class="nf">concat</span><span class="p">(</span><span class="s">&#39;https://data.labs.kadaster.nl/kadaster/kg/id/geo-shape/rce-&#39;</span><span class="p">,</span>
                  <span class="nf">str</span><span class="p">(</span><span class="nv">?nummer</span><span class="p">)))</span> <span class="k">as</span> <span class="nv">?geoShape</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../KnowledgeGraph/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Knowledge Graph
            </div>
          </div>
        </a>
      
      
        <a href="../Pipeline/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Pipeline
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
    
  </body>
</html>