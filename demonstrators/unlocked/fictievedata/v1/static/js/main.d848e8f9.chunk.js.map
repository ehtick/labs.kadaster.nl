{"version":3,"sources":["helpers/Command.js","components/Footer.js","components/widgets/Slider.module.css","components/widgets/SplitLayout.module.css","components/login/LoginPageLayout.module.css","redux/project.js","helpers/LoginHelper.js","components/widgets/Table2.module.css","components/widgets/bb/BBPicture.module.css","helpers/AfterJS.js","model/project.ts","model/user.ts","api/login.ts","images/arrow-back.svg","components/BackButton.js","images/gear.svg","components/widgets/List.module.css","components/widgets/SelectBox.module.css","helpers/utils.js","components/Viewer.js","components/widgets/RadioBox.module.css","redux/current-viewer.ts","images/info.svg","components/AutoHyperlink.js","helpers/user-input-messenger.ts","components/Dialog.module.css","components/widgets/TableCells.module.css","components/widgets/Yasgui.module.css","components/widgets/bb/BBHTML.module.css","components/widgets/SequencePaths.module.css","components/FormField.module.css","helpers/PublishUtils.js","components/Notifications.module.css","components/widgets/Table.js","components/ToggleSwitch.module.css","images/plus.svg","components/widgets/bb/BBPropertyPanelDescriptor.js","components/widgets/bb/BBCheckboxTreeDescriptor.js","components/widgets/TableDescriptor.js","components/widgets/TableCells.js","components/widgets/TreeDescriptor.js","components/widgets/TreeD3Descriptor.js","components/widgets/List.js","components/widgets/RadioBox.js","components/widgets/SelectBox.js","components/widgets/Slider.js","components/widgets/SearchAutocomplete.js","components/widgets/Tab.js","components/widgets/SplitLayout.js","components/widgets/SplitLayoutTestDescriptor.js","components/widgets/Yasgui.js","components/widgets/bb/BBMap.js","components/widgets/bb/BBMultiMap.js","components/widgets/bb/BBTable.js","components/widgets/bb/BBTreeTable.js","components/widgets/bb/BBYasgui.js","components/widgets/bb/BBYasguiLatest.js","components/widgets/bb/BBYasr.js","components/widgets/bb/BBYasguiNotebook.js","components/widgets/bb/BBNotebook.js","components/widgets/bb/BBKGApiVizWidget.js","components/widgets/bb/BBVoyager.js","components/widgets/bb/BBAccordionDescriptor.js","components/widgets/bb/BBPicture.js","components/widgets/bb/BBHTML.js","components/widgets/bb/editor/BBDFormDescriptor.js","components/widgets/bb/BBSideMenuDescriptor.js","components/widgets/bb/BBEChartDescriptor.js","components/widgets/bb/BBBoorkern.js","components/widgets/bb/rules/StartRuleButtonDescriptor.js","components/widgets/bb/BBLinkButtons.js","components/widgets/bb/BBIFCViewer.js","components/widgets/bb/BBStructuredTextDescriptor.js","components/widgets/bb/kvk/BBKVKProductTemplateDescriptor.js","components/widgets/bb/BBBackMenu.js","components/widgets/bb/BBSimplePushButtonDescriptor.js","components/widgets/bb/BBVenn.js","components/widgets/bb/BBForm.js","components/widgets/bb/BBUploadDescriptor.js","components/widgets/bb/BBNOML.js","components/widgets/bb/rotterdam/ButtonPopupDescriptor.js","components/widgets/bb/BBRDFViewer.js","components/widgets/bb/BBCesium.js","components/widgets/bb/BBSVG.js","components/widgets/bb/venr/BBWegselectorDescriptor.js","components/widgets/bb/BBParameterLinkEmptyWidget.js","components/widgets/SequencePaths.js","components/widgets/bb/BBIFCJSViewerDescriptor.js","components/widgets/bb/ifc/BBThreeJSViewerDescriptor.js","components/widgets/bb/deck/NebulaDescriptor.js","hooks/use-debounce.ts","components/widgets/TextInput.tsx","components/widgets/DynamicFilter/dynamicFilterWidgetDescription.tsx","components/widgets/ExcelWidget.tsx","components/ToggleSwitch.tsx","components/widgets/ToggleWidget.tsx","components/widgets/index.js","images/cross.svg","components/Loader.tsx","components/Widget.js","components/DisableUserActionsWrapper.tsx","components/default-widget-config.ts","components/mui/LargeTooltip.tsx","components/Area.js","images/gear-white.svg","images/gear-blue.svg","components/widgets/bb/BBVis.js","components/widgets/bb/Button.module.css","components/widgets/bb/kvk/BBKVKFlexibleTextWidget.js","components/widgets/bb/BBIFrame.js","hooks/use-force-update.ts","hooks/use-dialog.tsx","components/BackButton.module.css","components/DeleteAppConfigButton.module.css","images/preview.svg","components/Notification.js","components/widgets/Table2.js","components/widgets/ToggleWidget.module.css","components/Yasgui.js","helpers/sparql.js","components/DisableUserActionsWrapper.module.css","components/ViewerContextUtils.js","components/widgets/Icon.ts","components/widgets/Table.module.css","components/Area.module.css","components/widgets/bb/bbutil.js","images/spinner.gif","components/Spinner.js","redux/projects.js","redux/users.js","redux/login.ts","redux/rootReducer.js","redux/event.js","redux/pubsub.js","store.js","images/add.svg","images/logo.svg","components/Home.js","components/Users.js","components/DeleteAppConfigButton.tsx","api/delete-app-config.ts","api/utils.ts","components/Project.js","components/login/LoginPageLayout.tsx","components/login/Login.tsx","api/repo-login.ts","components/login/RepoLogin.tsx","components/ProtectedRoute.tsx","App.js","serviceWorker.js","components/mui/theme.tsx","index.js","helpers/url.ts","components/Project.module.css","components/Footer.module.css","components/Viewer.module.css","components/widgets/Tab.module.css","components/Dialog.js","components/Header.module.css","components/FormField.js","images/person.svg","components/Header.js","components/Home.module.css","helpers/layout.ts","components/Users.module.css","components/widgets/SearchAutocomplete.module.css"],"names":["Command","window","top","repoURL","sendCommand2","commando","uri","component","command","options","rv","failure","props","e","includes","commandUrl","replace","formData","FormData","append","key","axios","defaults","withCredentials","credentials","post","headers","then","arg","console","log","call","this","catch","alert","success","getRepoUrl","data","parameters","json","command2","command3","tag","test","graph","cgi","LoginHelper","logoff","Footer","keuze","location","pathname","er","className","styles","wrapper","main","href","alt","style","maxHeight","marginRight","src","normaal","names","email","waternet2","commentMessage","kvk","buildingbits","mayer","Component","withRouter","module","exports","FETCH_VIEWER_SUCCESS","FETCH_PROJECT_SUCCESS","SAVE_VIEWER_SUCCESS","DELETE_APP_SUCCESS","SET_LAYOUT_NAME","initialState","loading","viewers","handleProject","state","action","type","filter","v","deleted","map","loaded","item","id","layoutName","repoUrl","url","ilUrl","method","iets","repo","login","psw","dataSend","loggedIn","error","reload","history","AfterJS","name","label","widget","jsAfterSelection","js","eval","parameter","pred","pv","publishVariable","sparql","pubsub","MySparql","select","result","results","bindings","value","publish","ProjectSchema","z","object","string","title","path","createdAt","UserSchema","project","optional","role","union","literal","LS_TOKEN_KEY","response","token","localStorage","setItem","user","parse","me","removeItem","AxiosError","reason","logout","ERR_INVALID_RESPONSE_WITH_SUGGESTION","getCurrentUser","getItem","get","Authorization","Error","_path","_path2","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","titleId","xmlns","xmlnsXlink","x","y","width","height","viewBox","enableBackground","xmlSpace","ref","fillRule","clipRule","d","ForwardRef","BackButton","onClick","to","push","goBack","backButton","not","fn","isEmptyObject","obj","getPrototypeOf","CancelToken","getSparqlFunction","startsWith","modus","host","localRepoURL","getUrl","query","errorRV","encodeURIComponent","cancelToken","c","cancel","createSparqlFunction2","Viewer","popupInfoVisible","dialogVisible","notification","showJSONEditor","onJsonEditClick","setState","isLoggedIn","requiresBBLogin","search","getCgiUrl","bbsparqlendpoint","URLSearchParams","repo2","isLoggedInUrl","toLowerCase","document","userParameters","userUri","userName","btoa","onChange","config","viewer","mainArea","selectLayout","inflateLayout","dispatch","save","getViewProps","projectPath","viewerPath","new","text","timer","setTimeout","s","status","onDialogOkClick","onHeaderClick","mode","jsonOKClick","componentDidMount","find","loadViewerIntoState","CONNECTED_APPS_STATIC","extra","noConfigCache","Math","random","toString","axiosO","prejs","error2","shouldLogin","defaultConfig","update60Enabled","update60Running","changingProps","par","popupInfoAtStart","r","getAndSetDefaultParameterValues","myPublish","partialViewer","crypto","getRandomValues","Uint8Array","update60","changingProps60","b","loop60","uuidv4","clearTimeout","loginState","st","notShowTop","preview","edit","showBottom","notShowBottom","showTop","css","JSON","mainContainer","rel","sizes","messageType","gear","position","cursor","textDecoration","right","editButton","color","opacity","subtitle","pageWidth","parseUrlProperties","logoutbutton","noLoginButton","logoURL","onInfoClick","infoMessage","onSettingsClick","maxWidth","areaContainer","sparqlErrorMessage","parameterValues","layout","showFooter","footer","zIndex","open","Boolean","onClose","infoDialogueContainer","LAYOUT_NAME","CUSTOM","ORIGINAL","updateViewer","checked","settingsCheckbox","stringify","old","minWidth","marginTop","public","textAlign","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","PROJECT","VIEWER","match","params","mapStateToProps","connect","votersForGlobalUserActionsDisabled","Set","currentViewerReducer","newVoters","add","voterId","delete","isUserActionsDisabled","size","emailRegExp","AutoHyperlink","emails","matchAll","texts","emailsFromLeftToRight","reduceRight","split","extractNonEmailTexts","CURRENT_KEY_PRESSES","userInputChannel","BroadcastChannel","setupUserInputMessenger","windowElement","addEventListener","event","has","broadcastKeyRegistration","registerKey","deregisterKey","postMessage","PublishUtils","debug","timestampParameters","values","Date","now","resetValues","subscribeProps","f","subscribeProp","subscribeValue","subscribeProp2","prop","replaceAll","regex2","RegExp","arg2","resetDataProps","button","multipleselectparametertype","list","record","forEach","getMultiplePropValueAsSingleValue","valueString","komma","pre","end","kommaT","getEmptyMultiplePropValueAsSingleValue","n","multipleSelectParameterType","multiplePropValue","csvuri","prefix","postfix","separator","csvstring","valuestring","valueuri","after","lookingFor","parseSymbolIntoParsed","parsed","char","symbol","expectedChar","parsedLength","parserState","Array","from","reduce","currentEscapeChar","message","check","icon","cross","crossDel","deleteIcon","link","Table","deleteSuccess","setTimeStampParameter","deleteFailure","deleteClick","rule","deletebuttonrule","confirm","ruleRule","runRulesWithTag","resetParameter","openLink","rs","replaceHeaderJSON","str","charAt","toUpperCase","slice","renderEmpty","zeroResult","generateEmptyResponse","selectedUri","highlightVariable","headVars","head","vars","items","restructureResponse","aggregateResultsByID","aggregateResultsByFirstParameter","center","centertext","centerContent","html","ashtml","deleteRow","hasNumberedRows","rowNumberHeader","headVar","index","endsWith","getHeader","rowNumber","highlight","inlineblock","dangerouslySetInnerHTML","__html","anders","iconcenter","React","BBPropertyPanelDescriptor","lazy","variables","BBDCheckboxTreeDescriptor","TableDescriptor","category","description","defaultsparqlquery","getResetValueDef","getTimestampParametersDef","TableCells","res","isArray","re","sort","a","localeCompare","rowsHash","rows","headersHash","nitem","header","row","isFirstItemBold","firstItemBold","rindex","hindex","TreeDescriptor","getMultipleValueFormatOptions","TreeD3Descriptor","List","checklist","all","handleAllOnChange","handleOnChange","clearList","nextProps","nextState","allMultipleSelect","disabled","userActionsDisabled","checkboxvalue","multipleselect","renderMultiple","selectedItem","customStyling","textColor","selectedTextColor","bgColor","selectedBgColor","itemBorderStyle","itemPaddingVertical","itemPaddingHorizontal","padding","RadioBox","publishVariableLabel","restructureOptions","org","trim","option","radioContainerHor","verticalAlign","paddingRight","paddingLeft","radioContainerVer","horizontal","renderOptionsHorizontal","renderOptionsVertical","SelectBox","value2","selectedIndex","attributes","selected","publishVariable2","preSelect","prevProps","isEqual","preSelectFirstItem","ok","keyURI","keyLabel","stylePanel","panelstyle","stylePrimaryAction","colorPrimaryAction","extrastyle","round","Slider","onmouseup","onChangeThrottle","throttle","arg1","publishStartValue","minmax","defineMaxMinValue","maxValue","startMin","minValue","Number","step","tick","parseInt","container","rangeValue","slider","min","max","onMouseUp","SearchAutocomplete","searchValue","validItems","showPopup","itemsRef","createRef","handleKeyPress","objectKey","objectURIKey","preventDefault","scrollToSelectedItem","itemsStartingWithSearchQuery","itemsOnlyContainingSearchQuery","onBlur","emptyEvent","nullSelectionResetVariable","resetPublishVariable","direction","requestAnimationFrame","current","querySelector","element","cTop","scrollTop","cBottom","clientHeight","eTop","offsetTop","eBottom","isInView","scrollIntoView","block","objectURI","ind","Icon","fontSize","l1","l2","l3","fontWeight","isSelected","renderLabel","noResults","ee","mainStyle","alignItems","cssEscape","textbefore","inputContainer","headertxt","onKeyDown","renderValidItems","APPEARANCE","TRADITIONAL","CAROUSEL_WITHOUT_BUTTONS","CAROUSEL_WITH_BUTTONS","Tab","hideTabs","areas","tabId","onTabClick","tabSelectionSubscription","initialTabSelection","registeredTabComponents","previoustabname","firstResult","tabs","tab","hideTabIDs","nn","substring","selectedTabname","getFirstNonHiddenTab","viewMode","appearance","TraditionalTabs","icons","inactiveTabsOnlyIcons","areaConfig","withinSelectedTab","display","CarouselTabs","withButtons","tabText","datan","tab2","hideTabText","transform","carouselTabsContainer","Button","carouselButton","prevIcon","tabLabel","carouselItem","itemIcon","nextIcon","SplitLayout","firstTime","areaSizes","extraStyle","disableScrollbars","overflowHidden","areaSize","flex","fixedSize","heightOrWidth","minimize","substr","toLocaleUpperCase","disableFlexbox","SplitLayoutTestDescriptor","Yasgui","onRunClick","loadData","yas","getValue","textArea","yasgui","Yasqe","setValue","Accept","err","buttonContainer","tableContainer","renderData","BBMap","bbFolderName","scrolling","noEvents","usesParameters","getJSScriptAfterSelectionChange","BBIFrame","BBMultiMap","setSelectedUris","selectedUris","getListAsSingleValue","sendSelectedUrisToIframe","iframeRef","contentWindow","subscribeVariable","undefined","prevState","newSelectedUris","parseMultiplePropValue","join","BBTable","resolveParameterValue","processStringForParameters","exportToSpreadsheet","fileName","workSheet","XLSX","aoa_to_sheet","wscols","aantal","ascii","String","fromCharCode","font","sz","bold","wpx","filename","workBook","Sheets","cols","SheetNames","excelBuffer","bookType","fileData","Blob","FileSaver","wraptext","array","headerKeys","BBTreeTable","iface","selectUri","BBYasgui","BBYasguiLatest","BBYasr","BBYasguiNotebook","BBNotebook","BBKGApiVizWidget","ar","createVizJSON","BBVoyager","BBAccordionDescriptor","BBPicture","encodedData","pictureBaseEncoded","BBHTML","htmlgeenresultaat","html2","html3","cls","fullwindow","BBDFormDescriptor","BBSideMenuDescriptor","BBEChartDescriptor","BBBoorkern","updateMe","StartRuleButtonDescriptor","BBLinkButtons","buttonBorderRadius","marginBetweenButtons","buttonContainerPadding","projectStyles","labels","CustomStyleButton","links","openLinkInSameTab","openLinksInTheSameTab","beginIcon","beginIcons","endIcon","endIcons","hasButtonShadow","OriginalButton","topicValueInterpolationEnabled","titleText","children","buttonStyles","variant","startIcon","BBIFCViewer","nprops","nstate","resetViewer","BBStructuredTextDescriptor","BBKVKProductTemplateDescriptor","BBBackMenu","anchorEl","selections","handleClickBack","rValue","pop","changeSelectedTabs","t","getTabId","sel","handleClose","newValue","o","Tooltip","IconButton","BBSimplePushButtonDescriptor","BBVenn","BBForm","BBUploadDescriptor","BBNOML","ButtonPopupDescriptor","BBRDFViewer","BBCesium","BBSVG","BBDWegselectorDescriptor","BBParameterLinkEmptyWidget","publishParameter","ex","WIDGET_VARIABLES","SequencePaths","sequences","previousData","render","sequence","entry","Fragment","iconName","pathSegment","componentDidUpdate","makeHashMaps","rowByUri","rowsByParentUri","parentUri","flatMap","getSequences","parent","at","sequenceRows","topicOnClick","BBIFCJSViewerDescriptor","NebulaDescriptor","useDebounce","onTimeout","debounceTime","debounceOn","timerRef","useRef","useEffect","FormGroup","_FormGroup","Input","_Input","Label","_Label","DEFAULT","DEBOUNCE_TIME","WIDTH","textInputWidgetDescription","debounceTimeInSeconds","parsedDebounceTime","useState","setText","publishText","topicToPublish","isNaN","marginLeft","marginBottom","dynamicFilterWidgetDescription","helpComponent","excelWidgetDescription","sparqlData","highlightConfigs","binding","sheet","col","range","sheetloaded","setSheetLoaded","luckysheetId","widgetId","forceUpdate","useForceUpdate","excelUrlFromTopic","excelUrlTopic","loadExcel","excelUrl","loadLuckySheetIfNeeded","luckysheet","LuckyExcel","transformExcelToLuckyByUrl","exportJson","create","sheets","showinfobar","info","userInfo","creator","hook","rangeSelect","publishCellLocationAndSheetName","workbookCreateAfter","input","colonIndex","trimAfterColon","getRangeAxis","getRangeValuesWithFlatte","selectedCellLocation","selectedCellValue","currentActiveSheetName","highlightSparqlData","undoHighlight","highlights","allUndos","undo","sheetIndex","getAllSheets","findIndex","setSheetActive","undos","cellIndexes","getCellIndexes","cellIndex","cellValue","origBg","bg","setCellFormat","refresh","fastHighlight","allSheets","sheetNameToIndexMap","cellRanges","indexToColumn","createRange","origBgs","setRangeFormat","fastHighlighting","flexDirection","LUCKY_CSS","margin","Promise","resolve","reject","resources","loadedCount","resourceLoaded","resource","linkElement","createElement","onload","onerror","appendChild","scriptElement","highlightParameter","rowIndex","colIndex","excelColumnToIndex","start","startRow","startCol","endRow","endCol","parseExcelRange","columnName","charCodeAt","column","modulo","floor","ToggleSwitch","isToggled","toggleWidgetDescription","iconImage","publishTopic","handleClick","disabledIconColor","disabledBgColor","enabledIconColor","enabledBgColor","iconButton","widgetDefinitions","getDescription","SplitLayoutTest","BBEChart","BBVis","Tree","BBCheckboxTree","BBSideMenu","BBPropertyPanel","TreeD3","Table2","BBAccordion","BBDForm","BBKVKProductTemplate","BBKVKFlexibleTextWidget","BBSimplePushButton","BBStructuredText","BBUpload","ButtonPopup","BBIFCJSViewer","BBThreeJSViewer","StartRuleButton","Loader","loadStyle","fallback","Spinner","active","SparqlClient","require","cache","saveCache","downloadObjectAsJson","Widget","resolveTemplateVariableInQuery","changedPublishProp","subscribeProps2","flat","setLoading","publishMultipleValues","prop_value","voteForUserActionsDisabledWhenLoading","voteForUserActionsDisabled","setLoadingFromWidget","sendNotification","msg","toast","resolveTemplateVariableInQueryDebounce","debounce","useLoadingWidget","createSparqlFunction","encodedQuery","sparqlQuery","encodedQueryForCache","endpointUrl","client","operation","stream","executedSparql","codes","nquery","codeQuery","evalcode","evalCode2","Function","runJSInQuery","uid","getUniqueId","loadData2","__CANCEL__","definition","variable","getLoadStyle","cloneElement","closeDialog2","closeDialog","DisableUserActionsWrapper","DEFAULT_WIDGET_CONFIG","general","syncWithUserActionsDisabled","ToggleWidget","LargeTooltip","styled","arrow","classes","popper","tooltipClasses","tooltip","textTransform","Area","originalConfig","onInsertLayout","onDeleteWidget","onFormChange","isLayoutWidget","moveConfig","area","onChildChange","newConfig","onShowPopupInfo","infoPopupClose","openAndSaveOriginalConfigForUndo","closeAndKeepConfigChanges","closeAndUndoConfigChanges","handleVoteForUserActionsDisabled","uniqueId","hasVotedForUserActionsDisabled","widgetDefinition","widgetUserActionsDisabled","withTopicValues","menubar","titleMenuBar","titleMenubar","islayout","extraStyling1","extraStyling2","extraStyling3","extraStyling4","panelstyleExtra","sts","displayFlex","outerAreaContainerDisplayFlex","infoMenubarb","infoMenubar","hidden","visibilityState","Grow","appear","timeout","in","visibility","outerAreaContainer","areaBorderStyle","areaBorderRadius","hoverToEdit","hoverIndicator","placement","editArea","insertIcon","gearBlue","gearWhite","editIcon","menubartxt","infoIcon","renderWidget","Dialog","FormField","classforname","formElement","wd","currentViewer","rc","page","analyseResults","imgViz","reloadID","pvar","publishTextVariable","publishVariable1","runAfterSelection","publishVariableName","publishList","publishVariableParameterTypeName","publishVariableParameterType","singleValue","updateMe2","qq","parseTextForVariables","mounted","ReactDOM","findDOMNode","parentNode","setAttribute","afterIntegration","shallowCompare","_","setMessage","sendEvent","reExecuteSparql","firstData22","q","basequery","setBeginSparqlResults","latestData22","onlyOnce","setPubSub","setSelection","selectionValue","selection","once","Singleton","getInstance","iframes","htmlid","createRoot","expandLevel","renderOnce","getParameters","loading222","frameBorder","process","htmln","registerMe","useReducer","show","root","getElementById","body","getRoot","remove","useDialog","Notification","box","backgroundColor","camelCaseToSpaces","TableRow","valueObject","secondValueObject","rawHTML","link2","valuesObj","createStateValues","val","on","handleBlur","restructuredData","id_item","gitem","sp","Parser","sparql2","eee","empty","exportObj","exportName","dataStr","downloadAnchorNode","click","downloadConfig","ss","getAbsoluteRepoUrl","p_v","entries","key2","library","fas","instance","style22","spinner","fetchProjects","cb","getState","projects","isLoggingIn","combineReducers","payload","users","timestamps","dn","changes","replaceSets","store","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","serialize","replacer","compose","createStore","rootReducer","applyMiddleware","thunk","configureStore","Home","createProject","orderBy","Helmet","Header","content","logo","paragr","subTitle","Users","createUser","fetchUsers","password","confirming","deleting","DeleteAppConfigButton","stopPropagation","DialogTitle","DialogContent","createdBy","createdOn","DialogActions","autoFocus","deleteAppConfig","Project","newClicked","possible","makeID","deleteApp","isAuthenticated","hasAuth","noViewerMessage","renderViewers","emailsWithAnyDeletionRights","appCreator","LoginPageLayout","modern","LoginButtonBar","otherProps","spin","EMAIL_PATTERN","Login","useForm","register","handleSubmit","formState","errorReason","setErrorReason","doLogin","loginCredentials","resp","onSubmit","required","pattern","isSubmitting","RepoLoginResponseSchema","any","repoLogin","loginParams","username","repoLoginResponse","RepoLogin","repoInfo","queryString","parametersString","atob","decodeURIComponent","usp","getRepoInfoFromSearchParameters","isSuperAdmin","ProtectedRoute","rest","enableMapSet","App","isFetchingLoginInfo","wistorArt","fetchLoginInfo","exact","hostname","greyPaletteTheme","createTheme","palette","grey","dark","theme","components","MuiButton","variants","getContrastText","primary","borderColor","border","disabledBackground","alpha","hoverOpacity","ThemeProvider","navigator","serviceWorker","ready","registration","unregister","cgiService","localRepoUrl","origin","overlay","frame","default2","default","LabelWithHelp","minHeight","enabledTopics","gap","flexGrow","HelpDialog","collapsed","logOutBB","sendCommand","logOut","onClickManageUsers","mouseOver","mouseOut","centerPart","float","alignTitle","auth","person","nameContainer","lineHeight","LOAD_STYLE","LAYOUT_CONFIG"],"mappings":"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","file":"static/js/main.d848e8f9.chunk.js","sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport { getAbsoluteRepoUrl, getCgiUrl } from '../helpers/url'\nimport LoginHelper from './LoginHelper'\n\n\nclass Command {\n\n  static getRepoUrl()\n  {\n    return window.top.repoURL;\n  }\n\n  static test()\n  {\n    Command.sendCommand2({commando:\"stroefheidcurve\",uri:\"http://www.rws.nl/VenR/2023/nwb/wegvakken#RWRW016B1HRRv36p1t36p2\"});\n  }\n\n  \n  static sendCommand(component, command, options, rv,failure) {\n    if (options == null) options = {}\n\n   \n    //let repoURL=window.cgi+\"sparql\";\n    \n    let repoURL=null;\n    try {     repoURL=component.props.repoURL; } catch(e){}\n   \n    if (repoURL != null && repoURL.includes('sparql')) {\n      let commandUrl = repoURL.replace('sparql', 'command')\n      const formData = new FormData()\n      formData.append('commando', command)\n      options.commando = command\n      if (options != null) {\n        for (let key in options) {\n          formData.append(key, options[key])\n        }\n      }\n      axios.defaults.withCredentials = true\n      axios.defaults.credentials = 'include'\n\n     \n        axios.post(commandUrl, options, {\n            headers: {\n              // Overwrite Axios's automatically set Content-Type\n              'Content-Type': 'application/json',\n            },\n          })\n          .then(function (arg) {\n            console.log('SUCCESS command', arg)\n            if (rv != null) {\n              rv.call(this, arg)\n            }\n          }).catch (function(e) {\n       // console.log('command error ', e);\n        if (failure!=null)\n        {\n          failure.call(this);\n        }\n        else\n        {\n        alert('command error');\n        }\n      })\n    }\n  }\n\n  static sendCommand2(options,success,failure) \n  {\n     //for iframe calls.\n     //let repoURL=window.cgi+\"sparql\";\n     let repoURL=Command.getRepoUrl();\n\n    if (repoURL != null && repoURL.includes('sparql')) {\n      let commandUrl = repoURL.replace('sparql', 'command')\n      const formData = new FormData()\n      if (options != null) {\n        for (let key in options) {\n          formData.append(key, options[key])\n        }\n      }\n      axios.defaults.withCredentials = true\n      axios.defaults.credentials = 'include'\n\n      try {\n        axios\n          .post(commandUrl, options, {\n            headers: {\n              // Overwrite Axios's automatically set Content-Type\n              'Content-Type': 'application/json',\n            },\n          })\n          .then(function (arg) {\n            \n            if (arg!=null)\n            {\n             \n              if (arg.data!=null)\n              {\n               \n                 try {\n                 // console.log('SUCCESS 2 command',arg.data);\n                    if (arg.data.success!=\"false\")\n                    {\n                      if (success!=null){success.call(this,arg);}\n                      return;\n                    }\n\n                 }\n                 catch(e)\n                 {\n                  console.log(e);\n                 }\n              }\n            }\n            if (failure!=null){failure.call(this);}\n          \n           \n          })\n      } catch (e) {\n        console.log('command error', e)\n        if (failure!=null){failure.call(this,e);}\n      }\n    }\n  }\n\n  static ruleRule(uri,parameters,success,failure) {\n    var json = {\n      commando: 'VRCommands',\n      command2: 'runSparqlRule',\n      command3: uri,\n      parameters:parameters\n    }\n    Command.sendCommand2(json,success,failure)\n  }\n\n\n\n\n  \n\n\n  static runRulesWithTag(tag,parameters,success,failure) {\n    console.log('run rules met specifieke tag ' ,tag,parameters)\n    var json = {\n      commando: 'VRCommands',\n      command2: 'runSparqlRulesWithTag',\n      command3: tag,\n      parameters:parameters,\n      test:\"Hans was here\"\n    }\n\n    Command.sendCommand2(json,success,failure)\n  }\n\n  static deleteServerCache(graph)\n  {\n    var json = {\n      commando: 'refreshCache',\n      graph: graph,\n    }\n    Command.sendCommand2(json)\n\n  }\n\n\n  static logoff()\n  {\n    let repoURL=window.cgi+\"sparql\";\n    LoginHelper.logoff(repoURL);\n\n\n\n  }\n\n\n\n}\n\nwindow.top.command = Command\n\nexport default Command\n","import React, { Component } from 'react'\nimport styles from './Footer.module.css'\n//import logo from '../images/logo-white.svg';\nimport { withRouter } from 'react-router-dom'\n\nclass Footer extends Component {\n  render() {\n    //var keuze=\"normaal\";\n    var keuze = 'buildingbits'\n\n    try {\n      if (this.props.location.pathname.includes('waternet')) {\n        keuze = 'waternet'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('kvk')) {\n        keuze = 'kvk'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('buildingbits')) {\n        keuze = 'buildingbits'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('rws')) {\n        keuze = 'buildingbits'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('connectedapps')) {\n        keuze = 'buildingbits'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('mayer')) {\n        keuze = 'mayer'\n      }\n    } catch (er) {}\n    // <img src={logo} alt=\"logo\" style={{ maxHeight: '32px', marginRight: '6px' }} />\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.main}>\n          <a href=\"http://www.buildingbits.nl\">\n            <div>\n              <img\n                alt=\"logo\"\n                style={{ maxHeight: '32px', marginRight: '6px' }}\n                src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjM4cHgiIGhlaWdodD0iMTI2cHgiIHZpZXdCb3g9IjAgMCAyMzggMTI2IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMzggMTI2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0xMTEuNTA2LDEyMC45NTdjLTEuODgxLDAtMy43NjEsMC01LjY0MiwwYy0wLjE2Mi0wLjA3MS0wLjMyNC0wLjA3Mi0wLjQ4NiwwYy0xLjg4LDAtMy43NjEsMC01LjY0MSwwDQoJYy0wLjE2My0wLjA3MS0wLjMyNC0wLjA3Mi0wLjQ4NywwYy0xLjg4LDAtMy43NjEsMC01LjY0MSwwYy0wLjE2My0wLjA3MS0wLjMyNC0wLjA3Mi0wLjQ4NywwYy0xLjg4LDAtMy43NjEsMC01LjY0MSwwDQoJYy0wLjE2My0wLjA3MS0wLjMyNC0wLjA3Mi0wLjQ4NywwYy0xLjg4LDAtMy43NjEsMC01LjY0MSwwYy0wLjE2Mi0wLjA3MS0wLjMyNC0wLjA3Mi0wLjQ4NiwwYy0xLjg2Mi0wLjA0My0zLjcyNS0wLjA4Ni01LjU4OC0wLjEzDQoJYy0wLjE2NC0wLjE0Ni0wLjMyNy0wLjI5Mi0wLjQ5MS0wLjQzN2MtMC42NjctMS4xNy0xLjMzNC0yLjM0Mi0yLjAwMi0zLjUxMmMtMC4wNzEtMC4xNTYtMC4xNDItMC4zMTQtMC4yMTMtMC40NzENCgljLTEuMTM1LTEuOTIyLTIuMjctMy44NDItMy40MDQtNS43NmMtMC4xNzEtMC4zMTItMC4zNDItMC42MjUtMC41MTQtMC45MzdjLTAuOTczLTEuNzExLTEuOTQ1LTMuNDIyLTIuOTE3LTUuMTMyDQoJYy0xLjA3OC0xLjg1OS0yLjE1NS0zLjcxOS0zLjIzMi01LjU3OWMtMC4wOTYtMC4xOTItMC4xOTItMC4zODItMC4yODktMC41NzNjLTAuMDQyLTAuMTYtMC4xMjktMC4yOTItMC4yNi0wLjM5NA0KCWMtMS4wNTItMS44NjgtMi4xMDQtMy43MzYtMy4xNTYtNS42MDRjLTAuMDY1LTAuMTg1LTAuMTMxLTAuMzY5LTAuMTk3LTAuNTUzYzEuMzU4LTEuODQzLDIuNzE2LTMuNjg4LDQuMDc0LTUuNTI5DQoJYzAuMTEzLTAuMTUyLDAuMjI2LTAuMzAzLDAuMzM5LTAuNDU1YzEuNTM4LTEuOTA0LDMuMDc2LTMuODEsNC42MTQtNS43MTVjMC4xNS0wLjE3NCwwLjMwMS0wLjM0OSwwLjQ1Mi0wLjUyMQ0KCWMwLjIwNC0wLjI3NCwwLjQwOC0wLjU0OSwwLjYxMi0wLjgyM2MwLjE1MS0wLjE5NCwwLjMwMi0wLjM5LDAuNDUzLTAuNTg1YzEuMDE1LTEuMjI5LDIuMDMtMi40NiwzLjA0NS0zLjY4OQ0KCWMwLjIzMi0wLjMxMiwwLjQ2NC0wLjYyNSwwLjY5Ni0wLjkzN2MwLjY0OC0wLjgxOSwxLjI5Ni0xLjYzOCwxLjk0NS0yLjQ1N2MxLjAwNC0xLjI0NSwyLjAwOS0yLjQ5LDMuMDEzLTMuNzM1DQoJYzAuOTk5LTAuNTQ5LDEuOTk3LTEuMDk4LDIuOTk2LTEuNjQ2YzAuMTc4LDAsMC4zNTYtMC4wMDEsMC41MzUtMC4wMDFjMS44NjQsMCwzLjcyOSwwLDUuNTkzLDBjMC4xNzgsMCwwLjM1NiwwLDAuNTM1LDANCgljMS44NjUsMCwzLjcyOSwwLDUuNTkzLDBjMC4xNzgsMCwwLjM1NiwwLDAuNTM1LDBjMS44NjQsMCwzLjcyOSwwLDUuNTkzLDBjMC4xNzgsMCwwLjM1NiwwLDAuNTM1LDBjMS44NjUsMCwzLjcyOSwwLDUuNTkzLDANCgljMC4xNzgsMCwwLjM1NiwwLDAuNTM1LDBjMS44NjQsMCwzLjcyOSwwLDUuNTkzLDBjMC4xNzgsMCwwLjM1NiwwLDAuNTM1LDAuMDAxYzEuMiwwLjUzNSwyLjM5OSwxLjA2OCwzLjU5OSwxLjYwMw0KCWMwLjgxNCwxLjA3MSwxLjYyOSwyLjE0NCwyLjQ0NCwzLjIxNmMwLjcxMiwwLjk3NCwxLjQyNCwxLjk0NiwyLjEzNSwyLjkyYzAuMTQzLDAuMTc5LDAuMjg2LDAuMzU2LDAuNDI5LDAuNTM1DQoJYzEuMDMzLDEuMzc5LDIuMDY2LDIuNzYsMy4xMDIsNC4xNDFjMC4xNSwwLjE5NywwLjMwMywwLjM5OCwwLjQ1MywwLjU5NmMwLjIsMC4yOSwwLjQsMC41NzksMC42MDEsMC44NjgNCgljMC4xNCwwLjE3MywwLjI4LDAuMzQ1LDAuNDE5LDAuNTE5YzEuMzg5LDEuODcxLDIuNzc3LDMuNzQzLDQuMTY2LDUuNjE1YzAuMjk5LDAuMzg1LDAuNTk5LDAuNzY4LDAuODk4LDEuMTUNCgljMS4wMDgsMS42NDMsMi4wMTgsMy4yODUsMy4wMjYsNC45MjhjLTAuMTE0LDAuMTgyLTAuMjI5LDAuMzYzLTAuMzQzLDAuNTQ3Yy0wLjg4MywxLjQ3NS0xLjc2NiwyLjk1MS0yLjY0OSw0LjQyNg0KCWMtMC4zMzYsMC41NDktMC42NzIsMS4xLTEuMDA4LDEuNjQ3Yy0xLjE0OSwxLjg4OC0yLjI5OSwzLjc3Ni0zLjQ0OSw1LjY2NGMtMC4xMywwLjExMi0wLjIxNiwwLjI1MS0wLjI2MSwwLjQxNw0KCWMtMC40NzUsMC44MTQtMC45NDksMS42MjctMS40MjIsMi40MzljLTAuNzk0LDEuMjY2LTEuNTg4LDIuNTMxLTIuMzgzLDMuNzk1Yy0xLjExNCwxLjg1NS0yLjIzLDMuNzA5LTMuMzQ2LDUuNTY0DQoJYy0wLjA5OSwwLjE4Ni0wLjE5OCwwLjM3MS0wLjI5NywwLjU1N2wwLjAwMS0wLjAwMmMtMC4zMzEsMC41MTItMC42NjEsMS4wMjUtMC45OTEsMS41MzdjLTAuOTA1LDIuNTA4LTMuMDI3LDIuNDk5LTUuMTQ4LDIuNDg5DQoJQzExMS44MywxMjAuODg0LDExMS42NjgsMTIwLjg4NSwxMTEuNTA2LDEyMC45NTd6Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMjUuNjgyLDg5LjU1OWMtMS44NTYsMC0zLjcxMiwwLTUuNTY5LDBjLTAuMTg2LDAtMC4zNzIsMC0wLjU1OSwwYy0xLjc5OS0wLjYzNS00LjE4NywwLjk2NS01LjUxNi0xLjQ1Mw0KCWMtMC4xNjEtMC4zNC0wLjMyMi0wLjY3OS0wLjQ4My0xLjAyYy0wLjEyMy0wLjMwMy0wLjI0NS0wLjYwNS0wLjM2OS0wLjkwOWMtMC4wMjktMC4xNjMtMC4xMS0wLjI5Ni0wLjI0Mi0wLjM5Ng0KCWMtMC44NzYtMS44Ny0xLjc1MS0zLjc0LTIuNjI3LTUuNjFjLTAuOTU4LTEuOTY1LTEuOTE3LTMuOTMtMi44NzUtNS44OTRjMC4wMzgtMC4xMSwwLjAwNS0wLjE5MS0wLjEtMC4yNDINCgljLTAuMTYtMC4zNTgtMC4zMTktMC43MTctMC40NzktMS4wNzVjLTAuODE3LTEuNzA3LTEuNjM1LTMuNDE2LTIuNDUyLTUuMTI1Yy0wLjAxNi0wLjE3Mi0wLjA4NC0wLjMxOS0wLjIwNS0wLjQ0Mg0KCWMtMC4zMS0xLjg3MS0yLjcyOC0zLjc4NSwwLjExMS01LjU5M2MwLjE3Mi0wLjE2NCwwLjM0Ni0wLjMyOCwwLjUxOS0wLjQ5MWMwLjg0NS0wLjgzMywxLjY4OS0xLjY2NSwyLjUzNS0yLjQ5OA0KCWMxLjIxOC0xLjIsMi40MzYtMi40LDMuNjU0LTMuNmMwLjgzNS0wLjgxOCwxLjY3MS0xLjYzNiwyLjUwNy0yLjQ1NGMxLjI0Ni0xLjIxMSwyLjQ5Mi0yLjQyMSwzLjczNy0zLjYzMw0KCWMwLjc2My0wLjczNiwxLjUyNS0xLjQ3MSwyLjI4Ny0yLjIwN2MxLjM2NS0xLjM0MywyLjcyOS0yLjY4Nyw0LjA5NC00LjAzYzAuNjk3LTAuNjU1LDEuMzkzLTEuMzExLDIuMDktMS45NjYNCgljMC4xNjcsMC4wMDMsMC4zMjUtMC4wMzMsMC40NzUtMC4xMDdjMS44NzIsMC4wMDgsMy43NDQsMC4wMTYsNS42MTUsMC4wMjNjMC4xNjksMC4wMDIsMC4zMzksMC4wMDMsMC41MDgsMC4wMDUNCgljMS44NzUsMC4wMSwzLjc1LDAuMDE5LDUuNjI1LDAuMDI5YzAuMTY2LDAuMDAyLDAuMzMyLDAuMDA1LDAuNDk3LDAuMDA4YzEuODgsMC4wMTMsMy43NiwwLjAyNiw1LjY0MSwwLjA0bDAuMjI3LDAuMDY5bDAuMjMtMC4wNTkNCgljMy45MjgsMC4wNDYsNy44NTYsMC4wOTMsMTEuNzg0LDAuMTM5YzEuNjMxLDAuMjQ4LDMuNTA2LTAuMDYyLDQuMzc2LDEuOTE5YzAuNzUzLDEuMTU0LDEuNTA3LDIuMzA3LDIuMjYxLDMuNDYxDQoJYzAuNTQ0LDAuODUyLDEuMDg5LDEuNzAzLDEuNjM0LDIuNTU0YzAuMTMyLDAuMTc1LDAuMjY0LDAuMzUxLDAuMzk2LDAuNTI2YzEuMDY2LDEuNjg3LDIuMTMyLDMuMzc0LDMuMTk4LDUuMDYNCgljMC4yMDgsMC4yNTEsMC40MTYsMC41MDMsMC42MjQsMC43NTRjMCwwLDAuMDMxLDAuMDgyLDAuMDMyLDAuMDhjLTAuMDExLDAuMTEzLDAuMDM4LDAuMTg3LDAuMTQ5LDAuMjIxDQoJYzEuMjEsMS44ODEsMi40MjEsMy43NjMsMy42MzEsNS42NDVjMC4xMiwwLjE4LDAuMjM5LDAuMzYsMC4zNTgsMC41NDFjMS4xMDksMS40MzIsMC44ODUsMi42OTItMC40MTEsMy45MDENCgljLTAuNDc1LDAuNDQzLTAuNzgzLDEuMDY2LTEuMTY3LDEuNjA3Yy0wLjEzOSwwLjE2OC0wLjI3NywwLjMzNi0wLjQxNiwwLjUwNGMtMC42NjEsMC44MTgtMS4zMjEsMS42MzctMS45ODIsMi40NTUNCgljLTEuMDE5LDEuMjMzLTIuMDM3LDIuNDY3LTMuMDU2LDMuN2MtMC45OTgsMS4yMDctMS45OTUsMi40MTMtMi45OTMsMy42MTljLTAuNjkyLDAuODQyLTEuMzg1LDEuNjg0LTIuMDc4LDIuNTI2DQoJYy0yLjAxLDIuMzc3LTQuMTA2LDQuNjg4LTUuOTk1LDcuMTU4Yy0xLjEwNCwxLjQ0My0yLjI4OCwyLjM5My00LjE2LDIuMjUyYy0wLjE4NiwwLjAwMi0wLjM3MSwwLjAwMi0wLjU1NiwwLjAwNA0KCWMtMS44NTYsMC0zLjcxMiwwLTUuNTY4LDBjLTAuMTg2LDAtMC4zNzMsMC0wLjU1OSwwYy0xLjg1NiwwLTMuNzEyLDAtNS41NjgsMGMtMC4xODcsMC0wLjM3MywwLTAuNTU5LDBjLTEuODU2LDAtMy43MTIsMC01LjU2OSwwDQoJYy0wLjE4NiwwLTAuMzczLDAtMC41NTksMGMtMS44NTYsMC0zLjcxMiwwLTUuNTY5LDBDMjYuMDU1LDg5LjU1OSwyNS44NjgsODkuNTU5LDI1LjY4Miw4OS41NTl6Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTY2LjY5MSw4OS4xNjJjLTMuOTM1LDAuMDQzLTcuODY5LDAuMDg1LTExLjgwMywwLjEyOGMtMC4xNjQsMC4wMDItMC4zMywwLjAwNS0wLjQ5NCwwLjAwOA0KCWMtMS44NzUsMC4wMTMtMy43NTIsMC4wMjItNS42MjcsMC4wMzVjLTAuMTY4LDAuMDAyLTAuMzM4LDAuMDA0LTAuNTA2LDAuMDA3Yy0xLjg3MywwLjAwOC0zLjc0NCwwLjAxOC01LjYxNywwLjAyNQ0KCWMtMC4xNywwLjAwMS0wLjM0MywwLjAwMi0wLjUxNCwwLjAwM2MtMi40OTQsMC4zOS00LjE5My0wLjgxNi01LjUyNy0yLjc1NGMtMC4yMDUtMC4yNjUtMC40MDgtMC41MjgtMC42MTMtMC43OTINCgljLTEuNDAxLTEuODgxLTIuODAzLTMuNzYyLTQuMjA0LTUuNjQzYy0wLjYwMy0wLjc2NS0xLjIwMy0xLjUyOS0xLjgwNC0yLjI5M2MtMC45OTEtMS4zMTItMS45ODItMi42MjMtMi45NzQtMy45MzcNCgljLTEuMDY1LTEuMzgtMi4xMzItMi43NTktMy4xOTgtNC4xMzhjLTAuNTk1LTAuODA0LTEuMTg4LTEuNjA0LTEuNzgzLTIuNDA3Yy0wLjc3Ny0xLjEzOC0xLjU1Ny0yLjI3Ni0yLjM0Ni0zLjQyOQ0KCWMwLjM3Ny0wLjcxOCwwLjc1NC0xLjQzMywxLjEyOS0yLjE0NmMxLjAyLTEuNDUyLDIuMDM5LTIuOTA0LDMuMDU5LTQuMzU2YzAuNTI5LTAuNzUyLDEuMDU4LTEuNTA0LDEuNTg4LTIuMjU2DQoJYzEuMTYtMS42NzIsMi4zMTgtMy4zNDUsMy40NzktNS4wMThjMC4yODEtMC4zOTksMC41NjItMC43OTgsMC44NDItMS4xOTdjMC4xNTItMC4wNTgsMC4yMTEtMC4xNjYsMC4xOC0wLjMyNQ0KCWMwLjE5Ny0wLjI1OSwwLjM5NS0wLjUxNywwLjU5MS0wLjc3NWMxLjA2Mi0xLjUyLDIuMTIyLTMuMDM4LDMuMTgzLTQuNTU3bDAuMTI5LTAuMjFjMC43MTEtMC40ODksMS40MjItMC45NzksMi4xMzMtMS40NjgNCgljMi4yMiwwLjAxOSw0LjQzOSwwLjAzNyw2LjY2LDAuMDU2YzMuOTEyLDAuMDE4LDcuODIyLDAuMDM2LDExLjczNCwwLjA1NGMwLjE3LDAuMDAxLDAuMzQyLDAuMDAzLDAuNTEyLDAuMDA1DQoJYzEuODczLDAuMDA1LDMuNzQ2LDAuMDExLDUuNjE3LDAuMDE3YzAuMTcyLDAuMDAxLDAuMzQsMC4wMDIsMC41MTIsMC4wMDNjMi4wMjksMC4wNTUsNC4wNjEsMC4xMSw2LjA5LDAuMTY1DQoJYzAuNTc4LDAuMzI2LDEuMTU2LDAuNjUyLDEuNzM2LDAuOTc3YzAtMC4wMDEtMC4wMjEsMC4wOTMtMC4wMjEsMC4wOTNjMS4zMTgsMS42MzksMi42MzUsMy4yNzcsMy45NTMsNC45MTcNCgljMC40OTgsMC41MjcsMC45OTYsMS4wNTQsMS40OTQsMS41ODFjMS41NjgsMS42ODgsMy4xMzgsMy4zNzcsNC43MDcsNS4wNjVjMC4zMjYsMC4zNDcsMC42NSwwLjY5MywwLjk3NywxLjA0DQoJYzEuNzAxLDEuODI5LDMuNDAyLDMuNjU5LDUuMTA0LDUuNDg4YzAuMTg4LDAuMjEsMC4zNzUsMC40MTksMC41NjMsMC42MjljMC42MTcsMC43ODIsMS4yMzMsMS41NjQsMS44NjEsMi4zNTkNCgljLTAuMzQ3LDAuODMzLTAuNjk4LDEuNjc4LTEuMDUsMi41MjNjLTAuMiwwLjM5My0wLjQwMiwwLjc4NC0wLjYwNCwxLjE3NmMtMC4zNTcsMC42ODgtMC43MTUsMS4zNzUtMS4wNzIsMi4wNjINCgljLTAuNjg1LDEuMzUzLTEuMzY3LDIuNzAyLTIuMDUyLDQuMDU0Yy0wLjkzLDEuOTA2LTEuODU4LDMuODE0LTIuNzg5LDUuNzIzYy0wLjExNiwwLjE3Ni0wLjIzMSwwLjM1Mi0wLjM0NywwLjUyNw0KCWMtMC4yMjksMC41MDQtMC40NTcsMS4wMDgtMC42ODYsMS41MTJjLTAuNjc5LDEuMzYzLTEuMzU2LDIuNzI2LTIuMDM1LDQuMDg4Yy0xLjE3NiwxLjE1Ni0xLjEyMywzLjY5MS0zLjY4OCwzLjI4Nw0KCWMtMC4wOTktMC4wNzgtMC4xOTQtMC4wNzUtMC4yOSwwLjAwOGMtMS45MjYsMC4wMjMtMy44NTIsMC4wNDgtNS43NzcsMC4wNzJDMTY2Ljk1OCw4OC45OTksMTY2LjgyMiw4OS4wMDQsMTY2LjY5MSw4OS4xNjJ6Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTczLjE4OCwxNC40NzhjMS4zNTQsMS4zMjEsMi43MDksMi42NDIsNC4wNjIsMy45NjNjMC4xNjgsMC4xNjEsMC4zMzYsMC4zMjIsMC41MDQsMC40ODQNCgljLTAuODk1LDEuODQyLTEuNzg5LDMuNjg1LTIuNjg0LDUuNTI3Yy0wLjA5OCwwLjE4Mi0wLjE5NywwLjM2My0wLjI5NSwwLjU0NWMtMC41MSwwLjgzNS0xLjAyMSwxLjY3LTEuNTMxLDIuNTA1DQoJYy0wLjcyNSwxLjE4Ny0xLjQ1LDIuMzczLTIuMTc2LDMuNTZjLTEuMTQ4LDEuODk2LTIuMjk5LDMuNzkxLTMuNDQ3LDUuNjg3Yy0wLjEyNywwLjE3OS0wLjI1MywwLjM1OC0wLjM4LDAuNTM3DQoJYy0wLjEwOCwwLjEwMi0wLjE1NCwwLjIyNy0wLjE0LDAuMzc1Yy0wLjg1NywwLjIzLTEuNzEzLDAuNjM4LTIuNTc2LDAuNjU5Yy0zLjU0NSwwLjA4Ny03LjA5MiwwLjA1Ny0xMC42MzcsMC4wNjkNCgljLTEuNzAzLTAuMDAxLTMuNDA2LTAuMDAzLTUuMTA3LTAuMDA0Yy0wLjE3OCwwLTAuMzU0LDAtMC41MzIsMGMtMS44NjYtMC4wMDUtMy43MzEtMC4wMTEtNS41OTctMC4wMTcNCgljLTIuMjE5LTAuMDA4LTQuNDM3LTAuMDE2LTYuNjUzLTAuMDI0Yy0wLjgwNi0wLjM4LTEuNjEtMC43Ni0yLjQxNy0xLjEzOWMtMS4yMDUtMS40MDMtMi40MDktMi44MDUtMy42MTMtNC4yMDgNCgljLTAuNTI1LTAuNjI3LTEuMDUtMS4yNTQtMS41NzQtMS44ODFjLTAuMTU0LTAuMTY5LTAuMzA4LTAuMzM5LTAuNDYxLTAuNTA4Yy0xLjIxMS0xLjQwNy0yLjQyLTIuODE0LTMuNjMtNC4yMjINCgljLTAuMTUzLTAuMTgxLTAuMzA2LTAuMzYxLTAuNDU5LTAuNTQyYy0wLjIxMy0wLjI3MS0wLjQyNy0wLjU0NS0wLjY0MS0wLjgxOGMtMC4xNjItMC4xNzQtMC4zMjMtMC4zNDgtMC40ODUtMC41MjINCgljLTEuNTEyLTEuNzUyLTMuMDIzLTMuNTA0LTQuNTM2LTUuMjU2Yy0wLjAwMS0wLjQxNC0wLjAwMS0wLjgyOC0wLjAwMi0xLjI0MmMxLjM5OC0xLjczNCwyLjc5NS0zLjQ2OSw0LjE5NS01LjIwNA0KCWMwLjE0Mi0wLjE3MSwwLjI4My0wLjM0MiwwLjQyNS0wLjUxM2MwLjM1Mi0wLjQ1LDAuNzA0LTAuODk5LDEuMDU3LTEuMzVjMC4xNDktMC4xODYsMC4yOTktMC4zNzIsMC40NTEtMC41NTcNCgljMS4wMTQtMS4yNDcsMi4wMjYtMi40OTQsMy4wMzktMy43NDFjMC4xNTItMC4xNzYsMC4zMDUtMC4zNTIsMC40NTYtMC41MjdjMC42ODktMC44NTksMS4zNzgtMS43MTgsMi4wNjYtMi41NzcNCgljMC4xOTQtMC4yNjUsMC4zODctMC41MjksMC41ODEtMC43OTNjMS44NDktMC4yNSwzLjY5OS0wLjQ5Nyw1LjU1LTAuNzQ0YzAuMTcyLDAsMC4zNDUsMCwwLjUxNywwYzEuODcxLDAsMy43NDEsMCw1LjYxMSwwDQoJYzAuMTcyLDAsMC4zNDYsMCwwLjUxOCwwYzEuODcxLDAsMy43NCwwLDUuNjEsMGMwLjE3MywwLDAuMzQ1LDAsMC41MTcsMGMxLjg3MSwwLDMuNzQyLDAsNS42MTEsMGMwLjE3MiwwLDAuMzQ2LDAsMC41MTgsMA0KCWMxLjg2MSwwLjA1MywzLjcyMywwLjEwNyw1LjU4NCwwLjE2YzAuMTY4LDAuMTQ5LDAuMzM2LDAuMjk4LDAuNTA2LDAuNDQ3YzEuMTk3LDEuMTc2LDIuMzkzLDIuMzUyLDMuNTg5LDMuNTI4DQoJYzAuODU4LDAuODM5LDEuNzE4LDEuNjc5LDIuNTc3LDIuNTE4YzEuMzczLDEuMzI4LDIuNzQ2LDIuNjU1LDQuMTE5LDMuOTgyQzE3MS45MTUsMTMuMjUsMTcyLjU1MSwxMy44NjQsMTczLjE4OCwxNC40Nzh6Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTkxLjY1MiwyMC45NjZjMy45MSwwLjA5MSw3LjgyLDAuMTgxLDExLjcyOSwwLjI3MmMwLjE4NywwLjAwNywwLjM3MiwwLjAxNSwwLjU1OCwwLjAyMQ0KCWMxLjg2MSwwLjAyMiwzLjcyMiwwLjA0NSw1LjU4MiwwLjA2N2MwLjE4LDAuMDA1LDAuMzU3LDAuMDEsMC41MzcsMC4wMTRjMi41NjUtMC40NjksMy43NDYsMS44MDgsNS41NjYsMi44MTINCgljMC4xNjgsMC4xMzYsMC4zMzcsMC4yNzIsMC41MDUsMC40MDlsLTAuMDEyLTAuMDEzYzAuMTYyLDAuMTYzLDAuMzIzLDAuMzI2LDAuNDg1LDAuNDg5YzEuNzI0LDEuNTQzLDMuNDQ3LDMuMDg3LDUuMTcsNC42Mw0KCWMwLjE3LDAuMTU4LDAuMzQxLDAuMzE3LDAuNTExLDAuNDc2YzAuMTc0LDAuMTY2LDAuMzUsMC4zMzEsMC41MjQsMC40OTdjMC4zNDYsMC4zMjMsMC42OSwwLjY0NywxLjAzNywwLjk3MQ0KCWMxLjM1NywxLjE5NSwyLjcxNywyLjM5LDQuMDc0LDMuNTg1YzAuMTc0LDAuMTY2LDAuMzQ4LDAuMzMyLDAuNTIsMC40OTdjMC40NTcsMC4zODIsMC45MTQsMC43NjQsMS4zNzEsMS4xNDYNCgljMC4xNzQsMC4xNTYsMC4zNDgsMC4zMTIsMC41MjEsMC40NjljMC42MzMsMC42NSwxLjE4NiwxLjQyLDEuOTIsMS45MjVjMS40NSwwLjk5OCwxLjU2MSwyLjE5OCwwLjg1OSwzLjY0Ng0KCWMtMC4wMzgsMC4xNjgtMC4wNzcsMC4zMzctMC4xMTUsMC41MDVjLTAuNzg2LDEuODcyLTEuNTcxLDMuNzQzLTIuMzU3LDUuNjE0Yy0wLjA0NiwwLjE3Ny0wLjA5MSwwLjM1NC0wLjEzNiwwLjUzMQ0KCWMtMC43MjksMS44NzYtMS40NTgsMy43NTItMi4xODgsNS42MjhjLTAuMTA1LDAuMDgxLTAuMTM1LDAuMTgzLTAuMDg4LDAuMzA4YzAsMCwwLjA0MywwLjA5MSwwLjA0NSwwLjA5Mg0KCWMtMC44NzUsMi4wMzgtMS43NTIsNC4wNzQtMi42MjksNi4xMTFjLTEuMTEsMC4yMzUtMi4yMjEsMC40NzEtMy4zMywwLjcwNmMtMC4xOCwwLTAuMzU2LDAtMC41MzUsMA0KCWMtMS44NjUtMC4wMDEtMy43MjktMC4wMDItNS41OTQtMC4wMDRjLTAuMTc4LDAtMC4zNTUsMC0wLjUzMy0wLjAwMWMtMS44NjUtMC4wMDItMy43My0wLjAwNS01LjU5Ni0wLjAwOGMtMC4xNzgsMC0wLjM1MywwLTAuNTI5LDANCgljLTEuODY3LTAuMDAyLTMuNzM0LTAuMDA1LTUuNjAyLTAuMDA4Yy0wLjE3NCwwLTAuMzUsMC0wLjUyMy0wLjAwMWMtMS44NjgtMC4wMDMtMy43MzctMC4wMDUtNS42MDUtMC4wMDgNCgljLTAuMTc0LDAtMC4zNDcsMC0wLjUyMS0wLjAwMWMtMS42ODItMC4wMzktMy4zNjEtMC4wNzgtNS4wNDMtMC4xMTdjLTAuMjk1LTAuMjA1LTAuNTktMC40MDktMC44ODUtMC42MTQNCgljMCwwLTAuMDIxLTAuMDI3LTAuMDIyLTAuMDI1Yy0wLjIxOC0wLjI4Mi0wLjQzMS0wLjU2Ny0wLjY0Ni0wLjg1MmMtMS43MDEtMS43Ni0zLjQwMi0zLjUyMS01LjEwMy01LjI4MQ0KCWMtMC4xMDktMC4xMi0wLjIxOC0wLjI0LTAuMzI4LTAuMzYxYy0xLjc2My0xLjg2NS0zLjUyMi0zLjczLTUuMjg2LTUuNTk2Yy0wLjE4LTAuMTc0LTAuMzU3LTAuMzQ5LTAuNTM4LTAuNTIzDQoJYy0xLjcyOS0xLjg1NC0zLjQ1OC0zLjcwOC01LjE4Ny01LjU2MmMtMC40ODYtMC41MS0wLjk3NS0xLjAyLTEuNDYxLTEuNTI5Yy0xLjgwNy0xLjM2Ny0wLjYxNC0yLjcyNSwwLjAxMy00LjA4NA0KCWMwLjE3My0wLjMxOCwwLjM0NS0wLjYzNiwwLjUxOS0wLjk1NGMxLjAyNy0xLjcxNCwyLjA1Ny0zLjQyOCwzLjA4Ni01LjE0MmMwLjE4OC0wLjMzOSwwLjM3NS0wLjY3OCwwLjU2Mi0xLjAxNw0KCWMwLjY3NS0xLjE1OCwxLjM1Mi0yLjMxNywyLjAyNy0zLjQ3NWMwLjUyMi0wLjg3OSwxLjA0Ny0xLjc1OSwxLjU3LTIuNjM5YzEuNDA1LTEuMzI2LDEuNTM0LTQuMjA4LDQuNDcxLTMuNjY3DQoJYzAuMTY4LDAuMDAxLDAuMzQsMC4wMDIsMC41MSwwLjAwM2MxLjg3NSwwLjAxNiwzLjc1MSwwLjAzMSw1LjYyNiwwLjA0NmwwLjI0MywwLjA1NEwxOTEuNjUyLDIwLjk2NnoiLz4NCjwvc3ZnPg0K\"\n              />\n\n              <span>Connected Apps</span>\n            </div>\n          </a>\n          {\n            {\n              normaal: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"https://www.mayersoftwaredevelopment.nl/\"\n                    >\n                      mayersoftwaredevelopment\n                    </a>\n                  </div>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"http://www.buildingbits.nl\"\n                    >\n                      Building Bits\n                    </a>\n                  </div>\n                </div>\n              ),\n              waternet2: (\n                <div className={styles.commentMessage}>\n                  Als u vragen of opmerkingen heeft kun u een bericht sturen\n                  naar{' '}\n                  <a\n                    className={styles.email}\n                    href=\"mailto:otlviewer@waternet.nl\"\n                  >\n                    OTLviewer@waternet.nl\n                  </a>\n                </div>\n              ),\n              kvk: (\n                <div className={styles.commentMessage}>\n                  <div>\n                    <a className={styles.email} href=\"http://www.kvk.nl\">\n                      KVK Innovatielab\n                    </a>\n                  </div>\n                </div>\n              ),\n              buildingbits: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"http://www.buildingbits.nl\"\n                    >\n                      Building Bits\n                    </a>\n                  </div>\n                </div>\n              ),\n              mayer: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"https://www.mayersoftwaredevelopment.nl/\"\n                    >\n                      mayersoftwaredevelopment\n                    </a>\n                  </div>\n                </div>\n              ),\n            }[keuze]\n          }\n\n          {/* <div className={styles.names}>\n            <div>Michiel Mayer</div>\n            <div>Hans Schevers</div>\n          </div> */}\n        </div>\n      </div>\n    )\n  }\n}\n\nFooter = withRouter(Footer)\n\nexport default Footer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Slider_main__2CxOA\",\"label\":\"Slider_label__2e9Wr\",\"container\":\"Slider_container__3ZWIg\",\"slider\":\"Slider_slider__2O89W\",\"rangeValue\":\"Slider_rangeValue__L0PAk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SplitLayout_main__ZfdFV\",\"preview\":\"SplitLayout_preview__7iAtg\",\"row\":\"SplitLayout_row__2Hq6r\",\"column\":\"SplitLayout_column__1TXiI\",\"areaContainer\":\"SplitLayout_areaContainer__25FOL\",\"overflowAuto\":\"SplitLayout_overflowAuto__2pVrk\",\"overflowHidden\":\"SplitLayout_overflowHidden__2sm8L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-app\":\"LoginPageLayout_login-app__1oxY2\",\"login-container\":\"LoginPageLayout_login-container__2Rrzi\",\"login-main\":\"LoginPageLayout_login-main__1Sbct\",\"login-button-bar\":\"LoginPageLayout_login-button-bar__2UdlH\",\"login-error\":\"LoginPageLayout_login-error__oBKEo\",\"login-spinner\":\"LoginPageLayout_login-spinner__3p4Dd\",\"login-button\":\"LoginPageLayout_login-button__3b2NG\"};","export const FETCH_VIEWER_SUCCESS = 'FETCH_VIEWER_SUCCESS'\nexport const FETCH_PROJECT_SUCCESS = 'FETCH_PROJECT_SUCCESS'\nexport const SAVE_VIEWER_SUCCESS = 'SAVE_VIEWER_SUCCESS'\nexport const DELETE_APP_SUCCESS = 'DELETE_APP_SUCCESS'\nexport const SET_LAYOUT_NAME = 'SET_LAYOUT_NAME'\n\nconst initialState = {\n  loading: true,\n  viewers: [],\n}\n\nexport default function handleProject(state = initialState, action) {\n  switch (action.type) {\n\n    case FETCH_PROJECT_SUCCESS:\n      return {\n        ...state,\n        ...action.data,\n        viewers: action.data.viewers\n          .filter(v => !v.deleted)\n          .map(v => ({ ...v, loaded: false })),\n        loading: false,\n      }\n\n    case FETCH_VIEWER_SUCCESS:\n      window.top.data = action.data\n\n      return {\n        ...state,\n        viewers: [\n          ...state.viewers.filter((item) => item.id !== action.data.id),\n          { ...action.data, loaded: true },\n        ],\n      }\n\n    case SAVE_VIEWER_SUCCESS:\n      return {\n        ...state,\n        viewers: [\n          ...state.viewers.filter((item) => item.id !== action.data.id),\n          { ...action.data, loaded: true },\n        ],\n      }\n\n    case DELETE_APP_SUCCESS:\n      return {\n        ...state,\n        viewers: state.viewers.filter(v => v.id !== action.data.id),\n      }\n\n    case SET_LAYOUT_NAME:\n      return { ...state, layoutName: action.data }\n\n    default:\n      return state\n\n  }\n}\n","import axios from 'axios'\nimport { getCgiUrl } from './url'\n\nclass LoginHelper {\n\n  static logoff(repoUrl,rv) {\n    if (repoUrl == null) {\n      repoUrl = window.top.url\n    }\n    var ilUrl = repoUrl.replace('sparql', 'logout')\n    var dataSend = {}\n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include'\n\n //   console.log(ilUrl,getCgiUrl('logout', repoUrl))\n    axios(\n      {\n        method: 'post',\n        url: ilUrl,\n        data: dataSend,\n      },\n      {\n        withCredentials: true,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    ).then(({ data, iets }) => {\n    //  console.log('logoff ', data);\n      if (rv!=null)\n      {\n        rv.call(this);\n      }\n    })\n  }\n\n  static login(repoUrl, repo, login, psw, rv) {\n    var ilUrl = repoUrl.replace('sparql', 'login')\n    var dataSend = { login: login, psw: psw } //applogin:true,\n    //console.log('login', ilUrl, rv)\n\n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include'\n    axios(\n      {\n        method: 'post',\n        url: ilUrl,\n        data: dataSend,\n      },\n      {\n        withCredentials: true,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    ).then(\n      ({ data, iets }) => {\n        //     console.log(\"got login results \",data,rv);\n        try {\n          if (data.loggedIn === 'TRUE') {\n            if (repo != null && data.repo != null) {\n              if (repo === data.repo) {\n                axios.defaults.withCredentials = true\n                // console.log(\"alles is ok. calling rv functie \",rv);\n                if (rv != null) {\n                  rv.call(this, this)\n                }\n              } else {\n                console.log('niet ok ', repo, data)\n                //window.location.reload(false);\n              }\n            }\n\n              //  console.log(data);\n\n          } else {\n            //   console.log(data);\n            alert('could not log in. Wrong name or password.')\n            //  window.location.reload(true);\n          }\n        } catch (error) {\n          console.log('error', error)\n        }\n      },\n      ({ error, iets }) => {\n        console.log('error in sending ', error, iets, ilUrl)\n        alert('could not log in. general error')\n        window.location.reload(true)\n      }\n    )\n  }\n\n  static isLoggedIn(ilUrl, repo) {\n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include'\n\n    axios(\n      {\n        method: 'get',\n        url: ilUrl,\n      },\n      {\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json',\n        },\n      }\n    ).then(\n      ({ data }) => {\n        console.log(data);\n        try {\n          if (data.loggedIn === 'TRUE') {\n            //   console.log(\"confirmed. you are loged in. need to check for the correct repo\",data,this);\n            if (repo != null) {\n              if (data.repo === repo) {\n                // console.log(\"repo komt overeen\");\n              } else {\n                //   console.log(\"repo komt niet overeen. \");\n                this.props.history.replace(this.props.location.state || '/')\n              }\n            } else {\n              this.props.history.replace(this.props.location.state || '/')\n            }\n\n               console.log(data)\n\n          } else {\n            console.log('not confirmed. you are not logged in (???)')\n          }\n        } catch (e) {\n          console.log('catch error', e)\n        }\n      },\n      ({ error }) => {\n        console.log('netwerk error ', error)\n      }\n    )\n  }\n}\n\nwindow.top.logoff = LoginHelper.logoff\nexport default LoginHelper\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Table2_main__3S9MH\",\"headertxt\":\"Table2_headertxt__k1L5n\",\"list\":\"Table2_list__35G0R\",\"firstItemBold\":\"Table2_firstItemBold__1-sUM\",\"link\":\"Table2_link__3RM4J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"BBPicture_main__1QcsH\",\"list\":\"BBPicture_list__3DSqp\",\"firstItemBold\":\"BBPicture_firstItemBold__2iyh7\",\"link\":\"BBPicture_link__3slHV\"};","class AfterJS {\n  static init() {\n    // console.log(\"init afterjs\");\n  }\n  static getJSScriptAfterSelectionChange() {\n    return {\n      name: 'jsAfterSelection',\n      type: 'text',\n      label: 'js calls after selection',\n    }\n  }\n\n  static runAfterSelection(widget) {\n    //AfterJS.init(\"run after selection \",widget);\n\n    if (widget.props.jsAfterSelection != null) {\n      let js = widget.props.jsAfterSelection\n      console.log(js, widget)\n      try {\n        eval(js) //eslint-disable-line no-eval\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  static fillParameterUsingSelectionURIAndPred(widget, parameter, pred) {\n    let pv = widget.props.publishVariable\n    let uri = widget.props.pubsub[pv]\n    //if (uri==null) return;\n\n    let sparql =\n      'select distinct ?result where {optional {<' +\n      uri +\n      '><' +\n      pred +\n      '>?value} bind (IF(BOUND(?value),\"niks\",\"3d\") as ?result)} limit 1'\n    // console.log(sparql);\n    window.top.MySparql.select(sparql, function (arg) {\n      let result = arg.results.bindings[0].result.value\n      //  console.log(result);\n      widget.props.publish(parameter, result)\n    })\n\n    //console.log(widget,parameter,pred);\n  }\n\n  static test(widget) {\n    console.log('testing Afterjs ')\n\n    console.log(widget)\n  }\n}\n\nexport default AfterJS\n","import { z } from \"zod\"\n\nexport const ProjectSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  path: z.string(),\n  createdAt: z.string()\n})\n\nexport type Project = z.infer<typeof ProjectSchema>\n","import { z } from \"zod\"\nimport { ProjectSchema } from \"./project\"\n\nexport const UserSchema = z.object({\n  id: z.string(),\n  email: z.string(),\n  name: z.string(),\n  project: ProjectSchema.optional(),\n  role: z.union([\n    z.literal(\"superadmin\"),\n    z.literal(\"admin\"),\n    z.literal(\"editor\"),\n    z.literal(\"viewer\")\n  ])\n})\n\nexport type User = z.infer<typeof UserSchema>\n","import axios, { AxiosError } from \"axios\"\nimport { User, UserSchema } from \"../model/user\"\n\nconst LS_TOKEN_KEY = 'kvk-vb-token'\n\nexport type LoginCredentials = {\n  email: string\n  password: string\n}\n\ntype LoginSuccess = {\n  success: true\n  user: User\n}\n\ntype LoginFailure = {\n  success: false\n  reason: string\n}\n\nexport async function login(credentials: LoginCredentials): Promise<LoginSuccess | LoginFailure> {\n  try {\n    const response = await axios.post('/api/login', credentials)\n    const token = response.data.token\n    localStorage.setItem(LS_TOKEN_KEY, token)\n\n    const user = UserSchema.parse(response.data.me)\n    return { success: true, user }\n  } catch (error) {\n    localStorage.removeItem(LS_TOKEN_KEY)\n\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n\n    if (typeof error.response?.data !== 'string') {\n      console.error(error)\n      return { success: false, reason: 'Request failure' }\n    }\n\n    return { success: false, reason: error.response?.data }\n  }\n}\n\nexport async function logout() {\n  localStorage.removeItem(LS_TOKEN_KEY)\n}\n\nconst ERR_INVALID_RESPONSE_WITH_SUGGESTION =\n  'Invalid response! When developing use `yarn dev`.'\n\nexport async function getCurrentUser(): Promise<User | null> {\n  const token = localStorage.getItem(LS_TOKEN_KEY)\n  if (token == null) return null\n\n  try {\n    const response = await axios.get('/api/me', {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        withCredentials: true\n      }\n    })\n    if (!response.data.me) {\n      // noinspection ExceptionCaughtLocallyJS\n      throw new Error(ERR_INVALID_RESPONSE_WITH_SUGGESTION)\n    }\n\n    return UserSchema.parse(response.data.me)\n  } catch (error) {\n    localStorage.removeItem(LS_TOKEN_KEY)\n\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n\n    console.error(error)\n    return null\n  }\n}\n","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_2\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"512px\",\n    height: \"512px\",\n    viewBox: \"0 0 512 512\",\n    enableBackground: \"new 0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M463.5,257.5c0,5.5-4.4,9.9-9.8,9.9H77.1c-5.4,0-9.8-4.6-9.8-9.9 c0-5.5,4.4-9.9,9.8-9.9h376.6C459.1,247.6,463.5,252.2,463.5,257.5z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M265.4,59.4c2.6,0,5.2,1,7.2,3.1c3.8,4,3.6,10.2-0.3,14l-190.6,181l190.6,181c4,3.8,4.1,10,0.3,14c-3.8,4-10.1,4.1-14,0.3 L52.9,257.5L258.6,62.1C260.5,60.3,262.9,59.4,265.4,59.4z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow-back.e82ca94e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react'\nimport styles from './BackButton.module.css'\nimport { ReactComponent as ArrowBack } from '../images/arrow-back.svg'\nimport { withRouter } from 'react-router-dom'\n\nclass BackButton extends Component {\n  onClick = () => {\n    const to = this.props.to\n    if (to) {\n      this.props.history.push(to)\n    } else {\n      this.props.history.goBack()\n    }\n  }\n\n  render() {\n    return <ArrowBack onClick={this.onClick} className={styles.backButton} />\n  }\n}\n\nexport default withRouter(BackButton)\n","export default __webpack_public_path__ + \"static/media/gear.e350f069.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"List_main__3_Rcc\",\"btn2\":\"List_btn2__2Dv7S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SelectBox_main__2fb1x\",\"threeColorTemplate\":\"SelectBox_threeColorTemplate__JP90R\",\"label\":\"SelectBox_label__1bhKt\",\"round\":\"SelectBox_round__3DRif\",\"extra\":\"SelectBox_extra__7C26_\"};","import axios from 'axios'\n\nexport function not(fn) {\n  return (...args) => !fn(...args)\n}\n\nexport function isEmptyObject(obj) {\n  return (\n    obj &&\n    Object.keys(obj).length === 0 &&\n    Object.getPrototypeOf(obj) === Object.prototype\n  )\n\n}\nconst CancelToken = axios.CancelToken\n\nexport function getSparqlFunction(props)\n{\n  return createSparqlFunction2(props);\n}\n\n/*\nexport function loadExternalJS(js)\n{\n    \n}\n*/\n\nfunction getUrl(props) {\n  try {\n    let url = '/api/sparql/' + props.repoURL\n    if (props.repoURL.startsWith('http')) {\n      // request sparql endpoint directly\n      url = props.repoURL\n    }\n    var modus = false\n    if (window.location.host === 'localhost:3000') {\n      modus = true\n    }\n    //  var modus=false; //debug\n\n    if (\n      props.localRepoURL != null &&\n      props.localRepoURL !== '' &&\n      modus\n    ) {\n      url = props.localRepoURL\n    }\n   \n  //  console.log('returning url :' + url)\n    return url\n  } catch (e) {\n    console.log('error creating url' + e)\n  }\n  return null\n}\n\nfunction createSparqlFunction2(props) {\n  // gebruikt door bb widgets in iframe situation\n  var url =getUrl(props)\n var f = function (query, success, errorRV) {\n    // console.log(\"query via window top \",query,success,errorRV);\n\n    let encodedQuery = encodeURIComponent(query)\n    let data = {\n      query: query,\n    }\n    data = 'infer=false&sameAs=false&query=' + encodedQuery\n\n    axios.defaults.headers.post['Content-Type'] =\n      'application/x-www-form-urlencoded'\n    //axios.defaults.headers.post['Access-Control-Allow-Origin'] ='*';\n\n    //console.log(\"querying with \",query,headers);\n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include'\n     console.log(\"really sparqling \",query);\n\n    axios({\n      method: 'post',\n      url,\n      data,\n     \n      cancelToken: new CancelToken((c) => {\n        this.cancel = c\n      }),\n    })\n      .then((response) => {\n        if (success) {\n          success.call(this, response.data)\n        }\n      })\n      .catch((error) => {\n        //  console.log(error,query);\n        if (errorRV) {\n          errorRV.call(this, error)\n        }\n      })\n  }\n\n return f;\n}\n","import React,{ Component, Fragment } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Viewer.module.css'\nimport { Button, Input, FormGroup, Label } from 'reactstrap'\nimport Dialog from './Dialog'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport gear from '../images/gear.svg'\nimport preview from '../images/preview.svg'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Notification from './Notification'\nimport BackButton from './BackButton'\nimport Area from './Area'\nimport Spinner from './Spinner'\nimport defaultConfig from './defaultConfig.json'\nimport { Helmet } from 'react-helmet'\nimport LoginHelper from '../helpers/LoginHelper'\nimport { Dialog as InfoDialog, MenuItem, Select } from '@mui/material'\nimport { inflateLayout, LAYOUT_NAME } from '../helpers/layout'\n\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { AutoHyperlink } from './AutoHyperlink'\nimport { FETCH_VIEWER_SUCCESS, SET_LAYOUT_NAME } from '../redux/project'\nimport { getCgiUrl } from '../helpers/url'\nimport { getAndSetDefaultParameterValues } from './ViewerContextUtils'\n\nclass Viewer extends Component {\n  \n\n  state = {\n    popupInfoVisible: false,\n    dialogVisible: false,\n    notification: {},\n    loading: true,\n    showJSONEditor: false,\n  }\n\n  onJsonEditClick = () => {\n    this.setState({ showJSONEditor: true })\n  }\n\n  getUrl(data) {\n    //console.log(\"get URL \",data);\n    try {\n      let url = '/api/sparql/' + data.repoURL\n      if (data.repoURL.startsWith('http')) {\n        // request sparql endpoint directly\n        url = data.repoURL\n      }\n      var modus = false\n      if (window.location.host === 'localhost:3000') {\n        modus = true\n      }\n      //  var modus=false; //debug\n\n      if (data.localRepoURL != null && data.localRepoURL !== '' && modus) {\n        url = data.localRepoURL\n      }\n     \n      return url\n    } catch (e) {\n      console.log('error creating url ', e)\n    }\n    return null\n  }\n\n  isLoggedIn = (ilUrl) => {\n    \n\n\n    axios({\n      method: 'get',\n      withCredentials: true,\n      url: ilUrl,\n      //credentials: 'include'\n    }).then(({ data }) => {\n      console.log('is logged in:', data)\n    })\n  }\n\n  requiresBBLogin = (data, rv) => {\n\n\n    if (window.location.search.includes(\"debug=skiplogin\"))\n    {\n      rv.call(this,null);\n      return;\n    }\n\n\n    const repoUrl = getCgiUrl('sparql', data.repoURL, data.localRepoURL)\n    \n    if (repoUrl == null) return\n\n    var parameters = data.bbsparqlendpoint\n    let repo = new URLSearchParams(parameters).get('repo')\n    let repo2 = new URLSearchParams(parameters).get('repo2')\n    if (repo2 == null) repo2 = ''\n\n\n    let psw = new URLSearchParams(parameters).get('psw')\n    let login = new URLSearchParams(parameters).get('login')\n    if (psw != null && login != null) {\n      //console.log('default login found');\n      LoginHelper.logoff(repoUrl,function(){  LoginHelper.login(repoUrl, repo, login, psw, rv) }   );\n      \n\n      return;\n    }\n\n\n    const isLoggedInUrl = getCgiUrl('isloggedin', data.repoURL, data.localRepoURL)\n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include' // deze moet wel aanstaan\n    //console.log(repo);//extract repo parameter\n    var data2=data;\n    axios({\n      method: 'get',\n      url: isLoggedInUrl,\n      withCredentials: true,\n      credentials: 'include',\n    }).then(\n      ({ data }) => {\n        //  console.log(\"raw is logged in \",data);\n\n        try {\n          if (data.loggedIn === 'TRUE') {\n            if (repo != null && data.repo != null) {\n              if (repo.toLowerCase() === data.repo.toLowerCase() || repo2.toLowerCase() === data.repo.toLowerCase()) {\n              \n\n                if (data.parameters!=null)\n                {\n                \n                    document.userParameters=data.parameters;\n                \n                }\n                if (document.userParameters==null) document.userParameters={};\n\n                document.userParameters.userUri=data.userUri;\n                document.userParameters.userName=data.userName;\n\n                \n\n\n                rv.call(this, this)\n              } else {\n                //  console.log(\"wrong repo\");\n                alert('wrong repo. This account is not valid for this application.')\n                var id = encodeURIComponent(btoa('?repoUrl=' + repoUrl + '&' + parameters))\n                this.props.history.replace('/loginbb?id=' + id, this.props.location.pathname)\n\n               if (false) {\n                  //logoff and restart?\n                  LoginHelper.logoff(repoUrl);\n                  //window.top.location.reload();\n                }\n              }\n            } else {\n              //  console.log(' logged in so starting application')\n              rv.call(this, this)\n            }\n          } else {\n            //  console.log(\"not logged in so going to login page \");\n\n            let psw = new URLSearchParams(parameters).get('psw')\n            let login = new URLSearchParams(parameters).get('login')\n            if (psw != null && login != null) {\n              // console.log('default login found')\n              LoginHelper.logoff(repoUrl);\n              LoginHelper.login(repoUrl, repo, login, psw, rv)\n\n              return\n            }\n\n            try {\n              id = encodeURIComponent(btoa('?repoUrl=' + repoUrl + '&' + parameters))\n              this.props.history.replace('/loginbb?id=' + id, this.props.location.pathname)\n            } catch (error) {\n              //console.log(data.prejs);\n              console.log(error)\n            }\n          }\n        } catch (e) {\n          console.log(e)\n        }\n      },\n      ({ error }) => {\n        //console.log(error);\n        var id = encodeURIComponent(btoa('?repoUrl=' + repoUrl + '&' + parameters))\n        //   console.log(\"going to bb login pagae\");\n        this.props.history.replace('/loginbb?id=' + id, this.props.location.pathname)\n\n        rv.call(this, this)\n      }\n    )\n\n    return false\n  }\n\n  componentDidMount() {\n    const { projectPath, viewerPath } = getViewProps(this.props)\n\n    let viewer = this.props.project.viewers.find((v) => v.path === viewerPath)\n    if (viewer && viewer.loaded) {\n      return this.loadViewerIntoState(viewer)\n    }\n\n    let url = `/api/projects/${projectPath}/viewers/${viewerPath}`\n    let headers = {\n      Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n    }\n    if (window.CONNECTED_APPS_STATIC) {\n      // console.log('viewer static app')\n      headers = []\n      let extra = ''\n      if (window.top.noConfigCache === true) {\n        extra = '?uniek=' + Math.random().toString(36)\n      }\n\n      url = './config.json' + extra\n      //console.log('local url to json is ' + url)\n    }\n\n    // console.log(' url to json is ' + url)\n\n    let me = this\n    let axiosO={\n      method: 'get',\n      url      \n    };\n    if (headers.length>0)\n    {\n      axiosO.headers=headers;\n    }\n    else\n    {\n\n      axiosO.headers={'Content-Type':'application/json'};\n\n    }\n    \n  //  console.log(axiosO);\n\n    axios(axiosO)\n      .then(({ data }) => {\n      // console.log('json ', data)\n        if (data != null) {\n          if (data.prejs != null) {\n            try {\n              eval(data.prejs) // eslint-disable-line no-eval\n            } catch (error2) {\n              console.log(error2, data.prejs)\n            }\n          }\n\n          if (data.bbsparqlendpoint != null) {\n            if (data.bbsparqlendpoint === '') {\n              data.bbsparqlendpoint = null\n            }\n          }\n\n          if (data.bbsparqlendpoint != null) {\n            //console.log('bb sparql endpoint found')\n            let shouldLogin = true && !data.deleted\n\n            if (data.localRepoURL != null && data.localRepoURL !== '' && window.location.host === 'localhost:3000') {\n              // console.log(\"should we login? perhaps use localRepoUrl? is it port :7200?\",data.localRepoURL);\n              // shouldLogin=false;\n              if (data.localRepoURL.includes(':7200')) {\n                shouldLogin = false\n              }\n            }\n            if (shouldLogin) {\n              //  console.log(' we need to login')\n\n              if (\n                me.requiresBBLogin(data, function () {\n                  me.loadViewerIntoState(data)\n                  me.props.dispatch({ type: FETCH_VIEWER_SUCCESS, data })\n                })\n              );\n              return\n            }\n          }\n\n          this.loadViewerIntoState(data)\n          this.props.dispatch({ type: FETCH_VIEWER_SUCCESS, data })\n        }\n      })\n      .catch((error) => {\n        if (!error.response) throw error\n\n        console.log(error)\n        if (error.response?.status === 401) this.props.history.push('/login', `projects/${projectPath}/${viewerPath}`)\n\n        if (error.response?.status === 404)\n          this.setState({\n            viewer: inflateLayout({\n              ...defaultConfig,\n              path: viewerPath,\n              new: true,\n            }),\n            loading: false,\n          })\n      })\n  }\n\n  componentDidUpdate() {\n    const viewer = this?.state?.viewer\n    if (viewer == null) return\n\n    if (this.state.viewer.update60Enabled) {\n      // console.log(\"we shoud update 60 \",this.state);\n      if (this.state.update60Running) {\n        // console.log(\"but is already running\");\n      } else {\n        // console.log(\"starting update 60\");\n        this.changingProps()\n      }\n    } else {\n      // console.log(\"update 60 should not be running\")\n      if (this.state.update60Running) {\n        this.props.dispatch({\n          type: 'PUBLISH',\n          data: {\n            update60Running: false,\n          },\n        })\n        //  console.log(\"disabling update 60\")\n      } else {\n        // console.log(\"update60 is not running\");\n      }\n    }\n\n  }\n\n   myPublish(par,value)\n  {\n   //  console.log(\"dispatching \",par,value);\n   var data ={};\n   data[par]=value;\n   this.props.dispatch({\n     type: 'PUBLISH',\n     data: data\n   })\n//   console.log(\"dispatching end \",par,value);\n  }\n \n\n  loadViewerIntoState(viewer) {\n  //  console.log(\"log viewer into state\");\n    this.setState({\n      viewer: inflateLayout(viewer),\n      loading: false,\n      popupInfoVisible: viewer.popupInfoAtStart,\n    })\n    this.props.dispatch({ type: SET_LAYOUT_NAME, data: viewer.layoutName })\n\n    var r=getAndSetDefaultParameterValues(viewer);\n   // console.log(\"publishing \",r,viewer);\n    for (var key in r)\n    {\n      this.myPublish(key,r[key]);\n    }\n     // console.log(viewer,this);\n\n  }\n\n\n  updateViewer(partialViewer) {\n    this.setState({ viewer: { ...this.state.viewer, ...partialViewer } })\n  }\n\n  uuidv4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n      (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n    )\n  }\n  changingProps() {\n    if (this.state.update60Running) return\n\n    // console.log(\"setting first update60 value\");\n\n    this.props.dispatch({\n      type: 'PUBLISH',\n      data: {\n        update60: 'start',\n        update60Running: true,\n      },\n    })\n\n    this.changingProps60(true)\n  }\n\n  changingProps60(b) {\n    if (b || this.state.viewer.update60Enabled) {\n      var me = this\n      if (me.loop60) return\n      me.loop60 = true\n      setTimeout(function () {\n        // console.log(\"changing update60 value\");\n        let id = me.uuidv4()\n        me.props.dispatch({\n          type: 'PUBLISH',\n          data: {\n            update60: id,\n          },\n        })\n       // console.log('changing 60')\n        me.loop60 = false\n        me.changingProps60(false)\n      }, 60000)\n    }\n  }\n\n\n\n\n\n\n\n\n  componentWillUnmount() {\n    clearTimeout(this.timer)\n  }\n\n  onChange = (config) => {\n    let viewer = { ...this.state.viewer, mainArea: config }\n    this.setState({ viewer })\n  }\n\n  selectLayout = (layoutName) => {\n    let viewer = inflateLayout({ ...this.state.viewer, layoutName })\n    this.setState({ viewer })\n    this.props.dispatch({ type: SET_LAYOUT_NAME, data: layoutName })\n  }\n\n  save = () => {\n    let viewer = this.state.viewer\n    delete viewer.project\n\n    const { projectPath, viewerPath } = getViewProps(this.props)\n\n    let url = `/api/projects/${projectPath}/viewers` + (viewer.new ? '' : `/${viewerPath}`)\n    axios({\n      method: viewer.new ? 'post' : 'put',\n      url,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n      data: viewer,\n    })\n      .then(({ data }) => {\n        this.setState({ notification: { text: 'saved', type: 'success' } })\n        this.timer = setTimeout(() => this.setState({ notification: {} }), 3000)\n\n        let viewer = inflateLayout({ ...data, new: false })\n        this.setState({ viewer })\n        this.props.dispatch({ type: 'SAVE_VIEWER_SUCCESS', data })\n        let s = data\n        delete s.id\n        delete s.path\n        delete s.project\n        delete s.user\n        delete s.createdAt\n        // console.log(JSON.stringify(s));\n      })\n      .catch((error) => {\n        if (error.response.status === 401) {\n          this.props.history.push('/login', `projects/${projectPath}/${viewerPath}`)\n        } else {\n          this.setState({\n            notification: {\n              text: 'not saved: ' + error.response.data,\n              type: 'failure',\n            },\n          })\n          this.timer = setTimeout(() => this.setState({ notification: {} }), 3000)\n        }\n      })\n  }\n\n  onDialogOkClick = () => {\n    this.setState({ dialogVisible: false })\n    this.save()\n  }\n\n  onHeaderClick = (e) => {\n    if (getViewProps(this.props).mode === 'edit') {\n      this.setState({ dialogVisible: true })\n    }\n  }\n\n  jsonOKClick = () => {\n    this.setState({ showJSONEditor: false })\n  }\n\n  render() {\n    // console.log(\"viewer render function\",this);\n    if (this == null) return <Spinner />\n    //  if (true){ var id=\"halalo\"; this.props.history.push('/loginbb?id='+id, this.props.location.pathname); return null;}\n    if (this.state == null) return <Spinner />\n    if (this.state.loading) return <Spinner />\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    let viewer = this.state.viewer\n    if (!viewer || viewer.deleted) return (\n      <p>This viewer does not exist or has been deleted. Please contact an admin if this is a problem.</p>\n    )\n\n    var me = this\n    document.st = function () {\n      viewer.notShowTop = false\n      me.setState({ notShowTop: false })\n    }\n    document.preview = function () {\n      getViewProps(this.props).mode = 'preview'\n      me.setState({ mode: 'preview' })\n    }\n    document.edit = function () {\n      getViewProps(this.props).mode = 'edit'\n      me.setState({ mode: 'edit' })\n    }\n\n    let notification = this.state.notification\n    const { mode, projectPath, viewerPath } = getViewProps(this.props)\n\n    let showBottom = viewer.notShowBottom\n    if (showBottom == null) {\n      showBottom = true\n    } else {\n      showBottom = !showBottom\n    }\n\n    let showTop = viewer.notShowTop\n    if (showTop == null) {\n      showTop = true\n    } else {\n      showTop = !showTop\n    }\n\n  \n\n    let css = viewer.css\n    if (css) {\n      try {\n        css = JSON.parse(css)\n      } catch (error) {\n        css = {}\n      }\n    } else {\n      css = {}\n    }\n\n   \n    /*if (this.state.showJSONEditor)\n    {\n              return (<JsonEditor></JsonEditor>)\n    }\n    else\n    */\n        \n    return (\n      <div className={styles.wrapper} style={css}>\n        <div className={styles.mainContainer}>\n\n          <Helmet>\n            <title>{viewer.title}</title>\n            {viewer.project && (\n              <link\n                rel=\"icon\"\n                type=\"image/png\"\n                href={`${window.CONNECTED_APPS_STATIC ? '.' : ''}/favicon-${viewer.project.path}.png`}\n                sizes=\"16x16\"\n              />\n            )}\n          </Helmet>\n          <Notification messageType={notification.type} text={notification.text} />\n\n          {!showTop && loginState.isLoggedIn && (\n            <>\n              {mode === 'edit' && (\n                <img\n                  onClick={this.onHeaderClick}\n                  src={gear}\n                  alt=\"gear\"\n                  style={{ position: 'absolute', cursor: 'pointer' }}\n                />\n              )}\n              <Link\n                to={`/projects/${projectPath}/${viewerPath}${mode === 'edit' ? '' : '/edit'}`}\n                style={{ textDecoration: 'none' }}\n              >\n                <img src={gear} alt=\"gear\" style={{ position: 'absolute', right: 0, top: 0, cursor: 'pointer' }} />\n              </Link>\n            </>\n          )}\n\n          {showTop && (\n            <Fragment>\n              {!window.CONNECTED_APPS_STATIC && <BackButton to={`/projects/${projectPath}`} />}\n              {loginState.isLoggedIn && loginState.user.role !== 'viewer' && (\n                <div className={styles.editButton}>\n                  {mode === 'edit' ? (\n                    <Link\n                      to={`/projects/${projectPath}/${viewerPath}`}\n                      style={{ textDecoration: 'none', color: 'white' }}\n                    >\n                      <img src={preview} alt=\"preview\" style={{ width: '22px' }} />\n                    </Link>\n                  ) : (\n                    <Link to={`/projects/${projectPath}/${viewerPath}/edit`} style={{ textDecoration: 'none' }}>\n                      <img src={gear} alt=\"gear\" style={{ width: '19px', opacity: '0.5' }} />\n                    </Link>\n                  )}\n                </div>\n              )}\n\n              <Header\n                title={viewer.title}\n                subtitle={viewer.subtitle}\n                repoURL={viewer.repoURL}\n                localRepoURL={viewer.localRepoURL}\n                bbsparqlendpoint={viewer.bbsparqlendpoint}\n                pageWidth={viewer.pageWidth}\n                parseUrlProperties={viewer.parseUrlProperties}\n                logoutbutton={viewer.logoutbutton}\n                noLoginButton\n                logoURL={viewer.logoURL}\n                onInfoClick={viewer.infoMessage ? () => this.setState({ popupInfoVisible: true }) : null}\n                onSettingsClick={mode === 'edit' ? this.onHeaderClick : null}\n              />\n            </Fragment>\n          )}\n\n          <div className={styles.main} style={{ maxWidth: viewer.pageWidth }}>\n            <div className={styles.areaContainer}>\n              <Area\n                config={viewer.mainArea}\n                onChange={this.onChange}\n                mode={mode}\n                repoURL={viewer.repoURL}\n                localRepoURL={viewer.localRepoURL}\n                parseUrlProperties={viewer.parseUrlProperties}\n                sparqlErrorMessage={viewer.sparqlErrorMessage}\n                parameterValues={viewer.parameterValues}\n                save={this.save}\n              />\n            </div>\n          </div>\n\n          {this.state.viewer.layout?.showFooter && (\n            <Footer onClick={mode === 'edit' ? this.onHeaderClick : null} config={viewer.footer} />\n          )}\n\n          <InfoDialog\n            style={{ zIndex: 1337 }}\n            maxWidth=\"xl\"\n            open={Boolean(this.state.popupInfoVisible && viewer.infoMessage)}\n            onClose={() => this.setState({ popupInfoVisible: false })}\n          >\n            <div className={styles.infoDialogueContainer}>\n              <AutoHyperlink text={viewer.infoMessage} />\n            </div>\n          </InfoDialog>\n\n          {this.state.dialogVisible && (\n            <Dialog>\n              <FormGroup>\n                <Label>Layout</Label>\n                <Select\n                  className=\"dark-form-control form-control white-font-override\"\n                  onChange={(e) => this.selectLayout(e.target.value)}\n                  value={this.state.viewer.layoutName || ''}\n                >\n                  <MenuItem value={LAYOUT_NAME.CUSTOM}>Custom</MenuItem>\n                  <MenuItem value={LAYOUT_NAME.ORIGINAL}>Original</MenuItem>\n                </Select>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Title</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.title || ''}\n                  type=\"text\"\n                  onChange={(e) => this.updateViewer({ title: e.target.value })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Subtitle</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.subtitle || ''}\n                  type=\"text\"\n                  onChange={(e) => this.updateViewer({ subtitle: e.target.value })}\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Info message</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.infoMessage || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, infoMessage: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.popupInfoAtStart ?? false}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          popupInfoAtStart: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  show popup info at start\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>pre app javascript</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.prejs || ''}\n                  type=\"javascript\"\n                  onChange={(e) => {\n                    this.setState({\n                      viewer: { ...viewer, prejs: e.target.value },\n                    })\n                  }}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>bb repo and app parameters</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.bbsparqlendpoint || ''}\n                  type=\"text\"\n                  onChange={(e) => {\n                    this.setState({\n                      viewer: { ...viewer, bbsparqlendpoint: e.target.value },\n                    })\n                  }}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Sparql endpoint</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.repoURL || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, repoURL: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>local sparql endpoint (http://localhost:7200/repositories/test)</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.localRepoURL}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, localRepoURL: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>sparql endpoint error message</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.sparqlErrorMessage || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: {\n                        ...viewer,\n                        sparqlErrorMessage: e.target.value,\n                      },\n                    })\n                  }\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Logo URL</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.logoURL || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, logoURL: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Global CSS in JSON formaat, bijvoorbeeld: {'{\"color\":\"red\"}'}</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.css || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, css: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Pagina breedte</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.pageWidth || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, pageWidth: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>default parameter values </Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.parameterValues || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, parameterValues: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.update60Enabled}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          update60Enabled: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  enable update60 parameter refresh at 60s interval\n                </Label>\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.parseUrlProperties}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          parseUrlProperties: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  parse url parameters as property values\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.notShowTop}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: { ...viewer, notShowTop: e.target.checked },\n                      })\n                    }\n                  />{' '}\n                  do not show top\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.logoutbutton}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          logoutbutton: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  show logout button in the header\n                </Label>\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.notShowBottom}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          notShowBottom: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  do not show bottom\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Config in JSON formaat</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={JSON.stringify(viewer) || ''}\n                  type=\"text\"\n                  onChange={(e) => {\n                    let config = JSON.parse(e.target.value)\n\n                    if (config != null) {\n                      var old = this.state.viewer\n                      config.id = old.id\n                      config.user = old.user\n                      config.path = old.path\n                      this.setState({ viewer: config })\n                    }\n                  }}\n                />\n                <Button color=\"primary\" style={{ minWidth: '120px', marginTop: '12px' }} onClick={this.onJsonEditClick}>\n                  edit\n                </Button>\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.public}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: { ...viewer, public: e.target.checked },\n                      })\n                    }\n                  />\n                  publiek\n                </Label>\n              </FormGroup>\n              <div style={{ textAlign: 'center' }}>\n                <Button color=\"primary\" style={{ minWidth: '120px', marginTop: '12px' }} onClick={this.onDialogOkClick}>\n                  OK\n                </Button>\n              </div>\n            </Dialog>\n          )}\n        </div>\n        <ToastContainer\n          position=\"bottom-right\"\n          autoClose={3000}\n          hideProgressBar\n          newestOnTop={true}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    )\n  }\n}\n\nfunction getViewProps(props) {\n  if (window.CONNECTED_APPS_STATIC)\n    return {\n      mode: 'preview',\n      projectPath: window.PROJECT,\n      viewerPath: window.VIEWER,\n    }\n\n  return {\n    mode: props.match.params.mode,\n    projectPath: props.match.params.projectPath,\n    viewerPath: props.match.params.viewerPath,\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  project: state.project,\n  loginState: state.login\n})\n\nexport default connect(mapStateToProps)(Viewer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"RadioBox_main__OWVGX\",\"label\":\"RadioBox_label__xmETg\",\"radioContainerHor\":\"RadioBox_radioContainerHor__1iRy5\",\"radioContainerVer\":\"RadioBox_radioContainerVer__R820_\",\"rows\":\"RadioBox_rows__2dSeK\",\"row\":\"RadioBox_row__26El2\"};","type State = {\n  votersForGlobalUserActionsDisabled: Set<string>\n}\n\nconst initialState: State = {\n  votersForGlobalUserActionsDisabled: new Set<string>()\n}\n\ntype Action = {\n  type: \"VOTE_USER_ACTIONS_DISABLED\"\n  data: {\n    value: boolean\n    voterId: string\n  }\n}\n\nexport default function currentViewerReducer(state: State = initialState, action: Action): State {\n  switch (action.type) {\n    case \"VOTE_USER_ACTIONS_DISABLED\":\n      const newVoters = new Set(state.votersForGlobalUserActionsDisabled)\n      if (action.data.value)\n        newVoters.add(action.data.voterId)\n      else\n        newVoters.delete(action.data.voterId)\n\n      return { ...state, votersForGlobalUserActionsDisabled: newVoters }\n  }\n\n  return state\n}\n\nexport function isUserActionsDisabled(state: State) {\n  return state.votersForGlobalUserActionsDisabled.size > 0\n}\n","export default __webpack_public_path__ + \"static/media/info.8b4e18dd.svg\";","import { Fragment } from 'react'\n\nconst emailRegExp =\n  /(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))/g\n\nexport function AutoHyperlink(props) {\n  if (!props.text) return null\n\n  const emails = extractEmails(props.text)\n  const texts = extractNonEmailTexts(props.text, emails)\n\n  return (\n    <span>\n      {texts.map((text, i) => {\n        const email = emails?.[i]\n        return (\n          <Fragment key={`fragment ${i}`}>\n            {text}\n            {email && (\n              <a key={`email ${i}`} href={`mailto:${email}`}>\n                {email}\n              </a>\n            )}\n          </Fragment>\n        )\n      })}\n    </span>\n  )\n}\n\nfunction extractEmails(text) {\n  return [...text.matchAll(emailRegExp)].map(([email]) => email)\n}\n\nfunction extractNonEmailTexts(text, emailsFromLeftToRight) {\n  return emailsFromLeftToRight.reduceRight(\n    ([text, ...texts], email) => [...text.split(email), ...texts],\n    [text]\n  )\n}\n","const CURRENT_KEY_PRESSES = new Set()\nconst userInputChannel = new BroadcastChannel('user-input-channel');\n\nexport function setupUserInputMessenger(windowElement: typeof window = window) {\n  windowElement.addEventListener('keydown', (event) => {\n    registerKey(event.key)\n  })\n\n  windowElement.addEventListener('keyup', (event) => {\n    deregisterKey(event.key)\n  })\n}\n\nfunction registerKey(key: string) {\n  if (CURRENT_KEY_PRESSES.has(key)) return\n\n  CURRENT_KEY_PRESSES.add(key)\n  broadcastKeyRegistration()\n}\n\nfunction deregisterKey(key: string) {\n  if (!CURRENT_KEY_PRESSES.has(key)) return\n\n  CURRENT_KEY_PRESSES.delete(key)\n  broadcastKeyRegistration()\n}\n\nfunction broadcastKeyRegistration() {\n  userInputChannel.postMessage(CURRENT_KEY_PRESSES)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Dialog_overlay__S_Pka\",\"frame\":\"Dialog_frame__3XaI8\",\"closeButton\":\"Dialog_closeButton__1TQZw\",\"okButton\":\"Dialog_okButton__2Pl7D\",\"body\":\"Dialog_body__iLin2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"TableCells_main__1LDXq\",\"list\":\"TableCells_list__Baqjh\",\"firstItemBold\":\"TableCells_firstItemBold__8TtNe\",\"link\":\"TableCells_link__3I5-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Yasgui_main__2QBJb\",\"buttonContainer\":\"Yasgui_buttonContainer__3Nrd0\",\"tableContainer\":\"Yasgui_tableContainer__36LQd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullscreen\":\"BBHTML_fullscreen__1xDzG\",\"fullwindow\":\"BBHTML_fullwindow__3laee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SequencePaths_main__3J324\",\"pathSegment\":\"SequencePaths_pathSegment__pWb5f\",\"refresh\":\"SequencePaths_refresh__2DLmt\",\"threeColorTemplate\":\"SequencePaths_threeColorTemplate__3vOol\",\"label\":\"SequencePaths_label__Z4T5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"FormField_default__sRnyI\",\"check\":\"FormField_check__2Wjr7\",\"radioGroup\":\"FormField_radioGroup__1b3T9\",\"help\":\"FormField_help__2v_XN\"};","class PublishUtils {\n  static setTimeStampParameter(widget, debug) \n  {\n    if (debug) {\n      console.log(\n        'timestamp parameter called ',\n        widget.props.timestampParameters\n      )\n    }\n    if (widget.props.timestampParameters) {\n      var valuesRaw = widget.props.timestampParameters\n      var values = valuesRaw.split(',')\n      var me = widget\n      var value = 'time:' + Date.now()\n      if (debug) console.log(values, value)\n\n      if (values.length > 0) {\n        if (debug) console.log(values[0],widget.props.pubsub[values[0]])\n        if (\n         // widget.props.pubsub[values[0]] != null &&\n          widget.props.pubsub[values[0]] !== value\n        ) {\n          //console.log(widget);\n          setTimeout(function () {\n            console.log('resetting parameter 1 ' + values[0], value)\n            widget.props.publish(values[0], value)\n          }, 25)\n        }\n        //   data[values[n]]=\"http://www.buildingbits.nl/reset\";\n      }\n      if (values.length > 1) {\n        if (\n          widget.props.pubsub[values[1]] != null &&\n          widget.props.pubsub[values[1]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 2 ' + values[1])\n            me.props.publish(values[1], value)\n          }, 50)\n        }\n      }\n      if (values.length > 2) {\n        if (\n          widget.props.pubsub[values[2]] != null &&\n          widget.props.pubsub[values[2]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 3 ' + values[2])\n            me.props.publish(values[2], value)\n          }, 75)\n        }\n      }\n      if (values.length > 3) {\n        if (\n          widget.props.pubsub[values[3]] != null &&\n          widget.props.pubsub[values[3]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 4 ' + values[3])\n            me.props.publish(values[3], value)\n          }, 100)\n        }\n      }\n      if (values.length > 4) {\n        if (\n          widget.props.pubsub[values[4]] != null &&\n          widget.props.pubsub[values[4]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 5 ' + values[4])\n            me.props.publish(values[4], value)\n          }, 125)\n        }\n      }\n      if (values.length > 5) {\n        console.log('too many properties to reset')\n        alert('too many properties to reset in search box')\n      }\n\n      if (debug) {\n        console.log('reset parameter called for ', values)\n      }\n    }\n  }\n\nstatic publish(props,key,value)\n{\n  var data={   key:value  };\n\n  props.dispatch({\n    type: 'PUBLISH',\n    data: data\n  });\n  \n}\n\n\n\n\n  static getResetValueDef() {\n    return {\n      name: 'resetValues',\n      type: 'text',\n      label:\n        'reset this parameter after select event. multiple parameters via comma seperation',\n    }\n  }\n\n  static getTimestampParametersDef() {\n    return {\n      name: 'timestampParameters',\n      type: 'text',\n      label:\n        'sets a timestamp after main event. multiple parameters via comma seperation',\n    }\n  }\n\n  static resetParameter(widget, debug) {\n    if (debug) {\n      console.log('reset parameter called', widget.props.resetValues)\n    }\n    if (widget.props.resetValues) {\n      var valuesRaw = widget.props.resetValues\n      var values = valuesRaw.split(',')\n      var me = widget\n      var value = 'http://www.buildingbits.nl/reset'\n\n      if (values.length > 0) {\n        if (\n          widget.props.pubsub[values[0]] != null &&\n          widget.props.pubsub[values[0]] !== value\n        ) {\n          //console.log(widget);\n          setTimeout(function () {\n          //  console.log('resetting parameter 1 ' + values[0], value)\n            widget.props.publish(values[0], value)\n          }, 25)\n        }\n        //   data[values[n]]=\"http://www.buildingbits.nl/reset\";\n      }\n      if (values.length > 1) {\n        if (\n          widget.props.pubsub[values[1]] != null &&\n          widget.props.pubsub[values[1]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 2 ' + values[1])\n            me.props.publish(values[1], value)\n          }, 50)\n        }\n      }\n      if (values.length > 2) {\n        if (\n          widget.props.pubsub[values[2]] != null &&\n          widget.props.pubsub[values[2]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 3 ' + values[2])\n            me.props.publish(values[2], value)\n          }, 75)\n        }\n      }\n      if (values.length > 3) {\n        if (\n          widget.props.pubsub[values[3]] != null &&\n          widget.props.pubsub[values[3]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 4 ' + values[3])\n            me.props.publish(values[3], value)\n          }, 100)\n        }\n      }\n      if (values.length > 4) {\n        if (\n          widget.props.pubsub[values[4]] != null &&\n          widget.props.pubsub[values[4]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 5 ' + values[4])\n            me.props.publish(values[4], value)\n          }, 125)\n        }\n      }\n      if (values.length > 5) {\n        console.log('too many properties to reset')\n        alert('too many properties to reset in search box')\n      }\n\n      if (debug) {\n        console.log('reset parameter called for ', values)\n      }\n    }\n  }\n\n  static processStringForParameters(widget, s) {\n    \n    try\n    {\n    let query = s\n    if (!query) {\n      return\n    }\n    //const regex = /{{\\S*}}/g;\n    const regex = /{{[A-Za-z0-9|:./]*}}/g\n    let subscribeProps = query.match(regex)\n\n    if (subscribeProps == null) return s\n    subscribeProps = subscribeProps.map((f) => f.replace(/[{}]/g, ''))\n    subscribeProps = [...new Set(subscribeProps)] // remove duplicates\n\n    for (var i = 0; i < subscribeProps.length; i++) {\n      let subscribeProp = subscribeProps[i]\n      let subscribeValue = widget.props.pubsub[subscribeProp]\n      //console.log(query,subscribeProps,subscribeValue,widget.props);\n\n      if (subscribeValue == null) {\n        // console.log(\"found empty property or composed properties\",subscribeProp);\n      }\n\n      if (subscribeProp.includes('||')) {\n        let subscribeProp2 = subscribeProp.split('||')[0]\n        subscribeValue = widget.props.pubsub[subscribeProp2]\n        if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n          subscribeValue = null\n        }\n\n        //  console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n        if (subscribeValue == null) {\n          var prop = subscribeProp.split('||')[1].split('||')[0].split('::')[0]\n          subscribeValue = widget.props.pubsub[prop]\n          if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n            subscribeValue = null\n          }\n        }\n      }\n\n      if (subscribeProp.includes('::') && subscribeValue == null) {\n        let subscribeProp2 = subscribeProp.split('::')[0]\n        subscribeValue = widget.props.pubsub[subscribeProp2]\n        if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n          subscribeValue = null\n        }\n        // console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n        if (subscribeValue == null) {\n          subscribeValue = subscribeProp.split('::')[1]\n        }\n        //  console.log(subscribeProp,subscribeValue);\n      }\n\n      subscribeProp = subscribeProp.replaceAll('||', '\\\\|\\\\|')\n      let regex2 = new RegExp(`{{${subscribeProp}}}`, 'g')\n      // var o={q:query};\n\n      //console.log(\"changing query \",query,regex2,subscribeValue);\n      try {\n        if (subscribeValue == null) subscribeValue = ''\n        query = query.replace(regex2, subscribeValue)\n        // console.log(\"results \",query);\n      } catch (e) {\n        console.log(\n          'ERROR ',\n          query,\n          subscribeValue,\n          subscribeProps,\n          widget.props.pubsub[subscribeProp]\n        )\n      }\n      // o.q2=query;\n      //console.log(o,subscribeProp);\n    }\n    return query\n  }\n  catch(e)\n  {console.log(e);}\n  return s;\n  }\n\n  static emptyDataParameterChange(widget, arg, arg2) {\n    if (widget.props.resetDataProps) {\n      if (arg.data != null) {\n        console.log(widget.props.pubsub.button, arg.pubsub.button)\n        console.log(widget, arg, arg2)\n      }\n    }\n  }\n\n  static getEmptyDataParameterChange() {\n    return {\n      name: 'resetDataProps',\n      type: 'text',\n      label:\n        'reset data value when this parameter changes. multiple parameters via comma seperation',\n    }\n  }\n\n  /**\n   * Converts a list of values to a single value string according to multipleselectparametertype\n   * @param multipleselectparametertype {\"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\"}\n   * @param list {Array<string | number>}\n   * @returns {string}\n   */\n  static getListAsSingleValue(multipleselectparametertype, list) {\n    const record = {}\n    list.forEach(item => record[item] = true)\n    return PublishUtils.getMultiplePropValueAsSingleValue(multipleselectparametertype, record)\n  }\n\n  /**\n   * Converts a record holding multiple values to a single value string according to multipleselectparametertype\n   * @param multipleselectparametertype {\"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\"}\n   * @param values {Record<string, boolean>} a record where key indicates the value to convert, and the value indicating whether to include it\n   * @returns {string}\n   */\n  static getMultiplePropValueAsSingleValue(multipleselectparametertype,values)\n  {\n    let valueString = ''\n      let komma = ''\n      let pre = '<'\n      let end = '>'\n      let kommaT = ','\n      if (multipleselectparametertype === 'csvstring') {\n        pre = '\"'\n        end = pre\n      }\n      if (multipleselectparametertype === 'valuestring') {\n        pre = '(\"'\n        end = '\") '\n        kommaT = ''\n      }\n      if (multipleselectparametertype === 'valueuri') {\n        pre = '(<'\n        end = '>) '\n        kommaT = ''\n      }\n    if (values==null)\n    {\n      return this.getEmptyMultiplePropValueAsSingleValue(multipleselectparametertype);\n    }\n      for (let n in values) {\n        if (values[n]) {\n          valueString += komma + pre + n + end\n          komma = kommaT\n        }\n      }\n      //  console.log(valueString);\n      if (valueString === '') valueString=this.getEmptyMultiplePropValueAsSingleValue(multipleselectparametertype);\n      return valueString;\n  }\n\n  /**\n   * Parses multiple values from multiplePropValue according to multipleSelectParameterType\n   * @param multipleSelectParameterType {\"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\"}\n   * @param multiplePropValue {string} a string which is formatted contain multiple values\n   * @returns {string[]}\n   */\n  static parseMultiplePropValue(multipleSelectParameterType, multiplePropValue) {\n\n    const escapeChar = '\\\\'\n\n    const formatDict = {\n      csvuri: { prefix: '<', postfix: '>', separator: ',' },\n      csvstring: { prefix: '\"', postfix: '\"', separator: ',' },\n      valuestring: { prefix: '(\"', postfix: '\")', separator: ' ' },\n      valueuri: { prefix: '(<', postfix: '>)', separator: ' ' },\n    }\n\n    const { prefix, postfix, separator } = formatDict[multipleSelectParameterType]\n\n    /** \n     * @param lookingFor {'prefix' | 'value' | 'postfix' | 'separator'}\n     * @returns {'prefix' | 'value' | 'postfix' | 'separator'}\n    */\n    const after = (lookingFor) => {\n      if (lookingFor === 'prefix') return 'value'\n      if (lookingFor === 'value' && postfix === '') return 'separator'\n      if (lookingFor === 'value') return 'postfix'\n      if (lookingFor === 'postfix' && separator === '') return 'prefix'\n      if (lookingFor === 'postfix') return 'separator'\n      if (lookingFor === 'separator' && prefix === '') return 'value'\n      if (lookingFor === 'separator') return 'prefix'\n      throw new Error(`unknown value for \"lookingFor\": ${lookingFor}`)\n    }\n\n    /**\n     * parses char as part of symbol and pushes that onto parsed\n     * @param {string} parsed\n     * @param {string} char\n     * @param {string} symbol\n     * @returns {string}\n     */\n    const parseSymbolIntoParsed = (parsed, char, symbol) => {\n        const expectedChar = symbol[parsed.length]\n        if (char !== expectedChar) {\n          console.log({char, expectedChar, symbol, parsedLength: parsed.length})\n          throw new Error(`${char} was expected to be part of ${symbol} as ${multipleSelectParameterType} in ${multiplePropValue}`)\n        }\n        parsed += char\n        return parsed\n    }\n\n    /** @type {{ currentEscapeChar?: string, values: string[], parsed: string, lookingFor: 'prefix' | 'value' | 'postfix' | 'separator' }} */\n    const parserState = { values: [], parsed: '', lookingFor: after('separator') }\n    const { values } = Array.from(multiplePropValue).reduce(({ currentEscapeChar, values, parsed, lookingFor }, char) => {\n      try {\n\n        if (lookingFor === 'prefix') {\n          parsed = parseSymbolIntoParsed(parsed, char, prefix)\n          if (parsed.length === prefix.length) return { values, parsed: '', lookingFor: after('prefix') }\n          return { values, parsed, lookingFor }\n        }\n\n        if (lookingFor === 'value') {\n          if (!currentEscapeChar && char === escapeChar)\n            return { currentEscapeChar: char, values, parsed, lookingFor }\n\n          if (currentEscapeChar || char !== postfix[0]) {\n            parsed += char\n            return { values, parsed, lookingFor }\n          }\n\n          values.push(parsed)\n          parsed = ''\n          lookingFor = after('value')\n        }\n\n        if (lookingFor === 'postfix') {\n          parsed = parseSymbolIntoParsed(parsed, char, postfix)\n          if (parsed.length === postfix.length) return { values, parsed: '', lookingFor: after('postfix') }\n          return { values, parsed, lookingFor }\n        }\n\n        if (lookingFor === 'separator') {\n          parsed = parseSymbolIntoParsed(parsed, char, separator)\n          if (parsed.length === separator.length) return { values, parsed: '', lookingFor: after('separator') }\n          return { values, parsed, lookingFor }\n        }\n\n      } catch(e) {\n        throw new Error(e.message + '\\n\\n' + JSON.stringify({ values, parsed, lookingFor, char }))\n      }\n\n      throw new Error(`unknown value for \"lookingFor\": ${lookingFor}`)\n    }, parserState)\n\n    return values\n  }\n\n  static getEmptyMultiplePropValueAsSingleValue(multipleselectparametertype)\n  {\n    let valueString = ''\n     let value='';\n      let pre = '<'\n      let end = '>'\n      let kommaT = ','\n      if (multipleselectparametertype === 'csvstring') {\n        pre = '\"'\n        end = pre\n      }\n      if (multipleselectparametertype === 'valuestring') {\n        pre = '(\"'\n        end = '\") '\n        kommaT = ''\n      }\n      if (multipleselectparametertype === 'valueuri') {\n        pre = '(<'\n        end = '>) '\n        kommaT = ''\n        value='http://www.buildingbits.nl/reset';\n      }\n\n              \n          valueString = pre + value + end\n         \n      \n      //  console.log(valueString);\n    //  if (valueString === '') valueString = '<http://www.buildingbits.nl/reset>';\n      return valueString;\n  }\n\n\n  static getMultipleValueFormatOptions({\n    name = 'multipleselectparametertype',\n    label = 'for Multiple selection only: how to set the multivalue parameters'\n  } = {})\n  {\n    return  {\n      name,\n      type: 'select',\n      options: [\n        { label: 'csv as uri', value: 'csvuri' },\n        { label: 'csv as string with \"', value: 'csvstring' },\n        { label: 'sparql value string with \"', value: 'valuestring' },\n        { label: 'sparql value uri)', value: 'valueuri' },\n      ],\n      label\n    }\n  }\n}\n\nexport default PublishUtils\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Notifications_main__19VRm\",\"box\":\"Notifications_box__1mf7Y\"};","import React from 'react'\nimport styles from './Table.module.css'\nimport {\n  restructureResponse,\n  generateEmptyResponse,\n  aggregateResultsByFirstParameter,\n} from '../../helpers/sparql'\nimport PublishUtils from './../../helpers/PublishUtils'\nimport { Icon } from './Icon'\nimport Command from '../../helpers/Command'\n\n// import { Table as StrapTable } from 'reactstrap';\n\n\n\nfunction camelCaseToSpaces(str) {\n\n\n  str = str.replace(/([a-zA-Z])(?=[A-Z])/g, '$1 ').toLowerCase()\n  str=str.replace(\"_\",\" \");\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nconst check = <Icon icon=\"check\" color=\"green\" />\nconst cross = <Icon icon=\"times\" color=\"red\" />\nconst crossDel = <Icon className={styles.deleteIcon +  \" \" + styles.link} icon=\"times\" color=\"grey\" />\n\n\n\nclass Table extends React.Component {\n\n  getHeader(s)\n  {\n    try\n    { \n      var json=JSON.parse(this.props.replaceHeaderJSON);\n        var rs =json[s];\n        if (rs!=null) return rs;\n    }\n    catch(e)\n    {}\n    return camelCaseToSpaces(s);\n  }\n  deleteSuccess=(arg)=>\n  {\n     console.log(\"success. we houd set a new timestamp parameter\");\n     PublishUtils.setTimeStampParameter(this,false);\n  }\n  deleteFailure=(arg)=>\n  {\n    console.log(\"failure\");\n    window.alert(\"Deletion not succeeded\");\n  }\n\ndeleteClick=(item) => {\n\n  var rule=this.props.deletebuttonrule;\n  if (rule==null) \n  {\n    window.alert(\"this function is not available\");\n    return;\n  }\n\n  if (window.confirm(\"are you sure you want to delete this ?\"))\n  {\n    var me=this;\n    if ((rule.startsWith(\"http://\")) || (rule.startsWith(\"https://\")) )\n    {\n      Command.ruleRule(rule,item,this.deleteSuccess,this.deleteFailure);\n    }\n    else\n    {\n     console.log(rule,item);\n      Command.runRulesWithTag(rule,item,this.deleteSuccess,this.deleteFailure);\n    }\n    \n   \n    \n  }\n\n}\n\n  onClick = (uri) => {\n\n    if (uri==null) return;\n    if (uri.length<2) return;\n\n    if ((uri!=null) && (uri==\"http://www.example.org/5c3c96ea1d83d8396b87bc0b\") ) return;\n   \n\n    PublishUtils.resetParameter(this)\n    this.props.publish(this.props.publishVariable, uri)\n  }\n  openLink = (url) => {\n\n  \n    if (url==null) return;\n    if (url.length<2) return;\n    window.open(url, '_blank')\n  }\n\n  \n  \n\n  render() {\n   \n    var data = this.props.data;\n    //if (data ==null) console.log(\"Table renderer heeft geen data\",this.props.pubsub.datasets);\n    if ( this.props.data==null || this.props.data.results==null || this.props.data.results.bindings==null ||this.props.data.results.bindings.length == 0) {\n      if (this.props.renderEmpty) {\n        data = generateEmptyResponse(this.props.query)\n        // console.log(\"table rende empty \",this.props.query, this.props);\n      } else {\n        try {\n          if (this.props.zeroResult != null) {\n            if (\n              this.props.zeroResult != null &&\n              this.props.data.results &&\n              this.props.data.results.bindings.length === 0\n            ) {\n              var label = this.props.zeroResult\n              return (\n                <div className={styles.main}>\n                  <p>{label}</p>\n                </div>\n              )\n            }\n          }\n        } catch (e) {}\n        \n        return null\n      }\n    }\n   // console.log(\"rendering table not empty\");\n\n    let selectedUri = null\n    if (this.props.highlightVariable != null) {\n      let parameter = this.props.highlightVariable\n      selectedUri = this.props.pubsub[parameter]\n    }\n    let headVars = data.head.vars\n    let items = restructureResponse(data)\n\n    if (this.props.aggregateResultsByID) {\n      items = aggregateResultsByFirstParameter(items, headVars[0])\n    }\n    let center=styles.centertext;\n   if (this.props.centerContent!=true) center=\"\";\n\n\n    var html = false\n    if (this.props.ashtml) html = true\n    var  deleteRow=false;\n    if (this.props.deletebuttonrule!=null)\n    {\n      deleteRow=true;\n    }\n    return (\n      <div className={styles.main}>\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n        <table>\n          <thead>\n            <tr>\n              {this.props.hasNumberedRows && (\n                <th className={styles.rowNumberHeader +\"  \"+center} key={-1}></th>\n              )}\n              {headVars.map((headVar, index) => {\n                if (headVar.endsWith('URI')) return null\n                if (headVar.endsWith('URL')) return null\n                if (headVar.endsWith('HIDDEN')) return null\n\n                return <th className={center} key={index}>{this.getHeader(headVar)}</th>\n              })}\n                {deleteRow && (\n                <th className={styles.rowNumberHeader +\"  \"+center} key={-2}>delete</th>\n              )}\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (\n                <tr key={index}>\n                  {this.props.hasNumberedRows && (\n                    <td className={styles.rowNumber+\" \"+center}>{index + 1}</td>\n                  )}\n                  {headVars.map((headVar, index) => {\n                    if (headVar.endsWith('URI')) return null\n                    if (headVar.endsWith('URL')) return null\n                    if (headVar.endsWith('HIDDEN')) return null\n                  \n\n                    let value = item[headVar] || ''\n                    let uri = item[headVar + 'URI']\n                    let url = item[headVar + 'URL']\n\n                    if (uri) {\n                      let highlight = ''\n                      if (uri === selectedUri) {\n                        highlight = styles.highlight\n                        // console.log(\"found a selection\",highlight);\n                      }\n\n                      return (\n                        <td \n                          key={index}\n                          className={center}\n                          \n                        >\n                          {html ? (\n                            <div onClick={() => this.onClick(uri)} className={styles.link + ' ' + highlight+\" \"+styles.inlineblock}  dangerouslySetInnerHTML={{ __html: value }} />\n                          ) : (\n                            <div onClick={() => this.onClick(uri)} className={styles.link + ' ' + highlight+\" \"+styles.inlineblock} >{value}</div>\n                            \n                          )}\n                        </td>\n                      )\n                    } else {\n                      if (url) {\n                        return (\n                          <td\n                            key={index}\n                            className={center}\n                          \n                          >\n                            {html ? (\n                              <div className={styles.link+\"  \"+styles.inlineblock}\n                              onClick={() => this.openLink(url)} dangerouslySetInnerHTML={{ __html: value }}\n                              />\n                            ) : (\n                              <div   onClick={() => this.openLink(url)} className={styles.link+\"  \"+styles.inlineblock} >{value}</div>\n                              \n                            )}\n                          </td>\n                        )\n                      } else {\n                        let anders = null\n                        if (value === 'true') anders = check\n                        if (value === 'false') anders = cross\n                        if (anders != null) {\n                          return (\n                            <td key={index} className={styles.iconcenter+\" \"+center}>\n                              {anders}\n                            </td>\n                          )\n                        }\n\n                        return (\n                          <td key={index} className={center}>\n                            {html ? (\n                              <div\n                                dangerouslySetInnerHTML={{ __html: value }}\n                              />\n                            ) : (\n                              value\n                            )}\n                          </td>\n                        )\n                      }\n                    }\n\n                  })}\n\n{deleteRow && (\n                   <td onClick={() => this.deleteClick(item)} key={index} className={styles.iconcenter+\" \"+center}>\n                   {crossDel}\n                 </td>\n                  )}\n\n\n\n\n                </tr>\n              )\n            }\n\n\n            \n            )}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Table\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle-switch\":\"ToggleSwitch_toggle-switch__3mZfo\",\"switch\":\"ToggleSwitch_switch__19J5H\"};","export default __webpack_public_path__ + \"static/media/plus.d2c8885b.svg\";","\nimport { lazy } from 'react';\n\nclass BBPropertyPanelDescriptor {\n  \n\n  static getDescription() {\n    return {\n      name: 'BBPropertyPanel',\n      component: lazy(() =>  import('./BBPropertyPanel')),\n      label: 'BBPropertyPanel',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the property panel. Use ?property and ?value. optionally use  ?beschrijving  ?beschrijvingValue ?literal ?pred  ?iconColor ?icon',\n        },\n        {\n          name: 'childParameterText',\n          type: 'text',\n          label:\n            'string to replace in sparql with uri for getting child info (e.g. {{uri}})',\n        },\n        {\n          name: 'renderEmpty',\n          type: 'boolean',\n          label: 'render an empty table',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  \n}\n\nexport default BBPropertyPanelDescriptor\n","\r\nimport { lazy } from 'react';\r\nexport default class BBDCheckboxTreeDescriptor  {\r\n \r\n  static getDescription() {\r\n    return {\r\n      name: 'BBCheckboxTree',\r\n      component: lazy(() =>  import('./BBCheckboxTree')),\r\n      label: 'BBCheckboxTree',\r\n      variables: [\r\n        \r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:'to fill the tree.   ?uri ?text ?parent ?icon ',\r\n        },\r\n       \r\n      ],\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","import { lazy } from 'react';\r\n\r\nimport PublishUtils from './../../helpers/PublishUtils'\r\n\r\nexport default class TableDescriptor {\r\n    static getDescription() {\r\n        return {\r\n          name: 'Table',\r\n          status:\"normal\",\r\n          category:\"Default\",\r\n          component: lazy(() =>  import('./Table')), \r\n          label: 'Table widget',\r\n          variables: [\r\n            {\r\n              name: 'query',\r\n              type: 'yasgui',\r\n              description:\"extra documentation\",\r\n              defaultsparqlquery:\"select distinct * where {?a ?b ?c}\",\r\n              label:\r\n                'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix \"URI\", eg: ?object ?objectURI.',\r\n            },\r\n            {\r\n              name: 'publishVariable',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which item URI is published, when a link in the table is clicked.',\r\n                description:\"more information about the publish variable\"\r\n            },\r\n            {\r\n              name: 'highlightVariable',\r\n              type: 'text',\r\n              label: 'highlight table row with this uri',\r\n            },\r\n            {\r\n              name: 'ashtml',\r\n              type: 'boolean',\r\n              label: 'tabel waardes als html',\r\n            },\r\n            {\r\n              name: 'title',\r\n              type: 'text',\r\n              label: 'Titel boven de tabel',\r\n            },\r\n            {\r\n              name: 'renderEmpty',\r\n              type: 'boolean',\r\n              label: 'render an empty table',\r\n            },\r\n            {\r\n              name: 'zeroResult',\r\n              type: 'text',\r\n              label:\r\n                'text to display when sparql results is valid but has zero results',\r\n            },\r\n            {\r\n              name: 'aggregateResultsByFirstParameter',\r\n              type: 'boolean',\r\n              label: 'aggregate sparql results by the first parameter',\r\n            },\r\n            {\r\n              name: 'replaceHeaderJSON',\r\n              type: 'text',\r\n              label:\r\n                'Key value JSON that replaces parameter headers. {\"label\":\"naam (volledig)\"}',\r\n            },\r\n            {\r\n              name: 'hasNumberedRows',\r\n              type: 'boolean',\r\n              label: 'show row numbers',\r\n            },\r\n            {\r\n              name: 'centerContent',\r\n              type: 'boolean',\r\n              label: 'center values in the tabel',\r\n            },\r\n            PublishUtils.getResetValueDef(),\r\n            {\r\n                name: 'deletebuttonrule',\r\n                type: 'text',\r\n                label: 'uri or tag for rule when pushing delete icon',\r\n              },\r\n              PublishUtils.getTimestampParametersDef(),\r\n          ],\r\n        }\r\n      }\r\n    \r\n}","import React from 'react'\nimport { restructureResponse } from '../../helpers/sparql'\nimport styles from './TableCells.module.css'\n\nclass TableCells extends React.Component {\n  static getDescription() {\n    return {\n      name: 'TableCells',\n      component: TableCells,\n      label: 'TableCells widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Query to fill table. Use ?header ?value ?row ?col to generate a matrix table .',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which tree item URI is published, when a link in the table  is clicked.',\n        },\n        {\n          name: 'isFirstItemBold',\n          type: 'boolean',\n          label: 'First item bold',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de tabel',\n        },\n        {\n          name: 'onClick',\n          type: 'javascript',\n          label: 'Code that runs before link click event.',\n        },\n      ],\n    }\n  }\n\n  createStateValues(items) {\n    // not used\n    let res = {}\n    for (var i = 0; i < items.length; i++) {\n      let item = items[i]\n      Object.keys(item).forEach((key) => {\n        if (key.endsWith('URI')) return\n        let obj = { value: item[key] }\n        if (item[key + 'URI']) obj.link = item[key + 'URI']\n        if (!res[key]) {\n          res[key] = obj\n        } else if (Array.isArray(res[key])) {\n          if (!res[key].filter((re) => re.value === obj.value).length) {\n            res[key].push(obj)\n          }\n        } else if (res[key].value !== item[key]) {\n          res[key] = [res[key], obj]\n        }\n      })\n    }\n\n    Object.keys(res).forEach((key) => {\n      if (Array.isArray(res[key])) {\n        res[key].sort((a, b) => a.value.localeCompare(b.value))\n      }\n    })\n\n    return res\n  }\n\n  render() {\n    //console.log(\"table 2 render function \");\n    let data = this.props.data\n    //  console.log(data);\n    if (!data || !data.results || data.results.bindings.length === 0) {\n      return null\n    }\n\n    let items = restructureResponse(data)\n\n    if (!items.length) return null\n\n    var rowsHash = {}\n    var rows = []\n    var headersHash = {}\n    var headers = []\n    var n = 0\n    for (var nitem in items) {\n      var item = items[nitem]\n      n++\n      if (headersHash[item.header] == null) {\n        headersHash[item.header] = n\n        headers.push(item.header)\n      } // collect unique headers;\n      var row = rowsHash[item.row]\n      if (row == null) {\n        row = { row: item.row }\n        rowsHash[item.row] = row\n        rows.push(row)\n      }\n      row[item.header] = item.value\n    }\n\n    console.log(rows)\n\n    return (\n      <div\n        className={\n          styles.main +\n          (this.props.isFirstItemBold ? ' ' + styles.firstItemBold : '')\n        }\n      >\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n        <table>\n          {\n            <thead>\n              <tr>\n                {headers.map((headVar, index) => (\n                  <th key={'header' + index}>{headVar}</th>\n                ))}\n              </tr>\n            </thead>\n          }\n\n          <tbody>\n            {rows.map((row, rindex) => (\n              <tr key={'row' + rindex}>\n                {headers.map((header, hindex) => (\n                  <td key={'td' + hindex}>{row[header]}</td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default TableCells\n","import { lazy } from 'react';\r\n\r\nimport PublishUtils from './../../helpers/PublishUtils'\r\n\r\nexport default class TreeDescriptor {\r\n  \r\n\r\n    static getDescription() {\r\n        return {\r\n          name: 'Tree',\r\n          component: lazy(() =>  import('./Tree')), \r\n          label: 'Tree widget',\r\n          variables: [\r\n            {\r\n              name: 'query',\r\n              type: 'yasgui',\r\n              label:\r\n                'Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons and checkbox for checkbox version',\r\n            },\r\n            {\r\n              name: 'publishVariable',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which tree item URI is published, when tree item is clicked.',\r\n            },\r\n            {\r\n              name: 'publishVariable2',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which tree item URI2 is published, when tree item is clicked.',\r\n            },\r\n            {\r\n              name: 'subscribeVariable',\r\n              type: 'text',\r\n              label:\r\n                'Publish variabele on which to listen to to define tree item selection.',\r\n            },\r\n            {\r\n              name: 'textstyle',\r\n              type: 'text',\r\n              label: 'css class for text style. {w2ui}',\r\n            },\r\n            {\r\n              name: 'rootLabel',\r\n              type: 'text',\r\n              label: 'Label of the root of the tree. Leave empty for no root.',\r\n            },\r\n            \r\n            {\r\n              name: 'expandLevel',\r\n              type: 'int',\r\n              label: 'initially expand the tree to this level',\r\n            },\r\n    \r\n            {\r\n              name: 'title',\r\n              type: 'text',\r\n              label: 'title',\r\n            },\r\n            {\r\n              name: 'defaultIcon',\r\n              type: 'text',\r\n              label: 'fa icon name when no icon is defined. ',\r\n            },\r\n            {\r\n              name: 'aggregate',\r\n              type: 'boolean',\r\n              label: 'Aggregate the results based upon parent and child uri ',\r\n            },\r\n            {\r\n              name: 'shouldNonSelectedSubTreeClose',\r\n              type: 'boolean',\r\n              label:\r\n                'Should a subtree that does not contain selection fold on new selection.',\r\n            },\r\n            {\r\n              name: 'setSelectionInURL',\r\n              type: 'boolean',\r\n              label: 'the selected URI will be used in the browser URL. THIS WORKS ONLY WHEN browser URL is similar to the selection (Security reasons)',\r\n            },\r\n            {\r\n              name: 'debugSetSelectionInURL',\r\n              type: 'boolean',\r\n              label: 'sets a ?selection parameter in the browser url for Debug reasons',\r\n            },\r\n            {\r\n              name: 'setSelectionInURLStartsString',\r\n              type: 'text',\r\n              label:\r\n                'the selected URI will be used in the browser URL only if it starts with this text. . ',\r\n            },\r\n            {\r\n              name: 'parseInitialURLForSelection',\r\n              type: 'boolean',\r\n              label: 'parse the initial URL for selection',\r\n            },\r\n            {\r\n              name: 'initialSelection',\r\n              type: 'text',\r\n              label: 'initial uri selection',\r\n            },\r\n            {\r\n              name: 'scrollSelectionIntoView',\r\n              type: 'boolean',\r\n              label: 'try to automatically scroll the selected object into view',\r\n            },\r\n            {\r\n              name:'multipleCheckBoxParameter',\r\n              type:'text',\r\n              label:\"parameter for (multiple) checkbox values \"\r\n            }\r\n              ,\r\n            PublishUtils.getMultipleValueFormatOptions(),\r\n          ]\r\n        }\r\n      }\r\n    \r\n}","import { lazy } from 'react';\n\nexport default class TreeD3Descriptor {\n \n\n  static getDescription() {\n    return {\n      name: 'TreeD3',\n      component: lazy(() =>  import('./TreeD3')), \n      label: 'TreeD3 widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill tree',\n        },\n        {\n          name: 'publishVariableOnTreeItemClick',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele in which tree item URI is published, when tree item is clicked.',\n        },\n        {\n          name: 'subscribeVariableForTreeItemSelection',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele on which to listen to define tree item selection.',\n        },\n        {\n          name: 'subscribeVariableForTreeConnectionHighlight',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele on which to listen to define which tree connections to highlight',\n        },\n        {\n          name: 'subscribeVariableForFilter',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele on which to listen to define which tree items should be filtered out',\n        },\n        {\n          name: 'rootLabel',\n          type: 'text',\n          label: 'Label of the root of the tree. Leave empty for no root.',\n        },\n        {\n          name: 'treeType',\n          type: 'select',\n          label: 'Soort boom',\n          options: [\n            {\n              label: 'Horizontaal',\n              value: 'horizontal',\n            },\n            {\n              label: 'Radiaal',\n              value: 'radial',\n            },\n          ],\n        },\n      ],\n    }\n  }\n\n  \n}\n\n","import { Component } from 'react'\nimport styles from './List.module.css'\n\nimport { Button } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\nimport PublishUtils from './../../helpers/PublishUtils'\n\nclass List extends Component {\n  state = { checklist: {},all:false }\n\n\n  handleAllOnChange = (e) => {\n    try\n    {\n    let all=e.target.checked;\n   \n    let key = this.props.data.head.vars[0]\n    let label = this.props.data.head.vars[0]\n    if (this.props.data.head.vars.length > 1) {\n      key = this.props.data.head.vars[1]\n    }\n   \n\n    let checklist = this.state.checklist;\n    for (var n in this.props.data.results.bindings)\n    {\n      var kvalue = this.props.data.results.bindings[n][key].value;\n      checklist[kvalue]=all;\n    }\n   \n    let publishVariable = this.props.publishVariable;\n    if (publishVariable != null) {\n\n      var valueString=PublishUtils.getMultiplePropValueAsSingleValue(this.props.multipleselectparametertype,checklist);\n\n          console.log(valueString,checklist);\n      this.props.publish(publishVariable, valueString);\n\n      //PublishUtils.resetParameter(this);\n    }\n    this.setState({ checklist: checklist,all:all });\n  }\n  catch(e){}\n  }\n\n  handleOnChange = (e) => {\n    // setIsChecked(!isChecked);\n    // console.log(e,e.target.value,e.target.checked);\n    let checklist = this.state.checklist\n    checklist[e.target.value] = e.target.checked\n\n    this.setState({ checklist: checklist })\n    let publishVariable = this.props.publishVariable\n    if (publishVariable != null) {\n\n      var valueString=PublishUtils.getMultiplePropValueAsSingleValue(this.props.multipleselectparametertype,checklist);\n\n      this.props.publish(publishVariable, valueString)\n      //PublishUtils.resetParameter(this);\n    }\n  }\n\n  static getDescription() {\n    return {\n      name: 'List',\n      component: List,\n      label: 'List widget',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de lijst',\n        },\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'first variabele for the labels ',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'sparql parameter name for publishing select event result',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label: 'Published variabele on which to listen to to define list item selection.',\n        },\n        {\n          name: 'multipleselect',\n          type: 'boolean',\n          label: 'allow multiple selections. parameters are filled as comma separated values',\n        },\n        {\n          name: 'allMultipleSelect',\n          type: 'boolean',\n          label: 'Add \"All\" multiple select',\n        },\n        PublishUtils.getMultipleValueFormatOptions(),\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'customStyling',\n          type: 'boolean',\n          label: 'Enable Custom Styling',\n        },\n        {\n          name: 'areaBorderStyle',\n          type: 'text',\n          label: 'Custom Styling: area-border-style (example: \"3px solid grey\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border',\n        },\n        {\n          name: 'areaBorderRadius',\n          type: 'text',\n          label: 'Custom Styling: area-border-radius (examples: \"0.8em\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\n        },\n        {\n          name: 'textColor',\n          type: 'text',\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'bgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'selectedTextColor',\n          type: 'text',\n          label: 'Custom Styling: text-color of selection (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'selectedBgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color of selection (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'itemBorderStyle',\n          type: 'text',\n          label: 'Custom Styling: border between each list-item (examples: \"3px solid grey\")'\n        },\n        {\n          name: 'itemPaddingVertical',\n          type: 'text',\n          label: 'Custom Styling: vertical padding of each list-item (examples: \"0.8em\", \"1.4em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-top',\n        },\n        {\n          name: 'itemPaddingHorizontal',\n          type: 'text',\n          label: 'Custom Styling: horizontal padding of each list-item (examples: \"0.4em\", \"1.0em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-left',\n        },\n        /*,\n    {\n      name: 'clearParameter',\n      type: 'text',\n      label: 'clears widget when parameter changes'\n    }*/\n      ],\n    }\n  }\n\n  //state= {clearList:false};\n  clearList = false\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps == null) {\n      return false\n    }\n    if (this.props == null) {      return false    }\n    if (this.props.data == null) {       return true    }\n\n    if (nextProps.data !== this.props.data) {\n    \n     \n\n\n      this.setState({ checklist: {},all:false })\n      let publishVariable = this.props.publishVariable\n      if (publishVariable != null) {\n\n       // publish empty but use the right format\n       let r=PublishUtils.getEmptyMultiplePropValueAsSingleValue(this.props.multipleselectparametertype)\n        this.props.publish(publishVariable, r)\n\n        PublishUtils.resetParameter(this)\n      }\n\n      this.setState({ checklist: {} })\n\n      return true\n    }\n\n    return true\n  }\n\n  renderMultiple() {\n\n    let allMultipleSelect = this.props.allMultipleSelect;\n    let all=this.state.all;\n    let key = this.props.data.head.vars[0]\n    let label = this.props.data.head.vars[0]\n    if (this.props.data.head.vars.length > 1) {\n      key = this.props.data.head.vars[1]\n    }\n\n    // let publishVariable = this.props.publishVariable\n\n    let items = restructureResponse(this.props.data)\n    //console.log(key,items);\n    let checklist = this.state.checklist\n    return (\n      <div className={styles.main}>\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n        <ul className={styles.main}>\n          {allMultipleSelect && (\n            <div>\n              <input\n                value=\"all\"\n                type=\"checkbox\"\n                checked={all}\n                onChange={this.handleAllOnChange}\n                disabled={this.props.userActionsDisabled}\n              ></input>\n              <span> All</span>\n            </div>\n          )}\n\n          {items.map((item, index) => {\n            let checkboxvalue = item[key]\n            let check = checklist[checkboxvalue] ?? false\n\n            return (\n              <div key={index}>\n                <input\n                  value={item[key]}\n                  type=\"checkbox\"\n                  checked={check}\n                  onChange={this.handleOnChange}\n                  disabled={this.props.userActionsDisabled}\n                ></input>\n                <span> {item[label]}</span>\n              </div>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    if (!this.props.data) return null\n    if (this.props.multipleselect) return this.renderMultiple()\n\n    let key = this.props.data.head.vars[0]\n    let label = this.props.data.head.vars[0]\n    if (this.props.data.head.vars.length > 1) {\n      key = this.props.data.head.vars[1]\n    }\n\n    let publishVariable = this.props.publishVariable\n\n    let items = restructureResponse(this.props.data)\n    //console.log(key,items);\n    let selectedItem = this.props.pubsub[publishVariable]\n\n    return (\n      <div\n        className={`${styles.main} inheritFromArea`}\n        data-custom-styling={Boolean(this.props.customStyling)}\n        style={{\n          '--text-color': this.props.textColor,\n          '--selected-text-color': this.props.selectedTextColor,\n          '--bg-color': this.props.bgColor,\n          '--selected-bg-color': this.props.selectedBgColor,\n          '--item-border-style': this.props.itemBorderStyle,\n          '--item-padding-vertical': this.props.itemPaddingVertical,\n          '--item-padding-horizontal': this.props.itemPaddingHorizontal,\n        }}\n      >\n        {this.props.title && <div className={styles.title}>{this.props.title}</div>}\n        <ul>\n          {items.map((item, index) => {\n            if (publishVariable) {\n              return (\n                <li key={index} data-selected={selectedItem === item[key]}>\n                  <Button\n                    color=\"link\"\n                    className={''}\n                    style={{ 'text-align': 'left', padding: '0px' }}\n                    onClick={() => {\n                      this.props.publish(publishVariable, item[key])\n                      PublishUtils.resetParameter(this)\n                    }}\n                  >\n                    {item[label]}\n                  </Button>\n                </li>\n              )\n            } else {\n              return (\n                <li key={index}>\n                  <div style={{ padding: '2px 1px 1px' }}>{item[label]}</div>\n                </li>\n              )\n            }\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default List\n","import React, { Component, Fragment } from 'react'\nimport styles from './RadioBox.module.css'\n\nclass RadioBox extends Component {\n  static getDescription() {\n    return {\n      name: 'RadioBox',\n      component: RadioBox,\n      label: 'Radio box widget',\n      variables: [\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which the URI of the selected radio box is published.',\n        },\n        {\n          name: 'publishVariableLabel',\n          type: 'text',\n          label:\n            'Variabele in which the LABEL of the selected radio box is published.',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          label: 'Label',\n        },\n        {\n          name: 'horizontal',\n          type: 'boolean',\n          label: 'horizontal',\n        },\n        {\n          name: 'options',\n          type: 'text',\n          label:\n            'Options defined by a comma separated list of value/label pairs',\n        },\n      ],\n    }\n  }\n\n  componentDidMount() {\n    let options = this.restructureOptions()\n    if (!options) return;\n    if (false)  \n    {\n    this.props.publish(\n      this.props.publishVariable,\n      options[0] && options[0].value\n    )\n    }\n  }\n\n  onChange = (event) => {\n    try\n    {\n    let value = event.target.value\n    this.props.publish(this.props.publishVariable, value)\n    }\n    catch(e){console.log(e);}\n    try\n    {\n      if (this.props.publishVariableLabel!=null)\n      {\n          console.log(event.target.alt);\n          this.props.publish(this.props.publishVariableLabel, event.target.alt);\n      }\n    }\n  catch(e){console.log(e);}\n\n\n\n  }\n\n  restructureOptions() {\n    let options = this.props.options\n    try {\n      options = options.split(',')\n    } catch (error) {\n      return null\n    }\n\n    options = options.reduce((org, value, index) => {\n      if (index % 2 === 0) {\n        value = value.trim()\n        org = [\n          ...org,\n          {\n            value,\n            label: options[index + 1] || value,\n          },\n        ]\n      }\n      return org\n    }, [])\n    return options\n  }\n\n  renderOptionsHorizontal() {\n    let value = this.props.pubsub[this.props.publishVariable]\n    let options = this.restructureOptions()\n\n    if (!options) {\n      return (\n        <div>Options should be a comma separated list of value,label pairs</div>\n      )\n    }\n\n    return (\n      <Fragment>\n        {options.map((option) => (\n          <div key={option.value}>\n            <label className={styles.radioContainerHor}>\n              <input\n                type=\"radio\"\n                name={this.props.label}\n                checked={value === option.value}\n                value={option.value}\n                onChange={this.onChange}\n                alt={option.label}\n              />\n              <span\n                style={{\n                  verticalAlign: 'middle',\n                  paddingRight: '15px',\n                  paddingLeft: '12px',\n                }}\n              >\n                {option.label}\n              </span>\n            </label>\n          </div>\n        ))}\n      </Fragment>\n    )\n  }\n  renderOptionsVertical() {\n    let value = this.props.pubsub[this.props.publishVariable]\n    let options = this.restructureOptions()\n\n    if (!options) {\n      return (\n        <div>Options should be a comma separated list of value,label pairs</div>\n      )\n    }\n\n    return (\n      <div>\n        {options.map((option) => (\n          <div key={option.value}>\n            <label className={styles.radioContainerVer}>\n              <input\n                type=\"radio\"\n                name={this.props.label}\n                checked={value === option.value}\n                value={option.value}\n                onChange={this.onChange}\n                alt={option.label}\n              />\n              <span style={{ verticalAlign: 'middle', paddingLeft: '12px' }}>\n                {option.label}\n              </span>\n            </label>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  render() {\n    let horizontal = this.props.horizontal\n    return (\n      <div className={styles.main}>\n        <div className={styles.label}>{this.props.label} </div>\n\n        {horizontal\n          ? this.renderOptionsHorizontal()\n          : this.renderOptionsVertical()}\n      </div>\n    )\n  }\n}\n\nexport default RadioBox\n","import React, { Component } from 'react'\nimport styles from './SelectBox.module.css'\nimport { Input } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\nimport { not, isEmptyObject } from '../../helpers/utils'\nimport isEqual from 'lodash/isEqual'\nimport PublishUtils from '../../helpers/PublishUtils'\n\nclass SelectBox extends Component {\n\n  static getDescription() {\n    return {\n      name: 'SelectBox',\n      component: SelectBox,\n      label: 'Select box widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'To fill select box items',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which the URI of the selected item is published.',\n        },\n        {\n          name: 'publishVariable2',\n          type: 'text',\n          label: 'Variabelename for ?uri2 of the selected item (if available).',\n        },\n        {\n          name: 'preSelectFirstItem',\n          type: 'boolean',\n          label: 'pre select first item',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          label: 'Label',\n        },\n        {\n          name: 'extrastyle',\n          type: 'text',\n          label: 'extra css style ({\"border-radius\":\"20px\"})',\n        },\n       // PublishUtils.getResetValueDef()\n      ],\n    }\n  }\n\n  componentDidMount() \n  {\n    if (this.props.data) {\n      this.preSelect()\n    }\n  }\n\n  componentDidUpdate(prevProps) \n  {\n    try {\n      if (!isEqual(prevProps.data, this.props.data)) {\n        this.preSelect()\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  preSelect() {\n    try {\n     // console.log(\"preselect the first item\",this.props.preSelectFirstItem);\n      if (this.props.preSelectFirstItem!=true) return;\n      var value = 'http://www.buildingbits.nl/reset'\n      if (this.props.data==null) \n      {\n        if (this.props.publishVariable != null) \n        {\n          this.props.publish(this.props.publishVariable, value)\n        }\n        return;\n      }\n      let item = restructureResponse(this.props.data)[0]\n      if (item == null) {\n      } else {\n        let keyURI = this.props.data.head.vars[0]\n        value = item[keyURI]\n      }\n\n      if (this.props.publishVariable != null) \n      {\n        this.props.publish(this.props.publishVariable, value)\n      }\n      if (this.props.publishVariable2 != null && item['uri2'] != null) {\n       // console.log('initial select publishing uri2 ', item['uri2'])\n        this.props.publish(this.props.publishVariable2, item['uri2'])\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  onChange = (event) => {\n    let value = event.target.value\n    let value2 = null\n\n    try {\n      value2 = event.target[event.target.selectedIndex].attributes['value2']\n    } catch (e) {}\n        this.setState({selected:value});\n    if (this.props.publishVariable != null) \n    {\n     // PublishUtils.emptyDataParameterChange(this);\n      this.props.publish(this.props.publishVariable, value)\n    }\n\n    if (this.props.publishVariable2 != null && value2 != null) \n    {\n      //console.log('select publishing uri2 ',this.props.publishVariable2,value2);\n      this.props.publish(this.props.publishVariable2, value2)\n    }\n \n  }\n\n  render() \n  {\n    let ok=true;\n  \n    if (!this.props) {ok=false;}\n    if (!this.props.data) {ok=false;}\n    let items = null\n    let keyURI =null;\n    let keyLabel =null;\n\n    if (ok)\n    {\n      try{\n      let headVars = this.props.data.head.vars\n      if (headVars.length < 2) ok=false;\n       keyURI = headVars[0] // graph\n       keyLabel = headVars[1] // label\n     \n      try {\n        items = restructureResponse(this.props.data).filter(not(isEmptyObject))\n      } catch (er) {\n       // console.log(er);\n      \n        ok=false;\n      }\n    }\n    catch(e){}\n  }\n\n    if (items == null) {  items=[]}\n    const value = this.props.publishVariable ? this.props.pubsub[this.props.publishVariable] : null\n    const stylePanel = styles[this.props.panelstyle]\n    const stylePrimaryAction = this.props.colorPrimaryAction ? 'primaryColor' : ''\n\n    var extrastyle={};\n    if (this.props.extrastyle!=null)\n    {\n      try{\n          extrastyle=JSON.parse(this.props.extrastyle);\n      }\n      catch(e){}\n    }\n\n    return (\n      <div className={styles.main} style={extrastyle}>\n        <div className={styles.label}>{this.props.label}</div>\n        <Input\n          className= {`form-control ${styles.round} ${styles.extra} ${stylePanel} ${stylePrimaryAction}`}\n          value={value || ''}\n          type=\"select\"\n          onChange={this.onChange}\n        >\n          {/* <option value=\"\">Kies een {this.props.publishVariable}...</option> */}\n          {items.map((item) => \n          {\n           //var selected=false;\n           // if (item[keyURI]==this.state.selected)   selected=true;\n            \n            return (\n           \n            <option\n              key={item[keyURI]}\n              value={item[keyURI]}\n              value2={item['uri2']}\n            >\n              {item[keyLabel]}\n            </option>\n          ) } \n          )}\n        </Input>\n      </div>\n    )\n  }\n}\n\nexport default SelectBox\n","import React, { Component } from 'react'\nimport styles from './Slider.module.css'\nimport { restructureResponse } from '../../helpers/sparql'\nimport throttle from 'lodash/throttle'\n// import isEqual from 'lodash/isEqual';\n\nclass Slider extends Component {\n  state = {}\n\n  // componentDidMount() {\n  //   if (this.props.data) {\n  //     let item = restructureResponse(this.props.data)[0];\n  //     let keyURI = this.props.data.head.vars[0];\n  //     let value = item[keyURI];\n  //     this.props.publish(this.props.publishVariable, value);\n  //   }\n  // }\n\n  static getDescription() {\n    var r = {\n      name: 'Slider',\n      component: Slider,\n      label: 'Slider widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Sparql query to define min max values of the slider. it uses only the first parameter',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Variabele in which the value of the slider is published.',\n        },\n\n        {\n          name: 'startMin',\n          type: 'boolean',\n          label: 'default on minimum',\n        },\n        {\n          name: 'publishStartValue',\n          type: 'boolean',\n          label: 'publish the initial value',\n        },\n\n        {\n          name: 'tick',\n          type: 'text',\n          label: 'tick',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          label: 'Label',\n        },\n        {\n          name: 'textwidth',\n          type: 'text',\n          label: 'text width',\n        },\n      ],\n    }\n    return r\n  }\n\n  shouldComponentUpdate(arg1) {\n    if (this.props.data == null && arg1.data != null) {\n      if (this.props.publishVariable && this.props.publishStartValue) {\n        //console.log(\"should component slider\",this.props.data,arg1);\n        var minmax = this.defineMaxMinValue(arg1)\n\n        let value = minmax.maxValue\n        if (this.props.startMin) {\n          value = minmax.minValue\n        }\n        this.props.publish(this.props.publishVariable, value)\n      }\n    }\n    return true\n  }\n\n  defineMaxMinValue(arg) {\n    let minValue = 1000000\n    let maxValue = -1000000\n    try {\n      var data = this.props.data\n      if (arg) {\n        data = arg.data\n      }\n      let headVars = data.head.vars\n      let key = headVars[0] // eg. oprichtingsDatum\n      let items = restructureResponse(data)\n\n      items.forEach((item) => {\n        let value = item[key]\n        try {\n          if (typeof value === 'string') value = Number(value)\n        } catch (error) {\n          console.log(error)\n        }\n        if (value < minValue) minValue = value\n        if (value > maxValue) maxValue = value\n      })\n      return { minValue, maxValue }\n    } catch (e) {\n      console.log(e)\n    }\n    return { minValue, maxValue }\n  }\n\n  onChange = (event) => {\n    this.setState({\n      value: event.target.value,\n    })\n    // console.log(event);\n\n    //this.onChangeThrottle();\n  }\n  onmouseup = (event) => {\n    // console.log(\"mouse up\");\n    this.onChangeThrottle()\n  }\n\n  onChangeThrottle = throttle(() => {\n    // console.log(\"slider update\");\n    let value = this.state.value\n\n    if (value) {\n      console.log('really publishing ', this.props.publishVariable, value)\n      this.props.publish(this.props.publishVariable, value)\n    }\n  }, 200)\n\n  render() {\n    if (!this.props.data) return null\n    let step = 1\n    if (this.props.tick != null) {\n      try {\n        step = parseInt(this.props.tick)\n      } catch (error) {}\n    }\n    let { minValue, maxValue } = this.defineMaxMinValue()\n\n    // let value = this.props.pubsub[this.props.publishVariable] || maxValue;\n    let value = null\n    if (this.props.startMin) {\n      value = this.state.value || minValue\n    } else {\n      value = this.state.value || maxValue\n    }\n\n    return (\n      <div className={styles.main}>\n        <table>\n          <tbody>\n            <tr>\n              <td>\n                <div className={styles.label}>{this.props.label}</div>\n                <div className={styles.container}>\n                  <div className={styles.rangeValue}>{minValue}</div>\n                  <input\n                    className={styles.slider}\n                    type=\"range\"\n                    min={minValue}\n                    max={maxValue}\n                    value={value}\n                    step={step}\n                    onChange={this.onChange}\n                    onMouseUp={this.onmouseup}\n                  />\n                  <div className={styles.rangeValue}>{maxValue}</div>\n                  <div className={styles.rangeValue}>({value})</div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Slider\n","import React, { Component } from 'react'\nimport styles from './SearchAutocomplete.module.css'\nimport { Input } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\nimport PublishUtils from '../../helpers/PublishUtils'\nimport Icon from '@mui/material/Icon';\n\n\n//magnifyingGlass from '../../images/magnifying-glass.svg';\n//import cross from '../../images/cross.svg';\n\nclass SearchAutocomplete extends Component {\n  state = {\n    searchValue: '',\n    validItems: [],\n    showPopup: false,\n    selectedIndex: 0\n  }\n\n  itemsRef = React.createRef()\n\n  static getDescription() {\n    return {\n      name: 'SearchAutocomplete',\n      component: SearchAutocomplete,\n      label: 'Search autocomplete widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'Query to fill search results. parameters search string, uri and optionally ?icon',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Variabele in which searchterm is published.',\n        },\n        {\n          name: 'nullSelectionResetVariable',\n          type: 'boolean',\n          label: 'set reset value when nothing is selected',\n        },\n        {\n          name: 'alignItems',\n          type: 'select',\n          label: 'Uitlijning',\n          options: [\n            {\n              label: 'Stretch',\n              value: 'stretch',\n            },\n            {\n              label: 'Start',\n              value: 'flex-start',\n            },\n            {\n              label: 'Center',\n              value: 'center',\n            },\n            {\n              label: 'End',\n              value: 'flex-end',\n            },\n          ],\n        },\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'textbefore',\n          type: 'text',\n          label: 'text before the search input.',\n        },\n        {\n          name: 'cssEscape',\n          type: 'text',\n          label: 'JSON object of CSS statements',\n        },\n\n        {\n          name: 'resetPublishVariable',\n          type: 'boolean',\n          label: 'Reset the publish variable when sparql changes',\n        },\n      ],\n    }\n  }\n\n  shouldComponentUpdate(e, b) {\n    if (e == null) return true\n    if (this.props == null) return true\n    if (e.data !== this.props.data) {\n      //console.log(\"NEW DATA. refresh current searchbox\");\n\n      if (this.props.resetPublishVariable === true) {\n        let pv = this.props.publishVariable\n        // console.log(\"should reset if variable is present\",pv);\n        if (pv != null) {\n          // console.log(\"publish variable could be present\");\n          if (this.props.pubsub[pv] != null) {\n            //console.log(\"reset publish variable \",pv,this.props.pubsub[pv]);\n\n            this.setState({ searchValue: '' })\n            this.props.publish(pv, 'http://www.buildingbits.nl/empty')\n          }\n        }\n      }\n    }\n    return true\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      if (!this.state.validItems.length) {\n        return\n      }\n\n      let selectedItem = null;\n      if (this.state.selectedIndex != null) {\n        selectedItem = this.state.validItems[this.state.selectedIndex]\n      } else if (this.state.validItems.length === 1) {\n        selectedItem = this.state.validItems[0]\n      }\n\n      if (!selectedItem) {\n        return\n      }\n\n      const objectKey = this.props.data.head.vars[0]\n      const objectURIKey = this.props.data.head.vars[1]\n\n      this.publish(selectedItem[objectURIKey], selectedItem[objectKey])\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault() // prevent cursor moving to end\n\n      let selectedIndex = this.state.selectedIndex\n      let validItems = this.state.validItems\n      if (selectedIndex === validItems.length - 1) return\n      this.setState({\n        selectedIndex: selectedIndex === null ? 0 : selectedIndex + 1,\n      })\n      this.scrollToSelectedItem(\"down\");\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault()  // prevent cursor moving to start\n\n      let selectedIndex = this.state.selectedIndex\n      if (selectedIndex === 0) return\n      this.setState({\n        selectedIndex:\n          selectedIndex === null\n            ? this.state.validItems.length - 1\n            : selectedIndex - 1,\n      })\n      this.scrollToSelectedItem(\"up\");\n    } else if (e.key === 'Escape') {\n      this.setState({ searchValue: '' })\n    }\n  }\n\n  /**\n   * @param direction {\"up\"|\"down\"}\n   */\n  scrollToSelectedItem(direction) {\n    requestAnimationFrame(() => {\n      if (!this.itemsRef.current) return\n      const selectedItem = this.itemsRef.current.querySelector('[data-is-selected=true]')\n      if (!selectedItem) return\n      if (isInView(this.itemsRef.current, selectedItem)) return\n      selectedItem.scrollIntoView({ block: direction === \"up\" ? \"start\" : \"end\" })\n    })\n  }\n\n  onChange = (e) => {\n    let objectKey = this.props.data.head.vars[0]\n    let searchValue = e.target.value\n\n    let items = restructureResponse(this.props.data)\n\n    // Always render items starting with search query on top\n    const itemsStartingWithSearchQuery = items.filter(item =>\n      item[objectKey] && item[objectKey].toLowerCase().startsWith(searchValue.toLowerCase())\n    )\n    const itemsOnlyContainingSearchQuery = items.filter(item =>\n      item[objectKey]\n      && item[objectKey].toLowerCase().includes(searchValue.toLowerCase())\n      && !item[objectKey].toLowerCase().startsWith(searchValue.toLowerCase()))\n    const validItems = [\n      ...itemsStartingWithSearchQuery,\n      ...itemsOnlyContainingSearchQuery\n    ]\n\n    this.setState({\n      searchValue,\n      showPopup: true,\n      validItems,\n      selectedIndex: 0,\n    })\n  }\n\n  onBlur = (e) => {\n    setTimeout(() => {\n      this.setState({\n        showPopup: false,\n      })\n    }, 300)\n  }\n\n  publish(objectURI, key) {\n    let publishVariable = this.props.publishVariable\n    var data = {}\n\n    data[publishVariable] = objectURI\n\n    this.props.publish(publishVariable, objectURI) //DIT EERST\n\n    PublishUtils.resetParameter(this, false)\n   \n    this.setState({\n      showPopup: false,\n      searchValue: key,\n    })\n  }\n\n  renderLabel(label, searchValue,icon) {\n    let ind = label.toLowerCase().indexOf(searchValue.toLowerCase())\n    if (ind === -1) {\n      return <div><span>{label} </span> \n      {icon && (<span><Icon  fontSize=\"small\" color=\"action\" size=\"small\" >{icon}</Icon></span>)}\n      </div>\n    }\n    let end = ind + searchValue.length\n    let l1 = label.slice(0, ind)\n    let l2 = label.slice(ind, end)\n    let l3 = label.slice(end)\n    return (\n      <div>\n        <span>{l1}</span>\n        <span style={{ fontWeight: 'bold' }}>{l2}</span>\n        <span>{l3}</span>\n        {icon && (<span><Icon  size=\"small\"   fontSize=\"small\" color=\"action\" >{icon}</Icon></span>) }\n      </div>\n    )\n  }\n\n  renderValidItems() {\n    try {\n      if (!this.props.data) return\n\n      let objectKey = this.props.data.head.vars[0]\n      let objectURIKey = this.props.data.head.vars[1]\n      let searchValue = this.state.searchValue\n      let validItems = this.state.validItems\n      let selectedIndex = this.state.selectedIndex\n      let selectedItem = validItems[selectedIndex]\n\n      if (!searchValue) return null\n      if (!validItems.length)\n        return <div className={styles.noResults}>geen resultaten gevonden</div>\n      if (!this.state.showPopup) return null\n\n      return (\n        <div className={styles.items} z-index={200} ref={this.itemsRef}>\n          {validItems.map((item, index) => {\n            let isSelected =\n              selectedItem && selectedItem[objectURIKey] == item[objectURIKey]\n             let icon =item.icon;\n            return (\n              \n              <div\n             key={index}\n                data-is-selected={isSelected}\n                className={\n                  styles.item + ' ' + (isSelected ? styles.selected : '')\n                }\n                onClick={() =>\n                  this.publish(item[objectURIKey], item[objectKey])\n                }\n              >\n                {this.renderLabel(item[objectKey], searchValue,icon)}\n              \n                \n              </div>\n             \n             \n            )\n          })}\n        </div>\n      )\n    } catch (ee) {\n      console.log(ee)\n    }\n    return\n  }\n\n  emptyEvent=()=>\n  {\n   // console.log(\"empty event\");\n    this.setState({ searchValue: '' });\n    if (this.props.nullSelectionResetVariable)\n    {\n      if (this.props.publishVariable!=null)\n      {\n        this.props.publish(this.props.publishVariable, \"http://www.buildingbits.nl/reset\") //DIT EERST\n        PublishUtils.resetParameter(this, false)\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.data) return null\n    let mainStyle = {\n      alignItems: this.props.alignItems || 'stretch',\n    }\n\n    let css = this.props.cssEscape\n    if (css) {\n      try {\n        css = JSON.parse(css)\n        mainStyle = {\n          ...mainStyle,\n          ...css,\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    }\n    let text = this.props.textbefore\n    if (text != null && text.length < 1) {\n      text = null\n    }\n    return (\n      <div className={styles.main} style={mainStyle}>\n        <div className={`${styles.inputContainer} ${styles[this.props.panelstyle]}`}>\n          {text && <b className={styles.headertxt}>{text}</b>}\n          <Input\n            value={this.state.searchValue}\n            component=\"input\"\n            type=\"text\"\n            onKeyDown={this.handleKeyPress}\n            onChange={this.onChange}\n            onBlur={this.onBlur}\n          />\n          {this.state.searchValue ? (\n            <img\n              style={{ cursor: 'pointer' }}\n              onClick={this.emptyEvent}\n              src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik00NTcuNSw0NjZjLTMuNSwwLTYuOS0xLjMtOS41LTRMNDgsNjJjLTUuMy01LjMtNS4zLTEzLjgsMC0xOS4xYzUuMy01LjMsMTMuOC01LjMsMTkuMSwwbDQwMCw0MDBjNS4zLDUuMyw1LjMsMTMuOCwwLDE5LjENCgkJQzQ2NC40LDQ2NC43LDQ2MSw0NjYsNDU3LjUsNDY2eiIvPg0KCTxwYXRoIGQ9Ik01Ny41LDQ2NmMtMy41LDAtNi45LTEuMy05LjUtNGMtNS4zLTUuMy01LjMtMTMuOCwwLTE5LjFMNDQ4LDQzYzUuMy01LjMsMTMuOC01LjMsMTkuMSwwYzUuMyw1LjMsNS4zLDEzLjgsMCwxOS4xTDY3LDQ2Mg0KCQlDNjQuNCw0NjQuNyw2MSw0NjYsNTcuNSw0NjZ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==\"\n              alt=\"empty\"\n            />\n          ) : (\n            <img\n              src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGQ9Ik0yMzIuNjg5LDM0Ljc5N2MxMS44MjcsMi4xNTUsMjMuODI2LDMuNzI1LDM1LjUwNSw2LjYxM0MzODcuNDMxLDcwLjkzMyw0NDkuMTgxLDIwMS41ODQsMzk1LjgyLDMxMi4xMzMNCgljLTQuNjUzLDkuNTgyLTMuNTA3LDE0LjM1LDQuNCwyMS4wODhjNDQuNDIyLDM3Ljc1MiwyMi4xMTksMTguMjIzLDY2LjIyLDU2LjQzM2MyMS41NjksMTguNjU4LDIwLjc0NCw0Mi44NjItMS45NDgsNjAuMTQ2DQoJYy0xMy4xNTYsOS45NzEtMjguODgxLDkuMjM3LTQzLTIuODg4Yy00NC41Ni0zOC4zNy0yMi43MzgtMTkuMDAyLTY3LjE1OS01Ny40NjRjLTMuNzE0LTMuMjMyLTcuNDczLTYuMzUtMTEuNzgyLTkuODc5DQoJYy0yNy4wNDcsMjAuNjI5LTU3LjAyOCwzMy42NDgtOTAuMzEsMzkuNDcxQzE0My4xNDcsNDM4LjIyNCwzNC45NywzNTEuNDY3LDMwLjM2MiwyNDAuNzc5DQoJQzI1LjkwNCwxMzMuODg2LDk4LjE1Miw0OC45OTcsMjAzLjU5MSwzNi45NTJjMi41NTYtMC4yODcsNS4wNDItMS40MSw3LjU1My0yLjE1NUMyMTguMzA2LDM0Ljc5NywyMjUuNTAzLDM0Ljc5NywyMzIuNjg5LDM0Ljc5N3oNCgkgTTM2NS4zMzUsMjI4Ljg4M2MwLjE4NC03Ny45NTYtNjEuODQyLTE0MC40MTYtMTM5LjgzMi0xNDAuNzgzYy03Ny44NTItMC4zNzgtMTQwLjgyOCw2MS44NDItMTQxLjE5NSwxMzkuNDg4DQoJYy0wLjQsNzguMzU3LDYyLjMzNSwxNDEuNDgyLDE0MC41NjUsMTQxLjUwNEMzMDIuNjIyLDM2OS4xODUsMzY1LjE5NywzMDYuNzI1LDM2NS4zMzUsMjI4Ljg4M3oiLz4NCjwvc3ZnPg0K\"\n              alt=\"magnifying glass\"\n            />\n          )}\n        </div>\n        {this.renderValidItems()}\n      </div>\n    )\n  }\n}\n\n/**\n * @param container {HTMLElement}\n * @param element {HTMLElement}\n * @return {boolean}\n */\nfunction isInView(container, element) {\n  const cTop = container.scrollTop\n  const cBottom = cTop + container.clientHeight\n\n  const eTop = element.offsetTop\n  const eBottom = eTop + element.clientHeight\n\n  return eTop >= cTop && eBottom <= cBottom\n}\n\nexport default SearchAutocomplete\n","import React from 'react'\nimport styles from './Tab.module.css'\nimport Area from '../Area'\nimport { Icon } from './Icon'\nimport { Button } from '@mui/material'\n\nconst APPEARANCE = {\n  TRADITIONAL: 'TRADITIONAL',\n  CAROUSEL_WITHOUT_BUTTONS: 'CAROUSEL_WITHOUT_BUTTONS',\n  CAROUSEL_WITH_BUTTONS: 'CAROUSEL_WITH_BUTTONS',\n}\n\nclass Tab extends React.Component {\n  static tabId = 0\n  state = { selectedIndex: 0, hideTabs: null, areas: [], id: Tab.tabId++ }\n\n  static getDescription() {\n    return {\n      name: 'Tab',\n      component: Tab,\n      label: 'Tab Layout',\n      variables: [\n        {\n          name: 'appearance',\n          type: 'select',\n          label: 'Appearance',\n          options: [\n            {\n              label: 'Traditional',\n              value: APPEARANCE.TRADITIONAL,\n            },\n            {\n              label: 'Carousel without buttons',\n              value: APPEARANCE.CAROUSEL_WITHOUT_BUTTONS,\n            },\n            {\n              label: 'Carousel with buttons',\n              value: APPEARANCE.CAROUSEL_WITH_BUTTONS,\n            },\n          ],\n        },\n        {\n          name: 'tabs',\n          type: 'array',\n          label: 'Tabs',\n        },\n        {\n          name: 'tabSelectionSubscription',\n          type: 'text',\n          label: 'Variabele to listen to for tab selection',\n        },\n        {\n          name: 'hideTabIDs',\n          type: 'array',\n          label:\n            'tab name (ids) that can be used to hide a tab. If not available the tabname will be used',\n        },\n        {\n          name: 'hideTabs',\n          type: 'text',\n          label:\n            'Variabele to listen to for tab visualisation. Use tab names to hide the tabs',\n        },\n        {\n          name: 'icons',\n          type: 'array',\n          label: 'fa icon names when no icon is defined. ',\n        },\n        {\n          name: 'inactiveTabsOnlyIcons',\n          type: 'boolean',\n          label: 'Inactive tabs will only have icons if icons are defined'\n        },\n        {\n          name: 'initialTabSelection',\n          type: 'text',\n          label: 'index of the initial selected tab',\n        },\n        {\n          name: 'areas',\n          type: 'json',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label: 'area definitions',\n        },\n      ],\n    }\n  }\n\n  static registeredTabComponents = [] //registering all tabs for 'back button'\n\n  getTabId() {\n    return this.state.id\n  }\n\n  componentDidMount2() {\n    if (this.props.initialTabSelection != null) {\n      try {\n        // var index = parseInt(this.props.initialTabSelection+\"\");\n        let index = this.props.initialTabSelection\n        this.setState({ selectedIndex: index })\n      } catch (e) {}\n    }\n    Tab.registeredTabComponents.push(this)\n  }\n  getFirstNonHiddenTab(previoustabname) {\n   // console.log(\"previous tabname \"+previoustabname);\n    let selectedIndex = 0\n    let hideTabs = this.props.hideTabs\n    let data = this.props.pubsub[hideTabs]\n    if (data==null) data=\"\";\n    if (data.includes(\",\")) {data=data.split(\",\")} else {data = [data];} \n    let firstResult=null;\n    let betterResult=null;\n    for (let n in this.props.tabs) {\n      let tab = this.props.tabs[n]\n      try {tab =  this.props.hideTabIDs[n] ;} catch(e){console.log(n,e)}\n       var result=true;\n      for (let nn in data)\n      {\n            let datan=data[nn];\n          if (tab == datan) {\n            result=false;\n          }\n      }\n      if (result)\n      {\n        if (firstResult==null)\n        {\n          firstResult=n;\n        }\n        if (previoustabname!=null)\n        {\n          try\n          {\n               if ((betterResult==null) && (previoustabname.substring(0, 5)==tab.substring(0,5)) )\n               {\n                   return n;\n               }\n          }\n          catch(e){}\n        }\n       // console.log(tab);\n        //return n;\n      }\n\n    }\n    if (firstResult!=null) return firstResult;\n\n    return selectedIndex\n  }\n\n  componentDidUpdate(prevProps) \n  {\n    let tabSelectionSubscription = this.props.tabSelectionSubscription\n    if (tabSelectionSubscription) {\n      // console.log(\"tab did update \",this.state);\n      if (\n        prevProps.pubsub[tabSelectionSubscription] !==\n        this.props.pubsub[tabSelectionSubscription]\n      ) {\n        let index = this.props.pubsub[tabSelectionSubscription]\n        //index=parseInt(index+\"\");\n       //   console.log(\"set selected index change  1 \",index);\n        this.setState({ selectedIndex: index })\n      }\n    }\n    let hideTabs = this.props.hideTabs\n    if (hideTabs) {\n      if (prevProps.pubsub[hideTabs] !== this.props.pubsub[hideTabs]) {\n        \n        let data = this.props.pubsub[hideTabs]\n        if (data==null) data=\"\";\n\n        if (data.includes(\",\")) {data=data.split(\",\")} else {data = [data];} \n\n        let selectedIndex = this.state.selectedIndex\n        let selectedTabname = this.props.tabs[selectedIndex];\n        \n          try {selectedTabname = this.props.hideTabIDs[selectedIndex];} catch(e){}\n        for (let nn in data)\n        {\n          let datan=data[nn];\n        \n        if (selectedTabname == datan) {\n          \n          selectedIndex = this.getFirstNonHiddenTab(selectedTabname)\n       //   console.log(\"trying to find the first NonHiddentab \",selectedIndex);\n          selectedIndex = parseInt(selectedIndex + '')\n         \n          this.onTabClick(selectedIndex)\n        }\n      }\n      //   console.log(\"set selected index change \",selectedIndex);\n        this.setState({ hideTabs: data, selectedIndex: selectedIndex })\n      }\n    }\n  }\n\n  onTabClick = (index) => {\n    let tabSelectionSubscription = this.props.tabSelectionSubscription\n\n    if (tabSelectionSubscription) {\n      var me = this\n      me.props.publish(tabSelectionSubscription, index)\n    } else {\n    }\n    this.setState({ selectedIndex: index })\n  }\n\n  render() {\n    let mode = this.props.mode\n    return (\n      <div\n        className={styles.main + (mode === 'edit' ? '' : ' ' + styles.viewMode) + ' ' + styles[this.props.panelstyle]}\n      >\n        {(!this.props.appearance || this.props.appearance === APPEARANCE.TRADITIONAL) &&\n          <TraditionalTabs\n            tabs={this.props.tabs}\n            icons={this.props.icons}\n            selectedIndex={this.state.selectedIndex}\n            hideTabs={this.state.hideTabs}\n            hideTabIDs={this.props.hideTabIDs}\n            inactiveTabsOnlyIcons={this.props.inactiveTabsOnlyIcons}\n            onTabClick={this.onTabClick}\n          />\n        }\n\n        {this.props.tabs.map((tab, index) => {\n          let areaConfig = this.props.areas[index] || {}\n\n          let selected = index == this.state.selectedIndex\n          // console.log(index,this.state.selectedIndex,selected);\n          if (this.props.withinSelectedTab != null) {\n            if (this.props.withinSelectedTab == false) {\n              selected = false\n              //  console.log(\"TEST FF NIET SELECTED TAB WANT TAB IS NIET ZICHTBAAR\");\n            }\n          }\n\n          return (\n            <div\n              key={index}\n              className={styles.areaContainer}\n              style={{ display: selected ? 'flex' : 'none' }}\n            >\n              <Area\n                {...this.props}\n                key={index}\n                index={index}\n                config={areaConfig}\n                onChange={this.props.onChange}\n                withinSelectedTab={selected}\n              />\n            </div>\n          )\n        })}\n\n        {[APPEARANCE.CAROUSEL_WITHOUT_BUTTONS, APPEARANCE.CAROUSEL_WITH_BUTTONS].includes(this.props.appearance) &&\n          <CarouselTabs\n            withButtons={this.props.appearance === APPEARANCE.CAROUSEL_WITH_BUTTONS}\n            tabs={this.props.tabs}\n            selectedIndex={this.state.selectedIndex}\n            onTabClick={this.onTabClick}\n          />\n        }\n      </div>\n    )\n  }\n}\n\nfunction TraditionalTabs(props) {\n  return (\n    <div className={styles.tabs}>\n      {props.tabs.map((tabText, index) => {\n        let selected = index == props.selectedIndex\n        var icons = props.icons\n        if (props.hideTabs != null) {\n          let data=props.hideTabs;\n      \n          for (let nn in data)\n          {\n            let datan=data[nn];\n\n              let tab2=tabText;\n              try {tab2 =  props.hideTabIDs[index] ;} catch(e){\n              //  console.log(index,e)\n              }\n              \n          if (tab2 == datan) {\n          // console.log(\"not showing tab \",tab,tab2);\n            return null\n          }\n        }\n        }\n        const hideTabText = props.inactiveTabsOnlyIcons && icons && !selected\n\n        return (\n          <div\n            key={index}\n            className={styles.tab + (selected ? ' ' + styles.selected : '')}\n            onClick={() => props.onTabClick(index)}\n          >\n            {icons != null && (\n              <Icon\n                icon={icons[index]}\n                size=\"xs\"\n                transform=\"down-0; left-4\"\n              />\n            )}\n            {!hideTabText && tabText}\n          </div>\n        )\n      })}\n  </div>\n  )\n}\n\nfunction CarouselTabs(props) {\n  return (\n    <div className={styles.carouselTabsContainer}>\n      {props.withButtons &&\n        <Button\n          onClick={() => {\n            if (props.selectedIndex <= 0) return\n            props.onTabClick(props.selectedIndex - 1)\n          }}\n          className={styles.carouselButton}\n        >\n          <Icon icon={props.prevIcon ?? 'caret-left'} />\n        </Button>\n      }\n      {props.tabs.map((tabLabel, i) => (\n        <Button\n          className={styles.carouselItem}\n          key={tabLabel}\n          onClick={() => props.onTabClick(i)}\n        >\n          <Icon\n            data-selected={i === props.selectedIndex}\n            icon={props.itemIcon ?? 'circle'}\n          />\n        </Button>\n      ))}\n      {props.withButtons &&\n        <Button\n          className={styles.carouselButton}\n          onClick={() => {\n            if (props.selectedIndex + 1 >= props.tabs.length) return\n            props.onTabClick(props.selectedIndex + 1)\n          }}\n        >\n          <Icon icon={props.nextIcon ?? 'caret-right'} />\n        </Button>\n      }\n    </div>\n  )\n}\n\nexport default Tab\n","import React, { Component } from 'react'\nimport styles from './SplitLayout.module.css'\nimport Area from '../Area'\n\nclass SplitLayout extends Component {\n  static getDescription() {\n    return {\n      name: 'SplitLayout',\n      component: SplitLayout,\n      label: 'Split Layout',\n      variables: [\n        {\n          name: 'direction',\n          type: 'select',\n          label: 'Direction',\n          options: [\n            {\n              label: 'Rijen',\n              value: 'column',\n            },\n            {\n              label: 'Kolommen',\n              value: 'row',\n            },\n          ],\n        },\n        {\n          name: 'disableScrollbars',\n          type: 'boolean',\n          label: 'disable scrollbars',\n        },\n        {\n          name: 'minimize',\n          type: 'boolean',\n          label: 'minimize size',\n        },\n        {\n          name: 'areaSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            \"Kolom Breedte of Rij hoogte, gescheiden door comma's. Waarden kunnen gegeven worden in pixels, percentage of getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 130px,1,10%)\",\n        },\n        {\n          name: 'style',\n          type: 'json',\n          label: 'style for each area',\n        },\n        {\n          name: 'areas',\n          type: 'json',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label: 'area definitions',\n        },\n      ],\n    }\n  }\n\n  render() {\n   \n    if (this.props.withinSelectedTab === false && this.firstTime == null) {\n      return null\n    } else {\n      this.firstTime = false\n    }\n\n    let areaSizes = this.props.areaSizes\n    let areas= this.props.areas;\n\n    if (areas==null)areas=[];\n\n    if (typeof areaSizes === 'string') {\n      areaSizes = areaSizes.split(' ')\n    }\n\n    let extraStyle = ''\n    if (this.props.disableScrollbars === true) {\n      extraStyle = styles.overflowHidden\n    }\n    let mode = this.props.mode || 'preview'\n\n    // if (this.props.minimize)\n    return (\n      <div\n        className={\n          styles.main +\n          ' ' +\n          styles[this.props.direction] +\n          ' ' +\n          styles[mode] +\n          ' ' +\n          styles[extraStyle]\n        }\n      >\n        {areaSizes.map((areaSize, index) => {\n          let areaConfig = areas[index] || {}\n          areaSize = areaSize.trim()\n          let flex = '0 0 auto'\n          // let flex = '1 1 auto';\n          let fixedSize = 'auto'\n\n          if (/^\\d+$/.test(areaSize)) {\n            if (areaSize === '0') {\n              areaSize = '0 0 auto'\n            }\n            flex = areaSize\n          } else {\n            fixedSize = areaSize\n          }\n          let heightOrWidth =\n            this.props.direction === 'row' ? 'width' : 'height'\n          if (this.props.minimize) {\n            heightOrWidth =\n              'max' +\n              heightOrWidth.substr(1).toLocaleUpperCase() +\n              heightOrWidth.substr(1)\n            //console.log(\"minimize \",heightOrWidth, fixedSize);\n            flex = '1 1 auto'\n          }\n\n          if (this.props.direction !== 'row') {\n            // console.log(areaSize);\n            if (!areaSize.endsWith('px')) {\n              flex = '1 1 auto'\n            }\n          }\n          if (mode !== 'preview' && areaSize.endsWith('px')) {\n            areaSize = parseInt(areaSize.replace('px', ''))\n            areaSize += 200\n            areaSize = areaSize + 'px'\n            // console.log(\"moeten we nu niet de hoogte aanpassen ?\",areaSize);\n          }\n\n          return (\n            <div\n              key={index}\n              className={styles.areaContainer + ' ' + styles[extraStyle]}\n              style={{\n                flex,\n                [heightOrWidth]: fixedSize,\n                ...(this.props.style?.length ? this.props.style[index] : {})\n              }}\n            >\n              <Area\n                {...this.props}\n                disableFlexbox={false}\n                index={index}\n                config={areaConfig}\n                onChange={this.props.onChange}\n              />\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default SplitLayout\n","\n\nimport { lazy } from 'react';\n\nexport default class SplitLayoutTestDescriptor  {\n  static getDescription() {\n    return {\n      name: 'SplitLayoutTest',\n      component: lazy(() =>  import('./SplitLayoutTest')), \n      label: 'Split Layout Test',\n      variables: [\n        {\n          name: 'direction',\n          type: 'select',\n          label: 'Direction',\n          options: [\n            {\n              label: 'Rijen',\n              value: 'column',\n            },\n            {\n              label: 'Kolommen',\n              value: 'row',\n            },\n          ],\n        },\n        {\n          name: 'areaSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            \"Kolom Breedte of Rij hoogte, gescheiden door comma's. Waarden kunnen gegeven worden in getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 1,3,1)\",\n        },\n        {\n          name: 'minSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            \"initiele grootte, gescheiden door comma's. Waarden kunnen gegeven worden in pixels. (Een voorbeeld: 130px,200px,300px)\",\n        },\n        {\n          name: 'cardSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            'padding Waarden kunnen gegeven worden in pixels, percentage of getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 130px,1,10%)',\n        },\n        {\n          name: 'areas',\n          type: 'json',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label: 'area definitions',\n        },\n      ],\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport styles from './Yasgui.module.css'\n//import yasqe from 'yasgui-yasqe'\nimport yasgui from '@triply/yasgui'\nimport '../../../node_modules/@triply/yasqe/build/yasqe.min.css'\n//import '../../../node_modules/yasgui-yasqe/dist/yasqe.css'\nimport axios from 'axios'\nimport { Button } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\n\nclass Yasgui extends Component {\n  constructor(props) {\n    super(props)\n    this.textArea = React.createRef()\n  }\n\n  state = {\n    message: '',\n  }\n\n  // componentDidMount() {\n  //   setTimeout(() => {\n  //     this.yas = yasqe.fromTextArea(this.textArea.current);\n  //     // this.yas.setSize('100%')\n  //     let defaultValue = `PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n  //     select * where {\n  //       ?s ?p ?o .\n  //     } limit 100`;\n  //     this.yas.setValue(defaultValue);\n  //     // debugger\n  //     // this.textArea.current.focus()\n  //   }, 500);\n\n  //   // this.yas.on('blur', () => {\n  //   //   // this.props.handleBlur(this.yas.getValue());\n  //   //   this.loadData(this.yas.getValue())\n  //   // });\n  // }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.withinSelectedTab !== this.props.withinSelectedTab &&\n      this.props.withinSelectedTab\n    ) {\n      if (this.yas) return\n      this.yas = new yasgui.Yasqe(this.textArea.current);\n\n     // this.yas = yasgui.Yasqe.fromTextArea(this.textArea.current)\n      let defaultValue = `PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nselect * where { \n  ?s ?p ?o .\n} limit 2`\n      this.yas.setValue(defaultValue)\n    }\n  }\n\n  onRunClick = () => {\n    this.loadData(this.yas.getValue())\n  }\n\n  loadData(query) {\n    if (!this.props.repoURL) return console.log('Repo URL is not set!')\n\n    if (query) {\n      // default use proxy server\n      let url = '/api/sparql/' + this.props.repoURL\n      let data = {\n        query: encodeURIComponent(query),\n      }\n      let headers = {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      }\n      if (this.props.repoURL.startsWith('http')) {\n        // request sparql endpoint directly\n        url = this.props.repoURL\n        data =\n          'infer=true&limit=1000&offset=0&sameAs=true&query=' +\n          encodeURIComponent(query)\n        headers = {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          Accept: 'application/sparql-results+json',\n        }\n      }\n\n      axios({\n        method: 'post',\n        url,\n        data,\n        headers,\n      })\n        .then((response) => {\n          this.setState({\n            data: response.data,\n            message: '',\n          })\n        })\n        .catch((err) => {\n          console.log(err)\n          this.setState({\n            message: 'Er ging iets mis met laden van de data.',\n          })\n        })\n    }\n  }\n\n  renderData() {\n    if (this.state.message) {\n      return <div>{this.state.message}</div>\n    }\n\n    if (!this.state.data) return null\n    let headVars = this.state.data.head.vars\n    let items = restructureResponse(this.state.data)\n\n    return (\n      <table>\n        <thead>\n          <tr>\n            {headVars.map((headVar, index) => (\n              <th key={index}>{headVar}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {items.map((item, index) => {\n            return (\n              <tr key={index}>\n                {headVars.map((headVar, index) => {\n                  let value = item[headVar] || ''\n                  return <td key={index}>{value}</td>\n                })}\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n\n  render() {\n    return (\n      <div className={styles.main}>\n       <div ref={this.textArea} type=\"textarea\" />\n        <div className={styles.buttonContainer}>\n          <Button\n            color=\"primary\"\n            style={{ minWidth: '120px', marginTop: '12px' }}\n            onClick={this.onRunClick}\n          >\n            RUN\n          </Button>\n        </div>\n        <div className={styles.tableContainer}>{this.renderData()}</div>\n      </div>\n    )\n  }\n}\n\nexport default Yasgui\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\nimport AfterJS from '../../../helpers/AfterJS'\n\nclass BBMap extends BBIFrame {\n  getUrl = ()  => `/${window.bbFolderName}/map/leafletWidgetDeploy171V1.html`\n\n  constructor() {\n    super()\n    //console.log(\"BBMap Constructor\");\n    this.scrolling = 'no'\n    this.noEvents = false;\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBMap',\n      component: BBMap,\n      label: 'Leaflet map',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring. hints for coloring #color:RGBA(0,255,0,1)@\"values\"infottext&extr text ',\n        },\n        {\n          name: 'basequery',\n          type: 'yasgui',\n          label:\n            'default for creating a map. when no parameters are available ',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height variable',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n\n        AfterJS.getJSScriptAfterSelectionChange(),\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n}\nexport default BBMap\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\nimport AfterJS from '../../../helpers/AfterJS'\nimport _ from 'lodash';\n\nclass BBMultiMap extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/multimap/leafletWidgetDeploy171V1.html`\n\n  constructor() \n  {\n    super()\n    //console.log(\"BBMap Constructor\");\n    this.scrolling = 'no'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBMultiMap',\n      component: BBMultiMap,\n      label: 'Leaflet Multi map',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the multimap. Use ?uri ?label ?graph ?colorPred ?colorPredLabel ?labelPred ?labelPredLabel ?selectedColorPred ?selectedLabelPred ?extra for sparql definitions',\n        },\n        {\n          name: 'useSparqlMapDefinitions',\n          type: 'boolean',\n          label: 'use the sparql results for multiple map definitions',\n        },\n        \n        {\n          name: 'height',\n          type: 'text',\n          label: 'height variable',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variable in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variable on which to listen to define selection.',\n        },\n        PublishUtils.getMultipleValueFormatOptions({\n          name: 'multiSubscribeParameterType',\n          label: 'For the variable above, in what format the value is provided.'\n        }),\n        {\n          name: 'multiSelectionPublishVariable',\n          type: 'text',\n          label:\n            'Variable in which an item URIs are published, when multiple features on the map are selected.',\n        },\n        PublishUtils.getMultipleValueFormatOptions({\n          name: 'multiSelectionParameterType',\n          label: 'For the variable above, how to set the multivalue parameters'\n        }),\n        {\n          name: 'multiSelectionShapePublishVariable',\n          type: 'text',\n          label:\n            'Variable in which the drawn shape for multiple feature selection is published.',\n        },\n        {\n          name: 'multiSelectionShapePublishFormat',\n          type: 'select',\n          options: [\n            { label: 'GeoJson', value: 'GeoJSON' },\n            { label: 'WKT (Well Known Text)', value: 'WKT' }\n          ],\n          label:\n            'For the variable above, in which format to publish the geometry',\n        },\n        {\n          name: 'multiSelectionType',\n          type: 'select',\n          options: [\n            { label: 'hide drawing tools', value: 'hide' },\n            { label: 'Intersect (features inside and touching the shape)', value: 'intersect' },\n            { label: 'Within (only features inside the shape)', value: 'within' }\n          ],\n          label:\n            'The boolean operation to use for selection by shape',\n        },\n        {\n          name: 'redrawMapOnSelectionChange',\n          type: 'boolean',\n          label: 'redraw map on selection change. This can affect performance, but is needed to reflect changes visually for multi-select'\n        },\n        {\n          name: 'advancedEdit',\n          type: 'boolean',\n          label: 'add advanced edit menubar'\n        },\n        {\n          name: 'loadShapeControl',\n          type: 'boolean',\n          label: 'add load shape as a zip file button'\n        },\n        {\n          name: 'downloadGeoJSON',\n          type: 'boolean',\n          label: 'download geojson file'\n        },\n\n        \n        {\n          name: 'streetview',\n          type: 'boolean',\n          label: 'add streetview buttons'\n        },\n\n        \n\n        {\n          name: 'noLegend',\n          type: 'boolean',\n          label:   'hide legend  (reload is necessary for this to take effect)'\n        },\n\n\n        \n        {\n          name: 'subscribeExtraSparql',\n          type: 'text',\n          label:\n            'parameter containing extra sparql ',\n        },\n        {\n          name: 'selectboundingbox',\n          type: 'boolean',\n          label:'use a boundingbox for selecting an object',\n        },\n        {\n          name: 'fitbounds',\n          type: 'boolean',\n          label:'after a data update modify the view to fit  ',\n        },\n       \n        {\n          name: 'allQueries',\n          type: 'text',\n          label:'parametername containing an array of all queries (not yet implemented, useful for downloadGIS function)',\n        },\n        {\n          name: 'lineWidthScale',\n          type: 'text',\n          label:'lineWidthScale',\n        },\n        {\n          name: 'lineWidthMinPixels',\n          type: 'text',\n          label:'lineWidthMinPixels',\n        },\n        \n\n        AfterJS.getJSScriptAfterSelectionChange(),\n        PublishUtils.getResetValueDef(),\n        \n      ],\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    super.componentDidUpdate(prevProps, prevState)\n    const subscribeVariable = this.props.pubsub[this.props['subscribeVariable']]\n    if (subscribeVariable !== this.state.subscribeVariable) {\n      try {\n        this.setState({ subscribeVariable })\n        const newSelectedUris = PublishUtils.parseMultiplePropValue(this.props['multiSubscribeParameterType'], subscribeVariable)\n        this.sendSelectedUrisToIframe(newSelectedUris)\n        this.setSelectedUris(newSelectedUris)\n      } catch(e) {\n        console.error([\n          `An error occurred whilst using subscribeVariable \"${this.props['subscribeVariable']}\" to update the selected uris. `,\n          `Perhaps multiSubscribeParameterType \"${this.props['multiSubscribeParameterType']}\" needs a different setting. `,\n          `Additional details:`,\n          '\\n\\n',\n          e.message].join('')\n          )\n      }\n    }\n  }\n\n  setSelectedUris = (selectedUris = []) => {\n    this.setState({ selectedUris })\n    if (this.props['publishVariable']!=null)\n    {\n      this.props.publish(this.props['publishVariable'], selectedUris[0])\n    }\n    if (  this.props['multiSelectionPublishVariable']!=null)\n    {\n      this.props.publish(\n        this.props['multiSelectionPublishVariable'],\n        PublishUtils.getListAsSingleValue(this.props['multiSelectionParameterType'], selectedUris)\n      )\n    }\n  }\n\n  sendSelectedUrisToIframe = (selectedUris = []) => {\n    this.iframeRef.current?.contentWindow?.postMessage?.({ type: 'update-selected-uris', selectedUris })\n  }\n\n  state = { selectedUris: [], subscribeVariable: undefined }\n}\n\nexport default BBMultiMap\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport * as FileSaver from 'file-saver'\n//import * as XLSX from \"xlsx\";\nimport * as XLSX from 'xlsx-js-style'\n\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBTable extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/table.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'true'\n    this.noEvents = false\n    this.usesParameters = false\n  }\n\n  getParameters() {\n    return this.props.wraptext ? \"?wraptext=true\" : \"\"\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBTable',\n      component: BBTable,\n      label: 'BB Table widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the table use any parameter. Optionally use Check parameter extension for boolean values. Optionally use the Fix extension (?parameternameFix) to restrict the amount of numbers after the decimal for each parameter. Optionally use ?background for background coloring ',\n        },\n        {\n          name: 'renderEmpty',\n          type: 'boolean',\n          label: 'render an empty table',\n        },\n        {\n          name: 'colSizes',\n          type: 'array',\n          label: 'optional array of col sizes. 100px,50%,350px. Needs a widgetrefresh when changed',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Published uri variabele for other widgets.',\n        },\n\n        {\n          name: 'replaceHeaderJSON',\n          type: 'text',\n          label: 'Key value JSON that replaces parameter headers. {\"label\":\"naam (volledig)\"}',\n        },\n        {\n          name: 'searchbar',\n          type: 'boolean',\n          label: 'show searchbar (widget refresh necessary)',\n        },\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n        {\n          name: 'uselocalnumberformat',\n          type: 'boolean',\n          label: 'use local number format',\n        },\n        {\n          name: 'downloadbutton',\n          type: 'boolean',\n          label: 'add toolbar with download button (widget refresh necessary)',\n        },\n        {\n          name: 'wraptext',\n          type: 'boolean',\n          label: 'wrap text in the table',\n        },\n        {\n          name: 'excelheadertext',\n          type: 'text',\n          label: 'headertext for row 1 when downloading this table in excel',\n        },\n\n        {\n          name: 'summaryFields',\n          type: 'text',\n          label: 'add summary below using the following csv sparql parameters (costs, profit)',\n        },\n        {\n          name: 'filename',\n          type: 'text',\n          label: 'xlsx filename',\n        },\n      ],\n    }\n  }\n\n  setExcelColsWidth(array, headerKeys) {}\n\n  resolveParameterValue = (value) => {\n    return PublishUtils.processStringForParameters(this, value)\n  }\n\n  exportToSpreadsheet = (data, fileName) => {\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8'\n    // Desired file extesion\n    const fileExtension = '.xlsx'\n    //Create a new Work Sheet using the data stored in an Array of Arrays.\n\n    const workSheet = XLSX.utils.aoa_to_sheet(data)\n    var header = data[0]\n    var wscols = []\n    var aantal = 0\n    for (var n in header) {\n      var ascii = String.fromCharCode(65 + aantal) + '1'\n      aantal++\n\n      workSheet[ascii].s = {\n        font: {\n          // name: \"Calibri\",\n          sz: 12,\n          bold: true,\n          //  color: { rgb: \"FFFFFFFF\" },\n        },\n      }\n      wscols.push({ wpx: 150 })\n    }\n\n    //console.log(this.setExcelColsWidth(data[0]));\n    workSheet['!cols'] = wscols\n\n    var filename = this.props.filename\n    if (filename == null) filename = 'download'\n    filename = PublishUtils.processStringForParameters(this, filename)\n\n    // Generate a Work Book containing the above sheet.\n    const workBook = {\n      Sheets: { data: workSheet, cols: [] },\n      SheetNames: ['data'],\n    }\n    // Exporting the file with the desired name and extension.\n    // const excelBuffer = XLSX.write(workBook, { bookType: \"xlsx\", type: \"array\" });\n    const excelBuffer = XLSX.write(workBook, { bookType: 'xlsx', type: 'array' })\n    const fileData = new Blob([excelBuffer], { type: fileType })\n    FileSaver.saveAs(fileData, filename + fileExtension)\n  }\n}\n\nexport default BBTable\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBTreeTable extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/treetable.html`\n\n  constructor() {\n    super()\n    // console.log(\"BBTREE TABLE Constructor\");\n    this.scrolling = 'no'\n     this.noEvents=false;\n     this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBTreeTable',\n      component: BBTreeTable,\n      label: 'BB Tree Table widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'user ?text ?uri ?parent ?icon ',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the tree is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        {\n          name: 'publishVariable1',\n          type: 'text',\n          label:\n            'Variabele in which an item var1 is published (if available), when a feature in the tree is clicked.',\n        },\n        {\n          name: 'publishTextVariable',\n          type: 'text',\n          label:\n            'Variabele in which the label is published , when a feature in the tree is clicked.',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'title',\n        },\n        {\n          name: 'createRoot',\n          type: 'boolean',\n          label: 'createRoot',\n        },\n        {\n          name: 'expandLevel',\n          type: 'int',\n          label: 'expandLevel',\n        },\n        {\n          name: 'icon',\n          type: 'text',\n          label: 'icon',\n        },\n        \n        {\n          name: 'extraCSS',\n          type: 'text',\n          label: 'extra css',\n        },\n        {\n          name: 'noInfoIcon',\n          type: 'boolean',\n          label: 'no info icon',\n        },\n\n        {\n          name: 'groupByPropertyValue',\n          type: 'text',\n          label: 'group by propertyvalue',\n        },\n\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  shouldComponentUpdate222(arg, arg2) {\n    var update = false\n\n    if (this.iface == null) {\n      return true\n    }\n\n    if (this.props.subscribeVariable != null) {\n      var selected = this.props.pubsub[this.props.subscribeVariable]\n      if (this.selected !== selected) {\n        this.iface.selectUri(selected)\n        this.selected = selected\n        return false\n      }\n    }\n\n    /*\n    \n\n    try{\n      //console.log(\"map receives an should update \",arg.data,this.iface.me.iface.me.props.data);\n      if (arg.data!=this.iface.me.iface.me.props.data)\n      {\n        console.log(\"nieuw data ? update component\",arg.data);\n        update= true;\n        return true;\n      }\n    }\n    catch(e){}\n\n\n    var sub = arg.subscribeVariable;\n    if (sub!=null)\n    {\n     // console.log(\"map can be updates by exertal variable \"+sub);\n      var selection =arg.pubsub[sub];\n      \n      if (selection!=null)\n      {\n       // console.log(\"map found externalvaue\"+selection,this.state.selectedUri); \n        if (this.state.selectedUri!=selection)\n        {\n          //console.log(\"map receives an external selection\",this.iface);\n          \n               this.iface.selectUri(selection);\n              // this.setState({selectedUri:selection});\n        }\n\n       \n      }\n    }\n    */\n\n    return update\n  }\n}\n\nexport default BBTreeTable\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasgui extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/yasgui/yasguiConf.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'yes'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBYasgui',\n      component: BBYasgui,\n      label: 'BB YasGUI',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            '?sparql ?options variabel (single). getOptions() is available in yasgui ',\n        },\n        {\n          name: 'queryOnly',\n          type: 'boolean',\n          label: 'show only yasque ',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBYasgui\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasguiLatest extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/yasgui/yasguiConfLatest.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'yes'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBYasguiLatest',\n      component: BBYasguiLatest,\n      label: 'BB YasGUI Latest',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            '?sparql ?options variabel (single). getOptions() is available in yasgui ',\n        },\n        {\n          name: 'queryOnly',\n          type: 'boolean',\n          label: 'show only yasque ',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBYasguiLatest\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasr extends BBIFrame {\n  getUrl() {\n    BBIFrame.scrolling = 'no'\n    return `/${window.bbFolderName}/bbyasr.html`\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBYasr',\n      component: BBYasr,\n      label: 'BB Yasr',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill yasr chart. ',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'title of the chart ',\n        },\n        {\n          name: 'chartType',\n          type: 'select',\n          label: 'type of the chart',\n          options: [\n            {\n              label: 'Pie chart',\n              value: 'PieChart',\n            },\n            {\n              label: 'ColumnChart',\n              value: 'ColumnChart',\n            },\n            {\n              label: 'Bar chart',\n              value: 'BarChart',\n            },\n            {\n              label: 'Line chart',\n              value: 'LineChart',\n            },\n            {\n              label: 'Donut (nog niet aanwezig)',\n              value: 'Donut',\n            },\n            {\n              label: 'Gauge',\n              value: 'Gauge',\n            },\n          ],\n        },\n        {\n          name: 'ddd',\n          type: 'boolean',\n          label: '3D',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBYasr\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasguiNotebook extends BBIFrame {\n  getUrl() {\n    BBIFrame.scrolling = 'yes'\n    return `/${window.bbFolderName}/bbyasguinotebook.html`\n  }\n}\n\nexport default BBYasguiNotebook\n","import { Component } from 'react'\n//import {jqeury,$} from 'jquery'\n\n//import svgIcons from 'trumbowyg/dist/ui/icons.svg'\n//const trumbowygIconsId = 'trumbowyg-icons'\n\n//require ('trumbowyg/dist/trumbowyg');\n\nclass BBNotebook extends Component {\n  constructor(props) { //eslint-disable-line no-useless-constructor\n    super(props)\n  }\n  /*\n  componentWillMount() {\n\n  }\n\n  componentDidMount() {\n\n    const {\n      id,\n      lang,\n      buttons,\n      semantic,\n      resetCss,\n      removeformatPasted,\n      autogrow,\n      data,\n      disabled,\n      onFocus,\n      onBlur,\n      onInit,\n      onChange,\n      onResize,\n      onPaste,\n      onOpenFullScreen,\n      onCloseFullScreen,\n      onClose,\n      shouldUseSvgIcons,\n      shouldInjectSvgIcons,\n      svgIconsPath,\n      btnsDef,\n      plugins\n    } = this.props\n\n    if (shouldInjectSvgIcons && $(`#${trumbowygIconsId}`).length === 0) {\n      $('body').prepend(`<div id=\"${trumbowygIconsId}\">${svgIcons}</div>`)\n    }\n\n    const trumbowygInstance = $(`#${id}`)\n      .trumbowyg({\n        lang: lang,\n        btns: buttons,\n        btnsDef: btnsDef,\n        semantic: semantic,\n        resetCss: resetCss,\n        removeformatPasted: removeformatPasted,\n        autogrow: autogrow,\n        plugins: plugins,\n        svgPath: shouldUseSvgIcons\n          ? shouldInjectSvgIcons ? '' : svgIconsPath\n          : false\n      })\n\n    if (onFocus) {\n      trumbowygInstance.on('tbwfocus', onFocus)\n    }\n\n    if (onBlur) {\n      trumbowygInstance.on('tbwblur', onBlur)\n    }\n\n    if (onInit) {\n      trumbowygInstance.on('tbwinit', onInit)\n    }\n\n    if (onChange) {\n      trumbowygInstance.on('tbwchange', onChange)\n    }\n\n    if (onResize) {\n      trumbowygInstance.on('tbwresize', onResize)\n    }\n\n    if (onPaste) {\n      trumbowygInstance.on('tbwpaste', onPaste)\n    }\n\n    if (onOpenFullScreen) {\n      trumbowygInstance.on('tbwopenfullscreen', onOpenFullScreen)\n    }\n\n    if (onCloseFullScreen) {\n      trumbowygInstance.on('tbwclosefullscreen', onCloseFullScreen)\n    }\n\n    if (onClose) {\n      trumbowygInstance.on('tbwclose', onClose)\n    }\n\n    $(`#${id}`).trumbowyg('html', data)\n    $(`#${id}`).trumbowyg(disabled === true ? 'disable' : 'enable')\n  }\n\n  componentWillReceiveProps(nextProps) {\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n\n    return nextProps.data !== this.props.data\n      || nextProps.disabled !== this.props.disabled\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    $(`#${this.props.id}`).trumbowyg('html', this.props.data)\n    $(`#${this.props.id}`).trumbowyg(this.props.disabled === true ? 'disable' : 'enable')\n  }\n\n  componentWillUnmount() {\n    $(`#${this.props.id}`).trumbowyg('destroy')\n  }\n\n  render() {\n    return (\n      <div id={`${this.props.id}`} placeholder={this.props.placeholder}></div>\n    )\n  }\n\n\ndefaultProps = {\n  buttons: [\n    ['viewHTML'],\n    ['formatting'],\n    'btnGrp-semantic',\n    ['superscript', 'subscript'],\n    ['link'],\n    ['insertImage'],\n    'btnGrp-justify',\n    'btnGrp-lists',\n    ['horizontalRule'],\n    ['removeformat'],\n    ['fullscreen']\n  ],\n  semantic: true,\n  resetCss: false,\n  removeformatPasted: false,\n  autogrow: false,\n  disabled: false,\n  btnsDef: {},\n  shouldUseSvgIcons: true,\n  shouldInjectSvgIcons: true,\n  plugins: {}\n};\n\n\n*/\n}\n\nexport default BBNotebook\n","import React from 'react'\n\nclass BBKGApiVizWidget extends React.Component {\n  state = {\n    value: '',\n  }\n\n  render() {\n    console.log('rendering apiviz')\n    return null\n  }\n\n  createVizJSON() {\n    var ar = []\n\n    console.log('created viz json', ar)\n\n    return ar\n  }\n  test() {\n    this.createVizJSON()\n    this.loadData('select * where {?a ?b ?c} limit 10')\n  }\n}\n\nexport default BBKGApiVizWidget\n\n/*[\n  {\n    \"id\": \"obj-persoon\",\n    \"name\": \"Persoon\",\n    \"path\": \"/personen\",\n    \"input\": \"persoonsnummer\",\n    \"rx\": 100,\n    \"ry\": 100,\n    \"x\": 300,\n    \"y\": 200,\n    \"color\": \"pink\",\n    \"connections\": [],\n    \"endpoints\": []\n  },\n  {\n    \"id\": \"obj-maatschappelijk-activiteit\",\n    \"name\": \"Maatschappelijke activiteit\",\n    \"path\": \"/maatschappelijkeactiviteiten\",\n    \"input\": \"kvknummer\",\n    \"rx\": 100,\n    \"ry\": 100,\n    \"x\": 301,\n    \"y\": 600,\n    \"color\": \"lightblue\",\n    \"connections\": [\n      {\n        \"connId\": \"obj-vestiging\",\n        \"endpoints\": [\n          {\n            \"name\": \"Hoofdvestiging\",\n            \"path\": \"/hoofdvestiging\",\n            \"description\": \"Levert de hoofdvestiging die hoort bij de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n            \"response\": {\n              \"vestiging\": {\n                \"vestigingsnummer\": \"string\"\n              }\n            }\n          },\n          {\n            \"name\": \"Vestigingen\",\n            \"path\": \"/vestigingen\",\n            \"description\": \"Levert de vestigingen die horen bij de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n            \"response\": [\n              {\n                \"vestiging\": {\n                  \"vestigingsnummer\": \"string\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"connId\": \"obj-persoon\",\n        \"endpoints\": [\n          {\n            \"name\": \"Eigenaar\",\n            \"path\": \"/eigenaar\"\n          }\n        ]\n      }\n    ],\n    \"endpoints\": [\n      {\n        \"name\": \"Bezoeklocatie\",\n        \"path\": \"/bezoeklocatie\",\n        \"description\": \"Levert de afgeleide bezoeklocatie van de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n        \"response\": {\n          \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n          \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n          \"datumAanvang\": \"string\",\n          \"datumEinde\": \"string\",\n          \"binnenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"locatienummer\": \"string\",\n            \"bagLocatieIdentificatie\": \"string\",\n            \"binnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"bagAdresIdentificatie\": \"string\",\n              \"straatnaam\": \"string\",\n              \"huisnummer\": 0,\n              \"huisletter\": \"string\",\n              \"huisnummertoevoeging\": \"string\",\n              \"postcode\": \"string\",\n              \"plaats\": \"string\"\n            },\n            \"aanduidingBijBinnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"aanduiding\": \"Bij\",\n              \"referentielocatie\": {\n                \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n                \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n                \"locatienummer\": \"string\",\n                \"bagLocatieIdentificatie\": \"string\",\n                \"binnenlandsAdres\": {\n                  \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n                  \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n                  \"bagAdresIdentificatie\": \"string\",\n                  \"straatnaam\": \"string\",\n                  \"huisnummer\": 0,\n                  \"huisletter\": \"string\",\n                  \"huisnummertoevoeging\": \"string\",\n                  \"postcode\": \"string\",\n                  \"plaats\": \"string\"\n                }\n              }\n            },\n            \"vrijeLocatie\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"locatiebeschrijving\": \"string\"\n            }\n          },\n          \"buitenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"locatienummer\": \"string\",\n            \"adres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"adresregel1\": \"string\",\n              \"adresregel2\": \"string\",\n              \"adresregel3\": \"string\",\n              \"land\": {\n                \"naam\": \"string\",\n                \"landCode\": 0,\n                \"toegangsnummer\": \"string\"\n              }\n            }\n          },\n          \"toevoeging\": \"string\",\n          \"afgeschermd\": \"ja\"\n        }\n      },\n      {\n        \"name\": \"Postlocatie\",\n        \"path\": \"/postlocatie\",\n        \"description\": \"Levert de afgeleide postlocatie van de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n        \"response\": {\n          \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n          \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n          \"datumAanvang\": \"string\",\n          \"datumEinde\": \"string\",\n          \"binnenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"locatienummer\": \"string\",\n            \"bagLocatieIdentificatie\": \"string\",\n            \"binnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"bagAdresIdentificatie\": \"string\",\n              \"straatnaam\": \"string\",\n              \"huisnummer\": 0,\n              \"huisletter\": \"string\",\n              \"huisnummertoevoeging\": \"string\",\n              \"postcode\": \"string\",\n              \"plaats\": \"string\"\n            },\n            \"aanduidingBijBinnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"aanduiding\": \"Bij\",\n              \"referentielocatie\": {\n                \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n                \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n                \"locatienummer\": \"string\",\n                \"bagLocatieIdentificatie\": \"string\",\n                \"binnenlandsAdres\": {\n                  \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n                  \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n                  \"bagAdresIdentificatie\": \"string\",\n                  \"straatnaam\": \"string\",\n                  \"huisnummer\": 0,\n                  \"huisletter\": \"string\",\n                  \"huisnummertoevoeging\": \"string\",\n                  \"postcode\": \"string\",\n                  \"plaats\": \"string\"\n                }\n              }\n            },\n            \"vrijeLocatie\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"locatiebeschrijving\": \"string\"\n            }\n          },\n          \"buitenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"locatienummer\": \"string\",\n            \"adres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"adresregel1\": \"string\",\n              \"adresregel2\": \"string\",\n              \"adresregel3\": \"string\",\n              \"land\": {\n                \"naam\": \"string\",\n                \"landCode\": 0,\n                \"toegangsnummer\": \"string\"\n              }\n            }\n          },\n          \"binnenlandsePostlocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.586Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.586Z\",\n            \"locatienummer\": \"string\",\n            \"adres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.586Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.586Z\",\n              \"postadrestype\": \"Postbus\",\n              \"nummer\": 0,\n              \"postcode\": \"string\",\n              \"plaats\": \"string\"\n            }\n          },\n          \"toevoegingBezoeklocatie\": \"string\"\n        }\n      }\n    ],\n    \"response\": {\n      \"kvkNummer\": \"string\",\n      \"gegevensgebruik\": {\n        \"directMailing\": \"WelDirectMailing\"\n      }\n    },\n    \"description\": \"Levert de (basis)gegevens van de maatschappelijke activiteit met het opgegeven KVK-nummer\"\n  },\n  {\n    \"id\": \"obj-vestiging\",\n    \"name\": \"Vestiging\",\n    \"path\": \"/vestigingen\",\n    \"input\": \"vestigingsnummer\",\n    \"rx\": 100,\n    \"ry\": 100,\n    \"x\": 700,\n    \"y\": 700,\n    \"color\": \"lightgreen\",\n    \"connections\": [\n      {\n        \"connId\": \"obj-persoon\",\n        \"endpoints\": [\n          {\n            \"name\": \"Eigenaar\",\n            \"path\": \"/eigenaar\"\n          }\n        ]\n      }\n    ]\n  }\n]\n*/\n","//import {GraphQLVoyager} from 'graphql-voyager';\n//import '../../../../node_modules/graphql-voyager/dist/voyager.css';\nimport BBIFrame from './BBIFrame'\nimport './bbutil'\n\n//var hans =require ('./test.json');\n\nclass BBVoyager extends BBIFrame {\n  getUrl() {\n    BBIFrame.scrolling = 'no'\n    return `/${window.bbFolderName}/bbvoyager.html`\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBVoyager',\n      component: BBVoyager,\n      label: 'BB Voyager',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill the diagram. ( ?domainName ?rangeName ?propname)',\n        },\n        {\n          name: 'height',\n          type: 'string',\n          label: 'optional css string for the height value',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBVoyager\n","import { lazy } from 'react';\r\nexport default class BBAccordionDescriptor  {\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'Accordion',\r\n      component: lazy(() =>  import('./BBAccordion')),\r\n      label: 'Accordion',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'use parameter ?label for accordion headings. use ?content for inner accordion content ',\r\n        },\r\n\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          label: 'Titel boven de tabel',\r\n        },\r\n\r\n        {\r\n          name: 'html',\r\n          type: 'boolean',\r\n          label: 'html text',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react'\nimport styles from './BBPicture.module.css'\n\nexport default class BBPicture extends Component {\n  state = {}\n\n  static getDescription() {\n    return {\n      name: 'Picture',\n      component: BBPicture,\n      label: 'Picture',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven het plaatje',\n        },\n        {\n          name: 'pictureBaseEncoded',\n          type: 'text',\n          label:\n            'base encoded picture. converteer plaatjes via bijv https://www.base64-image.de/',\n        },\n        {\n          name: 'src',\n          type: 'text',\n          label: 'referentie naar het plaatje',\n        },\n      ],\n    }\n  }\n\n  render() {\n    let encodedData = this.props.pictureBaseEncoded\n\n    if (encodedData) {\n      return (\n        <div className={styles.main}>\n          {this.props.title && (\n            <div className={styles.title}>{this.props.title}</div>\n          )}\n          <img src={encodedData} />{/*eslint-disable-line jsx-a11y/alt-text*/}\n        </div>\n      )\n    }\n\n    let src = this.props.src\n    if (src) {\n      return (\n        <div className={styles.main}>\n          {this.props.title && (\n            <div className={styles.title}>{this.props.title}</div>\n          )}\n          <img src={src} />{/*eslint-disable-line jsx-a11y/alt-text*/}\n        </div>\n      )\n    }\n    return (\n      <div className={styles.main}>\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport styles from './BBHTML.module.css'\n\nexport default class BBHTML extends Component {\n  state = {}\n\n  static getDescription() {\n    return {\n      name: 'BBHTML',\n      component: BBHTML,\n      label: 'BBHTML',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'use parameter {{parameters}} to change html ',\n        },\n        {\n          name: 'html',\n          type: 'text',\n          label: 'html ',\n        },\n        {\n          name: 'htmlgeenresultaat',\n          type: 'text',\n          label: 'html bij 0 resultaten',\n        },\n        {\n          name: 'cls',\n          type: 'text',\n          label: 'class ',\n        },\n      ],\n    }\n  }\n\n  render() {\n    try\n    {\n    if (!this.props.html && !this.props.htmlgeenresultaat) {\n      return null\n    }\n    let html = this.props.html\n    var html2 = ''\n    let data = this.props.data\n    if (data != null && html != null) {\n      if (\n        data.results != null &&\n        data.results.bindings != null &&\n        data.results.bindings.length > 0\n      ) {\n        var object = data.results.bindings[0]\n        var html3 = html\n        for (var key in object) {\n          try {\n            var value = object[key].value\n            html3 = html3.replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value)\n          } catch (e) {}\n        }\n        html2 += html3\n      }\n\n      if (\n        this.props.htmlgeenresultaat != null &&\n        data.results.bindings.length === 0\n      ) {\n        html2 = this.props.htmlgeenresultaat\n      }\n    } else {\n      html2 = html\n    }\n\n    html2 = html2.replace(/.*{{.*}}.*/, '')\n\n    let cls = this.props.cls\n    if (styles[cls] != null) cls = styles[cls]\n    return <div   className={styles.fullwindow+\" \"+ cls} dangerouslySetInnerHTML={{ __html: html2 }} />\n  }\n  catch(e)\n  {\n    console.log(\"mannaged \",e);\n  }\n  return null;\n  }\n}\n","\nimport { lazy } from 'react';\nimport PublishUtils from '../../../../helpers/PublishUtils';\n//import {PublishUtils} from PublishUtils;\n\n\nexport default class BBDFormDescriptor  {\n \n  static getDescription() {\n    return {\n      name: 'BBDForm',\n      component: lazy(() =>  import('./BBDForm')),\n      label: 'BBDForm',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de form',\n        },\n        {\n          name: 'class',\n          type: 'text',\n          label: 'uri van de owl/shacl classe',\n        },\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the form. Use graph,title,uri, propUri, label,value, type (xsd,select,relation,stringlist), optionLabel optionValue ?required regex, multiple,objectOfCls, disabled,hidden. createClass for create button ',\n        },\n        {\n          name: 'cancelbutton',\n          type: 'boolean',\n          label: ' show  cancel button.',\n        },\n        {\n          name: 'readonly',\n          type: 'boolean',\n          label: 'ready only, no buttons',\n        },\n        {\n          name: 'masseditmode',\n          type: 'boolean',\n          label: \"use multiple uri's but only show prop distinctly. no values for now \"\n        },\n       \n        {\n          name: 'disabled',\n          type: 'boolean',\n          label: 'disabled',\n        },\n        {\n          name: 'emptyText',\n          type: 'text',\n          label: 'text by empty sparql results',\n        },\n        {\n          name: 'hyperlinkPar',\n          type: 'text',\n          label: 'parameter to update when selecting a hyperlink',\n        },\n\n        \n        {\n          name: 'submit',\n          type: 'select',\n          label: 'submit handling ',\n          options: [\n            { label: 'kies', value: 'kies' },\n            { label: 'form command', value: 'formCommand' },\n            { label: 'internal parameters', value: 'internalparameters' },\n            { label: 'javascript', value: 'javascript' },\n          ],\n        },\n        {\n          name: 'ruleTagAfterSubmit',\n          type: 'text',\n          label: 'run rule with tag after succesful submit',\n        },\n        \n        PublishUtils.getTimestampParametersDef(),\n        {\n          name: 'failureMessage',\n          type: 'text',\n          label: 'failure message',\n        },\n        {\n          name: 'closePopup',\n          type: 'boolean',\n          label: 'close popup after succesful submit',\n        },\n      ],\n    }\n  }\n\n  \n}\n","\r\nimport { lazy } from 'react';\r\n\r\n\r\nexport default class BBSideMenuDescriptor {\r\n\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BBSideMenu',\r\n      component: lazy(() =>  import('./BBSideMenu')),\r\n      label: 'BBSideMenu',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons ()',\r\n        },\r\n        {\r\n          name: 'tabs',\r\n          type: 'array',\r\n          label: 'Tabs',\r\n        },\r\n        {\r\n          name: 'tabSelectionSubscription',\r\n          type: 'text',\r\n          label: 'Variabele to listen to for tab selection',\r\n        },\r\n        {\r\n          name: 'hideTabs',\r\n          type: 'text',\r\n          label:\r\n            'Variabele to listen to for tab visualisation. Use tab names to hide the tabs',\r\n        },\r\n        {\r\n          name: 'icons',\r\n          type: 'array',\r\n          label:\r\n            'fa icon names for each tab such as box,cogs,coffee,envelope,hand-point-left,arrow-left,cube,database,gavel,gift,stop,',\r\n        },\r\n        {\r\n          name: 'headertext',\r\n          type: 'text',\r\n          label: 'text for the header when expanded',\r\n        },\r\n        {\r\n          name: 'lazyLoadingPages',\r\n          type: 'boolean',\r\n          label: 'does not load the tabs/pages in advance. Also returning to a page results in a reload',\r\n        },\r\n\r\n        {\r\n          name: 'footertext',\r\n          type: 'text',\r\n          label: 'text for the footer',\r\n        },\r\n        {\r\n          name: 'backgroundimage',\r\n          type: 'text',\r\n          label: 'background image',\r\n        },\r\n        {\r\n          name: 'startCollapsed',\r\n          type: 'boolean',\r\n          label: 'start collapsed',\r\n        },\r\n        {\r\n          name: 'onlyCollapsed',\r\n          type: 'boolean',\r\n          label: 'only collapsed',\r\n        },\r\n        {\r\n          name: 'rightside',\r\n          type: 'boolean',\r\n          label: 'show menu on the rightside',\r\n        },\r\n\r\n        \r\n        {\r\n          name: 'className',\r\n          type: 'text',\r\n          label: 'css classNames',\r\n        },\r\n        {\r\n          name: 'areas',\r\n          type: 'json',\r\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\r\n          label: 'area definitions',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n\r\n}","\nimport { lazy } from 'react';\n\nexport default class BBEChartDescriptor {\n  static getDescription() {\n    return {\n      name: 'BBEChart',\n      component: lazy(() =>  import('./BBEChart')),\n      label: 'BBEChart',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Query to fill the chart. first parameter is the type, second the amount for a pie/donut',\n        },\n        {\n          name: 'charttype',\n          type: 'select',\n          label: 'charttype',\n          options: [\n            { label: 'Kies', value: 'Kies' },\n            { label: 'Pie', value: 'Pie' },\n            { label: 'Doughnut', value: 'Doughnut' },\n            { label: 'Bar', value: 'Bar' },\n            { label: 'Column', value: 'Col' },\n            { label: 'stacked Column', value: 'ColStacked' },\n            { label: 'stacked Bar', value: 'BarStacked' },\n            { label: 'Gauge', value: 'gauge' },\n          ],\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'title',\n        },\n        {\n          name: 'width',\n          type: 'text',\n          label: 'width css (97%)',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height css  (95%) ',\n        },\n        {\n          name: 'optionOptions',\n          type: 'text',\n          label: 'extra options for echart {\"series\":[{\"bargap\":0}]}'\n        },\n        {\n          name: 'color',\n          type: 'array',\n          label: 'optional colorscheme series,hexcolor... ok,#ffaacc',\n        },\n        {\n          name: 'legend',\n          type: 'boolean',\n          label: 'legend',\n        },\n        {\n          name: 'defaultMenu',\n          type: 'boolean',\n          label: 'defaultMenu',\n        },\n        {\n          name: 'stringToColor',\n          type: 'boolean',\n          label: 'use string values to color chart',\n        },\n        {\n          name: 'gradientColors',\n          type: 'boolean',\n          label: 'use gradient colors',\n        },\n        {\n          name: 'labelsInChart',\n          type: 'boolean',\n          label: 'labels in the chart',\n        },\n        {\n          name: 'popupLabelExtension',\n          type: 'text',\n          label: 'extension string for popup values (euro or stuks) ',\n        },\n        {\n          name: 'popupLabelFixedFormat',\n          type: 'text',\n          label: '1 or 2 or..',\n        },\n\n\n        \n\n      ],\n    }\n  }\n\n  \n}\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBBoorkern extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/boorkern/vboorkern.html`\n\n  constructor() {\n    super()\n    //console.log(\"boorkern Constructor\");\n    this.scrolling = 'no'\n    this.noEvents = false;\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBBoorkern',\n      component: BBBoorkern,\n      label: 'virtuele boorkern',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill the map. ',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height variable',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the figure is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.(not yet implemented). use selectedUri instead  (set a default value via ::) ',\n        },\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n\n  reExecuteSparql() {\n    // console.log(\"re execute sparql called \");\n    this.updateMe()\n  }\n}\nexport default BBBoorkern\n","import { lazy } from 'react';\r\nimport PublishUtils from '../../../../helpers/PublishUtils';\r\n\r\n\r\n\r\nexport default class StartRuleButtonDescriptor  {\r\n \r\n  static getDescription() {\r\n    return {\r\n      name: 'StartRuleButton',\r\n      component: lazy(() =>  import('./StartRuleButton')),\r\n      label: 'StartRuleButton',\r\n      variables: [\r\n           \r\n       \r\n        {\r\n          name: 'disabled',\r\n          type: 'boolean',\r\n          label: 'disabled',\r\n        },\r\n        {\r\n            name: 'title',\r\n            type: 'text',\r\n            label: 'button label',\r\n          },\r\n          {\r\n            name: 'beginIcon',\r\n            type: 'text',\r\n            label: 'begin icon',\r\n          },\r\n          {\r\n            name: 'endIcon',\r\n            type: 'text',\r\n            label: 'end icon',\r\n          },\r\n          {\r\n            name: 'tooltip',\r\n            type: 'text',\r\n            label: 'button tooltip',\r\n          },\r\n          {\r\n            name: 'startRule',\r\n            type: 'text',\r\n            label: 'start rule with tag',\r\n          },\r\n         \r\n          {\r\n            name: 'parameters',\r\n            type: 'text',\r\n            label:\r\n              'extra parameters send in JSON format,Parameters will be resolved before sending. keep it simple. no subchildren',\r\n          },\r\n        \r\n       \r\n        \r\n        PublishUtils.getTimestampParametersDef(),\r\n        {\r\n          name: 'failureMessage',\r\n          type: 'text',\r\n          label: 'failure message',\r\n        },\r\n       \r\n      ]\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","import { Button } from '@mui/material'\nimport { Component } from 'react'\nimport projectStyles from '../../Project.module.css'\nimport buttonStyles from './Button.module.css'\nimport { Icon } from '../Icon'\n\nclass BBLinkButtons extends Component {\n  static getDescription() {\n    return {\n      name: 'BBLinkButtons',\n      component: BBLinkButtons,\n      label: 'BB Link Buttons',\n      variables: [\n        {\n          name: 'labels',\n          type: 'array',\n          label: 'label,label2,etc',\n        },\n        {\n          name: 'links',\n          type: 'array',\n          label: 'url1,url2,etc',\n          topicValueInterpolationEnabled: true,\n        },\n        {\n          name: 'openLinksInTheSameTab',\n          type: 'boolean',\n          label: 'Open links in the same tab'\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'titel',\n        },\n        {\n          name: 'beginIcons',\n          type: 'array',\n          label: 'begin-icons: \"icon1,icon2,etc\"'\n        },\n        {\n          name: 'endIcons',\n          type: 'array',\n          label: 'end-icons: \"icon1,icon2,etc\"'\n        },\n        {\n          name: 'customStyling',\n          type: 'boolean',\n          label: 'Enable Custom Styling',\n        },\n        {\n          name: 'buttonBorderRadius',\n          type: 'text',\n          label: 'Custom Styling: button-border-radius (examples: \"2lh\", \"50%\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\n        },\n        {\n          name: 'textColor',\n          type: 'text',\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'bgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'hasButtonShadow',\n          type: 'boolean',\n          label: 'Custom Styling: enable button-shadow'\n        },\n        {\n          name: 'marginBetweenButtons',\n          type: 'text',\n          label: 'Custom Styling: margin-between-buttons (example: \"0.4em\")',\n        },\n        {\n          name: 'buttonContainerPadding',\n          type: 'text',\n          label: 'Custom Styling: button-container-padding (example: \"0.4em\")'\n        },\n      ],\n    }\n  }\n\n  render() {\n    return (\n      <div\n        data-custom-styling={Boolean(this.props.customStyling)}\n        style={{\n          '--button-border-radius': this.props.buttonBorderRadius,\n          '--text-color': this.props.textColor,\n          '--background-color': this.props.bgColor,\n          '--margin-between-buttons': this.props.marginBetweenButtons,\n          '--button-container-padding': this.props.buttonContainerPadding,\n        }}\n      >\n        {this.props.title && (\n          <div className={projectStyles.title}>{this.props.title}</div>\n        )}\n        {this.props.labels?.map((label, i) => {\n\n          if (!this.props.customStyling) return (\n            <OriginalButton\n              key={i}\n              href={this.props.links?.[i]}\n              openLinkInSameTab={this.props.openLinksInTheSameTab}\n              beginIcon={this.props.beginIcons?.[i]}\n              endIcon={this.props.endIcons?.[i]}\n            >\n              {label}\n            </OriginalButton>\n          )\n\n          return (\n            <CustomStyleButton\n              key={i}\n              href={this.props.links?.[i]}\n              openLinkInSameTab={this.props.openLinksInTheSameTab}\n              beginIcon={this.props.beginIcons?.[i]}\n              endIcon={this.props.endIcons?.[i]}\n              hasButtonShadow={this.props.hasButtonShadow}\n            >\n              {label}\n            </CustomStyleButton>\n          )\n         })}\n      </div>\n    )\n  }\n}\n\nfunction OriginalButton(props) {\n  return (\n    <a\n      className={projectStyles.viewer}\n      style={{ textDecoration: 'none', color: 'inherit' }}\n      href={props.href}\n      target={props.openLinkInSameTab ? \"_self\" : \"_blank\"}\n      rel=\"noopener noreferrer\" // For security reasons when using target=\"_blank\"\n    >\n      <div className={projectStyles.titleText}>\n        {props.beginIcon && <Icon icon={props.beginIcon} />}\n        {props.children}\n        {props.endIcon && <Icon icon={props.endIcon} />}\n      </div>\n    </a>\n  )\n}\n\nfunction CustomStyleButton(props) {\n  return (\n    <Button\n      component=\"a\"\n      className={buttonStyles.button}\n      style={{ textDecoration: 'none',  color: 'inherit' }}\n      onClick={props.onClick}\n      href={props.href}\n      target={props.openLinkInSameTab ? \"_self\" : \"_blank\"}\n      rel=\"noopener noreferrer\" // For security reasons when using target=\"_blank\"\n      color=\"grey\"\n      variant=\"contained\"\n      endIcon={props.endIcon && <Icon icon={props.endIcon} />}\n      startIcon={props.beginIcon && <Icon icon={props.beginIcon} />}\n      data-has-button-shadow={Boolean(props.hasButtonShadow)}\n    >\n      {props.children}\n    </Button>\n  )\n}\n\nexport default BBLinkButtons\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBIFCViewer extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/ifcviewer/indexBB.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n\n    //this.updateMe=this.updateMe2; // no throttle\n    //console.log(\"noThrottle\");\n\n    \n  }\n\n  static getDescription() {\n    return {\n      name: 'BBIFCViewer',\n      component: BBIFCViewer,\n      label: 'BBIFCViewer',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            ' Use ?uri ?expressID ?file. optionally ?highlight boolean . Optionally use ?color for automatic coloring.',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n        {\n          name: 'resetparameter',\n          type: 'text',\n          label: 'resets the viewer when this parameter changes (BETA)',\n        },\n        {\n          name: 'reloadparameter',\n          type: 'text',\n          label: 'reloads the IFCviewer when this parameter changes for more consistent viewer behaviour',\n        },\n        {\n          name: 'selectguidquery',\n          type: 'yasgui',\n          label:\n            ' Use ?guid to highlight (make red) objects in the 3d viewer',\n        },\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n\n  shouldComponentUpdate(nprops, nstate) {\n    let b = super.shouldComponentUpdate(nprops, nstate)\n    try {\n      let par = nprops['resetparameter']\n      if (par != null) {\n        let par1 = this.props.pubsub[par]\n        let npar1 = nprops.pubsub[par]\n\n        if (par1 !== npar1) {\n          if (this.iface.resetViewer != null) {\n            this.iface.resetViewer()\n          }\n        }\n      }\n    } catch (e) {}\n    try {\n      let par = nprops['reloadparameter']\n      if (par != null) {\n        let par1 = this.props.pubsub[par]\n        let npar1 = nprops.pubsub[par]\n\n        if (par1 !== npar1) {\n          console.log(\"reload BBIFCViewer\");\n          this.reload();\n          return true\n        }\n      }\n    } catch (e) {}\n\n    return b\n  }\n}\n\nexport default BBIFCViewer\n","\r\nimport { lazy } from 'react';\r\n\r\nexport default class BBStructuredTextDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BBStructuredText',\r\n      component: lazy(() =>  import('./BBStructuredText')),\r\n      label: 'BB Structured Text',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'use parameter ?header ?headerText ?content  ',\r\n        },\r\n        {\r\n          name: 'paperbackground',\r\n          type: 'select',\r\n          label: 'paper background',\r\n          options: [\r\n            {\r\n              label: 'default',\r\n              value: 'noneWhite',\r\n            },\r\n            {\r\n              label: 'grey',\r\n              value: 'bbgrey',\r\n            },\r\n            {\r\n              label: 'white',\r\n              value: 'bbwhite',\r\n            },\r\n            {\r\n              label: 'default grey',\r\n              value: 'noneGrey',\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          name: 'papercolor',\r\n          type: 'select',\r\n          label: 'paper color',\r\n          options: [\r\n            {\r\n              label: 'default',\r\n              value: 'noneWhite',\r\n            },\r\n            {\r\n              label: 'white paper',\r\n              value: 'bbwhitePaper',\r\n            },\r\n            {\r\n              label: 'grey paper',\r\n              value: 'bbgreyPaper',\r\n            },\r\n\r\n            {\r\n              label: 'default grey',\r\n              value: 'noneGrey',\r\n            },\r\n          ],\r\n        },\r\n\r\n        {\r\n          name: 'cls',\r\n          type: 'text',\r\n          label: 'class ',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n}","import { lazy } from 'react';\nexport default class BBKVKProductTemplateDescriptor {\n\n  static getDescription() {\n    return {\n      name: 'BBKVKProductTemplate',\n      component: lazy(() =>  import('./BBKVKProductTemplate')), \n      label: 'BBK KVK Product Template',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de template',\n        },\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the form. Use title,uri, propUri, label,value, type (xsd,select), optionLabel optionValue ?required regex, multiple,objectOfCls ',\n        },\n        {\n          name: 'buttons',\n          type: 'array',\n          label: 'buttons',\n        },\n        {\n          name: 'popupFullScreen',\n          type: 'array',\n          label: 'popupFullScreen',\n        },\n        {\n          name: 'popupTitle',\n          type: 'array',\n          label: 'popupTitle',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Variabele in which URI is published when button is clicked.',\n        },\n\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  \n  \n}\n","import React, { Component } from 'react'\nimport { Tooltip, IconButton } from '@mui/material'\nimport ChevronLeft from '@mui/icons-material/ChevronLeft'\n\nimport Tab from '../Tab'\n\nexport default class BBBackMenu extends Component {\n  state = { anchorEl: false, selections: [] }\n\n  static getDescription() {\n    return {\n      name: 'BBBackMenu',\n      component: BBBackMenu,\n      label: 'BackMenu',\n      variables: [\n        {\n          name: 'parameter',\n          type: 'text',\n          label: 'parameter ',\n        },\n        {\n          name: 'changeSelectedTabs',\n          type: 'boolean',\n          label: 'also set tab selections ',\n        },\n      ],\n    }\n  }\n\n  shouldComponentUpdate(props, state) {\n    try {\n      var newValue = props.pubsub[props.parameter]\n      if (newValue == null) return true\n\n      if (this.state.selections.length === 0) {\n        var o = { parameter: newValue, tabs: {} }\n        for (var n in Tab.registeredTabComponents) {\n          let t = Tab.registeredTabComponents[n]\n          o.tabs[t.getTabId()] = t.state.selectedIndex\n        }\n        this.state.selections.push(o)\n      } else {\n        var lastValue =\n          this.state.selections[this.state.selections.length - 1].parameter\n        if (lastValue !== newValue) {\n          o = { parameter: newValue, tabs: {} }\n\n          for (const n in Tab.registeredTabComponents) {\n            let t = Tab.registeredTabComponents[n]\n            o.tabs[t.getTabId()] = t.state.selectedIndex\n          }\n          this.state.selections.push(o)\n        }\n      }\n      // console.log(this.state.selections);\n    } catch (e) {\n      console.log(e)\n    }\n    //console.log(par,par2);\n    return true\n  }\n\n  handleClickBack = (event) => {\n    //this.setState({anchorEl:event.currentTarget});\n\n    if (this.state.selections.length === 0) return\n    if (this.state.selections.length === 1) return\n    // min 2 dus kan terug\n    var rValue = this.state.selections[this.state.selections.length - 2]\n\n    if (this.props.parameter != null) {\n      this.props.publish(this.props.parameter, rValue.parameter)\n      this.state.selections.pop()\n      this.state.selections.pop()\n    }\n    //this.setState({anchorEl:null});\n    if (this.props.changeSelectedTabs) {\n      for (var n in Tab.registeredTabComponents) {\n        var t = Tab.registeredTabComponents[n]\n        for (var tabId in rValue.tabs) {\n          if (tabId === t.getTabId()) {\n            var sel = rValue.tabs[tabId]\n            if (t.state.selectedIndex !== sel) {\n              //console.log(\"found a tab that needs to be switched\",t);\n              t.setState({ selectedIndex: sel })\n            }\n          }\n        }\n      }\n    }\n  }\n\n  handleClose = () => {\n    this.setState({ anchorEl: null })\n  }\n\n  render() {\n    var disabled = false\n    if (this.state.selections.length < 2) {\n      disabled = true\n    }\n    //var sel = this.state.selections;\n    return (\n      <div>\n        <Tooltip title=\"back\">\n          <span>\n            {' '}\n            <IconButton\n              disabled={disabled}\n              variant=\"contained\"\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleClickBack}\n            >\n              <ChevronLeft />\n            </IconButton>\n          </span>\n        </Tooltip>\n      </div>\n    )\n    /*\n      \n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={this.handleClose}\n      >\n        {sel.map(index =>(\n        <MenuItem onClick={this.handleClose}>hallo uri:{sel[index]}</MenuItem>\n        \n        ))\n      }\n      </Menu>\n      \n        )\n        */\n  }\n}\n","import { lazy } from 'react';\n\n class BBSimplePushButtonDescriptor{\n  \n  static getDescription() {\n    return {\n      name: 'BBSimplePushButton',\n      component: lazy(() =>  import('./BBSimplePushButton')), \n      label: 'BB Simple Push Button',\n      variables: [\n        {\n          name: 'label',\n          type: 'text',\n          label: 'label',\n        },\n        {\n          name: 'beginIcon',\n          type: 'text',\n          label: 'begin icon',\n        },\n        {\n          name: 'endIcon',\n          type: 'text',\n          label: 'end icon',\n        },\n        {\n          name: 'enabled',\n          type: 'text',\n          label: 'parameter true/false for enabling button',\n        },\n\n        {\n          name: 'tooltip',\n          type: 'text',\n          label: 'button tooltip',\n        },\n\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'for parameters for label for example',\n        },\n        {\n          name: 'link',\n          type: 'text',\n          label: 'simple link which will be called when the button is clicked',\n        },\n        {\n          name: 'postLink',\n          type: 'text',\n          label:\n            'alternative to link: a post link with optionally a postObject. keywords allowed such as command for command servlet calls',\n        },\n        {\n          name: 'postObject',\n          type: 'text',\n          label:\n            'object send via postLink adres. Parameters will be resolved before sending. keep it simple. no subchildren',\n        },\n        {\n          name: 'postDownload',\n          type: 'boolean',\n          label: 'triggers a download',\n        },\n        {\n          name: 'downloadFileName',\n          type: 'text',\n          label: 'download file name ',\n        },\n        \n        \n        {\n          name: 'changeParameter',\n          type: 'text',\n          label: 'change parameter value when succesfull',\n        },\n        {\n          name: 'setInitialValueChangeParameter',\n          type: 'boolean',\n          label: 'set initial value for change parameter ',\n        },\n        {\n          name: 'successMessage',\n          type: 'text',\n          label: 'shows message after successful operation ',\n        },\n        {\n          name: 'fontSize',\n          type: 'text',\n          label: 'size of the text ',\n        },\n        {\n          name: 'sparqlqueryrapport',\n          type: 'yasgui',\n          label: 'sparql query rapport. (optionally use #template:)',\n        },\n\n\n\n\n      ],\n    }\n  }\n}\n  \nexport default BBSimplePushButtonDescriptor\n","import BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nexport default class BBVenn extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/venn.html`\n\n  constructor() {\n    super()\n    this.scrolling = 'false'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBVenDiagram',\n      component: BBVenn,\n      label: 'BB Venn diagram',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'use ?set and ?amount.  ?set values must be space separated classes. ',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n\n        PublishUtils.getResetValueDef(),\n      ],\n    }\n  }\n}\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBForm extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/form.html`\n\n  constructor() {\n    super()\n    this.scrolling = 'true'\n    this.noEvents = false\n  }\n  static getDescription() {\n    return {\n      name: 'BBForm',\n      component: BBForm,\n      label: 'BB Form widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring ',\n        },\n        {\n          name: 'fields',\n          type: 'json',\n          label: 'json for w2uiform fields',\n        },\n\n        {\n          name: 'tabs',\n          type: 'text',\n          label: 'w2ui tabs definitie',\n        },\n        {\n          name: 'filetype',\n          type: 'text',\n          label: 'file type extension (e.g.:ifc) ',\n        },\n        {\n          name: 'service',\n          type: 'select',\n          label: 'service upload or command',\n          options: [\n            {\n              label: 'command',\n              value: 'command',\n            },\n            {\n              label: 'upload',\n              value: 'upload',\n            },\n          ],\n        },\n       \n        {\n          name: 'commando',\n          type: 'text',\n          label: 'commando',\n        },\n        {\n          name: 'dataCommand',\n          type: 'text',\n          label: 'extra data send to the server via json',\n        },\n        {\n          name: 'endJS',\n          type: 'text',\n          label:\n            'js after successfull submit   (getIface().me.props.closeDialog())',\n        },\n        PublishUtils.getTimestampParametersDef(),\n      ],\n    }\n  }\n}\n\nexport default BBForm\n","\r\nimport { lazy } from 'react';\r\nimport PublishUtils from '../../../helpers/PublishUtils'\r\n\r\nexport default class BBUploadDescriptor  {\r\n \r\n  \r\n\r\n\r\n\r\n static getDescription() {\r\n    return {\r\n      name: 'BBUpload',\r\n      component: lazy(() =>  import('./BBUpload')),\r\n      label: 'BB Upload widget',\r\n      variables: [\r\n        {\r\n          name: 'serverUrl',\r\n          type: 'text',\r\n          label: 'server url (full url or upload)',\r\n        },\r\n        {\r\n          name: 'command',\r\n          type: 'text',\r\n          label: 'command for server  {validateGarantie,uploadAnyXLSX,uploadAnyFile:ruletag}',\r\n        },\r\n        {\r\n          name: 'uploadText',\r\n          type: 'text',\r\n          label: 'text for the widget',\r\n        },\r\n        {\r\n          name: 'processingText',\r\n          type: 'text',\r\n          label: 'text for the widget when uploading and processing',\r\n        },\r\n        {\r\n          name: 'fileExtensions',\r\n          type: 'text',\r\n          label: 'fileExtensions xslx,js',\r\n        },\r\n        {\r\n          name: 'fields',\r\n          type: 'json',\r\n          label: 'json for w2uiform fields',\r\n        },\r\n        {\r\n          name: 'tabs',\r\n          type: 'text',\r\n          label: 'optional w2ui tabs definitie',\r\n        },\r\n\r\n        {\r\n          name: 'multiple',\r\n          type: 'boolean',\r\n          label: 'multiple files ',\r\n        },\r\n        {\r\n          name: 'extraJSON',\r\n          type: 'text',\r\n          label: 'extra json info. parameters may be used. {\"graph\":\"{{graph}}\"}',\r\n        },\r\n        {\r\n          name: 'autoUpload',\r\n          type: 'boolean',\r\n          label: 'auto upload ',\r\n        },\r\n        {\r\n          name: 'resultUri',\r\n          type: 'text',\r\n          label: 'parameter that will be updated after succesful upload containing uri where more information can be found on the uploaded ',\r\n        },\r\n       \r\n        {\r\n          name: 'successEval',\r\n          type: 'text',\r\n          label:\r\n            'javascript code after successfull upload... e.g. me.downloadReport(\"garantierapport\",\"garantie.html\") ',\r\n        },\r\n\r\n        PublishUtils.getTimestampParametersDef(),\r\n        \r\n      ],\r\n    }\r\n  }\r\n}","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBNOML extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/noml.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBNOML',\n      component: BBNOML,\n      label: 'BBNOML',\n      variables: [\n        {\n          name: 'data',\n          type: 'textarea',\n          label: 'noml input',\n        },\n      ],\n    }\n  }\n}\nexport default BBNOML\n","import { lazy } from 'react';\nexport default class ButtonPopupDescriptor  {\n\nstatic getDescription() {\n    return {\n      name: 'BB ButtonPopup',\n      component: lazy(() =>  import('./ButtonPopup')),\n      label: 'Button Popup',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'button label',\n        },\n        {\n          name: 'beginIcon',\n          type: 'text',\n          label: 'begin icon',\n        },\n        {\n          name: 'endIcon',\n          type: 'text',\n          label: 'end icon',\n        },\n\n        {\n          name: 'popupFullScreen',\n          type: 'boolean',\n          label: 'popup fullScreen not implemented',\n        },\n        {\n          name: 'maxWidth',\n          type: 'boolean',\n          label: 'full Width',\n        },\n        {\n          name: 'maxHeight',\n          type: 'boolean',\n          label: 'max Height',\n        },\n        \n        {\n          name: 'popupTitle',\n          type: 'text',\n          label: 'popupTitle',\n        },\n\n        {\n          name: 'tooltip',\n          type: 'text',\n          label: 'button tooltip',\n        },\n        {\n          name: 'disable',\n          type: 'text',\n          label: 'disable when parameter is empty/reset value or true' ,\n        },\n        {\n          name: 'autoOpenOnParameter',\n          type: 'text',\n          label: 'automatically opens popup when the parameter changes.',\n        },\n        {\n          name: 'closeAtParameterChange',\n          type: 'text',\n          label: 'close popup when the parameter changes. deprecated',\n        },\n        {\n          name: 'openDialog',\n          type: 'boolean',\n          label: 'open dialog the first time',\n        },\n        {\n          name: 'customStyling',\n          type: 'boolean',\n          label: 'Enable Custom Styling',\n        },\n        {\n          name: 'buttonBorderRadius',\n          type: 'text',\n          label: 'Custom Styling: button-border-radius (examples: \"2lh\", \"50%\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\n        },\n        {\n          name: 'textColor',\n          type: 'text',\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'bgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'hasButtonShadow',\n          type: 'boolean',\n          label: 'Custom Styling: enable button-shadow'\n        },\n      ],\n    }\n  }\n}\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBRDFViewer extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/rdfviewer/index.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBRDFViewer',\n      component: BBRDFViewer,\n      label: 'BB RDF Viewer',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: ' Use ?file. or upcoming blob parameters',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when an object is selected.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        PublishUtils.getResetValueDef(),\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n}\nexport default BBRDFViewer\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBCesium extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/cesiumMap/cesiumConf.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBCesiumJS',\n      component: BBCesium,\n      label: 'Cesium JS',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: ' Use ?uri ?geometry ?color',\n        },\n        {\n          name: 'basequery',\n          type: 'yasgui',\n          label: ' Use ?uri ?geometry ?color',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        PublishUtils.getResetValueDef(),\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n}\nexport default BBCesium\n","import BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nexport default class BBSVG extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/SVG.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'false'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBSGV',\n      component: BBSVG,\n      label: 'SVG widget (Single Line Diagram)',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the svg. use ?uri ?x ?x ?type ',\n        },\n              {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n          \n       \n\n        {\n          name: 'dragNodes',\n          type: 'boolean',\n          label: 'drag nodes',\n        },\n      \n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n\n\n}\n","\r\nimport { lazy } from 'react';\r\n\r\nexport default class BBDWegselectorDescriptor  {\r\n \r\n  static getDescription() {\r\n    return {\r\n      name: 'Wegselector',\r\n      component: lazy(() =>  import('./BBWegselector')),\r\n      label: 'Wegselector',\r\n      variables: [\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          label: 'Titel boven de form',\r\n        },\r\n        \r\n        \r\n        {\r\n          name: 'showStrook',\r\n          type: 'boolean',\r\n          label: 'show strook options',\r\n        },\r\n        {\r\n          name: 'publishVariable',\r\n          type: 'text',\r\n          label:\r\n            'Published filter sparql bps into a parameter',\r\n        }\r\n     ]\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class BBParameterLinkEmptyWidget extends Component {\r\n\r\n  static getDescription() {\r\n    return {\r\n      name: 'BBParameterLinkEmptyWidget',\r\n      component: BBParameterLinkEmptyWidget,\r\n      label: 'Parameter Link (EmptyWidget)',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'Query to link a parameter',\r\n        },\r\n        {\r\n            name: 'publishParameter',\r\n            type: 'text',\r\n            label: 'publish parameter name (use ?uri single value limit 1)'\r\n         }\r\n        ]\r\n    }\r\n\r\n}\r\nshouldComponentUpdate(props,state)\r\n{\r\n  if (props==null) return false;\r\n  if (props.data==null) return false;\r\n\r\n  try{\r\n    if (props.data!=this.props.data)\r\n    {\r\n      if (props.data!=null)\r\n      {\r\n       // console.log(props.data);\r\n        if (props.data.results!=null)\r\n        {\r\n        try\r\n        {\r\n           if (props.data.results.bindings==null) return false;\r\n           if (props.data.results.bindings.length!=1) return false;\r\n           \r\n\r\n\r\n          var newValue=props.data.results.bindings[0].uri.value;\r\n         \r\n          var par=props.publishParameter;\r\n          if (par!=null)\r\n          {\r\n           \r\n            this.props.publish(par,newValue);\r\n           // console.log(\"perhaps publish new results? \",newValue,par);\r\n          }\r\n        }\r\n        catch(ex)\r\n        {\r\n         // console.log(ex);\r\n        }\r\n      }\r\n      }\r\n\r\n    }\r\n  }\r\n  catch(e){\r\n  //  console.log(e)\r\n  }\r\n    return false;\r\n}\r\n\r\n\r\nrender()\r\n{\r\n return null;   \r\n}\r\n\r\n}\r\n\r\n\r\n","import React from 'react'\nimport { Icon } from './Icon'\nimport styles from './SequencePaths.module.css'\n\nconst WIDGET_VARIABLES = [\n  {\n    name: 'query',\n    type: 'yasgui',\n    label:\n      'Query to display sequence path. ' +\n      'The following variable-names should be queried: \"?name\", \"?uri\", \"?parentUri\". ' +\n      'The utmost-grand-parent is displayed on the left, with the utmost-grand-child on the right.' +\n      'If there are multiple parents, then multiple sequence paths will be shown.'\n  },\n  {\n    name: 'iconName',\n    type: 'text',\n    label: 'font-awesome-icon-name to be used between path-nodes (default: \"angle-right\")',\n  },\n  {\n    name: 'topicOnClick',\n    type: 'text',\n    label: 'Topic to publish URI when clicking on path-node',\n  },\n]\n\nexport class SequencePaths extends React.Component {\n  state = {\n    sequences: [],\n    data: undefined,\n    previousData: undefined,\n  }\n\n  static getDescription() {\n    return {\n      name: 'SequencePaths',\n      component: SequencePaths,\n      label: 'Sequence-paths widget',\n      variables: WIDGET_VARIABLES,\n    }\n  }\n\n  render = () => (\n    <div className={`${styles.main} ${styles[this.props.panelstyle]}`} disabled={this.state.loading}>\n      {this.state.sequences.map((sequence) => (\n        <div key={sequence}>\n          {sequence.map((entry, i) => (\n            <React.Fragment key={entry.uri.value}>\n              {i !== 0 && <Icon icon={this.props.iconName?.length ? this.props.iconName : 'angle-right'} />}\n              <span\n                className={`${styles.pathSegment} ${this.props.panelstyle}`}\n                onClick={() => this.select(entry.uri.value)}\n              >\n                {entry.name.value}\n              </span>\n            </React.Fragment>\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n\n  componentDidUpdate = () => {\n    try {\n      if (this.props.data && this.props.data !== this.state.previousData) {\n        const sequences = sequenceRows(this.props.data.results.bindings)\n        this.setState({ sequences, previousData: this.props.data })\n      }\n    } catch(e) {\n      console.error(e.message)\n    }\n  }\n\n  select = (uri) => this.props.dispatch({ type: 'PUBLISH', data: { [this.props.topicOnClick]: uri } })\n}\n\nfunction sequenceRows(rows) {\n  const { rowByUri, rowsByParentUri } = makeHashMaps()\n  const rootRows = rows.filter(r => !(r.parentUri?.value in rowByUri))\n  return rootRows.flatMap(r => getSequences([[r]]))\n\n  function makeHashMaps() {\n    const rowByUri = {}\n    const rowsByParentUri = {}\n\n    for (const row of rows) {\n      rowByUri[row.uri.value] = row\n\n      if (!row.parentUri?.value) continue\n      if (!rowsByParentUri[row.parentUri.value]) rowsByParentUri[row.parentUri.value] = [row]\n      else rowsByParentUri[row.parentUri.value].push(row)\n    }\n\n    return { rowByUri, rowsByParentUri }\n  }\n\n  function getSequences(sequences) {\n    return sequences.flatMap(sequence => {\n      const parent = sequence.at(-1)\n      const children = rowsByParentUri[parent.uri.value]\n      if (!children) return [sequence]\n\n      const newSequences = children.map(c => [...sequence, c])\n      return getSequences(newSequences)\n    })\n  }\n}\n","import { lazy } from 'react';\r\n\r\nexport default class BBIFCJSViewerDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'IFCJSViewer',\r\n      component: lazy(() =>  import('./BBIFCJSViewer.js')),\r\n      label: 'IFC JS Viewer (v2)',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'use parameter ?filename ?guid ?hidden ?alpha ?color  ',\r\n        }]\r\n    }\r\n}\r\n}","import { lazy } from 'react';\r\n\r\nexport default class BBIFCJSViewerDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BBThreeJSViewer',\r\n      component: lazy(() =>  import('./BBThreeJSViewer.js')),\r\n      label: 'BB ThreeJS viewer (v2)',\r\n      variables: [\r\n        {\r\n          name: 'glb files prefix',\r\n          type: 'text',\r\n          label: 'prefix for all glb files (e.g. http://wistor.nl/BloodBee/cgi/download/) ',\r\n        },\r\n        {\r\n          name: 'glb files',\r\n          type: 'array',\r\n          label: 'comma separated file names to load. \"file1.glb,file2.glb\" or use parameters {{filename}}',\r\n        },\r\n        {\r\n          name: 'visualisation hint',\r\n          type: 'select',\r\n          options: [\r\n            \r\n            { label: 'normal', value: 'normal' },\r\n            { label: 'transparent', value: 'transparent' },\r\n            { label: 'very transparent', value: 'vtransparent' },\r\n            { label: 'toon', value: 'toon' },\r\n            { label: 'toon transparent', value: 'toontransparent' },\r\n            { label: 'nice', value: 'nice' },\r\n            { label: 'grey', value: 'grey' },\r\n            { label: 'grey transparent', value: 'greytransparent' },\r\n            { label: 'grey very transparent', value: 'greyverytransparent' },\r\n\r\n\r\n\r\n\r\n            \r\n          ],\r\n          label: 'such as transparent,normal,toon ',\r\n\r\n        },\r\n        {\r\n          name: 'simpleMode',\r\n          type: 'boolean',\r\n          label: 'use this for only basic viewing of IFC models',\r\n        },\r\n\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'use parameter ?guid ?uri ?hidden ?alpha ?color ?label. use sparqlhints #transparent   ',\r\n        },\r\n      \r\n        {\r\n          name: 'guidpublishparameter',\r\n          type: 'text',\r\n          label: 'parameter for guid publishing',\r\n        },\r\n        {\r\n          name: 'guidselector',\r\n          type: 'text',\r\n          label: 'parameter for selecting object using GUID',\r\n        }\r\n      \r\n      \r\n      ]\r\n    }\r\n}\r\n}","import { lazy } from 'react';\r\nexport default class NebulaDescriptor  {\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'Nebula',\r\n      component: lazy(() =>  import('./Nebula')),\r\n      label: 'Nebula',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'use parameter ?label for accordion headings. use ?content for inner accordion content ',\r\n        },\r\n\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          label: 'Titel boven de tabel',\r\n        },\r\n\r\n       \r\n      ],\r\n    }\r\n  }\r\n}\r\n","import { useEffect, useRef } from 'react'\n\nexport function useDebounce(onTimeout: () => void, debounceTime: number, debounceOn: unknown[] = []) {\n  const timerRef = useRef<ReturnType<typeof setTimeout>>()\n  useEffect(() => {\n    if (timerRef.current) clearTimeout(timerRef.current)\n    timerRef.current = setTimeout(() => onTimeout(), debounceTime)\n  }, debounceOn) // eslint-disable-line react-hooks/exhaustive-deps\n}\n","import { ChangeEvent, ReactNode, useEffect, useState } from 'react'\nimport { FormGroup as _FormGroup, Input as _Input, Label as _Label } from 'reactstrap'\nimport { useDebounce } from '../../hooks/use-debounce'\n\n// Workaround due to incorrect typing of the class-component instances\nconst FormGroup = _FormGroup as any\nconst Input = _Input as any\nconst Label = _Label as any\n\nconst DEFAULT = {\n  DEBOUNCE_TIME: 1, //second\n  WIDTH: '100%',\n}\n\nexport const textInputWidgetDescription = {\n  name: 'Text input',\n  component: TextInput,\n  label: 'Text input',\n  variables: [\n    {\n      name: 'label',\n      type: 'text',\n      label: 'Label above input-field',\n    },\n    {\n      name: 'topicToPublish',\n      type: 'text',\n      label:\n        'Topic to which to publish the user input',\n    },\n    {\n      name: 'debounceTimeInSeconds',\n      type: 'text',\n      label: 'Seconds to wait after user input to broadcast value to topic',\n    },\n    {\n      name: 'width',\n      type: 'text',\n      label: 'Width of text input (use css length value; default is \"100%\")',\n    }\n  ],\n}\n\nexport function TextInput(props: {\n  label?: string\n  topicToPublish?: string\n  debounceTimeInSeconds: string\n  width: string\n  publish: (topic: string, value: string) => void\n}) {\n  console.log(props.debounceTimeInSeconds, typeof props.debounceTimeInSeconds)\n  const parsedDebounceTime = Number(props.debounceTimeInSeconds || DEFAULT.DEBOUNCE_TIME) * 1000\n\n  const [text, setText] = useState('')\n\n  const publishText = (text: string) => {\n    if (props.topicToPublish) props.publish(props.topicToPublish, text)\n  }\n\n  useDebounce(() => publishText(text), parsedDebounceTime, [text])\n  useEffect(() => publishText(text), [props.topicToPublish]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (Number.isNaN(parsedDebounceTime))\n    return <div>Error: configured waiting time is not a number: \"{props.debounceTimeInSeconds}\"</div>\n\n  return (\n    <FormGroup style={{padding: '0.25rem', width: '100%'}}>\n      {props.label &&\n        <Label style={{marginLeft: '0.25rem', marginBottom: '0.25rem'}}>{props.label}</Label>\n      }\n      <Input\n        onChange={(e: ChangeEvent<HTMLInputElement>) => setText(e.target.value)}\n        style={{width: props.width || DEFAULT.WIDTH}}\n      />\n    </FormGroup> as ReactNode\n  )\n}\n","import React, { lazy } from \"react\"\n\nexport const dynamicFilterWidgetDescription = {\n  name: \"DynamicFilter\",\n  component: lazy(() => import(\"./DynamicFilter\")),\n  label: \"Dynamic Filter\",\n  variables: [\n    {\n      name: 'urlPublishVariable',\n      type: 'text',\n      label: \"Variable in which the browser's URL is published upon filter change.\"\n    },\n    {\n      name: 'filtersPublishVariable',\n      type: 'text',\n      label:\n        'Variable in which the filters are published. Note that the query will need \"PREFIX xsd\" in the header.'\n    },\n    {\n      name: 'filterLogicalOperation',\n      type: 'select',\n      label: 'The behaviour when multiple filters are selected',\n      options: [\n        { value: 'AND', label: 'Filters connected without UNION (AND)' },\n        { value: 'OR', label: 'Filters connected with UNION (OR)' },\n      ]\n    },\n    {\n      name: \"query\",\n      type: \"yasgui\",\n      label: \"SparQL query to define the possible filters: ?sparqlParameter ?property ?propertyURI ?value ?valueURI ?type ?defaultExpanded ?defaultVisible. Last two parameters are optional.\",\n      helpComponent: FilterInputQueryHelp\n    }\n  ]\n}\n\nfunction FilterInputQueryHelp() {\n  return (\n    <table>\n      <tbody>\n      <tr>\n        <th>\n          <code>?sparqlParameter</code>\n        </th>\n        <td>\n          String literal with the name of the SparQL parameter used in the published snippet (<code>?subj</code>). Do not include the <code>?</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?property</code>\n        </th>\n        <td>\n          String literal with the label of the filterable property.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?propertyURI</code>\n        </th>\n        <td>\n          String literal with the URI of the filterable property.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?value</code>\n        </th>\n        <td>\n          For checkboxes, radiobuttons, search: string literal with the label of the filterable values.<br />\n          For range or daterange: <code>\"min\"</code> or <code>\"max\"</code> to indicate if it's the min or max value.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?valueURI</code>\n        </th>\n        <td>\n          For checkboxes, radiobuttons, search: string URI or literal of the filterable values.<br />\n          For range: number literal of the min or max value.<br />\n          For daterange: date literal of the min or max value like <code>\"2023-01-01T00:00:00Z\"^^xsd:dateTime</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?type</code>\n        </th>\n        <td>\n          Either <code>\"checkboxes\"</code>, <code>\"radiobuttons\"</code>, <code>\"search\"</code>, <code>\"range\"</code> or <code>\"daterange\"</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?defaultExpanded</code>\n        </th>\n        <td>\n          Whether to expand the filter by default. Either <code>true</code> or <code>false</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?defaultVisible</code>\n        </th>\n        <td>\n          Whether the filter is shown by default. Either <code>true</code> or <code>false</code>. If <code>false</code>, it can be added by the user via the Add button.\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  )\n}\n\n","import { useEffect, useRef, useState } from \"react\"\nimport { useForceUpdate } from \"../../hooks/use-force-update\"\nimport { SparqlResults } from \"../../helpers/sparqlResultHelpers\"\n\ndeclare global {\n  interface Window {\n    luckysheet: any\n    LuckyExcel: any\n  }\n}\n\ninterface HighlightParameters {\n  sheet: string\n  row: number | null\n  col: string | null\n  range: string | null\n  value: string | null\n  color: string\n}\n\ninterface LuckSheetConfig {\n  name: string, // Worksheet name\n  index : number, // Worksheet index\n  status: boolean, // Worksheet active status\n  hide: boolean, // Whether worksheet hide \n  row: number, // the number of rows in a sheet\n  column: number, // the number of columns in a sheet\n}\n\ntype HighlightSparQLResults = SparqlResults<\"sheet\" | \"row\" | \"col\" | \"value\" | \"range\" | \"color\" >\n\nexport const excelWidgetDescription = {\n  name: 'Excel widget',\n  component: ExcelWidget,\n  label: 'Excel widget',\n  variables: [\n    {\n      name: 'excelUrl',\n      type: 'text',\n      label:\n        'An excel URL to load (If there is a excelUrlTopic specified, this will be ignored)',\n    },\n    {\n      name: 'excelUrlTopic',\n      type: 'text',\n      label:\n        'Published topic on which to listen to the excel URL to load',\n    },\n    {\n      name: 'selectedCellLocation',\n      type: 'text',\n      label:\n        'A variable to publish the selected cell location. The publish format is excel axis e.g \"A10\", \"B8\".',\n    },\n    {\n      name: 'selectedCellValue',\n      type: 'text',\n      label:\n        'A variable to publish the selected cell value',\n    },\n    {\n      name: 'currentActiveSheetName',\n      type: 'text',\n      label:\n        'A variable to publish the name of the current active sheet',\n    },\n    {\n      name: 'highlightColor',\n      type: 'text',\n      label: 'The default color for hightlighting the cells in format of Hex Code (#RRGGBB). If no highlighting color is specified in the sparql data, this color will be used.',\n    },\n    {\n      name: 'fastHighlighting',\n      type: 'boolean',\n      label: '[experimental] Enable this to highlight the cells is faster. But resetting the hightlights may requires reloading workbook or refresh the page. Note: Only the default color can be used for this highlight.',\n    },\n    {\n      name: \"query\",\n      type: 'yasgui',\n      label:\n        'Query certain cells to be highlighted in the loaded workbook. The query pattern should be `select ?sheet ?row ?col ?color ?value ?range` Note: Only cells that has values and their values are equal to ?value can be highlighted!',\n    },\n  ],\n}\n\nconst LUCKY_CSS = {\n  margin: '0px',\n  padding: '0px',\n  width: '100%',\n  height: '100%'\n} as const\n\nfunction ExcelWidget(props: {\n  query: string\n  data?: HighlightSparQLResults\n  pubsub: any\n  excelUrl: string\n  excelUrlTopic: string\n  selectedCellLocation: string\n  selectedCellValue: string\n  currentActiveSheetName: string\n  highlightColor: string\n  fastHighlighting: boolean\n  queryCellsForHighlighting: string\n  widgetId: string\n  publish: (topic: string, value: unknown) => void\n}) {\n  const sparqlData = props.data\n  const highlightConfigs: HighlightParameters[] = sparqlData? sparqlData.results.bindings.map(binding => ({\n    sheet: binding.sheet.value,\n    row: binding.row ? parseInt(binding.row.value) : null,\n    col: binding.col ? binding.col.value : null,\n    range: binding.range ? binding.range.value : null,\n    value: binding.value ? binding.value.value : null,\n    color: binding.color.value\n  })) : []\n  const [sheetloaded, setSheetLoaded] = useState(false)\n\n  const luckysheetId = `luckysheet-${props.widgetId}`.replace(' ', '_')\n  const forceUpdate = useForceUpdate()\n  const excelUrlFromTopic = props.pubsub[props.excelUrlTopic]\n  // put an excel in /public folder\n  // const excelUrl = '/002.922.40 1005439 IDO-indienen-16juni2022.xlsx'\n  const debugging = false\n\n  const loadExcel = async (excelUrl: string) => {\n    await loadLuckySheetIfNeeded()\n    const luckysheet = window.luckysheet\n    const LuckyExcel = window.LuckyExcel\n    setSheetLoaded(false)\n    LuckyExcel.transformExcelToLuckyByUrl(\n      excelUrl,\n      excelUrl,\n      (exportJson: any) => {\n        luckysheet.create({\n          container: luckysheetId,\n          data: exportJson.sheets,\n          showinfobar: false,\n          title: exportJson.info.name,\n          userInfo: exportJson.info.name.creator,\n          hook: {\n            rangeSelect: publishCellLocationAndSheetName,\n            workbookCreateAfter: () => {setSheetLoaded(true)}\n          }\n        });\n      },\n      (err: any) => {\n        alert(\"Import failed. Is your fail a valid xlsx?\")\n      })\n    forceUpdate()\n  }\n\n  const publishCellLocationAndSheetName = (sheet: LuckSheetConfig) => {\n    const trimAfterColon = (input: string) => {\n      let colonIndex = input.indexOf(':');\n      if (colonIndex !== -1) {\n          return input.substring(0, colonIndex);\n      } else {\n          return input;\n      }\n    }\n    const luckysheet = window.luckysheet\n    const range = trimAfterColon(luckysheet.getRangeAxis()[0])\n    const value = luckysheet.getRangeValuesWithFlatte()[0] ? luckysheet.getRangeValuesWithFlatte()[0].v : 'null'\n\n    props.publish(props.selectedCellLocation, range)\n    props.publish(props.selectedCellValue, value)\n    props.publish(props.currentActiveSheetName, sheet.name)\n  }\n\n  useEffect(() => {\n    if (props.excelUrlTopic) {\n      loadExcel(excelUrlFromTopic)  \n    } else if (props.excelUrl) {\n      loadExcel(props.excelUrl)\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ excelUrlFromTopic, props.excelUrl ])\n\n  useEffect(() => {\n    if (sheetloaded) highlightSparqlData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ sparqlData, sheetloaded ])\n\n  const undoHighlight = useRef<(() => void)[] | null>(null);\n\n  const highlight = (highlights: HighlightParameters[]) => {\n    const luckysheet = window.luckysheet\n    let allUndos: (() => void)[] = [];\n    \n    for (let highlight of highlights) {\n      if (undoHighlight.current) {\n        undoHighlight.current.forEach(undo => undo());\n        undoHighlight.current = [];\n      }\n\n      const sheetIndex = luckysheet.getAllSheets().findIndex((sheet: any) => sheet.name === highlight.sheet);\n      if (sheetIndex < 0) {\n        console.error(`Could not find sheet ${highlight.sheet}`);\n        return;\n      }\n  \n      const sheet = luckysheet.getAllSheets()[sheetIndex];\n      luckysheet.setSheetActive(sheetIndex);\n  \n      const undos: (() => void)[] = [];\n    \n      const cellIndexes = getCellIndexes(sheet, highlight);\n      for (const cellIndex of cellIndexes) {\n        const cellValue = sheet.data[cellIndex[0]][cellIndex[1]] ? sheet.data[cellIndex[0]][cellIndex[1]].v : null\n        if (highlight.value && cellValue && highlight.value === cellValue) {\n          const origBg = sheet.data[cellIndex[0]][cellIndex[1]] ? sheet.data[cellIndex[0]][cellIndex[1]].bg : \"#ffffff\";\n          luckysheet.setCellFormat(cellIndex[0], cellIndex[1], \"bg\", highlight.color);\n          undos.push(() => luckysheet.setCellFormat(cellIndex[0], cellIndex[1], \"bg\", origBg));\n        }\n      }\n  \n      allUndos.push(() => {\n        luckysheet.setSheetActive(sheetIndex);\n        undos.forEach(undo => undo());\n      });\n    }\n  \n    // Refresh after all highlights have been applied\n    luckysheet.refresh();\n    \n    undoHighlight.current = allUndos;\n  }\n\n  const createRange = (cellIndexes: [ number, number ][]) => {\n    return cellIndexes.map(([row, col]) => `${indexToColumn(col)}${row + 1}`).join(\",\")\n  }\n\n  const fastHighlight = (highlights: HighlightParameters[]) => {\n    const luckysheet = window.luckysheet;\n    const allSheets = luckysheet.getAllSheets();\n    const sheetNameToIndexMap = allSheets.reduce((map: any, sheet:any, index:number) => {\n      map[sheet.name] = index;\n      return map;\n    }, {});\n  \n    let allUndos: (() => void)[] = [];\n    \n    for (let highlight of highlights) {\n      if (undoHighlight.current) {\n        undoHighlight.current.forEach(undo => undo());\n        undoHighlight.current = [];\n      }\n  \n      const sheetIndex = sheetNameToIndexMap[highlight.sheet];\n      if (sheetIndex === undefined) {\n        console.error(`Could not find sheet ${highlight.sheet}`);\n        return;\n      }\n  \n      const sheet = allSheets[sheetIndex];\n  \n      const undos: (() => void)[] = [];\n  \n      const cellIndexes = getCellIndexes(sheet, highlight).filter(([row, col]) => {\n        const cellValue = sheet.data[row][col] ? sheet.data[row][col].v : null;\n        return highlight.value && cellValue && highlight.value === cellValue;\n      });\n  \n      if (cellIndexes.length > 0) {\n        const cellRanges = createRange(cellIndexes);\n        const origBgs = cellIndexes.map(([row, col]) => sheet.data[row][col] ? sheet.data[row][col].bg : \"#ffffff\");\n        \n        luckysheet.setRangeFormat(\"bg\", highlight.color, {range: cellRanges});\n  \n        undos.push(() => {\n          origBgs.forEach((origBg, i) => {\n            luckysheet.setCellFormat(cellIndexes[i][0], cellIndexes[i][1], \"bg\", origBg);\n          });\n        });\n      }\n  \n      allUndos.push(() => {\n        undos.forEach(undo => undo());\n      });\n    }\n  \n    // Refresh after all highlights have been applied\n    luckysheet.refresh();\n  \n    undoHighlight.current = allUndos;\n  }\n  \n  const highlightSparqlData = async() => {\n    if ( props.data==null || props.data.results==null || props.data.results.bindings==null || props.data.results.bindings.length === 0) {\n        console.log(\"Empty sparql highlight data \", props.query)\n      } else {\n        if (props.fastHighlighting) {\n          fastHighlight(highlightConfigs)\n        } else {\n          highlight(highlightConfigs)\n        }\n      }\n  }\n\n  const clearHighlight = () => {\n    if (undoHighlight.current) {\n      undoHighlight.current.forEach(undo => undo());\n      undoHighlight.current = [];\n    }\n  }\n\n  return (\n    <div style={{\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <div\n        id={luckysheetId}\n        style={LUCKY_CSS} />\n      { debugging && (<div>\n        <button onClick={() => {\n          highlightSparqlData()\n        }} type=\"button\">Highlight sparql data</button>\n        <button onClick={() => {\n          clearHighlight()\n        }} type=\"button\">clearHighlight</button>\n      </div>)}\n    </div>\n  )\n}\n\nfunction loadLuckySheetIfNeeded() {\n  if (window.luckysheet) {\n    return Promise.resolve(window.luckysheet)\n  }\n\n  return new Promise((resolve, reject) => {\n    const resources = [\n      'https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/css/pluginsCss.css',\n      'https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/plugins.css',\n      'https://cdn.jsdelivr.net/npm/luckysheet/dist/css/luckysheet.css',\n      'https://cdn.jsdelivr.net/npm/luckysheet/dist/assets/iconfont/iconfont.css',\n      'https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/js/plugin.js',\n      'https://cdn.jsdelivr.net/npm/luckysheet/dist/luckysheet.umd.js',\n      'https://cdn.jsdelivr.net/npm/luckyexcel/dist/luckyexcel.umd.js'\n    ];\n\n    let loadedCount = 0;\n\n    function resourceLoaded() {\n      loadedCount++;\n      if (loadedCount === resources.length) {\n        resolve(window.luckysheet)\n      }\n    }\n\n    resources.forEach(resource => {\n      if (resource.endsWith('.css')) {\n        const linkElement = document.createElement('link');\n        linkElement.rel = 'stylesheet';\n        linkElement.href = resource;\n        linkElement.onload = resourceLoaded;\n        linkElement.onerror = reject;\n        document.head.appendChild(linkElement);\n      } else if (resource.endsWith('.js')) {\n        const scriptElement = document.createElement('script');\n        scriptElement.src = resource;\n        scriptElement.onload = resourceLoaded;\n        scriptElement.onerror = reject;\n        document.head.appendChild(scriptElement);\n      }\n    });\n  });\n}\n\nfunction getRangeStringFromHighlight(sheet: any, highlightParameter: HighlightParameters) {\n  const maxRowInTheSheet: number = sheet.data.length\n  const maxColInTheSheet: number = sheet.data[0].length\n  const maxColAxis: string = indexToColumn(maxColInTheSheet)\n    \n  if (highlightParameter.range) {\n    return highlightParameter.range\n  } else if (highlightParameter.row != null && highlightParameter.col == null) {\n    return `A${highlightParameter.row}:${maxColAxis}${highlightParameter.row}`\n  } else if (highlightParameter.col != null && highlightParameter.row == null) {\n    return `${highlightParameter.col}1:${highlightParameter.col}${maxRowInTheSheet}`\n  } else if (highlightParameter.col != null && highlightParameter.row != null) {\n    return `${highlightParameter.col}${highlightParameter.row}`\n  }\n}\n\nfunction getCellIndexes(sheet: any, highlightParameter: HighlightParameters): [ number, number ][] {\n  const cellIndexes: [ number, number ][] = []\n\n  const rowIndex = highlightParameter.row ? highlightParameter.row - 1 : null\n  const colIndex = highlightParameter.col ? excelColumnToIndex(highlightParameter.col) : null\n\n  if (highlightParameter.range) {\n    const { startRow, endRow, startCol, endCol } = parseExcelRange(highlightParameter.range)\n    for (let rowIndex = startRow; rowIndex <= endRow; rowIndex++) {\n      for (let colIndex = startCol; colIndex <= endCol; colIndex++) {\n        cellIndexes.push([ rowIndex, colIndex ])\n      }\n    }\n  } else if (rowIndex != null && colIndex == null) {\n    const row = sheet.data[rowIndex]\n    for (let colIndex = 0; colIndex < row.length; colIndex++) {\n      const cell = row[colIndex]\n      if (!cell) break\n      cellIndexes.push([ rowIndex, colIndex ])\n    }\n  } else if (colIndex != null && rowIndex == null) {\n    for (let rowIndex = 0; rowIndex < sheet.data.length; rowIndex++) {\n      const row = sheet.data[rowIndex]\n      const cell = row[colIndex]\n      if (!cell) continue\n      cellIndexes.push([ rowIndex, colIndex ])\n    }\n  } else if (colIndex != null && rowIndex != null) {\n    const row = sheet.data[rowIndex]\n    if (row) {\n      const cell = row[colIndex]\n      if (cell) {\n        cellIndexes.push([ rowIndex, colIndex ])\n      }\n    }\n  }\n\n  return cellIndexes\n}\n\nfunction excelColumnToIndex(columnName: string): number {\n  let index = 0\n  const length = columnName.length\n\n  for (let i = 0; i < length; i++) {\n    // Subtracting 65 to get the zero-based index for 'A'\n    const charCode = columnName.charCodeAt(i) - 65\n    index = index * 26 + charCode + 1\n  }\n\n  return index - 1\n}\n\nfunction parseExcelRange(range: string): { startRow: number, endRow: number, startCol: number, endCol: number } {\n  let [start, end] = range.split(':');\n\n  if (typeof end === 'undefined') {\n    end = start;  // If the range is a single cell, set end equal to start\n  }\n\n  return {\n    startRow: parseInt(start.replace(/[^\\d]/g, '')) - 1,\n    startCol: excelColumnToIndex(start.replace(/\\d/g, '')),\n    endRow: parseInt(end.replace(/[^\\d]/g, '')) - 1,\n    endCol: excelColumnToIndex(end.replace(/\\d/g, ''))\n  };\n}\n\nfunction indexToColumn(index: number): string {\n  let column = '';\n  index++; // Because this is a 1-based system\n  while (index > 0) {\n      let modulo = (index - 1) % 26;\n      column = String.fromCharCode(65 + modulo) + column;\n      index = Math.floor((index - modulo) / 26);\n  }\n  return column;\n}\n","import styles from './ToggleSwitch.module.css'\n\nexport const ToggleSwitch = (props: {\n  isToggled: boolean\n  onClick: () => void\n}) => {\n    return (\n      <label className={styles[\"toggle-switch\"]}>\n        <input type=\"checkbox\" checked={props.isToggled} onClick={() => props.onClick()} />\n        <span className={styles[\"switch\"]} />\n      </label>\n    );\n  };\n  ","import { ToggleSwitch } from '../ToggleSwitch'\nimport { IconButton } from '@mui/material'\nimport { Icon } from './Icon'\nimport styles from './ToggleWidget.module.css'\nimport { IconProp } from '@fortawesome/fontawesome-svg-core'\n\nexport const toggleWidgetDescription = {\n  name: 'ToggleWidget',\n  component: ToggleWidget,\n  label: 'Toggle Widget',\n  variables: [\n    {\n      name: 'appearance',\n      type: 'select',\n      label: 'Choose your preferred appearance',\n      options: [\n        {\n          label: 'Icon',\n          value: 'icon',\n        },\n        {\n          label: 'Checkbox',\n          value: 'checkbox',\n        },\n        {\n          label: 'Toggle Switch',\n          value: 'toggleSwitch',\n        },\n      ],\n    },\n    {\n      name: 'iconImage',\n      type: 'text',\n      label:\n        'name of the Font Awesome icon you want to use',\n    },\n    {\n      name: 'publishTopic',\n      type: 'text',\n      label:\n        'topic to publish binary state to',\n    },\n    {\n      name: 'enabledBgColor',\n      type: 'text',\n      label: 'Custom Styling: Enabled background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n    {\n      name: 'enabledIconColor',\n      type: 'text',\n      label: 'Custom Styling: Enabled icon-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n    {\n      name: 'disabledBgColor',\n      type: 'text',\n      label: 'Custom Styling: Disabled background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n    {\n      name: 'disabledIconColor',\n      type: 'text',\n      label: 'Custom Styling: Disabled icon-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n  ],\n}\n\nfunction ToggleWidget(props: {\n  pubsub: any\n  appearance: 'icon' | 'checkbox' | 'toggleSwitch'\n  iconImage: IconProp\n  publishTopic: string\n  enabledBgColor:string\n  enabledIconColor: string\n  disabledBgColor:string\n  disabledIconColor: string\n  publish: (topic: string, value: unknown) => void\n}) {\n  const appearance = props.appearance || 'icon'\n  const iconImage = props.iconImage || 'filter'\n  const publishTopic = props.publishTopic || 'defaultTopic'\n  const handleClick = () => {\n    if (publishTopic) {\n      props.publish(publishTopic, !props.pubsub[publishTopic])\n    }\n  }\n  return (\n    <div style={{\n      '--icon-color': props.disabledIconColor,\n      '--bg-color': props.disabledBgColor,\n      '--active-icon-color': props.enabledIconColor,\n      '--active-bg-color': props.enabledBgColor,\n    } as {}}>\n      {appearance == 'checkbox' && <input type=\"checkbox\" name=\"example\" checked={props.pubsub[publishTopic]} onClick={handleClick}/>}\n      {appearance == 'toggleSwitch' && <ToggleSwitch isToggled={props.pubsub[publishTopic]} onClick={handleClick}/>}\n      {appearance == 'icon' && (\n        <IconButton\n          className={styles.iconButton}\n          onClick={handleClick}\n          data-active={props.pubsub[publishTopic]}\n        >\n          <Icon icon={iconImage} />\n        </IconButton>\n      )}\n    </div>\n  )\n}\n","\n//import BBPropertyPanel from './bb/BBPropertyPanel'\nimport BBPropertyPanel from './bb/BBPropertyPanelDescriptor'\nimport BBCheckboxTree from './bb/BBCheckboxTreeDescriptor'\n\nimport Table from './TableDescriptor'\nimport Table2 from './Table2'\nimport TableCells from './TableCells'\nimport Tree from './TreeDescriptor'\nimport TreeD3 from './TreeD3Descriptor';\nimport List from './List'\nimport RadioBox from './RadioBox'\nimport SelectBox from './SelectBox'\nimport Slider from './Slider'\nimport SearchAutocomplete from './SearchAutocomplete'\nimport Tab from './Tab'\nimport SplitLayout from './SplitLayout'\nimport SplitLayoutTest from './SplitLayoutTestDescriptor'\nimport Yasgui from './Yasgui'\nimport BBMap from './bb/BBMap'\nimport BBMultiMap from './bb/BBMultiMap'\nimport BBTable from './bb/BBTable'\nimport BBTreeTable from './bb/BBTreeTable'\nimport BBYasgui from './bb/BBYasgui'\nimport BBYasguiLatest from './bb/BBYasguiLatest'\nimport BBYasr from './bb/BBYasr'\nimport BBYasguiNotebook from './bb/BBYasguiNotebook'\nimport BBNotebook from './bb/BBNotebook'\nimport BBKGApiVizWidget from './bb/BBKGApiVizWidget'\nimport BBVoyager from './bb/BBVoyager'\nimport BBAccordion from './bb/BBAccordionDescriptor'\nimport BBPicture from './bb/BBPicture'\nimport BBHTML from './bb/BBHTML'\nimport BBDForm from './bb/editor/BBDFormDescriptor'\n//import BBForm from './bb/editor/BBForm';\n//import BBGrid from './bb/editor/BBGrid';\nimport BBSideMenu from './bb/BBSideMenuDescriptor'\nimport BBEChart from './bb/BBEChartDescriptor'\nimport BBBoorkern from './bb/BBBoorkern'\nimport StartRuleButton from './bb/rules/StartRuleButtonDescriptor'\n\nimport BBVis from './bb/BBVis'\nimport BBLinkButtons from './bb/BBLinkButtons'\nimport BBIFCViewer from './bb/BBIFCViewer'\nimport BBStructuredText from './bb/BBStructuredTextDescriptor'\n\n//import BBLayout from './bb/BBLayout';\nimport BBKVKProductTemplate from './bb/kvk/BBKVKProductTemplateDescriptor'\nimport BBKVKFlexibleTextWidget from './bb/kvk/BBKVKFlexibleTextWidget'\nimport BBBackMenu from './bb/BBBackMenu'\nimport BBSimplePushButton from './bb/BBSimplePushButtonDescriptor'\nimport BBVenn from './bb/BBVenn'\nimport BBForm from './bb/BBForm'\nimport BBUpload from './bb/BBUploadDescriptor'\nimport BBNOML from './bb/BBNOML'\nimport ButtonPopup from './bb/rotterdam/ButtonPopupDescriptor'\nimport BBRDFViewer from './bb/BBRDFViewer'\nimport BBCesium from './bb/BBCesium'\n//import BBRDFViewerOnline from './bb/BBRDFViewerOnline'\n//import BBMultiSelect from './bb/BBMultiSelect'\nimport BBSVG from './bb/BBSVG'\n//import BBThreeJS from './bb/BBThreeJS'\nimport BBDWegselectorDescriptor from './bb/venr/BBWegselectorDescriptor';\nimport BBParameterLinkEmptyWidget from './bb/BBParameterLinkEmptyWidget'\nimport { SequencePaths } from './SequencePaths'\nimport BBIFCJSViewer from './bb/BBIFCJSViewerDescriptor'\nimport BBThreeJSViewer from './bb/ifc/BBThreeJSViewerDescriptor'\n//import BBSparnatural from './bb/BBSparnaturalDescriptor'\n//import LDWizardDescriptor from './bb/ldwizard/LDWizardDescriptor'\nimport NebulaDescriptor from './bb/deck/NebulaDescriptor'\nimport { textInputWidgetDescription } from './TextInput'\nimport { dynamicFilterWidgetDescription } from \"./DynamicFilter\"\nimport { excelWidgetDescription } from './ExcelWidget'\nimport { toggleWidgetDescription } from './ToggleWidget'\n\n// import Search from './Search';\n\nlet widgetDefinitions = [\n  SplitLayout.getDescription(),\n  SplitLayoutTest.getDescription(),\n\n  BBEChart.getDescription(),\n  BBVis.getDescription(),\n  Tab.getDescription(),\n  List.getDescription(),\n\n  Slider.getDescription(),\n  SelectBox.getDescription(),\n  //BBMultiSelect.getDescription(),\n  RadioBox.getDescription(),\n  SearchAutocomplete.getDescription(),\n  Tree.getDescription(),\n  SequencePaths.getDescription(),\n  BBCheckboxTree.getDescription(),\n  BBSideMenu.getDescription(),\n  //BBPropertyPanel.getDescription(),\n  BBPropertyPanel.getDescription(),\n  TreeD3.getDescription(),\n  Table.getDescription(),\n  Table2.getDescription(),\n  TableCells.getDescription(),\n  textInputWidgetDescription,\n  {\n    name: 'Yasgui',\n    component: Yasgui,\n    label: 'Yasgui widget',\n  },\n  BBTable.getDescription(),\n  BBBoorkern.getDescription(),\n  BBTreeTable.getDescription(),\n  BBMap.getDescription(),\n  BBMultiMap.getDescription(),\n  BBCesium.getDescription(),\n  BBYasgui.getDescription(),\n  BBYasguiLatest.getDescription(),\n  BBNOML.getDescription(),\n  BBVoyager.getDescription(),\n  {\n    name: 'BBYasguiNotebook',\n    component: BBYasguiNotebook,\n    label: 'BB YasGUINotebook',\n    variables: [],\n  },\n  {\n    name: 'BBNotebook',\n    component: BBNotebook,\n    label: 'BB Notebook',\n    variables: [],\n  },\n  BBYasr.getDescription(),\n  {\n    name: 'BBKGApiVizWidget',\n    component: BBKGApiVizWidget,\n    label: 'BBKGApiVizWidget',\n    variables: [\n      {\n        name: 'query',\n        type: 'yasgui',\n        label: 'just to start. ',\n      },\n    ],\n  },\n  BBAccordion.getDescription(),\n  BBDForm.getDescription(),\n\n  BBPicture.getDescription(),\n  BBHTML.getDescription(),\n  BBKVKProductTemplate.getDescription(),\n  BBKVKFlexibleTextWidget.getDescription(),\n  BBLinkButtons.getDescription(),\n  BBIFCViewer.getDescription(),\n  BBBackMenu.getDescription(),\n  BBSimplePushButton.getDescription(),\n  BBStructuredText.getDescription(),\n  BBVenn.getDescription(),\n  BBSVG.getDescription(),\n  BBForm.getDescription(),\n  BBUpload.getDescription(),\n  ButtonPopup.getDescription(),\n  BBRDFViewer.getDescription(),\n  //BBRDFViewerOnline.getDescription(),\n//  BBThreeJS.getDescription(),\n //LDWizardDescriptor.getDescription(),\n  BBDWegselectorDescriptor.getDescription(),\n  BBParameterLinkEmptyWidget.getDescription(),\n  BBIFCJSViewer.getDescription(),\n  BBThreeJSViewer.getDescription(),\n  StartRuleButton.getDescription(),\n  // BBSparnatural.getDescription()\n  NebulaDescriptor.getDescription(),\n  dynamicFilterWidgetDescription,\n  excelWidgetDescription,\n  toggleWidgetDescription\n]\n\nexport default widgetDefinitions\n","export default __webpack_public_path__ + \"static/media/cross.53a62fd9.svg\";","import { PropsWithChildren } from 'react'\nimport { Fragment,Suspense } from 'react'\nimport styles from './Loader.module.css'\nimport Spinner from './Spinner'\nimport LoadingOverlay from 'react-loading-overlay'\nimport { PulseLoader } from 'react-spinners'\n// @tsd-ignore\n//LoadingOverlay.propTypes = undefined\n\nexport function Loader(props: PropsWithChildren<{\n  loadStyle: 'classic' | 'overlay'\n  active: boolean\n}>) {\n  if ( (props.loadStyle === 'classic') || (props.loadStyle === 'overlay'))\n    return (\n      <>\n      <Suspense  fallback={ <Spinner loading={props.active} />} >\n        <Spinner loading={props.active} />\n        {props.children}\n        </Suspense>\n      </>\n    )\n\n/*\n  if (props.loadStyle === 'overlay')\n    return ( <LoadingOverlay\n       className={styles.overlay}\n      active={props.active}\n      spinner={<PulseLoader size=\"8px\" />} \n     >\n        {props.children}\n      </LoadingOverlay>\n      )\n      */\n}\n","import { Component, cloneElement } from 'react'\nimport axios from 'axios'\nimport isEqual from 'lodash/isEqual'\nimport debounce from 'lodash/debounce'\nimport { connect } from 'react-redux'\nimport { getUniqueId } from '@patternfly/react-core'\nimport { toast } from 'react-toastify'\nimport { Loader } from './Loader'\nimport { getLoadStyle } from '../helpers/layout'\nimport { getCgiUrl } from '../helpers/url'\n\nconst SparqlClient = require('sparql-http-client/SimpleClient')\n\n//import spcache from '../spcache';\n\n//let cache = spcache;\nlet cache = {}\nif (document.cache != null) {\n  cache = document.cache\n}\n\nconst CancelToken = axios.CancelToken\n\nwindow.top.saveCache = function () {\n  // var s = 'export default ';\n  //var s = 'document.cache=';\n  var s = ''\n  s += JSON.stringify(cache)\n  console.log(s)\n\n  window.top.downloadObjectAsJson(s, 'spcache')\n}\n\nclass Widget extends Component {\n  constructor(props) {\n    super(props)\n    this.resolveTemplateVariableInQueryDebounce = debounce(\n      this.resolveTemplateVariableInQuery,\n      2000\n    )\n    this.useLoadingWidget = false\n    if (window.top.url == null) {\n      this.createSparqlFunction()\n    }\n  }\n\n  state = {\n    loading: false,\n  }\n\n  getUrl() {\n    try {\n      let url = '/api/sparql/' + this.props.repoURL\n      if (this.props.repoURL.startsWith('http')) {\n        // request sparql endpoint directly\n        url = this.props.repoURL\n      }\n      var modus = false\n      if (window.location.host === 'localhost:3000') {\n        modus = true\n      }\n      //  var modus=false; //debug\n\n      if (\n        this.props.localRepoURL != null &&\n        this.props.localRepoURL !== '' &&\n        modus\n      ) {\n        url = this.props.localRepoURL\n      }\n      window.top.url = url\n    //  console.log('returning url :' + url)\n      return url\n    } catch (e) {\n      console.log('error creating url' + e)\n    }\n    return null\n  }\n\n  createSparqlFunction2() {\n    // gebruikt door bb widgets in iframe situation\n    var url = this.getUrl()\n    window.top.query = async function (query, success, errorRV) {\n      // console.log(\"query via window top \",query,success,errorRV);\n\n      let encodedQuery = encodeURIComponent(query)\n      let data = {\n        query: query,\n      }\n      data = 'infer=false&sameAs=false&query=' + encodedQuery\n\n      axios.defaults.headers.post['Content-Type'] =\n        'application/x-www-form-urlencoded'\n      //axios.defaults.headers.post['Access-Control-Allow-Origin'] ='*';\n\n      //console.log(\"querying with \",query,headers);\n      axios.defaults.withCredentials = true\n      axios.defaults.credentials = 'include'\n      \n       if  ( !( (success==null)  && (errorRV==null)) ) \n       {\n          var r=axios({  method: 'post',     url,      data,       headers:{       Accept: 'application/sparql-results+json'      },     cancelToken: new CancelToken((c) => {         this.cancel = c       }),       }); \n          \n            r.then((response) => {\n              if (success) {\n                success.call(this, response.data)\n              }\n            })\n            .catch((error) => {\n              //  console.log(error,query);\n              if (errorRV) {\n                errorRV.call(this, error)\n              }\n            })\n          }\n       \n      \n        else\n        {\n             console.log(\"run await version\");\n        //  var r= await axios({  method: 'post',     url,  data,       headers:{       Accept: 'application/sparql-results+json'      },     cancelToken: new CancelToken((c) => {         this.cancel = c       }),       }).catch(err => false);; \n        var r= await axios.post(url,data,{  headers:{       Accept: 'application/sparql-results+json'      },     cancelToken: new CancelToken((c) => {         this.cancel = c       }),       });; \n         \n         \n            return  r;\n        }\n      }\n  \n\n    this.sparqlQuery = window.top.query;\n  }\n\n  createSparqlFunction() {\n    // gebruikt door bb widgets in iframe situation\n\n    if (true) {\n      this.createSparqlFunction2()\n      return\n    }\n    var endpointUrl = this.getUrl()\n    window.top.query = async function (query, success, errorRV) {\n      try {\n        const client = new SparqlClient({ endpointUrl,headers:{\n          Accept: 'application/sparql-results+json'\n        } })\n        \n        const stream = await client.query.select(query, {\n          operation: 'postUrlencoded',\n        })\n        var data = await stream.json()\n\n        if (success) {\n          success.call(this, data)\n        }\n      } catch (e) {\n        console.log(e)\n        if (errorRV != null) {\n          errorRV.call(this, 'error sparql endpoint')\n        }\n      }\n    }\n  }\n\n  async loadData2(query, encodedQueryForCache, endpointUrl) {\n    // goed op basis van sparql client\n\n    //console.log(\"load data 2\",endpointUrl,axios);\n\n    try {\n      if (endpointUrl == null) endpointUrl = this.getUrl()\n      const client = new SparqlClient({ endpointUrl,headers: {\n        Accept: 'application/sparql-results+json,*/*;q=0.9'\n      } })\n      const stream = await client.query.select(query, {\n        operation: 'postUrlencoded',\n      })\n      var data = await stream.json()\n\n      if (data != null) {\n        if (encodedQueryForCache != null) {\n          cache[encodedQueryForCache] = data\n        }\n        this.setState({ data: data, executedSparql: query })\n        this.setLoading(false)\n      }\n    } catch (e) {\n      console.log(e, this.getUrl())\n      alert(this.props.sparqlErrorMessage)\n    }\n  }\n\n  runJSInQuery(query) {\n    try {\n      if (query == null) return null\n      let b = query.includes('<script>')\n      if (b) {\n      //  console.log('FOUND JS in query')\n\n        let codes = query.split('<script>')\n        let nquery = ''\n        for (let n in codes) {\n          if (n === '0') {\n            nquery = codes[n]\n            continue\n          }\n          let code = codes[n]\n\n          let codeQuery = code.split('</script>')\n          let evalcode = codeQuery[0]\n          //  console.log(code,n,evalcode);\n          let evalCode2 = new Function(evalcode)() //eslint-disable-line no-new-func\n          if (evalCode2 == null) {\n            evalCode2 = ''\n          }\n          let subQuery2 = codeQuery[1]\n          nquery += evalCode2 + subQuery2\n        }\n      //  console.log('returning ', nquery)\n        return nquery\n      }\n    } catch (error) {\n      console.error('error parsing js in query ', error, query)\n    }\n\n    return query\n  }\n\n  loadData(query) {\n  //   console.log(query);\n    var me = this\n\n    if (!this.props.repoURL) return console.log('Repo URL is not set!')\n\n    if (query) {\n      // default use proxy server\n      query = this.runJSInQuery(query)\n      const encodedQuery = encodeURIComponent(query)\n      const data = `infer=false&sameAs=false&query=${encodedQuery}`\n\n      try {\n        if (this.state.loading) {\n          this.cancel()\n        }\n      } catch (e) {}\n\n      //console.log(\"set loading\");\n      this.setLoading(true)\n      this.setState({\n        message: null,\n      })\n\n      me = this\n\n      let useCache = true\n      if (useCache) {\n        let results = cache[encodedQuery]\n        if (results) {\n          let uid = getUniqueId()\n          //  console.log('from cache');\n          setTimeout(() => {\n            this.setState({\n              data: results,\n              id: uid,\n              executedSparql: query,\n            })\n            this.setLoading(false)\n          }, 10)\n\n          return\n        }\n      }\n\n      axios.defaults.headers.post['Content-Type'] =\n        'application/x-www-form-urlencoded'\n      //axios.defaults.headers.post['Access-Control-Allow-Origin'] ='*';\n\n      if (window.location.host === 'xxxxlocalhost:3000') {\n        //console.log(\"Debugging \");\n        this.loadData2(query, encodedQuery, this.getUrl())\n        return\n      }\n\n      const url = getCgiUrl('sparql', this.props.repoURL, this.props.localRepoURL)\n\n      //console.log(\"querying with \",query,headers);\n      axios.defaults.withCredentials = true\n      axios.defaults.credentials = 'include'\n      // console.log(\"really sparqling \",query);\n      axios({\n        method: 'post',\n        url,\n        data,\n        headers:{\n          Accept: 'application/sparql-results+json,*/*;q=0.9'\n        },\n        cancelToken: new CancelToken((c) => {\n          me.cancel = c\n        }),\n      })\n        .then((response) => {\n          if (useCache) {\n\n            if (!query.includes(\"#nocache\"))    cache[encodedQuery] = response.data\n          }\n              \n\n          // console.log(\"this setting state. what is this?\",this);\n          me.setState({ data: response.data })\n          this.setLoading(false)\n        })\n        .catch((error) => {\n          console.log('axios errror. try one more time ', url, error)\n          if (error.__CANCEL__ === true) {\n            return\n          }\n\n          axios.defaults.withCredentials = true\n          axios.defaults.credentials = 'include'\n          axios({\n            method: 'post',\n            url,\n            data,\n            cancelToken: new CancelToken((c) => {\n              me.cancel = c\n            }),\n          })\n            .then((response) => {\n              if (useCache) {\n                cache[encodedQuery] = response.data\n              }\n              me.setState({ data: response.data })\n              this.setLoading(false)\n            })\n            .catch((error) => {\n              if (error.response) {\n                console.log('error retreiving ', error.response.status)\n                if (error.response.status === 400) {\n                  console.log(\n                    'arguably wrong sparql. Skipping this error ',\n                    query\n                  )\n                  return\n                }\n              }\n              console.log(\n                'axios errror... second time ',\n                error,\n                query,\n                me.props.sparqlErrorMessage\n              )\n\n              if (me.props.sparqlErrorMessage != null) {\n                alert(me.props.sparqlErrorMessage)\n              } else {\n                if (error === 'Error: Network Error') {\n                  alert('error: cannot connect to server')\n                }\n              }\n            })\n        })\n    }\n  }\n\n  resolveTemplateVariableInQuery = (changedPublishProp) => {\n    let query = this.props.query\n  \n\n    if (this.props.withinSelectedTab === false) {\n      return\n    } // geen queries uitvoeren voor niet zichtbare tabs\n    if (!query) {\n      return\n    }\n\n    // console.log(query);\n\n    //const regex = /{{\\S*}}/g;\n    const regex = /{{[A-Za-z0-9|:./]*}}/g\n    let subscribeProps = query.match(regex)\n   \n    \n    if (!subscribeProps) {\n      if (changedPublishProp) {\n        return\n      }\n      // console.log(\"load data:\"+query.substring(0,30));\n      // geen variabelen meer in de query?\n      return this.loadData(query)\n    }\n\n    //  console.log(subscribeProps);\n    subscribeProps = subscribeProps.map((f) => f.replace(/[{}]/g, ''))\n    var subscribeProps2 = subscribeProps.map((f) => f.split('||')).flat()\n\n    \n\n    //console.log(subscribeProps2);\n    subscribeProps2 = subscribeProps2.map((f) => f.split('::')[0])\n    //\n    subscribeProps = [...new Set(subscribeProps)] // remove duplicates\n    subscribeProps2 = [...new Set(subscribeProps2)] // remove duplicates\n    //console.log(subscribeProps2,changedPublishProp);\n    if (changedPublishProp && !subscribeProps2.includes(changedPublishProp)) {\n      //this.setState({ data: {results:{bindings:[]},head:{vars:[]}}, loading: false  });\n      return\n    }\n\n    \n    //console.log(query.substring(0,20),subscribeProps,changedPublishProp,!subscribeProps.includes(changedPublishProp));\n\n    for (var i = 0; i < subscribeProps.length; i++) {\n      let subscribeProp = subscribeProps[i]\n      let subscribeValue = this.props.pubsub[subscribeProp]\n      if (subscribeValue == null) {\n        // console.log(\"found empty property or composed properties\",subscribeProp);\n      }\n\n      if (subscribeProp.includes('||')) {\n        let subscribeProp2 = subscribeProp.split('||')[0]\n        subscribeValue = this.props.pubsub[subscribeProp2]\n        if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n          subscribeValue = null\n        }\n\n        //  console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n        if (subscribeValue == null) {\n          var prop = subscribeProp.split('||')[1].split('||')[0].split('::')[0]\n          subscribeValue = this.props.pubsub[prop]\n          if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n            subscribeValue = null\n          }\n        }\n      }\n\n      if (subscribeProp.includes('::') && subscribeValue == null) {\n        let subscribeProp2 = subscribeProp.split('::')[0]\n        subscribeValue = this.props.pubsub[subscribeProp2]\n        if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n          subscribeValue = null\n        }\n        // console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n        if (subscribeValue == null) {\n          subscribeValue = subscribeProp.split('::')[1]\n        }\n        //  console.log(subscribeProp,subscribeValue);\n      }\n\n      //console.log(subscribeProp,subscribeValue);\n      if (!subscribeValue) {\n        return this.setState({\n          //message: `Kies een ${subscribeProp}`\n          message: '',\n        })\n      }\n      // console.log(subscribeProp,subscribeValue);\n      subscribeProp = subscribeProp.replaceAll('||', '\\\\|\\\\|')\n      let regex2 = new RegExp(`{{${subscribeProp}}}`, 'g')\n      // var o={q:query};\n\n      //  console.log(\"changing query \",query,regex2,subscribeValue);\n      try {\n        query = query.replace(regex2, subscribeValue)\n        // console.log(\"results \",query);\n      } catch (e) {\n        console.log(\n          'ERROR ',\n          query,\n          subscribeValue,\n          subscribeProps,\n          this.props.pubsub[subscribeProp]\n        )\n      }\n      // o.q2=query;\n      //console.log(o,subscribeProp);\n    }\n    this.setLoading(true)\n    // console.log(\"changed query so loading\",query.substring(0,20),{query:query});\n    this.loadData(query)\n  }\n\n  componentDidMount() {\n    let variables = this.props.definition.variables\n    let queryDefinition =\n      variables && variables.find((variable) => variable.name === 'query')\n    if (!queryDefinition) return\n    if (this.props.withinSelectedTab === false) return\n    this.resolveTemplateVariableInQuery()\n  }\n\n  componentDidUpdate(prevProps) {\n    let variables = this.props.definition.variables\n    let queryDefinition =\n      variables && variables.find((variable) => variable.name === 'query')\n    if (!queryDefinition) return\n\n    if (prevProps.repoURL !== this.props.repoURL) {\n      this.resolveTemplateVariableInQueryDebounce()\n    } else if (this.props.withinSelectedTab !== prevProps.withinSelectedTab) {\n      // if (this.props.withinSelectedTab && !this.state.data){\n      if (this.props.withinSelectedTab) {\n        this.resolveTemplateVariableInQuery()\n      }\n    } else if (prevProps.query !== this.props.query) {\n      this.resolveTemplateVariableInQuery()\n    } else if (!isEqual(prevProps.pubsub, this.props.pubsub)) {\n      let changedPublishProp\n\n      Object.keys(this.props.pubsub).forEach((key) => {\n        if (prevProps.pubsub[key] !== this.props.pubsub[key]) {\n          changedPublishProp = key\n        }\n      })\n\n      this.resolveTemplateVariableInQuery(changedPublishProp)\n    }\n  }\n\n  publishMultipleValues=(prop_value)=>\n  this.props.dispatch({ type: 'PUBLISH', data: prop_value })\n\n  publish = (prop, value) =>\n    this.props.dispatch({ type: 'PUBLISH', data: { [prop]: value } })\n\n  /**\n   * @param loading {boolean}\n   */\n  setLoading = loading => {\n    this.setState({ loading })\n\n    if (this.props.voteForUserActionsDisabledWhenLoading) {\n      this.props.voteForUserActionsDisabled(loading)\n    }\n  }\n\n  /**\n   * @param loading {boolean}\n   */\n  setLoadingFromWidget = loading => {\n    /*\n     * This setTimeout was taken from existing code and its purpose is unclear.\n     * It may indicate a potential code problem or may not be needed at all.\n     * Further investigation is required to determine if it should be removed.\n     */\n    setTimeout(() => {\n      this.setLoading(loading)\n    }, 0);\n  }\n\n  sendNotification = (msg) => toast(msg)\n\n  render() {\n    if (this.state == null) return null\n\n    return (\n      <Loader\n        loadStyle={getLoadStyle(this.props.layoutName)}\n        active={this.state.loading}\n      >\n        {cloneElement(this.props.children, {\n          ...this.state,\n          ...this.props,\n          setLoading: this.setLoadingFromWidget,\n          publish: this.publish,\n          publishMultipleValues:this.publishMultipleValues,\n          sendNotification: this.sendNotification,\n          closeDialog2:this.props.closeDialog\n\n        })}\n      </Loader>\n    )\n  }\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    layoutName: state.project.layoutName,\n    pubsub: state.pubsub\n  }\n}\n\nexport default connect(mapStateToProps)(Widget)\n","import React from \"react\"\nimport styles from \"./DisableUserActionsWrapper.module.css\"\n\ntype Props = {\n  userActionsDisabled: boolean\n  children: React.ReactNode\n}\n\nexport function DisableUserActionsWrapper(props: Props) {\n  return (\n    <div className={styles.wrapper} data-user-actions-disabled={props.userActionsDisabled}>\n      {props.children}\n    </div>\n  )\n}","export const DEFAULT_WIDGET_CONFIG = {\n  general: {\n    voteForUserActionsDisabledWhenLoading: true,\n    syncWithUserActionsDisabled: true\n  },\n  SelectBox: {\n    preSelectFirstItem: true\n  },\n  ToggleWidget: {\n    appearance: 'icon',\n    publishTopic: 'defaultTopic',\n    enabledBgColor: '#00589b',\n    disabledBgColor: 'gray'\n  }\n} as const\n","import { styled, Tooltip as MuiTooltip, tooltipClasses, TooltipProps } from \"@mui/material\"\n\nexport const LargeTooltip = styled(({ className, ...props }: TooltipProps) => (\n  <MuiTooltip {...props} arrow classes={{ popper: className }} />\n))(() => ({\n  [`& .${tooltipClasses.tooltip}`]: {\n    fontSize: '0.875rem',\n    fontWeight: 500,\n    textTransform: 'uppercase',\n    padding: '.75em 1em'\n  }\n}))\n","import { Component, Fragment } from 'react'\nimport styles from './Area.module.css'\nimport gearWhite from '../images/gear-white.svg'\nimport gearBlue from '../images/gear-blue.svg'\nimport insertIcon from '../images/plus.svg'\nimport infoIcon from '../images/info.svg'\nimport widgetDefinitions from './widgets'\nimport deleteIcon from '../images/cross.svg'\nimport Widget from './Widget'\nimport Dialog from './Dialog'\nimport { Button, FormGroup } from 'reactstrap'\nimport FormField from './FormField'\nimport PublishUtils from '../helpers/PublishUtils'\nimport { Grow } from '@mui/material'\nimport { isUserActionsDisabled } from \"../redux/current-viewer\"\nimport { connect } from \"react-redux\"\nimport uniqueId from \"lodash.uniqueid\"\nimport { DisableUserActionsWrapper } from \"./DisableUserActionsWrapper\"\nimport { DEFAULT_WIDGET_CONFIG } from \"./default-widget-config\"\nimport { LargeTooltip } from \"./mui/LargeTooltip\"\n\nclass Area extends Component {\n  state = {\n    dialogVisible: false,\n    originalConfig: {},\n  }\n\n  constructor(props) {\n    super(props)\n    try\n    {\n      this.widgetId = uniqueId(`${props.config.widget}-`)\n    }\n    catch(e){}\n  }\n\n  componentWillUnmount() {\n    // Make sure to revoke the vote when unmounting\n    if (this.hasVotedForUserActionsDisabled()) {\n      this.handleVoteForUserActionsDisabled(false)\n    }\n  }\n\n  onInsertLayout = (name) => {\n    let config = {\n      ...this.props.config,\n    }\n    var split = null\n    if (\n      window.confirm(\n        'Do you want this widget to be the first element in the new splitlayout'\n      )\n    ) {\n      split = {\n        areaSizes: ['auto', 'auto'],\n        areas: [config, {}],\n        direction: 'column',\n        widget: 'SplitLayout',\n      }\n    } else {\n      if (\n        window.confirm(\n          'Do you want this widget to be the second element in the new splitlayout'\n        )\n      ) {\n        split = {\n          areaSizes: ['auto', 'auto'],\n          areas: [{}, config],\n          direction: 'column',\n          widget: 'SplitLayout',\n        }\n      } else {\n        if (\n          window.confirm(\n            'Do you want this widget to be the third element in the new splitlayout or cancel all'\n          )\n        ) {\n          split = {\n            areaSizes: ['auto', 'auto', 'auto'],\n            areas: [{}, {}, config],\n            direction: 'column',\n            widget: 'SplitLayout',\n          }\n        } else {\n          return\n        }\n      }\n    }\n\n    this.props.onChange(split, this.props.index)\n  }\n\n  \n  onDeleteWidget = (name) => {\n    if (window.confirm('are you sure that you want to delete this?')) {\n      let config = {\n        ...this.props.config,\n      }\n\n      config = {}\n      this.props.onChange(config, this.props.index)\n    }\n  }\n\n  isLayoutWidget(widget) {\n    if (widget === 'SplitLayout' || widget === 'SplitLayoutTest') {\n      return true\n    }\n\n    if (widget === 'BBKVKProductTemplate') {\n      return true\n    }\n    // if (widget=='Tab')  {   return true; }\n\n    if (widget === 'BB ButtonPopup') {\n      return true\n    }\n\n    return false\n  }\n\n  onFormChange = (name, value) => {\n    // console.log(\"form change \",name,value);\n\n    let config = {\n      ...this.props.config,\n      [name]: value,\n    }\n\n    if (name === 'widget') {\n      //console.log(value);\n      if (this.isLayoutWidget(value)) {\n        // zodat we geen rare invoegsels krijgen dat doen we via de plus knop\n\n        config.direction = 'column'\n        config.areas = [this.props.config]\n        if (value === 'SplitLayoutTest') {\n          config.areaSizes = ['1', '1']\n        } else {\n          config.areaSizes = ['200px', '1']\n        }\n      } else if (value === 'Tab' || value === 'BBSideMenu') {\n        config.tabs = ['Tab 1', 'Tab 2']\n        config.areas = [this.props.config]\n      } else {\n        let moveConfig =\n          config.areas &&\n          config.areas.find((area) => area && area.widget === value)\n        if (moveConfig) config = moveConfig\n      }\n\n      for (const key of Object.keys(DEFAULT_WIDGET_CONFIG.general)) {\n        if (!(key in config)) config[key] = DEFAULT_WIDGET_CONFIG.general[key]\n      }\n      if (config.widget in DEFAULT_WIDGET_CONFIG) {\n        for (const key of Object.keys(DEFAULT_WIDGET_CONFIG[config.widget])) {\n          if (!(key in config)) config[key] = DEFAULT_WIDGET_CONFIG[config.widget][key]\n        }\n      }\n    }\n    this.props.onChange(config, this.props.index)\n  }\n\n  onChildChange = (config, index) =>\n   {\n    try \n    {\n    let newConfig = {\n      ...this.props.config,\n    }\n    \n    newConfig.areas[index] = config\n    this.props.onChange(newConfig, this.props.index)\n  }\n  catch(e)\n  {\n    console.log(e);\n  }\n    \n  }\n\n  onShowPopupInfo = () => {\n    this.setState({ popupInfoVisible: true })\n    let me = this\n    setTimeout(function () {\n      me.infoPopupClose()\n    }, 2500)\n  }\n\n  infoPopupClose = () => {\n    this.setState({ popupInfoVisible: false })\n  }\n\n  openAndSaveOriginalConfigForUndo = () => {\n    this.setState({ dialogVisible: true, originalConfig: { ...this.props.config } })\n  }\n\n  closeAndKeepConfigChanges = () => {\n    this.setState({ dialogVisible: false })\n    this.props.save()\n  }\n\n  closeAndUndoConfigChanges = () => {\n    this.props.onChange(this.state.originalConfig, this.props.index)\n    this.setState({ dialogVisible: false })\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasVotedForUserActionsDisabled() {\n    return this.props.votersForGlobalUserActionsDisabled.has(this.widgetId)\n  }\n\n  /**\n   * @param userActionsDisabled {boolean}\n   */\n  handleVoteForUserActionsDisabled = (userActionsDisabled) => {\n    this.props.dispatch({\n      type: \"VOTE_USER_ACTIONS_DISABLED\",\n      data: {\n        voterId: this.widgetId,\n        value: userActionsDisabled\n      }\n    })\n  }\n\n  renderWidget(config, widgetDefinition) {\n    if (!config.widget) {\n      if (this.props.mode === 'edit') return <div>Selecteer een widget.</div>\n      return\n    }\n    if ((this.props.mode === 'edit') && (widgetDefinition==null)) return <div>Selecteer een widget.</div>\n   if (widgetDefinition==null) return null;\n\n    const widgetUserActionsDisabled = !!config.syncWithUserActionsDisabled && this.props.userActionsDisabled\n\n    return (\n      <DisableUserActionsWrapper userActionsDisabled={widgetUserActionsDisabled}>\n        <Widget\n          widgetId={this.widgetId}repoURL={this.props.repoURL}\n          parameterValues={this.props.parameterValues}\n          localRepoURL={this.props.localRepoURL}\n          mode={this.props.mode}\n          save={this.props.save}\n          sparqlErrorMessage={this.props.sparqlErrorMessage}\n          withinSelectedTab={this.props.withinSelectedTab}\n          parseUrlProperties={this.props.parseUrlProperties}\n          {...withTopicValues(config, widgetDefinition, this)}\n          definition={widgetDefinition}\n          onChange={this.onChildChange}\n          closeDialog={this.props.closeDialog}\n          userActionsDisabled={widgetUserActionsDisabled}\n          voteForUserActionsDisabled={this.handleVoteForUserActionsDisabled}\n        >\n          <widgetDefinition.component />\n        </Widget>\n      </DisableUserActionsWrapper>\n    )\n  }\n\n  render() {\n   // if (this.props.withinSelectedTab==false) return false;\n\n  // console.log(this);\n    let config = this.props.config || {}\n    let menubar = false\n    let titleMenuBar = config.titleMenubar\n    if (titleMenuBar != null) {\n      titleMenuBar = titleMenuBar.trim()\n      titleMenuBar = PublishUtils.processStringForParameters(this, titleMenuBar)\n    }\n    if (titleMenuBar != null && titleMenuBar !== '' && titleMenuBar !== ' ') {\n      menubar = true\n    }\n    //  console.log(\"titleMenubar '\"+titleMenuBar+\"'\");\n\n    let mode = this.props.mode\n    let widgetDefinition = widgetDefinitions.find(\n      (widgetDefinition) => widgetDefinition.name === config.widget\n    )\n    let islayout = this.isLayoutWidget(config.widget)\n    let extraStyling1 = ''\n    let extraStyling2 = ''\n    let extraStyling3 = ''\n    let extraStyling4 = ''\n    if (config.panelstyleExtra != null) {\n      var sts = config.panelstyleExtra.split(' ')\n      try {\n        extraStyling1 = sts[0]\n      } catch (e) {}\n      try {\n        extraStyling2 = sts[1]\n      } catch (e) {}\n      try {\n        extraStyling3 = sts[2]\n      } catch (e) {}\n      try {\n        extraStyling4 = sts[3]\n      } catch (e) {}\n    }\n    let displayFlex = ' ' + styles.outerAreaContainerDisplayFlex\n    //not used\n    if (this.props.disableFlexbox) {\n      //  console.log(\"disable flexbox for this area\")  ;\n      displayFlex = ''\n    }\n    let infoMenubarb = false\n    if (config.infoMenubar != null) {\n      if (config.infoMenubar.length > 2) {\n        infoMenubarb = true\n      }\n    }\n    var appear=true;\n    var hidden = config.hidden;\n    if (hidden==null) hidden=false;\n    if (hidden!=false) {\n    \n      hidden=PublishUtils.processStringForParameters(this,hidden);\n      try {hidden=JSON.parse(hidden.toLowerCase());} catch(e){}\n      //console.log(\"2\",hidden,mode);\n      //if (hidden==true) console.log(\"3 hidden=true\");\n      //if (hidden==false) console.log(\"4 hidden=false\");\n     \n    }\n    \n    var visibilityState =hidden ? \"hidden\" : \"visible\";\n if (mode==='edit')  {  visibilityState=\"visible\"; }\n\n\n    return (\n     \n     <Grow appear={appear} timeout={1000} in={true}  style={{visibility: visibilityState}} >\n        <div\n          className={\n            styles.outerAreaContainer +\n            displayFlex +\n            ' ' +\n            (mode === 'edit' ? '' : styles.viewMode) +\n            ' ' +\n            styles[config.widget] +\n            ' ' +\n            styles[config.panelstyle] +\n            ' ' +\n            styles[extraStyling1] +\n            ' ' +\n            styles[extraStyling2] +\n            ' ' +\n            styles[extraStyling3] +\n            ' ' +\n            styles[extraStyling4]\n          }\n          style={{\n            '--area-border-style': config.areaBorderStyle,\n            '--area-border-radius': config.areaBorderRadius,\n          }}\n          data-custom-styling={Boolean(config.customStyling)}\n        >\n          {mode === 'edit' && (\n            <div className={styles.hoverToEdit}>\n              <div className={styles.hoverIndicator} />\n              <LargeTooltip\n                placement=\"bottom\"\n                title={config.widget && `${config.widget} widget`}\n              >\n                <div className={styles.editArea}>\n                  <img\n                    src={insertIcon}\n                    alt=\"box\"\n                    className={styles.insertIcon}\n                    onClick={() => this.onInsertLayout(config.widget)}\n                  />\n                  <img\n                    src={islayout ? gearBlue : gearWhite}\n                    alt=\"gear\"\n                    className={styles.editIcon}\n                    onClick={this.openAndSaveOriginalConfigForUndo}\n                  />\n                  <img\n                    src={deleteIcon}\n                    alt=\"cross\"\n                    className={styles.insertIcon}\n                    onClick={() => this.onDeleteWidget(config.widget)}\n                  />\n                </div>\n              </LargeTooltip>\n            </div>\n          )}\n\n          {menubar && (\n            <div className={styles.menubar}>\n              <div className={styles.menubartxt}> {titleMenuBar}</div>\n              {infoMenubarb && (\n                <img\n                  src={infoIcon}\n                  alt=\"box\"\n                  className={styles.insertIcon}\n                  onClick={() => this.onShowPopupInfo()}\n                />\n              )}\n            </div>\n          )}\n\n          {this.renderWidget(config, widgetDefinition)}\n\n          {this.state.popupInfoVisible && (\n            <Dialog onClose={this.infoPopupClose}>\n              <div>{config.infoMenubar}</div>\n            </Dialog>\n          )}\n\n          {this.state.dialogVisible && (\n            <Dialog>\n              <FormField\n                classforname={'dark-form-control' + styles.formElement}\n                name=\"widget\"\n                label=\"Widget\"\n                type=\"select\"\n                options={[\n                  { label: 'Selecteer een widget', value: '' },\n                  ...widgetDefinitions.map((wd) => ({\n                    label: wd.label,\n                    value: wd.name,\n                  })),\n                ]}\n                value={config.widget}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                classforname=\"dark-form-control\"\n                name=\"panelstyle\"\n                label=\"panel style\"\n                type=\"select\"\n                options={[\n                  { label: 'Selecteer een style', value: '' },\n                  { label: 'standaard', value: 'standaard' },\n                  { label: 'no scrollBars', value: 'noScrollBars' },\n                  \n                  { label: 'toolbar', value: 'toolbar' },\n                  { label: 'border', value: 'border' },\n                  { label: 'border 2', value: 'border2' },\n                  { label: 'paper', value: 'paper' },\n                  { label: 'paper 2', value: 'paper2' },\n                  { label: 'padding', value: 'padding1' },\n                  { label: 'padding 2', value: 'padding2' },\n                  { label: 'padding 3', value: 'padding3' },\n                  { label: 'none', value: 'none' },\n                  { label: 'none white', value: 'noneWhite' },\n                  { label: 'refresh', value: 'refresh' },\n                  { label: 'three color template', value: 'threeColorTemplate' },\n                ]}\n                value={config.panelstyle}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                name=\"panelstyleExtra\"\n                label=\"panel style  (noScrollBars)\"\n                type=\"text\"\n                value={config.panelstyleExtra}\n                onChange={this.onFormChange}\n              />\n\n              <FormField\n                name=\"titleMenubar\"\n                label=\"title menubar\"\n                type=\"text\"\n                value={config.titleMenubar}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                name=\"infoMenubar\"\n                label=\"Info popup menubar\"\n                type=\"text\"\n                value={config.infoMenubar}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                name=\"colorPrimaryAction\"\n                label='give primary action color (when panel style \"three color template\")'\n                type=\"boolean\"\n                value={config.colorPrimaryAction}\n                onChange={this.onFormChange}\n              />\n              <FormGroup tag=\"fieldset\" className={styles[\"fieldset\"]}>\n                <legend>Behaviour on loading</legend>\n                <FormField\n                  name=\"syncWithUserActionsDisabled\"\n                  label=\"User interaction disabled while other widgets are loading.\"\n                  type=\"boolean\"\n                  value={config.syncWithUserActionsDisabled}\n                  onChange={this.onFormChange}\n                />\n                <FormField\n                  name=\"voteForUserActionsDisabledWhenLoading\"\n                  label=\"Widget blocks user interaction on other widgets while loading.\"\n                  type=\"boolean\"\n                  value={config.voteForUserActionsDisabledWhenLoading}\n                  onChange={this.onFormChange}\n                />\n              </FormGroup>\n               <FormField\n                name=\"hidden\"\n                label=\"hide this panel. Parameter must be true or false\"\n                type=\"text\"\n                value={config.hidden}\n                onChange={this.onFormChange}\n              />\n\n              {config.widget &&\n                widgetDefinition.variables &&\n                widgetDefinition.variables.map((variable) => (\n                  <FormField\n                    key={variable.name}\n                    {...variable}\n                    value={config[variable.name]}\n                    onChange={this.onFormChange}\n                  />\n                ))}\n\n              <div style={{ textAlign: 'center' }}>\n                <Button\n                  color=\"secondary\"\n                  style={{ minWidth: '120px', marginTop: '12px' }}\n                  onClick={this.closeAndUndoConfigChanges}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  color=\"primary\"\n                  style={{ minWidth: '120px', marginTop: '12px', marginLeft: '40px' }}\n                  onClick={this.closeAndKeepConfigChanges}\n                >\n                  OK\n                </Button>\n              </div>\n            </Dialog>\n          )}\n        </div>\n        </Grow>\n     \n    )\n  }\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    userActionsDisabled: isUserActionsDisabled(state.currentViewer),\n    votersForGlobalUserActionsDisabled: state.currentViewer.votersForGlobalUserActionsDisabled\n  }\n}\n\nfunction withTopicValues(config, widgetDefinition, widget) {\n  const newConfig = {...config}\n  for (const variable of widgetDefinition.variables) {\n    if (variable.topicValueInterpolationEnabled) {\n      if (Array.isArray( newConfig[variable.name])) {\n        newConfig[variable.name] = newConfig[variable.name].map(valueString => PublishUtils.processStringForParameters(widget, valueString))\n      }\n      else if (typeof newConfig[variable.name] === 'string') {\n        newConfig[variable.name] = PublishUtils.processStringForParameters(widget, newConfig[variable.name])\n      }\n    }\n  }\n  return newConfig\n}\n\nexport default connect(mapStateToProps)(Area)\n","export default __webpack_public_path__ + \"static/media/gear-white.9f887544.svg\";","export default __webpack_public_path__ + \"static/media/gear-blue.dbaac633.svg\";","import BBIFrame from './BBIFrame'\nimport PublishUtils from './../../../helpers/PublishUtils'\n\nexport default class BBVis extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/visgraph.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'false'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBVis',\n      component: BBVis,\n      label: 'graph vis',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the graph. Use node nodeLabel edge edgeLabel object objectLabel. optional hier (true false) for hierarchical rep. shape/shapeO (e.g circle) for node shape. objectType & nodeType voor kleur/groepering ',\n        },\n        {\n          name: 'extendquery',\n          type: 'yasgui',\n          label: '  {{uri}} and Use  edge edgeLabel object objectLabel',\n        },\n        {\n          name: 'edgelabels',\n          type: 'boolean',\n          label: 'show edge labels using edgeLabel',\n        },\n        {\n          name: 'useLocalNames',\n          type: 'boolean',\n          label: 'use local names for labels',\n        },\n\n        {\n          name: 'legend',\n          type: 'boolean',\n          label: 'show legend based upon parameters objectType and nodeType',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        {\n          name: 'direction',\n          type: 'select',\n          label: 'direction layout',\n          options: [\n            {\n              label: 'Vertical starting from top',\n              value: 'UD',\n            }, //UD, DU, LR, RL\n            {\n              label: 'Vertical starting from bottom',\n              value: 'DU',\n            }, //UD, DU, LR, RL\n            {\n              label: 'Horizontal starting from left',\n              value: 'LR',\n            }, //UD, DU, LR, RL\n            {\n              label: 'Horizontal starting from right',\n              value: 'RL',\n            },\n          ],\n        },\n        {\n          name: 'edgetype',\n          type: 'select',\n          label: 'edge type',\n          options: [\n            { label: 'none', value: null },\n            {\n              label: 'to',\n              value: 'to',\n            }, //UD, DU, LR, RL\n            {\n              label: 'from',\n              value: 'from',\n            }, //UD, DU, LR, RL\n            {\n              label: 'middel',\n              value: 'middle',\n            }, //UD, DU, LR, RL\n            {\n              label: 'to and from',\n              value: 'to;from',\n            },\n          ],\n        },\n        {\n          name: 'hierarchical',\n          type: 'boolean',\n          label: 'hierarchical',\n        },\n\n        {\n          name: 'dragNodes',\n          type: 'boolean',\n          label: 'drag nodes',\n        },\n        {\n          name: 'editable',\n          type: 'boolean',\n          label: 'editable',\n        },\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__d0b-b\"};","import React, { Component } from 'react'\nimport Table from '../../Table'\n\nclass BBKVKFlexibleTextWidget extends Component {\n  static getDescription() {\n    return {\n      name: 'BBKVKFlexibleTextWidget',\n      component: BBKVKFlexibleTextWidget,\n      label: 'BBKVKFlexibleTextWidget widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix \"URI\", eg: ?object ?objectURI.',\n        },\n      ],\n    }\n  }\n\n  componentDidMount2(arg, arg2) {\n    console.log(this.props, arg, arg2)\n  }\n  shouldComponentUpdate2(arg) {\n    console.log(arg)\n    return true\n  }\n  openLink = (url) => {\n    window.open(url, '_blank')\n  }\n\n  analyseResults(results) {\n    var rc = {}\n    if (results == null) {\n      return rc\n    }\n    for (var n in results.bindings) {\n      var binding = results.bindings[n]\n      // console.log(binding,results);\n      if (binding.page != null) {\n        rc.page = binding.page.value\n      }\n    }\n\n    return rc\n  }\n\n  render() {\n    if (!this.props.data || this.props.data.results.bindings.length === 0) {\n      return null\n    }\n    var rc = this.analyseResults(this.props.data.results)\n    if (rc.page != null) {\n      return (\n        <div>\n          <p>\n            <a target=\"_blank\" href={rc.page}> {/*eslint-disable-line react/jsx-no-target-blank*/}\n              open wet in nieuwe tab\n            </a>\n            <Table {...this.props}></Table>\n          </p>\n        </div>\n      )\n    }\n    return <Table {...this.props}></Table>\n  }\n}\n\nexport default BBKVKFlexibleTextWidget\n","import { Component, createRef } from 'react'\n\nimport ReactDOM from 'react-dom'\nimport { generateEmptyResponse } from '../../../helpers/sparql'\nimport './BBIFrame.css'\n\nimport throttle from 'lodash/throttle'\nimport PublishUtils from '../../../helpers/PublishUtils'\nimport AfterJS from '../../../helpers/AfterJS'\nimport { parseTextForVariables } from '../../../helpers/sparql'\nimport './bbutil'\nimport {getSparqlFunction} from '../../../helpers/utils'\n\n\nimport shallowCompare from 'react-addons-shallow-compare'; \n\nimport _ from 'lodash';\nimport { setupUserInputMessenger } from '../../../helpers/user-input-messenger'\n\nclass BBIFrame extends Component {\n  iframeRef = createRef()\n\n  state = {\n    imgViz: false,\n    selectedUri: null,\n    reloadID: 1,\n  }\n\n  static htmln = 0\n  static scrolling = 'no'\n  noEvents = false;\n  usesParameters=true;\n\n  uploadSuccessfulAfter() {\n    //console.log(\"after upload\");\n    PublishUtils.setTimeStampParameter(this, true)\n  }\n\n   executeSparql(sparql,rv){\n\n    \n     let qq =parseTextForVariables(sparql, this.props);\n     \n      if (this.query==null)\n      {\n        this.query=getSparqlFunction(this.props);\n      }\n\n\n\n    this.query(qq,function(arg){\n       \n       if (rv!=null) rv.call(this,arg);}\n       ,function(arg2){\n        console.log(arg2);});\n     \n\n   }\n\n  onClick = (event, uri) => {\n   \n    var me = this\n    if (uri == null) {\n      uri = event\n    }\n    if (\n      event != null &&\n      event === 'http://www.bbsgroep.nl/application/v2/hasTextOutput'\n    ) {\n      me.noEvents = true\n      var pvar = me.props.publishTextVariable\n      if (pvar != null) {\n        me.props.publish(pvar, uri)\n        //PublishUtils.resetParameter(me);\n      }\n      me.noEvents = false\n\n      return\n    }\n    if (\n      event != null &&\n      event === 'http://www.bbsgroep.nl/application/v2/hasVar1Output'\n    ) {\n      me.noEvents = true\n      pvar = me.props.publishVariable1\n      if (pvar != null) {\n        if (uri !== event) {\n          me.props.publish(pvar, uri)\n        }\n        //PublishUtils.resetParameter(me);\n      }\n      me.noEvents = false\n\n      return\n    }\n\n    //console.log(\"continuing\");\n    me.noEvents = true\n    var pvar = me.props.publishVariable\n    //console.log(pvar);\n    if (pvar != null) {\n       console.log(\"event iframe, setting variable \",pvar,uri,me)\n      me.props.publish(pvar, uri)\n      //  console.log(\"run after selection  \",AfterJS);\n      try {\n        AfterJS.runAfterSelection(me)\n      } catch (e) {\n        console.log(e)\n      }\n      // console.log(\"run after selection ended\");\n      PublishUtils.resetParameter(me)\n    }\n    me.noEvents = false\n  }\n\n  getUrl() {\n    return ''\n  }\n\n  componentDidMount() {\n    var me = this\n    this.mounted = true\n    // var iframe=ReactDOM.findDOMNode(this);\n    var div = ReactDOM.findDOMNode(this).parentNode\n\n    div.setAttribute('style', 'position:relative;')\n\n    if (this.iface != null) {\n      try {\n        if (me.iface.afterIntegration != null) {\n          me.iface.afterIntegration(this.props)\n        }\n      } catch (e) {\n        console.log(e)\n      }\n      this.updateMe(null)\n    }\n  }\n\n  shouldComponentUpdate(arg, arg2) {\n   // console.log(this.getUrl()+\" should update \",this.mounted,this.iface,this.noEvents );\n    if (!this.mounted) {return false;}\n    if (this.iface == null) {return false;}\n    if (this.noEvents) {return false;}\n\n    if (shallowCompare(this, arg, arg2)==false && _.isEqual(arg.pubsub, this.props.pubsub))\n    {\n      //console.log(\"shallowcompare says false for update for \",this.getUrl());\n       return false;}\n    console.log(this.getUrl()+\" should update\");\n    return true\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.updateMe(this.props, this.state)\n  }\n\n  registerMe() {\n   // console.log(\"IFRAME register me \"+this.getUrl());\n\n    var me = this\n\n    setupUserInputMessenger(me.iframeRef.current.contentWindow)\n\n    me.iface.me = me\n    // console.log(\"add set loading to iface\");\n    me.iface.setLoading = function (arg) {\n      me.props.setLoading(arg)\n    }\n    me.iface.setMessage=function(msg)\n    {\n     //hier norents toaster functie\n     if (msg==null)return;\n     try\n     {\n        me.props.sendNotification(msg)\n     }\n     catch(e){}\n     console.log(\"Toaster msg:\",msg)\n\n\n    }\n\n    if (me.iface.widget == null) {\n      me.iface.widget = {\n        sendEvent: function (e, arg) {\n          var pvar = me.props.publishVariable\n          if (pvar != null) {\n            //  console.log(\"running iframe onclick event \",e,arg);\n            me.onClick(arg)\n            me.setState({ selectedUri: arg })\n          }\n        },\n        publish: this.publish,\n        publishList: this.publishList,\n        test: function () {\n          console.log('test')\n        },\n        reExecuteSparql: function () {\n          try {\n            me.reExecuteSparql()\n          } catch (e) {\n            console.log(e)\n          }\n        },\n      }\n    }\n\n    if (this.mounted) {\n      try {\n        if (me.iface.afterIntegration != null) {\n          //  console.log(\"after integration called\");\n          me.iface.afterIntegration()\n        }\n      } catch (e) {\n        console.log(e)\n      }\n      //console.log(\"registerMe this.updateMe\"+this.getUrl());\n      this.updateMe(this.props)\n    }\n  }\n\n  publish = (publishVariableName, value) => {\n    \n    const publishVariable = this.props[publishVariableName]\n    if (!publishVariable) return\n  //console.log(this.getUrl(),publishVariable,value);\n    this.props.publish(publishVariable, value)\n  }\n\n  publishList = (publishVariableName, publishVariableParameterTypeName, list) => {\n    const publishVariable = this.props[publishVariableName]\n    if (!publishVariable) return\n   // console.log(this.getUrl(),publishVariableName,publishVariableParameterTypeName,list);\n    const publishVariableParameterType = this.props[publishVariableParameterTypeName]\n    const singleValue = PublishUtils.getListAsSingleValue(publishVariableParameterType, list)\n    this.props.publish(publishVariable, singleValue)\n  }\n\n  //updateMe = throttle((arg,arg2) => { this.updateMe2(arg,arg2)}, 200)\n  updateMe =this.updateMe2;\n  updateMe2(arg={} , arg2={}) {\n   \n    var me = this;\n    var data = arg.data\n   \n    \n       \n    try {\n      if (me.props.data == null && data == null && me.firstData22 != null) {\n     //  console.log(\"setbegin sparql results   1\");\n        var q = me.props.query\n        if (me.props.basequery) q = me.props.basequery\n        if (arg.executedSparql != null) q = arg.executedSparql\n        let qq = null\n        if (q != null) {\n          qq = parseTextForVariables(q, arg)\n        }\n\n        me.iface.setBeginSparqlResults(me.firstData22, q, null, null, qq)\n        delete me.firstData22\n      } else {\n    //   console.log(arg.data,me.latestData22);\n        if (arg.data != null) {\n          if (me.latestData22 != arg.data)\n           {\n            let q = arg.query\n            if (arg.executedSparql != null) q = arg.executedSparql\n\n            let qq = null\n            if (q != null) {\n              qq = parseTextForVariables(q, arg)\n            }\n           // console.log(this.getUrl(),\"BB IFRAME SET BEGIN SPARQL results  2\",this.props.pubsub,arg.pubsub);\n            me.iface.setBeginSparqlResults(arg.data, q, null, null, qq)\n            me.latestData22 = arg.data\n          }\n          else {\n            console.log(\" not updating latest data22 == arg.data\");\n            \n          }\n        } else {\n         //  console.log(me.props.data,me.latestData22 !=me.props.data)\n          if (me.props.data != null) {\n           \n            if (me.latestData22 != me.props.data) {\n             \n              let q = me.props.query\n              if (arg.executedSparql != null) q = arg.executedSparql\n\n              let qq = null\n              if (q != null) {\n                qq = parseTextForVariables(q, arg)\n              }\n                // console.log(\"set sparql\");\n              me.iface.setBeginSparqlResults(me.props.data, q, null, null, qq)\n              me.latestData22 = me.props.data\n            }\n          } else {\n            console.log(this.props.basequery);\n            if (me.props.basequery != null) {\n              me = this\n              if (me.onlyOnce == null) {\n                me.onlyOnce = 'done'\n                if (me.props.basequery.length > 10) {\n                //     console.log(\"iframe geen data maar wel een base query\",this.props.basequery);\n                  window.top.query(me.props.basequery, function (data) {\n                    me.firstData22 = data\n                    me.updateMe(null)\n                  })\n                }\n              }\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.log(e)\n    }\n\n      \n    //console.log(\"me iface setPubSub \",this.iface,this.props.pubsub);\n    //console.log(arg);\n    try {\n      this.iface.setPubSub(arg.pubsub)\n    } catch (e) {}\n    if (arg == {}) {\n      arg = this.props\n    }\n    //console.log(\"updateMe  \"+this.getUrl());\n   \n    this.setSelection(arg)\n  }\n\n  setSelection(arg) {\n   // console.log(\"iframe setSelection \",arg,this.getUrl());\n    try {\n      var pvar = arg.subscribeVariable\n      if (pvar != null && arg.pubsub != null) {\n        var selectionValue = arg.pubsub[pvar]\n\n        if (\n          selectionValue != null &&\n          this.state != null &&\n          this.state.selection !== selectionValue\n        ) {\n          if (this.iface != null) {\n            // console.log(\"set Selection iface \",selectionValue);\n            this.iface.selectUri(selectionValue)\n            this.state.selection = selectionValue //eslint-disable-line react/no-direct-mutation-state\n            // this.iface.setBeginSparqlResults(me.props.data,me.props.query);\n          } else {\n            // console.log(\"iframe set selection no iface\");\n          }\n        }\n      }\n    } catch (e) {\n      console.log('error met selection ', e)\n    }\n  }\n\n  reload() {\n    this.once = null\n    this.iface = null\n\n    this.onlyOnce = null\n    window.top.Singleton.getInstance().iframes[this.htmlid] = null\n    this.htmlid = null\n   // console.log(\"reload iframe \",this.getUrl());\n    this.setState({ reloadID: Date.now() })\n  }\n\ngetParameters()\n{\n\n   if (!this.usesParameters)\n   {\n  //  console.log(\"NOT USING parameters....\",this.getUrl());\n    return \"?usepar=false\";\n\n   } \n    var par = '?y=y'+Date.now();\n   var title = ''\n   if (this.props.title) {\n     title = this.props.title\n     par += '&title=' + title\n   }\n   var createRoot = ''\n   if (this.props.createRoot) {\n     createRoot = this.props.createRoot\n     par += '&createRoot=' + createRoot\n   }\n   var icon = ''\n   if (this.props.icon) {\n     icon = this.props.icon\n     par += '&icon=' + icon\n   }\n\n   var expandLevel = ''\n   if (this.props.expandLevel) {\n     expandLevel = this.props.expandLevel\n     par += '&expandLevel=' + expandLevel\n   }\n   var direction = ''\n   if (this.props.direction) {\n     direction = this.props.direction\n     par += '&direction=' + direction\n   }\n\n   //onderstaande code moeten we eigenlijk vanaf. IFrame objecten kunnen nu via IFace toegang krijgen\n   par = '';\n   let extra = '?'\n   \n   for (let key in this.props) {\n     if (key === 'loading') continue\n     if (key === 'save') continue\n     if (key === 'query') continue\n     if (key === 'definition') continue\n     if (key === 'children') continue\n     if (key === 'pubsub') continue\n     if (key === 'basequery') continue\n     if (key === 'repoURL') continue\n     if (key === 'localRepoURL') continue\n     if (key === 'sparqlErrorMessage') continue\n     if (key === 'titleMenubar') continue\n     if (key === 'widget') continue\n     if (key === 'panelstyle') continue\n     if (key === 'panelstyle2') continue\n     if (key === 'extendquery') continue\n     if (key === 'jsAfterSelection') continue\n     if (key === 'parameterValues') continue\n     if (key === 'data') continue\n     if (key === 'withinSelectedTab') continue\n     if (key === 'selectguidquery') continue\n     if (key === 'replaceHeaderJSON') continue\n     if (key==\"voteForUserActionsDisabledWhenLoading\") continue;\n     if (key==\"syncWithUserActionsDisabled\") continue;\n     if (key==\"childParameterText\") continue;\n     if (key==\"message\") continue;\n     if (key==\"userActionsDisabled\") continue;\n     if (key==\"layoutName\") continue;\n     if (key==\"infoMenubar\") continue;\n     if (key==\"panelstyleExtra\") continue;\n\n\n     let value = this.props[key]\n\n     if (value != null) {\n       if (typeof value === 'function') continue\n       if (Array.isArray(value)) {\n         continue //value=JSON.stringify(value); console.log(\"submitting array key  to iframe\",key);\n       }\n\n       try {\n         if (value.toString().includes('||')) {\n           value = value.toString().replaceAll('||', '@@')\n         }\n       } catch (e) {}\n       try {\n         value = value.toString().replaceAll('{{', '!@!@')\n       } catch (e) {}\n       try {\n         value = value.toString().replaceAll('}}', '@!@!')\n       } catch (e) {}\n       par += extra + key + '=' + value\n       extra = '&'\n     }\n   }\n\n   return par;\n\n}\n\n\n\n  render() {\n   // console.log(\"rendering \"+this.getUrl());\n    if (this.once == null) {\n     // if (this.props.withinSelectedTab==false) return null;\n      this.renderOnce();\n      this.once = 'done'\n    }\n    var height = '100%'\n\n    try {\n      if (this.props.height != null) {\n        height = this.props.height\n      }\n    } catch (e) {}\n\n    var reload = 'reload=' + this.state.reloadID // used to reload the whole iframe\n\n    var className = ''\n    if (this.props.className) {\n      className = this.props.className\n    }\n    var par =this.getParameters(); //slowly deprecating this\n\n  //  console.log(par);\n   //reload=\"reload=stable\";\n    let loading = 'lazy'\n    if (par === '') reload = '?' + reload\n    else reload = '&' + reload\n   // console.log(this.htmlid+\"\",process.env.PUBLIC_URL +this.getUrl()+par+reload);\n    //\n    //  console.log(this.state);\n    return (\n      <iframe //eslint-disable-line jsx-a11y/iframe-has-title\n        id={this.htmlid}\n        ref={this.iframeRef}\n        loading222={loading}\n        className={className}\n        width=\"100%\"\n        height={height}\n        frameBorder=\"0\"\n       // referrerPolicy=\"same-origin\" \n        scrolling={this.scrolling}\n        src={process.env.PUBLIC_URL + this.getUrl() + par+reload }\n      />\n    )\n  }\n  renderOnce() {\n    var me = this\n    this.getUrl() // setting BBIFrame...\n  //  console.log('render once ' + this.getUrl())\n    try {\n      if (!this.props.data || this.props.data.results.bindings.length === 0) {\n        if (this.props.renderEmpty) {\n          //  console.log(\"IFRAME GENERATING EMPTY RESPONSE\");\n          this.firstData22 = generateEmptyResponse(this.props.query)\n        }\n      }\n    } catch (error) {}\n\n    if (this.htmlid == null) {\n      BBIFrame.htmln++\n      this.htmlid = 'iframe' + BBIFrame.htmln\n      //  console.log(this.htmlid,this);\n    }\n    if (window.top.Singleton.getInstance().iframes == null) {\n      window.top.Singleton.getInstance().iframes = {}\n    }\n\n    window.top.Singleton.getInstance().iframes[this.htmlid] = function (arg) {\n      me.iface = arg\n      me.registerMe()\n    }\n  }\n}\nexport default BBIFrame\n","import { useReducer } from \"react\"\n\n/**\n * Hook that forces a re-render, similar to `forceUpdate` in class components.\n */\nexport function useForceUpdate(): () => void {\n  // Create a new empty object each update, so that the new state always\n  // has different referential equality than the previous state\n  const [, forceUpdate] = useReducer(() => ({}), {})\n  return forceUpdate\n}\n","import ReactDOM from \"react-dom\"\n\nconst getRoot = () => {\n  let element = document.getElementById('modals');\n  if (!element) {\n    element = document.createElement('div');\n    element.setAttribute('id', 'modals');\n    document.body.appendChild(element);\n  }\n  return element;\n};\n\ninterface ShowableComponentProps<TResult> {\n  onClose: (result: TResult) => void;\n}\n\ntype ShowableComponent<TProps, TResult> = (props: ShowableComponentProps<TResult> & TProps) => JSX.Element;\n\nconst show = <TProps, TResult>(\n  Component: ShowableComponent<TProps, TResult>,\n  props?: Omit<TProps, \"onClose\">\n) => {\n  const root = getRoot();\n  const container = document.createElement('div');\n  root.appendChild(container);\n\n  const cleanup = () => {\n    // @ts-ignore Render null is a valid use-case\n    ReactDOM.render(null, container);\n    container.remove();\n  };\n\n  return new Promise<TResult | undefined>((resolve) => {\n    const closeHandler = (result: TResult) => {\n      resolve(result);\n      cleanup();\n    };\n\n    ReactDOM.render(\n      /* @ts-ignore Unclear what the problem is here */\n      <Component {...props} onClose={closeHandler} />,\n      container\n    );\n  });\n};\n\nexport const useDialog = () => {\n  return <TProps, TResult>(\n    Component: ShowableComponent<TProps, TResult>,\n    props?: Omit<TProps, \"onClose\">\n  ) => show(Component, props);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backButton\":\"BackButton_backButton__A_0bp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deleteIcon\":\"DeleteAppConfigButton_deleteIcon__1t14v\"};","export default __webpack_public_path__ + \"static/media/preview.be0983bd.svg\";","import React, { Component } from 'react'\nimport styles from './Notifications.module.css'\n\nclass Notification extends Component {\n  render() {\n    if (!this.props.text) return null\n\n    let color = '#007bff'\n    let type = this.props.type\n    if (type === 'success') color = 'green'\n    if (type === 'failure') color = 'red'\n\n    return (\n      <div className={styles.main}>\n        <div className={styles.box} style={{ backgroundColor: color }}>\n          {this.props.text}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Notification\n","import React, { Component, Fragment } from 'react'\nimport styles from './Table2.module.css'\n\nimport {\n  restructureResponse,\n  generateEmptyResponse,\n} from '../../helpers/sparql'\n\n// import { Table as StrapTable } from 'reactstrap';\n\nfunction camelCaseToSpaces(str) {\n\n \n  \n  str = str.replace(/([a-zA-Z])(?=[A-Z])/g, '$1 ').toLowerCase()\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\n\n\n\nclass TableRow extends Component \n{\n\n  getHeader(s)\n{\n  try\n  { \n    var json=JSON.parse(this.props.replaceHeaderJSON);\n      var rs =json[s];\n      if (rs!=null)\n      return rs;\n  }\n  catch(e)\n  {}\n  return camelCaseToSpaces(s);\n}\n\n\n  onClick = function (uri, url) {\n   \n   if ((uri!=null) && (uri==\"http://www.example.org/5c3c96ea1d83d8396b87bc0b\") ) return; // uri is used for createing an example... \n    try\n    {\n          if ((uri!=null) && (uri.toString().substring(0,15)==\"function link()\") && (url==null) )\n          {\n            //console.log(\"no click action\");\n          return;\n          }\n    }catch(e){}\n   \n    if (url != null) {\n      this.openLink(url);\n      return\n    }\n    try {\n      eval(this.props.onClick) //eslint-disable-line no-eval\n    } catch (error) {\n      console.log(error)\n    }\n    setTimeout(() => {\n      if (uri==null) return;\n      if (uri.length<2) return;\n      this.props.publish(this.props.publishVariable, uri)\n    }, 0)\n    // console.log(uri);\n  }\n\n  openLink = (url) => {\n\n    window.open(url, '_blank')\n  }\n\n  render() {\n    let valueObject = this.props.valueObject\n    let secondValueObject = null\n    try {\n      if (valueObject != null && valueObject.value != null) {\n        if (valueObject.value.includes('&&')) {\n          secondValueObject = valueObject.value.split('&&')[1]\n          valueObject.value = valueObject.value.split('&&')[0]\n\n          //console.log(valueObject.value,secondValueObject);\n        }\n      }\n    } catch (e) {\n      console.log(e)\n    }\n    let index = this.props.index\n    let html = this.props.html\n    let rawHTML = valueObject.value;\n    \n    return (\n      <Fragment>\n      <tr className={index !== undefined ? styles.list : ''}>\n        <td>{!index && this.getHeader(this.props.headVar)}</td>\n\n        {valueObject.link || valueObject.link2 ? (\n          <td\n            className={styles.link}\n            onClick={() => this.onClick(valueObject.link, valueObject.link2)}\n          >\n            {\n              (html = true ? (\n\n                <div dangerouslySetInnerHTML={{ __html: rawHTML }}/>\n              ) : (\n                <td> <div> {\"\"+valueObject.value} </div></td>\n              ))\n            }\n          </td>\n        ) : html ? (\n          <td>\n            <div dangerouslySetInnerHTML={{ __html: rawHTML }} />\n          </td>\n        ) : (\n          <td> {valueObject.value} </td>\n        )}\n\n        {secondValueObject != null && <td> {secondValueObject} </td>}\n      </tr>\n      </Fragment>\n    )\n  }\n}\n\n\n\n\n\nclass Table2 extends Component {\n  static getDescription() {\n    return {\n      name: 'Table2',\n      component: Table2,\n      label: 'Table2 widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix \"URI\", eg: ?object ?objectURI. For HTML rendering add the suffix \"HTML\".',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which tree item URI is published, when a link in the table  is clicked.',\n        },\n        {\n          name: 'replaceHeaderJSON',\n          type: 'text',\n          label:\n            'Key value JSON that replaces parameter headers. {\"label\":\"naam (volledig)\"}',\n        },\n\n        {\n          name: 'renderEmpty',\n          type: 'boolean',\n          label: 'render an empty table',\n        },\n        {\n          name: 'zeroResult',\n          type: 'text',\n          label:\n            'text to display when sparql results is valid but has zero results',\n        },\n        {\n          name: 'isFirstItemBold',\n          type: 'boolean',\n          label: 'First item bold',\n        },\n        {\n          name: 'vertical',\n          type: 'text',\n          label: 'vertical presentation',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de tabel',\n        },\n        {\n          name: 'onClick',\n          type: 'javascript',\n          label: 'Code that runs before link click event.',\n        },\n      ],\n    }\n  }\n\n  createStateValues(items) {\n    let res = {}\n    for (var i = 0; i < items.length; i++) {\n      let item = items[i]\n      Object.keys(item).forEach((key) => {\n        if (key.endsWith('URI')) return\n        if (key.endsWith('URL')) return\n        let obj = { value: item[key] }\n\n        if (item[key + 'URI']) obj.link = item[key + 'URI']\n        if (item[key + 'URL']) obj.link2 = item[key + 'URL']\n        if (!res[key]) {\n          res[key] = obj\n        } else if (Array.isArray(res[key])) {\n          if (!res[key].filter((re) => re.value === obj.value).length) {\n            res[key].push(obj)\n          }\n        } else if (res[key].value !== item[key]) {\n          res[key] = [res[key], obj]\n        }\n      })\n    }\n\n    Object.keys(res).forEach((key) => {\n      if (Array.isArray(res[key])) {\n        res[key].sort((a, b) => a.value.localeCompare(b.value))\n      }\n    })\n\n    return res\n  }\n  shouldComponentUpdate22(props,state)\n  {\n   \n    let data = this.props.data\n    //  console.log(data);\n    if (!data || !data.results || data.results.bindings.length === 0) {\n      if (this.props.renderEmpty) {\n        data = generateEmptyResponse(this.props.query);\n       \n        if ((this.state.loading==null ) || (this.state.loading==true) )\n        {\n          this.setState({loading:false} );\n          \n\n        }\n        \n        \n      } \n    }\n    return true;\n\n  }\n\n  \n\n  render() {\n    //console.log(\"table 2 render function \");\n    let data = this.props.data\n    //  console.log(data);\n    if (!data || !data.results || data.results.bindings.length === 0) {\n      if (this.props.renderEmpty) {\n        \n        data = generateEmptyResponse(this.props.query);\n      \n        \n      } else {\n        return null\n      }\n    }\n\n    try {\n      if (this.props.zeroResult != null) {\n        if (\n          this.props.zeroResult != null &&\n          this.props.data.results &&\n          this.props.data.results.bindings.length === 0\n        ) {\n          var label = this.props.zeroResult\n          return (\n            <div className={styles.main}>\n              <p>{label}</p>\n            </div>\n          )\n        }\n      }\n    } catch (e) {}\n\n\n\n\n\n\n\n\n    let items = restructureResponse(data)\n    if (!items.length) return null\n    let valuesObj = this.createStateValues(items)\n\n    //if (this.state.loading) {console.log(\"table2 loading\");}\n\n    let disabled = false\n    if (this.state != null) {\n      if (this.state.loading) {\n        disabled = true\n       // console.log('Disabling table2 ')\n      }\n    }\n\n    return (\n      <div\n        disabled={disabled}\n        className={\n          styles.main +\n          (this.props.isFirstItemBold ? ' ' + styles.firstItemBold : '')\n        }\n      >\n        {this.props.title && (\n          <div className={styles.headertxt}>{this.props.title}</div>\n        )}\n        <table>\n          {/* <thead>\n          <tr>\n            {data.head.vars.map((headVar, index) => (\n              <th key={index}>{headVar}</th>\n            ))}\n          </tr>\n        </thead> */}\n          <tbody>\n            {data.head.vars.map((headVar) => {\n              if (headVar.endsWith('URI')) {\n                return null\n              }\n              if (headVar.endsWith('URL')) {\n                return null\n              }\n              let valueObject = valuesObj[headVar]\n              //if (!valueObject) return null;\n              if (!valueObject) valueObject = ''\n              var html = false\n              if (headVar.endsWith('HTML')) {\n                headVar = headVar.substr(0, headVar.length - 4)\n                html = true\n              }\n\n              if (Array.isArray(valueObject)) {\n                return valueObject.map((val, index) => {\n                  return (\n                    <TableRow\n                      {...this.props}\n                      key={index}\n                      index={index}\n                      valueObject={val}\n                      headVar={headVar}\n                      html={html}\n                    />\n                  )\n                })\n              } else {\n                return (\n                  <TableRow\n                    key={headVar}\n                    {...this.props}\n                    index={0}\n                    valueObject={valueObject}\n                    headVar={headVar}\n                  />\n                )\n              }\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Table2\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconButton\":\"ToggleWidget_iconButton__3ySlG\"};","import React, { Component } from 'react'\nimport yasgui from '@triply/yasgui'\nimport '../../node_modules/@triply/yasgui/build/yasgui.min.css'\nimport '../../node_modules/@triply/yasqe/build/yasqe.min.css'\n\n//import '../../node_modules/yasgui-yasqe/dist/yasqe.css'\n import { Button } from 'reactstrap';\n\nclass Yasgui extends Component {\n  constructor(props) {\n    super(props)\n    this.textArea = React.createRef()\n  }\n\n  componentDidMount() {\n   let me=this;\n   \n    //me.yas = yasgui.Yasqe.fromTextArea(me.textArea.current)\n    me.yas = new yasgui.Yasqe(me.textArea.current);\n\n    \n   // window.top.yas=me.yas;\n    \n    \n\n    me.yas.setValue(me.props.value || '')\n    \n    me.yas.on('blur', () => {\n      me.props.handleBlur(me.yas.getValue())\n    })\n    \n\n  }\n\n  render() \n  {\n    //return <input ref={this.textArea} type=\"textarea\" />\n    return <div ref={this.textArea}  />\n  }\n}\n\nexport default Yasgui\n","import { Parser } from 'sparqljs'\n\nexport function restructureResponse(data) {\n  let items = (data && data.results.bindings) || []\n  items = items.map((item) => {\n    let res = {}\n    Object.keys(item).forEach((key) => {\n      res[key] = item[key].value\n    })\n    return res\n  })\n\n  return items\n}\n\nexport function aggregateResultsByFirstParameter(restructuredData, id) {\n  let items = restructuredData || []\n  var id_item = {}\n  for (var n in items) {\n    var item = items[n]\n    var gitem = id_item[item[id]]\n    if (gitem == null) {\n      gitem = item\n      id_item[item[id]] = gitem\n    } else {\n      // aggregeren maar\n      for (var key in item) {\n        gitem[key] = item[key]\n      }\n    }\n  }\n\n  return Object.values(id_item)\n}\n\nwindow.top.downloadObjectAsJson = function (exportObj, exportName) {\n  var dataStr =\n    'data:text/json;charset=utf-8,' +\n    encodeURIComponent(JSON.stringify(exportObj))\n  var downloadAnchorNode = document.createElement('a')\n  downloadAnchorNode.setAttribute('href', dataStr)\n  downloadAnchorNode.setAttribute('download', exportName + '.json')\n  document.body.appendChild(downloadAnchorNode) // required for firefox\n  downloadAnchorNode.click()\n  downloadAnchorNode.remove()\n}\n// window.top.saveCache=function()\n// {\n//   var exportName=\"spcache.js\";\n//   console.log(\"bewerk de download: json==>js. replace \\  '  . begin/eind quotes\");\n//   var content =\"document.cache={\"+JSON.stringify(document.cache).substr(1).slice(0, -1)+\"};\";\n//   var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(content);\n//   var downloadAnchorNode = document.createElement('a');\n//   downloadAnchorNode.setAttribute(\"href\",     dataStr);\n//   downloadAnchorNode.setAttribute(\"download\", exportName );\n//   document.body.appendChild(downloadAnchorNode); // required for firefox\n//   downloadAnchorNode.click();\n//   downloadAnchorNode.remove();\n\n// }\nwindow.top.downloadConfig = function () {\n  window.top.downloadObjectAsJson(window.top.data, 'config')\n}\n\n\nexport function generateEmptyResponse(sparql) {\n  var sp = new Parser()\n  var parsed = null\n  try {\n    if (sparql == null) {\n      sparql = 'select ?a ?aURI ?c where {?a ?aURI ?c}'\n    }\n    var sparql2 = sparql\n      .replace(new RegExp('<{{', 'g'), '<http://')\n      .replace(new RegExp('}}>', 'g'), '.nl>')\n    parsed = sp.parse(sparql2)\n  } catch (eee) {\n    sparql2 = 'select ?a ?aURI ?c where {?a ?aURI ?c}'\n    parsed = sp.parse(sparql2)\n  }\n\n  var vars = parsed.variables\n\n  var empty = { head: { vars: [] } }\n  empty.results = { bindings: [] }\n  var bindings = empty.results.bindings\n  var record = {}\n  bindings.push(record)\n  for (var n in vars) {\n    if (Array.isArray(vars[n])) {\n      var v = vars[n].slice(1)\n    } else {\n      v = vars[n].variable\n      if (v == null) {\n        v = vars[n]\n      }\n      v = v.replace('?', '')\n    }\n    empty.head.vars.push(v)\n    if (v.endsWith('URI')) {\n      record[v] = {\n        type: 'uri',\n        value: 'http://www.example.org/5c3c96ea1d83d8396b87bc0b',\n      }\n    } else {\n      record[v] = { type: 'literal', value: '' }\n    }\n  }\n\n  return empty\n}\n\nwindow.top.generateEmptyResponse = function () {\n  generateEmptyResponse(null)\n}\n\nexport function parseTextForVariables(query, props) {\n  if (!query) {\n    return\n  }\n  //const regex = /{{\\S*}}/g;\n  const regex = /{{[A-Za-z0-9|:]*}}/g\n  let subscribeProps = query.match(regex)\n\n  if (!subscribeProps) {\n    return query\n  }\n\n  subscribeProps = subscribeProps.map((f) => f.replace(/[{}]/g, ''))\n  subscribeProps = [...new Set(subscribeProps)] // remove duplicates\n\n  for (var i = 0; i < subscribeProps.length; i++) {\n    let subscribeProp = subscribeProps[i]\n    let subscribeValue = props.pubsub[subscribeProp]\n    if (subscribeValue == null) {\n      console.log('found empty property', subscribeProp)\n    }\n\n    if (subscribeProp.includes('||')) {\n      let subscribeProp2 = subscribeProp.split('||')[0]\n      subscribeValue = props.pubsub[subscribeProp2]\n      if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n        subscribeValue = null\n      }\n\n      //  console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n      if (subscribeValue == null) {\n        var prop = subscribeProp.split('||')[1].split('||')[0].split('::')[0]\n        subscribeValue = props.pubsub[prop]\n        if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n          subscribeValue = null\n        }\n      }\n    }\n    if (subscribeProp.includes('::') && subscribeValue == null) {\n      let subscribeProp2 = subscribeProp.split('::')[0]\n      subscribeValue = props.pubsub[subscribeProp2]\n      if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n        subscribeValue = null\n      }\n      // console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n      if (subscribeValue == null) {\n        subscribeValue = subscribeProp.split('::')[1]\n      }\n    }\n\n    //   console.log(subscribeProp,subscribeValue);\n    subscribeProp = subscribeProp.replaceAll('||', '\\\\|\\\\|')\n    let regex2 = new RegExp(`{{${subscribeProp}}}`, 'g')\n\n    try {\n      query = query.replace(regex2, subscribeValue)\n      // console.log(\"results \",query);\n    } catch (e) {\n      console.log(\n        'ERROR ',\n        query,\n        subscribeValue,\n        subscribeProps,\n        this.props.pubsub[subscribeProp]\n      )\n    }\n  }\n  return query\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DisableUserActionsWrapper_wrapper__4N5tj\"};","import { getAbsoluteRepoUrl, getCgiUrl } from '../helpers/url'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  export const getAndSetDefaultParameterValues=(props,myPublish)=> \r\n  {\r\n      var r={}\r\n  try {\r\n    //cgi parameter\r\n //   console.log(this.props);\r\n \r\n\r\nvar ss=getAbsoluteRepoUrl(props.repoURL).split('sparql');\r\n let cgi = ss[0];\r\n //let cgi = props.repoURL.replace('sparql', '')\r\n var repoUrl=\"\";\r\n if(ss.length>1)\r\n {\r\n    repoUrl=ss[1].substring(1)+\"/\";\r\n   // myPublish('repo', repoUrl);\r\n    r['repo']=repoUrl;\r\n    window.repo=repoUrl;\r\n   \r\n }\r\n //myPublish('cgi', cgi);\r\n //myPublish('repoUrl', getAbsoluteRepoUrl(props.repoURL));\r\n //myPublish('now',  Date.now());\r\n r['cgi']=cgi;\r\n r['repoUrl']= getAbsoluteRepoUrl(props.repoURL);\r\n r['now']=  Date.now();\r\n\r\n\r\n    window.cgi=cgi;\r\n    window.repoURL=getAbsoluteRepoUrl(props.repoURL);\r\n   var p_v = {};\r\n    let params = props.parameterValues\r\n    if (params != null) {\r\n     // console.log(\"handle default parameter values\",params);\r\n    \r\n        params = JSON.parse(params)\r\n\r\n        for (let n in params) {\r\n       //   console.log(\"publishing default parameters \",n,params[n]);\r\n          p_v[n]= params[n];\r\n         \r\n        }\r\n     \r\n      }\r\n  } catch (e) {\r\n   // console.log('error (1) parsing default values json (managed)',e);\r\n    \r\n  }\r\n\r\n\r\n  if (props.parseUrlProperties)\r\n  {\r\n   // console.log(\"handle url properties if available\");\r\n    var me=this;\r\n   \r\n    try\r\n    {\r\n      let search=window.top.window.location.search;\r\n      let u=new URLSearchParams(search);\r\n      let entries = u.entries();\r\n      for(const entry of entries) {\r\n   \r\n       var key2 = entry[0];\r\n       var value2=entry[1];\r\n       p_v[key2]=value2;\r\n\r\n       // this.myPublish(entry[0],entry[1]);\r\n      }\r\n\r\n //     console.log(\"end url properties \");\r\n    }\r\n    catch(e){console.log(e);}\r\n  }\r\n\r\n  if (document.userParameters)\r\n  {\r\n    //  console.log(\"user login properties\",document.userParameters);\r\n      try\r\n      {\r\n           for (var key in document.userParameters)\r\n           {\r\n            var value=document.userParameters[key];\r\n          //  console.log(key,value);\r\n            p_v[key]=value;\r\n            \r\n           }\r\n      }\r\n      catch(e)\r\n      {}\r\n  }\r\n\r\n   for (var key in p_v)\r\n   {\r\n    \r\n        r[key]=p_v[key];\r\n   }\r\n   return r;\r\n\r\n\r\n}","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\n\n// @ts-ignore\nlibrary.add(fas)\n\nexport { FontAwesomeIcon as Icon }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Table_main__1KlIE\",\"title\":\"Table_title__X9IJi\",\"rowNumberHeader\":\"Table_rowNumberHeader__3h76N\",\"rowNumber\":\"Table_rowNumber__YKpiQ\",\"link\":\"Table_link__jCT0D\",\"highlight\":\"Table_highlight__2cQtm\",\"centertext\":\"Table_centertext__2Fu1Q\",\"inlineblock\":\"Table_inlineblock__1PwI1\",\"deleteIcon\":\"Table_deleteIcon__1g9jk\",\"spin\":\"Table_spin__3d39r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outerAreaContainer\":\"Area_outerAreaContainer__1pdUe\",\"outerAreaContainerDisplayFlex\":\"Area_outerAreaContainerDisplayFlex__3oBwe\",\"formElement\":\"Area_formElement__3W_sP\",\"SplitLayout\":\"Area_SplitLayout__hItNH\",\"viewMode\":\"Area_viewMode__22c2D\",\"hoverToEdit\":\"Area_hoverToEdit__v_r_E\",\"hoverIndicator\":\"Area_hoverIndicator__15kd1\",\"editArea\":\"Area_editArea__3RVvP\",\"editButtonsContainer\":\"Area_editButtonsContainer__1ksf9\",\"menubar\":\"Area_menubar__2_CUv\",\"marginTop15\":\"Area_marginTop15__3vCPs\",\"marginLeft5\":\"Area_marginLeft5__3sCtD\",\"marginLeft10\":\"Area_marginLeft10__2alkk\",\"menubartxt\":\"Area_menubartxt__EQj6h\",\"editIcon\":\"Area_editIcon__8JQkq\",\"insertIcon\":\"Area_insertIcon__2oUZs\",\"w2ui\":\"Area_w2ui__3N6RM\",\"text11\":\"Area_text11__1KTuO\",\"border\":\"Area_border__34cb1\",\"border2\":\"Area_border2__13qk1\",\"noscrollbar\":\"Area_noscrollbar__3YRnT\",\"padding1\":\"Area_padding1__397z8\",\"padding2\":\"Area_padding2__3Izby\",\"padding3\":\"Area_padding3__2JFZV\",\"none\":\"Area_none__10xlh\",\"noneWhite\":\"Area_noneWhite__399oV\",\"refresh\":\"Area_refresh__2CBU7\",\"threeColorTemplate\":\"Area_threeColorTemplate__2Umlp\",\"areaMenuBarGrey\":\"Area_areaMenuBarGrey__1vKcc\",\"paper\":\"Area_paper__3T4xE\",\"paper2Org\":\"Area_paper2Org__18rhN\",\"noScrollBars\":\"Area_noScrollBars__1rXMI\",\"paper2\":\"Area_paper2__2cZan\",\"toolbar\":\"Area_toolbar__3QKl-\",\"fieldset\":\"Area_fieldset__1vCKX\"};","if (Singleton == null) { //eslint-disable-line no-use-before-define\n  var Singleton = (function () {\n    var instance\n\n    function createInstance() {\n      var object = new Object('I am the instance 22') //eslint-disable-line no-new-object\n      return object\n    }\n\n    return {\n      getInstance: function () {\n        if (!instance) {\n          instance = createInstance()\n        }\n        //   console.log(instance);\n        return instance\n      },\n    }\n  })()\n}\n\nif (window.top.Singleton == null) {\n  window.top.Singleton = Singleton\n}\n","export default __webpack_public_path__ + \"static/media/spinner.7db2bb37.gif\";","import React, { Component } from 'react'\nimport spinner from '../images/spinner.gif'\n\nclass Spinner extends Component {\n  render() {\n    let hidden = 'hidden'\n    let loading = this.props.loading\n    if (loading === true) {\n      hidden = 'visible'\n    }\n    return (\n      <img\n        style={{\n          visibility: hidden,\n          width: '32px',\n          position: 'absolute',\n          zIndex: '11',\n          display: 'table',\n          margin: '2px',\n        }}\n        style22={{ width: '32px' }}\n        src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHdpZHRoPSI0MHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7IiB4PSIwcHgiIHk9IjBweCI+CiAgICA8ZGVmcz4KICAgICAgICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWwogICAgICAgICAgICBALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTM1OWRlZykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQGtleWZyYW1lcyBzcGluIHsKICAgICAgICAgICAgICBmcm9tIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC0zNTlkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHN2ZyB7CiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDUwJSA1MCU7CiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogc3BpbiAxLjVzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgICAgICAgICAgIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOwogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBzcGluIDEuNXMgbGluZWFyIGluZmluaXRlOwogICAgICAgICAgICB9CiAgICAgICAgXV0+PC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJvdXRlciI+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwwQzIyLjIwNTgsMCAyMy45OTM5LDEuNzg4MTMgMjMuOTkzOSwzLjk5MzlDMjMuOTkzOSw2LjE5OTY4IDIyLjIwNTgsNy45ODc4MSAyMCw3Ljk4NzgxQzE3Ljc5NDIsNy45ODc4MSAxNi4wMDYxLDYuMTk5NjggMTYuMDA2MSwzLjk5MzlDMTYuMDA2MSwxLjc4ODEzIDE3Ljc5NDIsMCAyMCwwWiIgc3R5bGU9ImZpbGw6YmxhY2s7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44NTc4Niw1Ljg1Nzg2QzcuNDE3NTgsNC4yOTgxNSA5Ljk0NjM4LDQuMjk4MTUgMTEuNTA2MSw1Ljg1Nzg2QzEzLjA2NTgsNy40MTc1OCAxMy4wNjU4LDkuOTQ2MzggMTEuNTA2MSwxMS41MDYxQzkuOTQ2MzgsMTMuMDY1OCA3LjQxNzU4LDEzLjA2NTggNS44NTc4NiwxMS41MDYxQzQuMjk4MTUsOS45NDYzOCA0LjI5ODE1LDcuNDE3NTggNS44NTc4Niw1Ljg1Nzg2WiIgc3R5bGU9ImZpbGw6cmdiKDIxMCwyMTAsMjEwKTsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwzMi4wMTIyQzIyLjIwNTgsMzIuMDEyMiAyMy45OTM5LDMzLjgwMDMgMjMuOTkzOSwzNi4wMDYxQzIzLjk5MzksMzguMjExOSAyMi4yMDU4LDQwIDIwLDQwQzE3Ljc5NDIsNDAgMTYuMDA2MSwzOC4yMTE5IDE2LjAwNjEsMzYuMDA2MUMxNi4wMDYxLDMzLjgwMDMgMTcuNzk0MiwzMi4wMTIyIDIwLDMyLjAxMjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTMwLDEzMCwxMzApOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjQ5MzksMjguNDkzOUMzMC4wNTM2LDI2LjkzNDIgMzIuNTgyNCwyNi45MzQyIDM0LjE0MjEsMjguNDkzOUMzNS43MDE5LDMwLjA1MzYgMzUuNzAxOSwzMi41ODI0IDM0LjE0MjEsMzQuMTQyMUMzMi41ODI0LDM1LjcwMTkgMzAuMDUzNiwzNS43MDE5IDI4LjQ5MzksMzQuMTQyMUMyNi45MzQyLDMyLjU4MjQgMjYuOTM0MiwzMC4wNTM2IDI4LjQ5MzksMjguNDkzOVoiIHN0eWxlPSJmaWxsOnJnYigxMDEsMTAxLDEwMSk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNMy45OTM5LDE2LjAwNjFDNi4xOTk2OCwxNi4wMDYxIDcuOTg3ODEsMTcuNzk0MiA3Ljk4NzgxLDIwQzcuOTg3ODEsMjIuMjA1OCA2LjE5OTY4LDIzLjk5MzkgMy45OTM5LDIzLjk5MzlDMS43ODgxMywyMy45OTM5IDAsMjIuMjA1OCAwLDIwQzAsMTcuNzk0MiAxLjc4ODEzLDE2LjAwNjEgMy45OTM5LDE2LjAwNjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTg3LDE4NywxODcpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTUuODU3ODYsMjguNDkzOUM3LjQxNzU4LDI2LjkzNDIgOS45NDYzOCwyNi45MzQyIDExLjUwNjEsMjguNDkzOUMxMy4wNjU4LDMwLjA1MzYgMTMuMDY1OCwzMi41ODI0IDExLjUwNjEsMzQuMTQyMUM5Ljk0NjM4LDM1LjcwMTkgNy40MTc1OCwzNS43MDE5IDUuODU3ODYsMzQuMTQyMUM0LjI5ODE1LDMyLjU4MjQgNC4yOTgxNSwzMC4wNTM2IDUuODU3ODYsMjguNDkzOVoiIHN0eWxlPSJmaWxsOnJnYigxNjQsMTY0LDE2NCk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNMzYuMDA2MSwxNi4wMDYxQzM4LjIxMTksMTYuMDA2MSA0MCwxNy43OTQyIDQwLDIwQzQwLDIyLjIwNTggMzguMjExOSwyMy45OTM5IDM2LjAwNjEsMjMuOTkzOUMzMy44MDAzLDIzLjk5MzkgMzIuMDEyMiwyMi4yMDU4IDMyLjAxMjIsMjBDMzIuMDEyMiwxNy43OTQyIDMzLjgwMDMsMTYuMDA2MSAzNi4wMDYxLDE2LjAwNjFaIiBzdHlsZT0iZmlsbDpyZ2IoNzQsNzQsNzQpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjQ5MzksNS44NTc4NkMzMC4wNTM2LDQuMjk4MTUgMzIuNTgyNCw0LjI5ODE1IDM0LjE0MjEsNS44NTc4NkMzNS43MDE5LDcuNDE3NTggMzUuNzAxOSw5Ljk0NjM4IDM0LjE0MjEsMTEuNTA2MUMzMi41ODI0LDEzLjA2NTggMzAuMDUzNiwxMy4wNjU4IDI4LjQ5MzksMTEuNTA2MUMyNi45MzQyLDkuOTQ2MzggMjYuOTM0Miw3LjQxNzU4IDI4LjQ5MzksNS44NTc4NloiIHN0eWxlPSJmaWxsOnJnYig1MCw1MCw1MCk7Ii8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K\"\n        alt=\"spinner\"\n      />\n    )\n  }\n\n  render_old() {\n    return (\n      <div style={{ textAlign: 'center' }}>\n        <img style={{ width: '32px' }} src={spinner} alt=\"spinner\" />\n      </div>\n    )\n  }\n}\n\nexport default Spinner\n","import axios from 'axios'\n\nexport const fetchProjects = (cb) => async (dispatch, getState) => {\n  if (getState().projects.loaded) return\n  dispatch({ type: 'FETCH_PROJECTS_REQUEST' })\n  try {\n    let { data } = await axios({\n      method: 'get',\n      url: '/api/projects',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n    })\n    dispatch({ type: 'FETCH_PROJECTS_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nexport const createProject = (values, cb) => async (dispatch, getState) => {\n  try {\n    let { data } = await axios({\n      method: 'post',\n      url: '/api/projects',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n      data: values,\n    })\n    dispatch({ type: 'NEW_PROJECT_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nconst initialState = {\n  loaded: false,\n  loading: false,\n  items: [],\n}\n\nexport default function handleProjects(state = initialState, action) {\n  switch (action.type) {\n    case 'FETCH_PROJECTS_REQUEST':\n      return {\n        ...state,\n        loading: true,\n      }\n    case 'FETCH_PROJECTS_SUCCESS':\n      return {\n        ...state,\n        items: action.data,\n        loading: false,\n        loaded: true,\n      }\n    case 'NEW_PROJECT_SUCCESS':\n      return {\n        ...state,\n        items: [...state.items, action.data],\n      }\n    default:\n      return state\n  }\n}\n","import axios from 'axios'\n\nexport const fetchUsers = (cb) => async (dispatch, getState) => {\n  if (getState().users.loaded) return\n  dispatch({ type: 'FETCH_USERS_REQUEST' })\n  try {\n    let { data } = await axios({\n      method: 'get',\n      url: '/api/users',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n    })\n    dispatch({ type: 'FETCH_USERS_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nexport const createUser = (values, cb) => async (dispatch, getState) => {\n  try {\n    let { data } = await axios({\n      method: 'post',\n      url: '/api/users',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n      data: values,\n    })\n    dispatch({ type: 'NEW_USER_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nconst initialState = {\n  loaded: false,\n  loading: false,\n  items: [],\n}\n\nexport default function handleUser(state = initialState, action) {\n  switch (action.type) {\n    case 'FETCH_USERS_REQUEST':\n      return {\n        ...state,\n        loading: true,\n      }\n    case 'FETCH_USERS_SUCCESS':\n      return {\n        ...state,\n        items: action.data,\n        loading: false,\n        loaded: true,\n      }\n    case 'NEW_USER_SUCCESS':\n      return {\n        ...state,\n        items: [...state.items, action.data],\n      }\n    default:\n      return state\n  }\n}\n","import { User } from \"../model/user\"\n\ntype LoggedInState = {\n  user: User\n  isLoggedIn: true\n  isLoggingIn: false\n}\n\ntype NotLoggedInState = {\n  user: null\n  isLoggedIn: false\n  isLoggingIn: boolean\n}\n\nexport type LoginState = LoggedInState | NotLoggedInState\n\nconst initialState: LoginState = {\n  user: null,\n  isLoggedIn: false,\n  isLoggingIn: false\n}\n\ntype LoginRequestAction = { type: \"LOGIN_REQUEST\" }\ntype LoginSuccessAction = { type: \"LOGIN_SUCCESS\", payload: User }\ntype LoginFailureAction = { type: \"LOGIN_FAILURE\" }\ntype LogoutAction = { type: \"LOGOUT\" }\n\nexport type LoginAction\n  = LoginRequestAction\n  | LoginSuccessAction\n  | LoginFailureAction\n  | LogoutAction\n\nexport default function loginReducer(state: LoginState = initialState, action: LoginAction): LoginState {\n  switch (action.type) {\n    case \"LOGIN_REQUEST\":\n      return { ...state, user: null, isLoggingIn: true, isLoggedIn: false }\n    case \"LOGIN_SUCCESS\":\n      return { ...state, user: action.payload, isLoggingIn: false, isLoggedIn: true }\n    case \"LOGIN_FAILURE\":\n      return { ...state, user: null, isLoggedIn: false, isLoggingIn: false }\n    case \"LOGOUT\":\n      return { ...state, user: null, isLoggedIn: false, isLoggingIn: false }\n  }\n\n  return state\n}\n","import { combineReducers } from 'redux'\nimport event from './event'\nimport project from './project'\nimport projects from './projects'\nimport users from './users'\nimport pubsub from './pubsub'\nimport currentViewer from './current-viewer'\nimport login from './login'\n\nexport default combineReducers({\n  event,\n  project,\n  projects,\n  users,\n  pubsub,\n  login,\n  currentViewer\n})\n\n","export default function handleEvent(state = {}, action) {\n  switch (action.type) {\n    case 'ITEM_SELECT_EVENT':\n      return {\n        ...state,\n        selectedItem: action.payload,\n      }\n    default:\n      return state\n  }\n}\n","export default function handlePubSub(state = {}, action) {\n  //console.log(action);\n\n  switch (action.type) {\n    case 'PUBLISH':\n      {\n     \n        var timestamps={};\n        var dn=Date.now();\n        for (var n in action.data)\n        {\n           timestamps[n]=action.data[n];\n           timestamps[n+\"Timestamp\"]=\"auto\"+dn;\n        }\n        window.top.changes=timestamps; //used by popup button. I would like to make this more generic\n      //  action.data=timestamps; // why is wistor not working when using this. so basically why can Wistor not handle multiple parameter changes at once?\n      return {\n        ...state,\n        ...action.data,\n      }\n    }\n    case 'PUBLISH2': {\n      console.log('publish 2', state, action.data)\n      return state\n    }\n    default:\n      {\n      //  console.log(action);\n      return state\n      }\n  }\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from './redux/rootReducer'\n\nfunction configureStore(initialState = {}) {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        serialize: {\n          replacer: replaceSets\n        }\n      })\n      : compose\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk))\n  )\n}\n\n/**\n * Proper ES6 Set diff display in redux devtools\n * (serialize: true seems not to be sufficient, state works but diffs do not)\n */\nfunction replaceSets(key, value) {\n  if (value instanceof Set) return [ ...value ]\n  return value\n}\n\nexport const store = configureStore()\n\n","export default __webpack_public_path__ + \"static/media/add.ca1bc826.svg\";","export default __webpack_public_path__ + \"static/media/logo.3967bba7.svg\";","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Home.module.css'\nimport orderBy from 'lodash/orderBy'\nimport Header from './Header'\nimport Spinner from './Spinner'\nimport add from '../images/add.svg'\nimport { Button, Input, FormGroup, Label } from 'reactstrap'\nimport Dialog from './Dialog'\nimport logo from '../images/logo.svg'\nimport { Helmet } from 'react-helmet'\nimport Footer from './Footer'\nimport { fetchProjects, createProject } from '../redux/projects'\n\nclass Home extends Component {\n  state = { values: {} }\n\n  componentDidMount() {\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n    if (loginState.isLoggedIn && loginState.user.role !== 'superadmin' && loginState.user.project) {\n      return this.props.history.replace(\n        `/projects/${loginState.user.project.path}`\n      )\n    }\n    this.props.fetchProjects((error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'projects')\n      }\n    })\n  }\n\n  onDialogOkClick = () => {\n    this.props.createProject(this.state.values, (error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'projects')\n      }\n    })\n    this.setState({ dialogVisible: false })\n  }\n\n  render() {\n    //   console.log(\"render HOME \",this.props);\n    if (this.props.projects.loading) return <Spinner />\n    if (!this.props.projects.loaded) return null\n\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    let projects = this.props.projects.items\n    // projects = orderBy(projects, ['createdAt'], ['asc']);\n   // console.log(projects, role)\n    projects = orderBy(projects, ['title'], ['asc'])\n    return (\n      <div>\n        <Helmet>\n          <title>Connected Apps</title>\n          <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" sizes=\"16x16\" />\n        </Helmet>\n        <Header />\n        <div className={styles.mainContainer}>\n          <div className={styles.main}>\n            <div className={styles.content}>\n              <img\n                src={logo}\n                alt=\"logo\"\n                style={{ maxHeight: '96px', margin: '0 12px 12px' }}\n              />\n              <div className={styles.title}>Welkom bij Connected Apps</div>\n              <p className={styles.paragr}>\n                Dit is een tool om viewers te creeeren op willekeurige linked\n                data sets.\n              </p>\n              <div className={styles.subTitle}>Selecteer een project:</div>\n              <div className={styles.projects}>\n                {projects.map((project) => {\n                  return (\n                    <div\n                      className={styles.project}\n                      key={project.id}\n                      onClick={() =>\n                        this.props.history.push(`/projects/${project.path}`)\n                      }\n                    >\n                      <div>{project.title}</div>\n                    </div>\n                  )\n                })}\n                {loginState.user?.role === 'superadmin' && (\n                  <div\n                    className={styles.project}\n                    onClick={() => this.setState({ dialogVisible: true })}\n                  >\n                    <div>\n                      <img src={add} alt=\"add\" style={{ width: '24px' }} />\n                      <span\n                        style={{ verticalAlign: 'middle', paddingLeft: '12px' }}\n                      >\n                        Nieuw project aanmaken...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n\n        {this.state.dialogVisible && (\n          <Dialog>\n            <FormGroup>\n              <Label>Titel</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.title || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, title: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Path</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.path || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, path: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <div style={{ textAlign: 'center' }}>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={() => this.setState({ dialogVisible: false })}\n              >\n                Cancel\n              </Button>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={this.onDialogOkClick}\n              >\n                OK\n              </Button>\n            </div>\n          </Dialog>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  projects: state.projects,\n  loginState: state.login,\n})\n\nexport default connect(mapStateToProps, { fetchProjects, createProject })(Home)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Users.module.css'\nimport orderBy from 'lodash/orderBy'\nimport Header from './Header'\nimport Spinner from './Spinner'\nimport add from '../images/add.svg'\nimport { Button, Input, FormGroup, Label } from 'reactstrap'\nimport Dialog from './Dialog'\nimport { Helmet } from 'react-helmet'\nimport Footer from './Footer'\nimport { fetchProjects } from '../redux/projects'\nimport { fetchUsers, createUser } from '../redux/users'\nimport BackButton from './BackButton'\n\nclass Users extends Component {\n  state = { values: {} }\n\n  componentDidMount() {\n    this.props.fetchProjects((error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'users')\n      }\n    })\n    this.props.fetchUsers((error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'users')\n      }\n    })\n  }\n\n  onDialogOkClick = () => {\n    this.props.createUser(this.state.values, (error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'users')\n      }\n    })\n    this.setState({ dialogVisible: false })\n  }\n\n  render() {\n    if (this.props.users.loading || this.props.projects.loading)\n      return <Spinner />\n    if (!this.props.projects.loaded || !this.props.users.loaded) return null\n\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    let users = this.props.users.items\n    let projects = this.props.projects.items\n    // users = orderBy(users, ['createdAt'], ['asc']);\n    users = orderBy(users, ['name'], ['asc'])\n    return (\n      <div>\n        <Helmet>\n          <title>Connected Apps</title>\n          <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" sizes=\"16x16\" />\n        </Helmet>\n        <BackButton />\n        <Header />\n        <div className={styles.mainContainer}>\n          <div className={styles.main}>\n            <div className={styles.content}>\n              <div className={styles.title}>Gebruikers</div>\n              <div className={styles.users}>\n                <div className={styles.tableContainer}>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>Naam</th>\n                        <th>Email</th>\n                        <th>Rol</th>\n                        {loginState.user?.role === 'superadmin' && <th>Project</th>}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {users.map((user) => {\n                        return (\n                          <tr className={styles.user} key={user.id}>\n                            <td\n                              style={{ fontSize: '1.1em', fontWeight: '500' }}\n                            >\n                              {user.name}\n                            </td>\n                            <td>{user.email}</td>\n                            <td>{user.role}</td>\n                            {loginState.user?.role === 'superadmin' && (\n                              <td>{user.project && user.project.title}</td>\n                            )}\n                          </tr>\n                        )\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n\n                {loginState.isLoggedIn && (\n                  <div\n                    className={styles.add}\n                    onClick={() => this.setState({ dialogVisible: true })}\n                  >\n                    <div>\n                      <img src={add} alt=\"add\" style={{ width: '24px' }} />\n                      <span\n                        style={{ verticalAlign: 'middle', paddingLeft: '12px' }}\n                      >\n                        Nieuwe gebruiker aanmaken...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n\n        {this.state.dialogVisible && (\n          <Dialog>\n            <FormGroup>\n              <Label>Name</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.name || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, name: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Email</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.email || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, email: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Wachtwoord</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.password || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, password: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Rol</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.role || ''}\n                type=\"select\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, role: e.target.value },\n                  })\n                }\n              >\n                <option value=\"\">Kies een rol</option>\n                <option value=\"viewer\">Viewer</option>\n                <option value=\"editor\">Editor</option>\n                <option value=\"admin\">Administrator</option>\n              </Input>\n            </FormGroup>\n            {loginState.user?.role === 'superadmin' && (\n              <FormGroup>\n                <Label>Project</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={this.state.values.project || ''}\n                  type=\"select\"\n                  onChange={(e) =>\n                    this.setState({\n                      values: { ...this.state.values, project: e.target.value },\n                    })\n                  }\n                >\n                  <option value=\"\">Kies een project</option>\n                  {projects.map((project) => (\n                    <option key={project.id} value={project.id}>\n                      {project.title}\n                    </option>\n                  ))}\n                </Input>\n              </FormGroup>\n            )}\n            <div style={{ textAlign: 'center' }}>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={() => this.setState({ dialogVisible: false })}\n              >\n                Cancel\n              </Button>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={this.onDialogOkClick}\n              >\n                OK\n              </Button>\n            </div>\n          </Dialog>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  projects: state.projects,\n  users: state.users,\n  loginState: state.login\n})\n\nexport default connect(mapStateToProps, {\n  fetchProjects,\n  fetchUsers,\n  createUser,\n})(Users)\n","import { useState } from 'react'\nimport styles from './DeleteAppConfigButton.module.css'\nimport { Icon } from './widgets/Icon'\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from '@mui/material'\n\ntype State = { confirming: boolean, deleting: boolean }\n\nconst initialState: State = { confirming: false, deleting: false }\n\nexport function DeleteAppConfigButton(props: {\n  title: string\n  createdBy: string\n  createdOn: string\n  deleteAppConfig: () => Promise<any>\n}) {\n  const [state, setState] = useState<State>(initialState)\n\n  return (\n    <>\n      <Icon icon=\"trash\" className={styles.deleteIcon}\n        onClick={(e) => {\n          e.stopPropagation()\n          setState(s => ({ ...s, confirming: true}))\n        }}\n      />\n\n      <Dialog open={state.confirming}>\n        <DialogTitle>Deletion of \"{props.title}\"</DialogTitle>\n\n        <DialogContent>\n          <p>Are you sure you want to delete this project?</p>\n\n          Project details:\n          <ul>\n            <li>Title: {props.title}</li>\n            <li>Created by: {props.createdBy}</li>\n            <li>Created on: {props.createdOn}</li>\n          </ul>\n        </DialogContent>\n\n        <DialogActions>\n          <Button autoFocus\n            variant=\"contained\"\n            color=\"grey\"\n            disabled={state.deleting}\n            onClick={(e) => {\n              e.stopPropagation()\n              setState(s => ({ ...s, confirming: false }))\n            }\n          }>\n            Keep\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            disabled={state.deleting}\n            onClick={async (e) => {\n              e.stopPropagation()\n              setState(s => ({ ...s, deleting: true }))\n              await props.deleteAppConfig()\n              setState(s => ({ deleting: false, confirming: false }))\n            }\n          }>\n            {state.deleting ? 'Deleting...' : 'Delete'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}","import { Dispatch } from 'redux'\nimport {DELETE_APP_SUCCESS} from '../redux/project'\nimport axios from 'axios'\nimport { getBearerToken } from './utils'\n\ntype DispatchAppConfigDeletion = Dispatch<{\n  type: typeof DELETE_APP_SUCCESS\n  data: { id: string }\n}>\n\nexport async function deleteAppConfig(\n  id: string,\n  dispatch: DispatchAppConfigDeletion\n) {\n  try {\n\n    await axios({\n      method: 'post',\n      url: '/api/delete-project',\n      data: { id },\n      headers: { Authorization: getBearerToken() },\n    })\n    dispatch({ type: 'DELETE_APP_SUCCESS', data: { id } })\n    return id\n\n  } catch(e) {\n\n    alert('Unsuccessful app deletion')\n    console.error(e)\n\n  }\n}","export function getBearerToken() {\n  return `Bearer ${localStorage.getItem('kvk-vb-token')}`\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Project.module.css'\nimport orderBy from 'lodash/orderBy'\nimport Header from './Header'\nimport add from '../images/add.svg'\nimport BackButton from './BackButton'\nimport axios from 'axios'\nimport Spinner from './Spinner'\nimport { Helmet } from 'react-helmet'\nimport Footer from './Footer'\nimport { DeleteAppConfigButton } from './DeleteAppConfigButton'\nimport { deleteAppConfig } from '../api/delete-app-config'\n\nfunction makeID() {\n  var text = ''\n  var possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (var i = 0; i < 5; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n  return text\n}\n\nclass Project extends Component {\n  componentDidMount() {\n    let projectPath = this.props.match.params.projectPath\n    let project = this.props.project\n    if (project.path === projectPath && !project.loading) return\n    axios({\n      method: 'get',\n      url: '/api/projects/' + projectPath,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n    }).then(({ data }) => {\n      this.props.dispatch({\n        type: 'FETCH_PROJECT_SUCCESS',\n        data,\n      })\n    })\n  }\n\n  newClicked = () => {\n    let path = makeID()\n    this.props.history.push(`/projects/${this.props.project.path}/${path}/edit`)\n  }\n\n  /** @param {string} id */\n  deleteApp = async (id) => deleteAppConfig(id, this.props.dispatch)\n\n  renderViewers(viewers, isAuthenticated) {\n    if (!viewers.length)\n      return (\n        <div className={styles.noViewerMessage}>\n          Geen apps gevonden... {!isAuthenticated && 'Mischien als u inlogt.'}\n        </div>\n      )\n    return (\n      <div>\n        {viewers.map((viewer) => {\n          return (\n            <div\n              className={styles.viewer}\n              key={viewer.path}\n              onClick={() =>\n                this.props.history.push(\n                  `/projects/${this.props.project.path}/${viewer.path}`\n                )\n              }\n            >\n              <div className={styles.titleText}>{viewer.title}</div>\n              <div style={{ fontSize: '0.9em', opacity: '0.6' }}>\n                {viewer.public ? 'publiek' : 'prive'}\n              </div>\n              <div style={{ fontSize: '0.9em', opacity: '0.6' }}>\n                {viewer.noConfigCache ? 'no config cache' : 'use cache'}\n              </div>\n              {viewer.user != null && (\n                <div style={{ fontSize: '0.9em', opacity: '0.6' }}>\n                  {viewer.user.name}\n                </div>\n              )}\n              {hasAuth(this.props.loginState, viewer.user) &&\n                <DeleteAppConfigButton\n                  deleteAppConfig={() => this.deleteApp(viewer.id)}\n                  title={viewer.title}\n                  createdBy={viewer.user.name}\n                  createdOn={viewer.createdAt}\n                />\n              }\n              \n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render() {\n    let project = this.props.project\n    if (project.loading) return <Spinner />\n    let viewers = project.viewers\n\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    // viewers = orderBy(viewers, ['createdAt'], ['asc']);\n    viewers = orderBy(viewers, ['title'], ['asc'])\n    return (\n      <div>\n\n        <Helmet>\n          <title>{project.title}</title>\n          <link\n            rel=\"icon\"\n            type=\"image/png\"\n            href={`/favicon-${project.path}.png`}\n            sizes=\"16x16\"\n          />\n        </Helmet>\n\n        <BackButton to=\"/\" />\n        <Header />\n\n        <div className={styles.mainContainer}>\n          <div className={styles.main}>\n            <div className={styles.content}>\n              <div\n                className={styles.title}\n              >{`Connected Apps van ${this.props.project.title}`}</div>\n              {/* <div className={styles.title}>Selecteer een viewer</div> */}\n              <div className={styles.viewers}>\n                {this.renderViewers(viewers, loginState.isLoggedIn)}\n                {loginState.isLoggedIn && loginState.user.role !== 'viewer' && (\n                  <div className={styles.viewer} onClick={this.newClicked}>\n                    <div>\n                      <img src={add} alt=\"add\" style={{ width: '24px' }} />\n                      <span\n                        style={{ verticalAlign: 'middle', paddingLeft: '12px' }}\n                      >\n                        Nieuwe app aanmaken...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <Footer />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst emailsWithAnyDeletionRights = [\n  'keon.chen@bim-connected.com',\n  'marcin.koziuk@bim-connected.com',\n  'norent.khy@bim-connected.com',\n  'richa.mehta@bim-connected.com',\n  'robin.vantol@bim-connected.com',\n].map(s => s.toLowerCase())\n\n/**\n * @param loginState {LoginState}\n * @param appCreator { null | { id: string, email: string, role: string } }\n * @return {boolean}\n */\nfunction hasAuth(loginState, appCreator) {\n  if (!loginState.isLoggedIn)\n    return false\n  if (loginState.user.role !== 'superadmin')\n    return false\n  if (emailsWithAnyDeletionRights.includes(loginState.user.email.toLowerCase()))\n    return true\n  if (appCreator && loginState.user.id === appCreator.id)\n    return true\n  return false\n}\n\nconst mapStateToProps = (state) => ({\n  project: state.project,\n  loginState: state.login\n})\n\nexport default connect(mapStateToProps)(Project)\n","import React from \"react\"\nimport Header from \"../Header\"\nimport styles from './LoginPageLayout.module.css'\nimport \"typeface-exo\"\n// @ts-ignore\nimport { Helmet } from \"react-helmet\"\nimport { Icon } from \"../widgets/Icon\"\n\nexport function LoginPageLayout(props: {\n  children: React.ReactNode\n}) {\n  return (\n    <div className={styles['login-app']}>\n      <Helmet>\n        <title>Wistor</title>\n        <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" sizes=\"16x16\" />\n      </Helmet>\n\n      {/* @ts-ignore */}\n      <Header modern noLoginButton />\n\n      <div className={styles['login-container']}>\n        <div className={styles['login-main']}>\n          {props.children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function LoginButtonBar(props: {\n  error?: string | null,\n  isLoggingIn?: boolean\n} & Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'type' | 'className'>) {\n  const { error, isLoggingIn, ...otherProps } = props\n\n  return (\n    <div className={styles['login-button-bar']}>\n      {isLoggingIn && (\n        <div className={styles['login-spinner']}>\n          <Icon icon=\"spinner\" spin />\n        </div>\n      )}\n      {error && (\n        <div className={styles['login-error']}>{error}</div>\n      )}\n      <button className={styles['login-button']}\n              type=\"submit\"\n              {...otherProps}>Log in</button>\n    </div>\n  )\n}\n\n","import { LoginAction, LoginState } from \"../../redux/login\"\nimport React, { useState } from \"react\"\nimport { login, LoginCredentials } from \"../../api/login\"\nimport { SubmitHandler, useForm } from \"react-hook-form\"\nimport { connect } from \"react-redux\"\nimport { LoginButtonBar, LoginPageLayout } from \"./LoginPageLayout\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nconst EMAIL_PATTERN = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\n\nfunction LoginComponent(props: {\n  loginState: LoginState,\n  dispatch: (action: LoginAction) => void\n} & RouteComponentProps) {\n  const {\n    register,\n    handleSubmit,\n    formState\n  } = useForm<LoginCredentials>()\n  const [ errorReason, setErrorReason ] = useState<string | null>(null)\n\n  const doLogin: SubmitHandler<LoginCredentials> = async loginCredentials => {\n    props.dispatch({ type: \"LOGIN_REQUEST\" })\n    setErrorReason(null)\n    const resp = await login(loginCredentials)\n\n    if (resp.success) {\n      props.dispatch({ type: \"LOGIN_SUCCESS\", payload: resp.user })\n\n      if (window.location.pathname === '/login') {\n        props.history.push('/')\n      }\n      window.location.reload()\n    } else {\n      props.dispatch({ type: \"LOGIN_FAILURE\" })\n      setErrorReason(resp.reason)\n    }\n  }\n\n  return (\n    <LoginPageLayout>\n      <h1>Welcome</h1>\n      <form onSubmit={handleSubmit(doLogin)}>\n        <label>\n          Username\n\n          <input type=\"email\"\n                 required\n                 {...register('email', { required: true, pattern: EMAIL_PATTERN })} />\n        </label>\n        <label>\n          Password\n\n          <input type=\"password\"\n                 required\n                 {...register('password', { required: true })} />\n        </label>\n\n        <LoginButtonBar disabled={formState.isSubmitting}\n                        isLoggingIn={props.loginState.isLoggingIn}\n                        error={errorReason} />\n      </form>\n    </LoginPageLayout>\n  )\n}\n\nfunction mapStateToProps(state: any) {\n  return { loginState: state.login }\n}\n\nexport const Login = connect(mapStateToProps)(LoginComponent)\n","import { getCgiUrl } from \"../helpers/url\"\nimport axios, { AxiosError } from \"axios\"\nimport { z } from \"zod\"\nimport { RepoAccessUser } from \"../model/repo-access-user\"\n\nexport type RepoLoginCredentials = {\n  username: string\n  password: string\n}\n\ntype RepoLoginSuccess = {\n  success: true\n  user: RepoAccessUser\n}\n\ntype RepoLoginFailure = {\n  success: false\n  reason: string\n}\n\nconst RepoLoginResponseSchema = z.object({\n  loggedIn: z.string(), // boolean-string with casing variations...\n  repo: z.string().optional(),\n  parameters: z.record(z.string(), z.any()).optional(),\n  message: z.string().optional()\n})\n\nexport async function repoLogin(loginParams: RepoLoginCredentials, repo: string | null, repoUrl: string): Promise<RepoLoginSuccess | RepoLoginFailure> {\n  const url = getCgiUrl('login', repoUrl)\n\n  try {\n    const response = await axios.post(url, {\n      login: loginParams.username,\n      psw: loginParams.password\n    }, {\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n\n    const repoLoginResponse = RepoLoginResponseSchema.parse(response.data)\n    if (repoLoginResponse.loggedIn.toLowerCase() !== \"true\") {\n      return { success: false, reason: repoLoginResponse.message ?? 'Incorrect username or password' }\n    }\n\n    if (repoLoginResponse.repo !== repo) {\n      return { success: false, reason: 'This account is not valid for this app' }\n    }\n\n    if (repoLoginResponse.parameters) {\n      // @ts-ignore\n      document.userParameters = repoLoginResponse.parameters\n    }\n\n    return {\n      success: true,\n      user: {\n        repo: repoLoginResponse.repo,\n        userParameters: repoLoginResponse.parameters ?? {}\n      }\n    }\n  } catch (error) {\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n    \n    console.error(error)\n    return { success: false, reason: 'Request failure' }\n  }\n}\n\nexport async function getCurrentRepoAccessUser(repo: string | null, repoUrl: string): Promise<RepoAccessUser | null> {\n  const url = getCgiUrl('isloggedin', repoUrl)\n\n  try {\n    const response = await axios.get(url, {\n      withCredentials: true,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    })\n    const repoLoginResponse = RepoLoginResponseSchema.parse(response.data)\n    if (repoLoginResponse.loggedIn.toLowerCase() !== \"true\") {\n      return null\n    }\n\n    if (repoLoginResponse.repo !== repo) {\n      console.warn(`Repository does not match. Requested: ${repo}, returned: ${repoLoginResponse.repo}`)\n      return null\n    }\n\n    if (repoLoginResponse.parameters) {\n      // @ts-ignore\n      document.userParameters = repoLoginResponse.parameters\n    }\n\n    return {\n      repo: repoLoginResponse.repo,\n      userParameters: repoLoginResponse.parameters ?? {}\n    }\n  } catch (error) {\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n\n    console.error(error)\n    return null\n  }\n}\n\nexport async function repoLogout(repoUrl: string) {\n  const url = getCgiUrl('logout', repoUrl)\n  await axios.post(url, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n}\n","import React, { useState } from \"react\"\nimport { repoLogin, RepoLoginCredentials } from \"../../api/repo-login\"\nimport { SubmitHandler, useForm } from \"react-hook-form\"\nimport { connect, useDispatch } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport { LoginButtonBar, LoginPageLayout } from \"./LoginPageLayout\"\nimport { LoginState } from \"../../redux/login\"\n\nfunction LoginBBComponent(props: {\n  loginState: LoginState\n} & RouteComponentProps) {\n  const {\n    register,\n    handleSubmit,\n    formState\n  } = useForm<RepoLoginCredentials>()\n  const [ errorReason, setErrorReason ] = useState<string | null>(null)\n\n  const repoInfo = getRepoInfoFromSearchParameters()\n\n  const doLogin: SubmitHandler<RepoLoginCredentials> = async loginCredentials => {\n    if (!repoInfo) return\n\n    try {\n      setErrorReason(null)\n\n      const resp = await repoLogin(loginCredentials, repoInfo.repo, repoInfo.repoUrl)\n      if (resp.success) {\n        props.history.replace(props.location.state || '/')\n\n        // @ts-ignore\n        if (window.CONNECTED_APPS_STATIC) {\n          // Workaround:\n          // React-router's history.replace does not always rerender\n          // when <Route path=\"*\" /> is used (static apps),\n          // causing a blank page.\n          // https://stackoverflow.com/a/61596862\n          window.location.reload()\n        }\n      } else {\n        setErrorReason(resp.reason)\n      }\n    } catch (e) {\n      setErrorReason(\"Login error\")\n    }\n  }\n\n  if (!repoInfo) {\n    return (\n      <LoginPageLayout>\n        Invalid repository information.\n      </LoginPageLayout>\n    )\n  }\n\n  const isSuperAdmin = props.loginState.isLoggedIn && props.loginState.user.role === 'superadmin'\n\n  return (\n    <LoginPageLayout>\n      <h1>Welcome</h1>\n      <form onSubmit={handleSubmit(doLogin)}>\n        <p>\n          This app requires a login.{' '}\n          {isSuperAdmin && (\n            `Repository: ${repoInfo.repo}`\n          )}\n        </p>\n\n        <label>\n          Username\n          <input type=\"username\" required\n                 {...register('username', { required: true })} />\n        </label>\n\n        <label>\n          Password\n          <input type=\"password\" required\n                 {...register('password', { required: true })} />\n        </label>\n\n        <LoginButtonBar disabled={formState.isSubmitting}\n                        isLoggingIn={formState.isSubmitting}\n                        error={errorReason} />\n      </form>\n    </LoginPageLayout>\n  )\n}\n\nfunction getRepoInfoFromSearchParameters() {\n  const queryString = window.location.search\n  const urlParams = new URLSearchParams(queryString)\n  const id = urlParams.get('id')\n  if (id == null) return null\n\n  const parametersString = atob(decodeURIComponent(id))\n  const usp = new URLSearchParams(parametersString)\n  const repoUrl = usp.get('repoUrl')\n  const repo = usp.get('repo')\n  if (repoUrl == null) return null\n\n  return { repo, repoUrl }\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    loginState: state.login\n  }\n}\n\nexport const RepoLogin = connect(mapStateToProps)(LoginBBComponent)\n","import { LoginState } from \"../redux/login\"\nimport { connect } from \"react-redux\"\nimport { ReactNode } from \"react\"\nimport { Route } from \"react-router-dom\"\nimport { RouteProps } from \"react-router\"\nimport { Login } from \"./login/Login\"\n\nfunction ProtectedRouteComponent(props: {\n  loginState: LoginState,\n  children: ReactNode\n} & RouteProps) {\n  const { loginState, children, component, ...rest } = props\n  return (\n    <Route\n      {...rest}\n      component={loginState.isLoggedIn ? component : Login}\n    />\n  )\n}\n\nfunction mapStateToProps(state: any) {\n  return { loginState: state.login }\n}\n\nexport const ProtectedRoute = connect(mapStateToProps)(ProtectedRouteComponent)\n","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './App.css'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\n//import { HashRouter as Router, Route } from 'react-router-dom';\nimport Home from './components/Home'\nimport Users from './components/Users'\nimport Project from './components/Project'\nimport Viewer from './components/Viewer'\nimport Command from './helpers/Command'\nimport { enableMapSet } from 'immer'\nimport { setupUserInputMessenger } from './helpers/user-input-messenger'\nimport { getCurrentUser } from \"./api/login\"\nimport { Login } from \"./components/login/Login\"\nimport { RepoLogin } from \"./components/login/RepoLogin\"\nimport { ProtectedRoute } from \"./components/ProtectedRoute\"\nimport Spinner from \"./components/Spinner\"\n\nenableMapSet()\n\nconst ERR_INVALID_RESPONSE_WITH_SUGGESTION =\n  'Invalid response! When developing use `yarn dev`.'\n\nclass App extends Component {\n\n  state = {\n    isFetchingLoginInfo: false\n  }\n\n  componentDidMount() {\n    this.wistorArt();\n   \n    setupUserInputMessenger()\n\n    if (!window.CONNECTED_APPS_STATIC) {\n      this.fetchLoginInfo()\n    }\n  }\n\n  async fetchLoginInfo() {\n    this.setState({ isFetchingLoginInfo: true })\n    this.props.dispatch({ type: \"LOGIN_REQUEST\" })\n    try {\n      const user = await getCurrentUser()\n      if (user) {\n        this.props.dispatch({ type: \"LOGIN_SUCCESS\", payload: user })\n      } else {\n        this.props.dispatch({ type: \"LOGIN_FAILURE\" })\n      }\n    } catch (error) {\n      console.error(error)\n      this.props.dispatch({ type: \"LOGIN_FAILURE\" })\n    } finally {\n      this.setState({ isFetchingLoginInfo: false })\n    }\n  }\n\n\n  wistorArt()\n  {\n   \n   console.log(\" __      __.__          __                \\r\\n\"\n   + \"/  \\\\    /  \\\\__| _______/  |_  ___________ \\r\\n\"\n   + \"\\\\   \\\\/\\\\/   /  |/  ___/\\\\   __\\\\/  _ \\\\_  __ \\\\\\r\\n\"\n   + \" \\\\        /|  |\\\\___ \\\\  |  | (  <_> )  | \\\\/\\r\\n\"\n   + \"  \\\\__/\\\\  / |__/____  > |__|  \\\\____/|__|   \\r\\n\"\n   + \"       \\\\/          \\\\/                     \\r\\n\");\n\n   console.log(\"version 0.32\");\n\n\n  }\n\n  render() {\n   \n    window.top.command=Command;\n    \n\n    if (window.CONNECTED_APPS_STATIC) {\n      return (\n        <Router>\n          <Route path=\"/\" exact component={Viewer} />\n          <Route path=\"/loginbb\" component={RepoLogin} />\n          <Route path=\"*\" component={Viewer} />\n        </Router>\n      )\n    }\n\n    if (this.state.isFetchingLoginInfo) {\n      return <Spinner />\n    }\n\n    return (\n      <Router>\n        <div className=\"app\">\n          <ProtectedRoute path=\"/\" exact component={Home} />\n          <Route path=\"/loginbb\" component={RepoLogin} />\n          <Route path=\"/login\" component={Login} />\n          <ProtectedRoute path=\"/users\" component={Users} />\n          <ProtectedRoute path=\"/projects/:projectPath\" exact component={Project} />\n          <Route\n            path=\"/projects/:projectPath/:viewerPath\"\n            exact\n            component={Viewer}\n          />\n          <ProtectedRoute\n            path=\"/projects/:projectPath/:viewerPath/:mode(edit)\"\n            component={Viewer}\n          />\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default connect()(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import * as React from \"react\"\nimport { createTheme, alpha } from \"@mui/material/styles\"\nimport { grey } from \"@mui/material/colors\"\n\n/*\n * Custom theme that adds a 'grey' color variant for buttons,\n * this looks the same as the buttons in MUI v4 when the color property was not set.\n * See: https://mui.com/material-ui/migration/v5-component-changes/#%E2%9C%85-remove-default-color-prop\n */\n\ndeclare module \"@mui/material/Button\" {\n  interface ButtonPropsColorOverrides {\n    grey: true;\n  }\n}\n\ndeclare module \"@mui/material\" {\n  interface Color {\n    main: string;\n    dark: string;\n  }\n}\n\nconst greyPaletteTheme = createTheme({\n  palette: {\n    grey: {\n      main: grey[300],\n      dark: grey[400]\n    }\n  }\n})\n\nexport const theme = createTheme(greyPaletteTheme, {\n  components: {\n    MuiButton: {\n      variants: [\n        {\n          props: { variant: \"contained\", color: \"grey\" },\n          style: {\n            color: greyPaletteTheme.palette.getContrastText(greyPaletteTheme.palette.grey[300])\n          }\n        },\n        {\n          props: { variant: \"outlined\", color: \"grey\" },\n          style: {\n            color: greyPaletteTheme.palette.text.primary,\n            borderColor:\n              greyPaletteTheme.palette.mode === \"light\"\n                ? \"rgba(0, 0, 0, 0.23)\"\n                : \"rgba(255, 255, 255, 0.23)\",\n            \"&.Mui-disabled\": {\n              border: `1px solid ${greyPaletteTheme.palette.action.disabledBackground}`\n            },\n            \"&:hover\": {\n              borderColor:\n                greyPaletteTheme.palette.mode === \"light\"\n                  ? \"rgba(0, 0, 0, 0.23)\"\n                  : \"rgba(255, 255, 255, 0.23)\",\n              backgroundColor: alpha(\n                greyPaletteTheme.palette.text.primary,\n                greyPaletteTheme.palette.action.hoverOpacity\n              )\n            }\n          }\n        },\n        {\n          props: { color: \"grey\", variant: \"text\" },\n          style: {\n            color: greyPaletteTheme.palette.text.primary,\n            \"&:hover\": {\n              backgroundColor: alpha(\n                greyPaletteTheme.palette.text.primary,\n                greyPaletteTheme.palette.action.hoverOpacity\n              )\n            }\n          }\n        }\n      ]\n    }\n  }\n})\n","import React from 'react'\n//import ReactDOM from 'react-dom'\n\n\nimport { createRoot } from 'react-dom/client';\n\nimport { Provider } from 'react-redux'\nimport { store } from './store'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { ThemeProvider } from \"@mui/material/styles\"\nimport { theme } from \"./components/mui/theme\"\n//import * as serviceWorker from './serviceWorkerRegistration'\n\n\n\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\nroot.render(<Provider store={store}>\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>\n</Provider>);\n/*\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n*/\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n//serviceWorker.register();\n","export function getCgiUrl(\n  cgiService: '' | 'login' | 'logout' | 'isloggedin' | 'sparql',\n  repoUrl: string,\n  localRepoUrl?: string\n) {\n  const absoluteRepoUrl = getAbsoluteRepoUrl(repoUrl, localRepoUrl)\n  return absoluteRepoUrl.replace('sparql', cgiService)\n}\n\nexport function getAbsoluteRepoUrl(repoUrl: string, localRepoUrl?: string) {\n  const { origin } = window.location\n  const url = origin.includes('localhost') && localRepoUrl ? localRepoUrl : repoUrl\n\n  if (url.startsWith('http://') || url.startsWith('https://')) return url\n  if (url.startsWith('/')) return origin + url\n  return `${origin}/${url}`\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Project_mainContainer__1pj6p\",\"main\":\"Project_main__2Y8rr\",\"content\":\"Project_content__24m3l\",\"title\":\"Project_title__22_I_\",\"titleText\":\"Project_titleText__1G20m\",\"viewer\":\"Project_viewer__19IpZ\",\"viewerDisabled\":\"Project_viewerDisabled__2PNlk\",\"noViewerMessage\":\"Project_noViewerMessage__1ePu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Footer_wrapper__2rG-r\",\"main\":\"Footer_main__1l7I7\",\"names\":\"Footer_names__3Ib0-\",\"commentMessage\":\"Footer_commentMessage__3kubv\",\"email\":\"Footer_email__2GJZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Viewer_wrapper__Mp8IX\",\"settingsCheckbox\":\"Viewer_settingsCheckbox__1BOaO\",\"mainContainer\":\"Viewer_mainContainer__7WemJ\",\"main\":\"Viewer_main__2vgBd\",\"editButton\":\"Viewer_editButton__O63Oh\",\"areaContainer2\":\"Viewer_areaContainer2__1Imf2\",\"areaContainer\":\"Viewer_areaContainer__2mCAm\",\"infoDialogueContainer\":\"Viewer_infoDialogueContainer__3r8Vu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Tab_main__3hRYf\",\"areaContainer\":\"Tab_areaContainer__uoK5W\",\"viewMode\":\"Tab_viewMode__1R_jG\",\"tabs\":\"Tab_tabs__8TT4t\",\"tab\":\"Tab_tab__2juvH\",\"selected\":\"Tab_selected__2GbnM\",\"refresh\":\"Tab_refresh__3o4j1\",\"threeColorTemplate\":\"Tab_threeColorTemplate__8xvrv\",\"carouselTabsContainer\":\"Tab_carouselTabsContainer__g_Gab\",\"carouselButton\":\"Tab_carouselButton__1jj7D\",\"carouselItem\":\"Tab_carouselItem__2zDPU\"};","import React from 'react'\nimport styles from './Dialog.module.css'\n// import {Button} from 'reactstrap';\n\nconst Dialog = ({ children, onClose }) => {\n  return (\n    <div className={styles.overlay}>\n      <div className={styles.frame} onClick={(e) => e.stopPropagation()}>\n        {/* <div className={styles.closeButton}>\n          <Button color=\"primary\" onClick={() => onClose()}>X</Button>\n        </div> */}\n        <div className={styles.body}>\n          {children}\n          {/* <div className={styles.okButton}>\n            <Button color=\"primary\" style={{width: '120px'}} onClick={() => onClose()}>OK</Button>\n          </div> */}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Dialog\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__3z-hj\",\"main\":\"Header_main__3czEd\",\"modern\":\"Header_modern__3hyIe\",\"title\":\"Header_title__2C1Mo\",\"centerPart\":\"Header_centerPart__RkjuJ\",\"auth\":\"Header_auth__3IKlE\",\"nameContainer\":\"Header_nameContainer__1xkA5\",\"infoIcon\":\"Header_infoIcon__2hP7N\"};","import { Component, useState } from \"react\"\nimport Yasgui from './Yasgui'\nimport { Input, FormGroup, Label, Button } from \"reactstrap\"\nimport AceEditor from 'react-ace'\nimport Dialog from './Dialog'\n// import MonacoEditor from 'react-monaco-editor';\n// import brace from 'brace';\n\nimport 'brace/mode/javascript'\nimport 'brace/theme/github'\nimport styles from './FormField.module.css'\nimport { useDialog } from \"../hooks/use-dialog\"\n\nclass FormField extends Component {\n  onChange = (e) => {\n    let name = this.props.name\n    let value = e.target.value\n    if (this.props.type === 'array') {\n      value = value.split(',')\n    }\n    if (this.props.type === 'json') {\n      try {\n        value = JSON.parse(value)\n      } catch (e) {\n        // poging 2\n        value = eval(value) //eslint-disable-line no-eval\n        // console.log(\"poging 2\",value);\n      }\n    }\n    this.props.onChange(name, value)\n  }\n\n  render() {\n    let type = this.props.type\n    let default2 = styles.default\n\n    if (type === 'yasgui') {\n      return (\n        <FormGroup>\n          <LabelWithHelp label={this.props.label} helpComponent={this.props.helpComponent} />\n          <Yasgui\n            value={this.props.value}\n            handleBlur={(value) => {\n              this.props.onChange(this.props.name, value)\n            }}\n          />\n        </FormGroup>\n      )\n    } else if (type === 'javascript') {\n      return (\n        <FormGroup>\n          <LabelWithHelp label={this.props.label} helpComponent={this.props.helpComponent} />\n          <AceEditor\n            mode=\"javascript\"\n            theme=\"github\"\n            style={{ width: '100%', height: '120px' }}\n            value={this.props.value}\n            onChange={(newValue) => {\n              this.props.onChange(this.props.name, newValue)\n            }}\n            name=\"editor\"\n          />\n        </FormGroup>\n      )\n    } else if (type === 'select') {\n      return (\n        <FormGroup>\n          <LabelWithHelp label={this.props.label} helpComponent={this.props.helpComponent} />\n          <Input\n            classforname=\"dark-form-control\"\n            className={default2 + ' dark-form-control '}\n            value={this.props.value || ''}\n            type={type}\n            onChange={this.onChange}\n          >\n            {type === 'select' &&\n              this.props.options &&\n              this.props.options.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n          </Input>\n        </FormGroup>\n      )\n    } else if (type === 'boolean') {\n      return (\n        <FormGroup>\n          <Label style={{ cursor: 'pointer' }}>\n            <Input\n              checked={this.props.value ?? false}\n              className={styles.check}\n              type=\"checkbox\"\n              onChange={(e) =>\n                this.props.onChange(this.props.name, e.target.checked)\n              }\n            />\n            {'  ' + this.props.label}\n          </Label>\n        </FormGroup>\n      )\n    } else if (type === 'button') {\n      return (\n        <FormGroup>\n          <Label style={{ cursor: 'pointer' }}>\n            <button\n              className=\"btn btn-primary\"\n              style={{\n                'min-width': '120px',\n                minHeight: '30px',\n                'margin-top': '12px',\n                marginLeft: '0',\n                marginRight: '6px',\n                position: 'relative',\n              }}\n              onClick={(e) => console.log(e.target, this.props, this)}\n            />\n            {'  ' + this.props.label}\n          </Label>\n        </FormGroup>\n      )\n    } else if (type === 'json') {\n      return (\n        <FormGroup>\n          <LabelWithHelp label={this.props.label} helpComponent={this.props.helpComponent} />\n          <Input\n            className=\"dark-form-control\"\n            value={JSON.stringify(this.props.value || '')}\n            type={type}\n            onChange={this.onChange}\n          />\n        </FormGroup>\n      )\n    } else {\n      return (\n        <FormGroup>\n          <LabelWithHelp label={this.props.label} helpComponent={this.props.helpComponent} topicValueInterpolationEnabled={this.props.topicValueInterpolationEnabled} enabledTopics={this.props.enabledTopics}/>\n          <Input\n            className=\"dark-form-control\"\n            value={this.props.value || ''}\n            type={type}\n            onChange={this.onChange}\n          />\n        </FormGroup>\n      )\n    }\n  }\n}\n\nfunction LabelWithHelp(props) {\n  const show = useDialog()\n\n  return (\n    <>\n      <Label style={{ width: '100%' }}>\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <div style={{ flexGrow: 1 }}>\n            {props.label}\n          </div>\n\n          {props.topicValueInterpolationEnabled &&(\n            <i>\n            topic {\"{{variables}}\"} enabled\n            </i>\n          )}\n          {props.helpComponent && (\n            <a href=\"#\" onClick={e => {\n              e.preventDefault()\n              show(HelpDialog, {\n                component: props.helpComponent\n              })\n            }}>\n              Help...\n            </a>\n          )}\n        </div>\n      </Label>\n    </>\n  )\n}\n\nfunction HelpDialog(props) {\n  const Component = props.component\n  return (\n    <Dialog onClose={props.onClose}>\n      <div className={styles['help']}>\n        <Component />\n      </div>\n\n      <div style={{ textAlign: 'center' }}>\n        <Button color=\"primary\"\n                style={{ minWidth: '120px', marginTop: '12px' }}\n                onClick={() => props.onClose()}>OK</Button>\n      </div>\n    </Dialog>\n  )\n}\n\nexport default FormField\n","export default __webpack_public_path__ + \"static/media/person.89f69b5b.svg\";","import { Component } from 'react'\nimport { Button } from 'reactstrap'\nimport styles from './Header.module.css'\nimport person from '../images/person.svg'\nimport gear from '../images/gear.svg'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Grow } from '@mui/material'\nimport Command from '../helpers/Command'\nimport infoIcon from '../images/info.svg'\nimport { AutoHyperlink } from './AutoHyperlink'\nimport { logout } from '../api/login'\n\nconst BACKUP_LOGO = '/logos/logo-wistor.png'\n\nclass Header extends Component {\n  state = { collapsed: true }\n\n  logOutBB=()=> {\n    Command.sendCommand(this, 'logout', null, function () {\n      window.location.reload(false)\n    })\n  } \n  \n  logOut = async () => {\n    let bbsparql = this.props.bbsparqlendpoint\n    if (bbsparql != null) {\n      Command.sendCommand(this, 'logout', null, function () {\n        window.location.reload(false)\n      })\n    } else {\n      console.log('logout from config mongo/nodejs platform')\n      await logout()\n      window.location.reload()\n      // localStorage.removeItem('kvk-vb-token');\n    }\n\n    //window.location.reload(false);\n  }\n\n  login = () => {\n    this.props.history.push('/login', this.props.location.pathname)\n  }\n\n  onClickManageUsers = () => {\n    this.props.history.push('/users', this.props.location.pathname)\n  }\n\n  mouseOver = (e) => {\n    console.log('in')\n    // this.setState({collapsed:false});\n  }\n  mouseOut = (e) => {\n    console.log('out')\n    // this.setState({collapsed:true});\n  }\n\n  render() {\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n    const collapsed = this.state.collapsed\n    var logoutbutton =this.props.logoutbutton;\n    if (logoutbutton==null) logoutbutton=false;\n   \n    return (\n      <Grow direction=\"up\" appear={true} timeout={1000} in={collapsed}>\n        <div className={`${styles.wrapper} ${this.props.modern ? styles.modern : ''}`}>\n          <div\n            className={styles.main}\n            style={{ maxWidth: this.props.pageWidth }}\n          >\n            <img\n              src={this.props.logoURL || BACKUP_LOGO}\n              alt=\"logo\"\n              style={{ maxHeight: '40px', marginRight: '6px' }}\n            />\n\n            <div className={styles.centerPart}>\n              <span\n                className={styles.title}\n                style={{ float: this.props.alignTitle || 'right' }}\n              >\n                {this.props.title || ''}\n                {this.props.onInfoClick && (\n                  <img\n                    src={infoIcon}\n                    alt=\"box\"\n                    className={styles.infoIcon}\n                    onClick={() => this.props.onInfoClick()}\n                  />\n                )}\n                {this.props.onSettingsClick && (\n                  <img\n                    onClick={this.props.onSettingsClick}\n                    src={gear}\n                    alt=\"gear\"\n                    style={{ paddingLeft: '12px', cursor: 'pointer' }}\n                  />\n                )}\n              </span>\n              <AutoHyperlink text={this.props.subtitle} />\n            </div>\n            {!loginState.isLoggingIn && logoutbutton && !loginState.isLoggedIn && (\n              <div className={styles.auth}>\n                <img src={person} alt=\"person\" />\n               \n                <Button color=\"link\" onClick={this.logOutBB}>\n                  Log out\n                </Button>\n              </div>\n              \n            )}\n            {!loginState.isLoggingIn && !logoutbutton && loginState.isLoggedIn && (\n              <div className={styles.auth}>\n                <img src={person} alt=\"person\" />\n                <div className={styles.nameContainer}>\n                  <div style={{ lineHeight: '1.1em' }}>\n                    {loginState.user?.name}\n                  </div>\n                  {(loginState.user?.role === 'admin' || loginState.user?.role === 'superadmin') && (\n                    <Button\n                      color=\"link\"\n                      style={{ padding: '0', fontSize: '0.8em' }}\n                      onClick={this.onClickManageUsers}\n                    >\n                      Gebruikers beheren\n                    </Button>\n                  )}\n                </div>\n                <Button color=\"link\" onClick={this.logOut}>\n                  Log out\n                </Button>\n              </div>\n            )}\n            {!loginState.isLoggingIn && !loginState.isLoggedIn && !this.props.noLoginButton && (\n              <div className={styles.auth}>\n                <Button color=\"primary\" onClick={this.login}>\n                  Login\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </Grow>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loginState: state.login,\n})\n\nHeader = withRouter(Header)\n\nexport default connect(mapStateToProps)(Header)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Home_mainContainer__2GzK5\",\"main\":\"Home_main__-wJEx\",\"content\":\"Home_content__rSrZN\",\"title\":\"Home_title__2JJd_\",\"subTitle\":\"Home_subTitle__3qxJR\",\"paragr\":\"Home_paragr__2LXKK\",\"project\":\"Home_project__2Eq02\"};","type LayoutName = keyof typeof LAYOUT_NAME\ntype Config = { showFooter: boolean }\ntype LayoutConfig = { [K in LayoutName]: Config }\n\nexport const LAYOUT_NAME = {\n  CUSTOM: 'CUSTOM',\n  ORIGINAL: 'ORIGINAL',\n} as const\n\nconst LOAD_STYLE = {\n  CUSTOM: 'overlay',\n  ORIGINAL: 'classic',\n} as const\n\nconst LAYOUT_CONFIG: LayoutConfig = {\n  CUSTOM: { showFooter: false },\n  ORIGINAL: { showFooter: true },\n}\n\nexport function inflateLayout<V extends { layoutName: LayoutName }>(viewer: V) {\n  const layoutName = viewer.layoutName || LAYOUT_NAME.ORIGINAL\n  return { ...viewer, layoutName, layout: LAYOUT_CONFIG[layoutName] }\n}\n\nexport function getLoadStyle(layoutName: LayoutName = LAYOUT_NAME.ORIGINAL) {\n  return LOAD_STYLE[layoutName]\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Users_mainContainer__blMaO\",\"main\":\"Users_main__1Ek77\",\"content\":\"Users_content__2hEUp\",\"title\":\"Users_title__UBjWr\",\"tableContainer\":\"Users_tableContainer__spoq6\",\"add\":\"Users_add__1M5OB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SearchAutocomplete_main__1k8NJ\",\"inputContainer\":\"SearchAutocomplete_inputContainer__2Ybjz\",\"threeColorTemplate\":\"SearchAutocomplete_threeColorTemplate__1hVXq\",\"items\":\"SearchAutocomplete_items__cpVFv\",\"item\":\"SearchAutocomplete_item__2NkmI\",\"selected\":\"SearchAutocomplete_selected__1alXJ\",\"noResults\":\"SearchAutocomplete_noResults__1wYx9\",\"headertxt\":\"SearchAutocomplete_headertxt__20CQu\"};"],"sourceRoot":""}