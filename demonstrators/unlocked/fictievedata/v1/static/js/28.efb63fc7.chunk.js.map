{"version":3,"sources":["components/widgets/bb/editor/BBDFormCreateAndAdd.js","components/widgets/bb/editor/BBDFormAddExisting.js","components/widgets/bb/editor/BBDFormRelationComponent.js","components/widgets/bb/editor/BBDForm.js","components/widgets/bb/editor/BBDForm.module.css"],"names":["BBDFormCreateAndAdd","x","ref","React","createRef","handleClose","e","current","remove","Dialog","open","onClose","PaperProps","sx","width","height","DialogTitle","DialogContent","DialogContentText","DialogActions","disableSpacing","gap","Button","variant","onClick","BBDFormAddExisting","refParent","props","input","selected","selectBoxChangeEvent","row","rows","target","checked","push","nn","uri","splice","handleSubmit","ar","value","Array","isArray","n","change","id","getTable","axios","CancelToken","query","decodeURIComponent","propuri","graph","window","top","results","data","bindings","o","binding","label","label2","includes","split","t","length","console","log","table","TableContainer","component","Paper","Table","size","TableHead","TableRow","TableCell","color","padding","Checkbox","disabled","inputProps","TableBody","map","onChange","renderMe","div","element","document","createElement","appendChild","ReactDOM","render","BBDFormRelationComponent","useRef","formOptions","useFormApi","getUriName","ts","useFieldApi","meta","dialog","no","title","mt","minWidth","align","startIcon","border","scope","prop","schema","hyperlinkPar","publish","hyperlink","className","styles","link","inlineblock","deleteClick","BBDForm","state","fields","componentTypes","TEXT_FIELD","name","validate","type","validatorTypes","REQUIRED","CHECKBOX","DATE_PICKER","SWITCH","SELECT","options","SLIDER","submitFormCommand","waardes","extra","masseditmode","uris","getAllUris","ooR","getResultJSON","oo","ruleTagAfterSubmit","Command","sendCommand","submitFormSuccesful","submitFormFailure","PublishUtils","setTimeStampParameter","closePopup","closeDialog","failureMessage","alert","submitInternalParameters","getResultArrayJSON","result","key","waarde","parameter","publishMultipleValues","onSubmit","submit","componentMapper","relation","pubsub","this","aantal","i","item_def","id_def","propsID","volgorde","encodeURIComponent","propUri","isDisabled","required","Boolean","JSON","parse","toLowerCase","hidden","hideField","clearedValue","initialValue","defaultValue","ee","replace","datatype","inputFormat","outputFormat","FIELD_ARRAY","option","optionLabel","noOptionsMessage","simpleValue","optionValue","alreadyAvailable","dataType","datatype2","optionUri","error","valuetype","Date","toISOString","waarde2","first","wo","oo2","createClass","cls","getCreateClass","getSchema","createButton","emptyText","style2","cancelbutton","donotshowsubmitbutton","submitbutton","createClick","FormTemplate2","FormTemplate","readonly","formFields","Grid","m","container","rowSpacing","LocalizationProvider","dateAdapter","AdapterDateFns","bbdform","onCancel","Component","module","exports"],"mappings":"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","file":"static/js/28.efb63fc7.chunk.js","sourcesContent":["import React, { Component, Fragment,useRef } from 'react'\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { Button } from '@mui/material';\r\nimport ReactDOM from 'react-dom';\r\nconst BBDFormCreateAndAdd=(x)=>{\r\n\r\n    const ref =React.createRef()\r\n\r\n    const handleClose=(e)=>\r\n{\r\n   \r\n    ref.current.remove();\r\n  \r\n}\r\n\r\n\r\n\r\n\r\n    return (<Dialog ref={ref} open={true} onClose={handleClose}\r\n        PaperProps={{ sx: { width: \"50%\", height: \"70%\" } }}\r\n      >\r\n        <DialogTitle>Create And Add</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText>hier dus alle relaties in een selectable table </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions disableSpacing sx={{gap: '10px'}}>\r\n            <Button  variant=\"outlined\"  onClick={(e)=>handleClose(e)}>Cancel</Button>\r\n            <Button variant=\"outlined\"  onClick={handleClose}>Submit</Button>\r\n        </DialogActions>\r\n\r\n      </Dialog>\r\n      );\r\n\r\n\r\n}\r\n\r\n\r\nexport default BBDFormCreateAndAdd;","import React, { Component, Fragment,useRef } from 'react'\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { Button } from '@mui/material';\r\nimport ReactDOM from 'react-dom';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport axios from 'axios'\r\n\r\n\r\nconst BBDFormAddExisting=(refParent,props,x,input)=>{\r\n  \r\n    const ref =React.createRef()\r\n   \r\n    var selected=[];\r\n\r\nconst selectBoxChangeEvent=(e,row,rows)=>\r\n{\r\n    if (e.target.checked)\r\n    {\r\n             selected.push(row);\r\n    }\r\n    else\r\n    {\r\n       \r\n        for (var nn in selected)\r\n        {\r\n            var oo=selected[nn];\r\n            if (oo.uri===row.uri)\r\n            {\r\n                selected.splice(nn,1);\r\n                break;\r\n            }        \r\n\r\n        }\r\n        \r\n    }\r\n    //console.log(e.target.checked,row,rows);\r\n\r\n}\r\n\r\n const handleSubmit=(e)=>\r\n {\r\n  \r\n       var ar = [];\r\n       if ((input.value!=null) && (Array.isArray(input.value)) )\r\n       {\r\n         for (var n in input.value)\r\n         {\r\n            ar.push(input.value[n]);\r\n         }\r\n       }\r\n       for (var n in selected)\r\n       {\r\n        ar.push(selected[n]);\r\n       }\r\n     \r\n     x.change(props.id,ar);\r\n\r\n     handleClose();\r\n     \r\n }\r\n   const handleClose=(e)=>\r\n     {\r\n         ref.current.remove();\r\n     }\r\n     const CancelToken = axios.CancelToken\r\n\r\nconst delay=(time) =>{\r\n    return new Promise(resolve => setTimeout(resolve, time));\r\n  }\r\n\r\n\r\n\r\n const getTable=async()=>\r\n {\r\n    var query=\"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>  PREFIX skos: <http://www.w3.org/2004/02/skos/core#>   select distinct ?uri ?label ?label2 where {graph ?g {<\"+decodeURIComponent(props.propuri)+\"> rdfs:range/^rdfs:subClassOf* ?cls } graph<\"+decodeURIComponent(props.graph)+\">{?uri a ?cls. optional {?uri rdfs:label ?label} optional {?uri skos:prefLabel ?label2}}}\";\r\n    var results= await window.top.query(query);\r\n    var rows=[];\r\n    try\r\n    {\r\n            for (var n in results.data.results.bindings)\r\n            {\r\n                var o={};\r\n                var binding = results.data.results.bindings[n];\r\n                o.value=binding.uri.value;\r\n                if (binding.label!=null) o.label=binding.label.value;\r\n                if ((o.label==null) && (binding.label2!=null)) o.label=binding.label2.value;\r\n                if (o.label==null)\r\n                {\r\n                    if (o.value.includes(\"#\")) { o.label=o.value.split(\"#\")[1]} else \r\n                    {\r\n                        var t=o.value.split(\"/\");\r\n                        o.label=t[t.length-1];\r\n                    }\r\n                }\r\n                rows.push(o);\r\n                \r\n            }\r\n    }\r\n    catch(e){console.log(e);}\r\n    \r\n       \r\n\r\n    var table= ( \r\n        <TableContainer component={Paper}>\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n            <TableCell  color=\"primary\" padding=\"checkbox\">\r\n\r\n          <Checkbox\r\n             disabled={true}\r\n            inputProps={{\r\n              'aria-label': 'select all ',\r\n            }}\r\n          />\r\n        </TableCell>\r\n              <TableCell  color=\"primary\">name</TableCell>\r\n           {//   <TableCell   color=\"primary\" >uri</TableCell>\r\n           }\r\n              </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n\r\n            <TableRow\r\n              key={row.value}\r\n            \r\n            > <TableCell>\r\n                  <Checkbox onChange={(e)=>{selectBoxChangeEvent(e,row,rows)}}>\r\n                  \r\n                  </Checkbox>\r\n                  </TableCell>\r\n              <TableCell >\r\n                {row.label}\r\n              </TableCell>\r\n          {//  <TableCell >{row.value}</TableCell>\r\n          }\r\n             \r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n\r\n    renderMe(table);\r\n \r\n }\r\n\r\n\r\n    const renderMe=(table)=>\r\n    {\r\n\r\n        var element= (<Dialog ref={ref} open={true} onClose={handleClose}\r\n        PaperProps={{ sx: { width: \"50%\", height: \"70%\" } }}\r\n      >\r\n        <DialogTitle>Add relations</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n           {table}\r\n        </DialogContent>\r\n        <DialogActions disableSpacing sx={{gap: '10px'}}>\r\n            <Button  variant=\"outlined\"  onClick={(e)=>handleClose(e)}>Cancel</Button>\r\n            <Button variant=\"outlined\"  onClick={handleSubmit}>Submit</Button>\r\n        </DialogActions>\r\n\r\n      </Dialog>\r\n      );\r\n\r\n      var div=React.createElement(\"div\");\r\n      div=document.createElement(\"div\")\r\n      refParent.current.appendChild(div);\r\n      ReactDOM.render(element,div);\r\n    }\r\n\r\n      var table = getTable();\r\n\r\n\r\n}\r\n\r\n\r\nexport default BBDFormAddExisting;","import React, { Component, Fragment,useRef } from 'react'\r\nimport ReactDOM from 'react-dom';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport AddIcon from '@mui/icons-material/AddLink';\r\nimport CreateIcon from '@mui/icons-material/CreateRounded';\r\nimport Button from '@mui/material/Button';\r\nimport { useFieldApi, useFormApi } from '@data-driven-forms/react-form-renderer';\r\nimport FieldProvider from '@data-driven-forms/react-form-renderer/field-provider';\r\n\r\nimport  BBDFormCreateAndAdd from './BBDFormCreateAndAdd';\r\nimport BBDFormAddExisting from './BBDFormAddExisting';\r\nimport styles from '../../Table.module.css'\r\n\r\n\r\n\r\nconst BBDFormRelationComponent =(props) => \r\n{ \r\n    const ref =useRef(null);\r\n    const formOptions = useFormApi();\r\n\r\n    const addCreateAndAddClick =()=>\r\n    {\r\n      \r\n      const element = new BBDFormCreateAndAdd(props,ref);\r\n        var div=React.createElement(\"div\");\r\n        div=document.createElement(\"div\")\r\n        ref.current.appendChild(div);\r\n        ReactDOM.render(element,div);\r\n   }\r\n\r\n  const getUriName=(uri)=>\r\n  {\r\n    if (uri==null) return null;\r\n    if (uri.includes(\"#\")) return uri.split(\"#\")[1];\r\n    var ts=uri.split(\"/\");\r\n    return ts[ts.length-1];\r\n  }\r\n  const hyperlink=(uri)=>\r\n  {\r\n   \r\n    var prop = formOptions.schema.props.hyperlinkPar;\r\n    if (prop==null) return;\r\n       \r\n    window.top.publish(prop,uri);\r\n  }\r\n\r\n    const addExistingClick =()=>\r\n    {\r\n      \r\n         new BBDFormAddExisting(ref,props,x,input);\r\n       \r\n    }\r\n\r\n        const deleteClick=(uri)=>\r\n        {\r\n           \r\n            try\r\n            {\r\n                var ar=[];\r\n               for (var n in input.value)\r\n               {\r\n                if (input.value[n].uri===uri)\r\n                {\r\n                   \r\n                }\r\n                else\r\n                {\r\n                    ar.push(input.value[n]);\r\n                }\r\n               }\r\n             \r\n              x.change(props.id,ar);\r\n             \r\n            }\r\n            catch(e)\r\n            {\r\n                console.log(e);\r\n            }\r\n         \r\n\r\n\r\n           \r\n        }\r\n      //\r\n\r\n      const {input,meta} =useFieldApi(props);\r\n      const x=useFormApi(props);\r\n\r\n      meta.data.dialog=false;\r\n    \r\n      if ( (input.value==null) || (Array.isArray(input.value)==false) )\r\n      {\r\n       // input.value= [{uri:\"1\",label:\"label 1\"},{uri:\"2\",label:\"label 2\"},{uri:\"3\",label:\"label 3\"}];\r\n       input.value= [];\r\n      }\r\n      var ar=[];\r\n      for (var n in input.value)\r\n      {\r\n        var no= input.value[n];\r\n     \r\n        if (typeof no != \"object\")\r\n        {\r\n             ar.push({uri:no,label:getUriName(no)});\r\n        }\r\n        else\r\n        {\r\n          if ((no.label==null) || (no.label==\"\") )\r\n          {\r\n            no.label= getUriName(no.uri);\r\n          }\r\n          ar.push(no);\r\n        }\r\n      }\r\n       input.value=ar;\r\n\r\n      var title = props.label|| \"relations\" ;\r\n    \r\n          return (\r\n            <Fragment>\r\n          <div ref={ref}></div>\r\n           \r\n            <TableContainer sx={{ mt: 2 }} component={Paper}>\r\n              <Table sx={{ minWidth: 150 }} size=\"small\" aria-label=\"simple table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>{title}</TableCell>\r\n                   \r\n                   <TableCell align=\"right\">\r\n                    <Button onClick={addExistingClick} size=\"small\" variant=\"outlined\" startIcon={<AddIcon />}>add existing</Button>\r\n                   <Button onClick={addCreateAndAddClick} size=\"small\" variant=\"outlined\" startIcon={<CreateIcon />}>create and add</Button>\r\n                   </TableCell>\r\n                   \r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n               \r\n                  {input.value.map((row) => (\r\n                    <TableRow\r\n                      key={row.uri}\r\n                      sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                    >\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                      <div onClick={() => hyperlink(row.uri)} className={styles.link + ' ' + \" \"+styles.inlineblock} >{row.label}</div>\r\n                        \r\n                      \r\n                      </TableCell>\r\n                    \r\n                      <TableCell align=\"right\"><Button size=\"small\" sx={{    \":hover\": {          color: \"blue\" } }} startIcon={<DeleteIcon />} onClick={() => deleteClick(row.uri)} ></Button></TableCell>\r\n                   \r\n                    </TableRow>\r\n                  ))}\r\n                 \r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            </Fragment>\r\n          );\r\n            \r\n\r\n    \r\n}\r\n\r\nexport default BBDFormRelationComponent;","import React, { Component, Fragment } from 'react'\n\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\n\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\n\nimport FormTemplate from '@data-driven-forms/mui-component-mapper/form-template';\n\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\n\nimport { useFormApi } from '@data-driven-forms/react-form-renderer';\nimport componentMapper from '@data-driven-forms/mui-component-mapper/component-mapper';\nimport Grid from '@mui/material/Grid'\n\nimport styles from './BBDForm.module.css'\nimport  './BBDForm.module.css'\nimport Command from '../../../../helpers/Command';\nimport PublishUtils from '../../../../helpers/PublishUtils';\nimport BBDFormRelationComponent from './BBDFormRelationComponent';\nimport { Button } from '@mui/material';\n\n\n\nexport default class BBDForm extends Component {\n \n  state = {\n    schema: {\n      fields: [\n        {\n          component: componentTypes.TEXT_FIELD,\n          name: 'voornaam',\n          label: 'voornaam',\n          validate: [{ type: validatorTypes.REQUIRED }],\n        },\n        \n        {\n          component: componentTypes.CHECKBOX,\n          name: 'adres2',\n          label: 'adres of zoiets v22',\n        },\n        {\n          component: componentTypes.DATE_PICKER,\n          name: 'datepicker',\n          label: 'datum of zoiets',\n        },\n        {\n          component: componentTypes.SWITCH,\n          name: 'iets3',\n          label: 'datum of zoiets',\n        },\n        {\n          component: componentTypes.SELECT,\n          name: 'iets34',\n          label: 'datum of zoiets',\n          options: [\n            {\n              label: 'Dogs',\n              value: '1',\n            },\n            {\n              label: 'Cats',\n              value: '2',\n            },\n            {\n              label: 'Hamsters',\n              value: '3',\n            },\n          ],\n        },\n        {\n          component: componentTypes.SLIDER,\n          name: 'iets35',\n          label: 'datum of zoiets',\n        },\n      ],\n    },\n  }\n\n  constructor(props) \n  {\n    super(props);\n    this.ref = React.createRef();\n    componentMapper.relation=BBDFormRelationComponent;\n    window.top.publish=props.publish;\n    window.top.pubsub=props.pubsub;\n\n\n\n    \n  }\n\n\n  /*BUTTON: \"button\"\nCHECKBOX: \"checkbox\"\nDATE_PICKER: \"date-picker\"\nDUAL_LIST_SELECT: \"dual-list-select\"\nFIELD_ARRAY: \"field-array\"\nINPUT_ADDON_BUTTON_GROUP: \"input-addon-button-group\"\nINPUT_ADDON_GROUP: \"input-addon-group\"\nPLAIN_TEXT: \"plain-text\"\nRADIO: \"radio\"\nSELECT: \"select\"\nSLIDER: \"slider\"\nSUB_FORM: \"sub-form\"\nSWITCH: \"switch\"\nTABS: \"tabs\"\nTAB_ITEM: \"tab-item\"\nTEXTAREA: \"textarea\"\nTEXT_FIELD: \"text-field\"\nTIME_PICKER: \"time-picker\"\nWIZARD: \"wizard\"\n*/\n\n\n\n\n   containsMultiUri()\n   {\n    var oo=this.getAllUris();\n    var aantal=0;\n    for (var n in oo)\n    {\n       aantal++;\n       if (aantal>1) return true;\n    }\n    return false;\n   }\n\n   getAllUris()\n   {\n    var oo={}\n    for (var i in this.props.data.results.bindings) {\n      var binding = this.props.data.results.bindings[i]\n      var value=binding.uri.value;\n      oo[value]=value;\n    }\n    return oo;\n   }\n\n\n  getSchema() {\n\n    try {\n\n    var schema = { fields: [] }\n    if (this.props.data == null) {\n      return null\n    }\n\n    var item_def = {}\n    var id_def = {}\n    this.id_def=id_def;\n    schema.props = item_def\n    schema.propsID = id_def\n    var volgorde = []\n    for (var i in this.props.data.results.bindings) {\n      var binding = this.props.data.results.bindings[i]\n      var uri = encodeURIComponent(binding.uri.value);  // testing\n      var propuri = encodeURIComponent(binding.propUri.value);\n      var o = item_def[uri+\"_\"+propuri];\n      if (this.props.masseditmode) o = item_def[propuri]\n      \n      var label = binding.label.value\n     \n        if (this.aantal==null) this.aantal=0;\n        this.aantal++;\n       \n      if (o == null) {\n                      var id = this.aantal+'id' + volgorde.length\n                      o = { id: id,validate:[] }\n                      o.propuri=propuri;\n                     // \n                     if (this.props.masseditmode)\n                     {\n                      item_def[propuri] = o\n                     }\n                     else\n                     {\n                        item_def[uri+\"_\"+propuri]=o;\n                     }\n                      volgorde.push(o)\n                      o.isDisabled=false;\n\n                      try {o.graph=encodeURIComponent(binding.graph.value);} catch(e){}\n                      try {o.uri=encodeURIComponent(binding.uri.value);} catch(e){}\n                      try {o.type=encodeURIComponent(binding.type.value);} catch(e){}\n\n\n                      if (binding.required!=null)\n                      {\n                        try\n                        {\n                          var b=Boolean(JSON.parse(binding.required.value.toLowerCase()));\n                        \n                          if (b) o.validate.push({ type: validatorTypes.REQUIRED });\n                        }\n                        catch(e){}\n                        \n                      }\n\n                      if (binding.disabled!=null)\n                      {\n                        o.isDisabled=Boolean(JSON.parse(binding.disabled.value.toLowerCase())); \n                      }\n                      if (binding.hidden!=null)\n                      {\n                        o.hideField=Boolean(JSON.parse(binding.hidden.value.toLowerCase())); \n                      }\n\n                      id_def[id] = o\n                      o.propuri = propuri\n                    \n                  //   console.log(componentTypes);\n\n                    \n                      o.name = id;\n                      o.label = label\n                      try {\n\n                        o.clearedValue=null;\n                        o.initialValue=null;\n                        o.defaultValue=null;\n\n                        o.initialValue = binding.value.value;\n                        //o.defaultValue=binding.value.value;\n                      \n\n                      } catch (ee) {}\n\n                      var component= componentTypes.TEXT_FIELD;\n              \n                      if (binding.type!=null)\n                      {\n                        var type = \"\";\n                        try {\n                          type = binding.type.value;\n                        \n                        // type=decodeURIComponent(type);\n                        \n                          type=type.replace('http://www.w3.org/2001/XMLSchema#','');\n                        \n                          \n                \n                          if  ( (type === 'int') || ( type === 'integer') ) {\n                          component = componentTypes.TEXT_FIELD;\n                          /*o.validate.push({ \n                          type: validatorTypes.PATTERN,\n                          pattern: '[0-9]*',\n                          message: 'Not valid ineger'\n                          });\n                          */\n                          o.datatype=\"integer\";\n\n                          }\n                          if  ((    type === 'float' ) || (type === 'decimal') ) {\n                            component = componentTypes.TEXT_FIELD;\n                            o.datatype=\"number\";\n                          }\n\n                          if (      \n                            type === 'boolean'\n                          ) {\n                            component = componentTypes.CHECKBOX;\n                          } \n\n                            if (type === 'date')\n                            {\n                              o.variant=\"date\";\n                              component = componentTypes.DATE_PICKER;\n                              o.inputFormat=\"L\";\n                              o.outputFormat=\"L\";\n\n                            }\n                            if (type === 'dateTime') {\n                              component = componentTypes.DATE_PICKER;\n                            }\n                            if ((type===\"uri\") || (type===\"relation\") )\n                            {\n                              component = \"relation\";\n                              if (binding.value!=null)\n                              {\n                                o.initialValue = [binding.value.value];\n                              }\n                            }\n\n                            if (type===\"stringlist\")\n                            {\n                            \n                              component = componentTypes.FIELD_ARRAY;\n                              o.fields= [ {              component: componentTypes.TEXT_FIELD,               label: \"label\"        }           ]   \n                              }\n                            \n                          \n                        \n                          //  o.dataType=type\n                        } catch (ee) {\n                          console.log(ee);\n                        }\n                      }\n                    // console.log(\"component\",component);\n                      o.component =component\n\n\n\n                    }\n                    else\n                    {\n\n                      if (binding.type!=null)\n                      {\n                        var type = \"\";\n                        try {\n                            type = binding.type.value;\n                            if ((type===\"uri\") || (type===\"relation\") )\n                            {\n                               if (o.initialValue.includes(binding.value.value))\n                               {}\n                               else\n                               {\n                                  o.initialValue.push(binding.value.value);\n                               }\n                            }\n\n                        }\n                        catch(e)\n                        {\n                          console.log(e);\n                        }\n                    }\n\n                  } //else\n     \n\n                      //select types\n                      try {\n\n                        var option = binding.optionLabel.value; // triggers error when not available\n                        o.noOptionsMessage = 'no options found'\n                        if (o.options == null) {\n                        \n                          o.options = []\n                          o.component = 'select'\n                          o.simpleValue = true\n                        }\n\n                        if (binding.optionValue == null) {\n                          var alreadyAvailable=false;\n                           for (var no in o.options)\n                           {\n                               var oo = o.options[no];\n                            if (oo.value==option) alreadyAvailable=true;\n                           }\n                           if (!alreadyAvailable)\n                           {\n                              o.options.push({ label: option, value: option })\n                              o.dataType = 'string'\n                              o.datatype2 = 'string' // case sensitive\n                           }\n                        } \n                        else\n                         {\n                        \n                          o.dataType = 'string'\n                          try {if (binding.optionValue.type!=\"literal\") {o.dataType=\"string\";  o.datatype2 = 'uri'} } catch(e){}\n                          var optionUri = encodeURIComponent(binding.optionValue.value);\n                          var alreadyAvailable=false;\n                           for (var no in o.options)\n                           {\n                            var oo = o.options[no];\n                            if (oo.value==optionUri) alreadyAvailable=true;\n                           }\n                           if (!alreadyAvailable)\n                           {\n                             o.options.push({ label: option, value: optionUri })\n                           }\n                        }\n                      } catch (error) {}\n\n\n\n                      if (o.options == null) {\n                        //datatype\n                      \n                      }\n     // console.log(o)\n     if (this.props.masseditmode)\n     {\n      o.value=null;\n     }\n               \n  }// binding\n\n    // console.log(binding,propUri);\n\n    schema.volgorde = volgorde\n    schema.fields = volgorde\n    schema.props=this.props;\n    //this.setState({schema:schema});\n    return schema;\n  }\n  catch(e)\n  {\n  //  console.log(e);\n  }\n  return null;\n  }\n\n\n  getResultJSON(waardes)\n  {\n     var ar =[];\n    \n   \n    for (var key in waardes)\n    {\n        \n      var o=this.id_def[key];\n      if (o==null) continue;  // very weird\n  \n      \n      \n            var oo={};\n            oo.propuri=o.propuri;\n            oo.valuetype=o.type;\n            oo.graph=o.graph;\n            oo.uri=o.uri;\n        \n            ar.push(oo);\n      \n\n     \n         var waarde = waardes[key];\n       \n        \n         if (waarde instanceof Date)\n         {\n           waarde=waarde.toISOString();\n         }\n         if (Array.isArray(waarde))\n         {\n          var waarde2=waarde;\n          try {if (Array.isArray(waarde[0])){waarde2=waarde[0]}}catch(e){}//this is a bug that needs fixing. this should not be an array\n\n          var first=true;\n            for (var n in waarde2) \n            {\n            \n              if ((waarde2[n]!=null) || (waarde2[n]!='null') )\n              {\n                \n                var uri = waarde2[n].uri||waarde2[n].value||waarde[n];\n                var wo=encodeURIComponent(uri);\n\n                 if (first) {\n                  oo.value=wo;first=false;\n                  delete oo.valuetype;\n                }else {\n                var oo2={};\n                oo2.propuri=o.propuri;\n                //oo2.valuetype=o.type;\n                oo2.value=wo;\n                oo2.graph=o.graph;\n                oo2.uri=o.uri;\n        \n                ar.push(oo2);\n                 }\n              }\n            }\n          \n         }\n         else\n         {\n          if ((waarde!=null)  )\n          {\n            oo.value=encodeURIComponent(waarde);\n          }\n         }\n    \n\n\n     \n      if (oo.valuetype==\"select\")\n      {\n        delete oo.valuetype;\n        oo.value=waarde;\n       \n      }\n\n\n\n\n\n    }\n  \n \n    return ar;\n  }\n\n  submitFormCommand=(waardes,extra)=>\n  {\n    var ar=[];\n    if (this.props.masseditmode)\n    {\n      var uris=this.getAllUris();\n      for (var n in uris)\n      {\n        var uri=uris[n];\n      \n        var ooR = this.getResultJSON(waardes);\n        for (var n in ooR)\n        {\n          var oo=ooR[n];\n          oo.uri=uri;\n          ar.push(oo);\n        }\n      }\n    }\n    else\n    {\n      ar =this.getResultJSON(waardes)\n      \n       \n    }\n    console.log(\"submitFormCommand\",ar);\n    var results={results:ar}\n    if (this.props.ruleTagAfterSubmit!=null)\n    {\n       results.ruleTagAfterSubmit=this.props.ruleTagAfterSubmit;\n    }\n\n    Command.sendCommand(this,\"formCommand\",results,this.submitFormSuccesful,this.submitFormFailure);\n    \n\n  }\n  submitFormSuccesful=()=>\n  {\n   \n      PublishUtils.setTimeStampParameter(this,true);\n      //this.props.publish(\"ifc\",\"hallo\");\n      if (this.props.closePopup)\n      {\n            try {this.props.closeDialog();} catch(e){}\n      }\n  }\n  submitFormFailure=()=>\n  {\n   \n    if (this.props.failureMessage!=null)\n    {\n      window.alert(this.props.failureMessage);\n    }\n  }\n\nsubmitInternalParameters=(waardes)=>\n{\n  var waardes2=this.getResultArrayJSON(waardes);\n  var result={};\n  for (var key in waardes)\n  {\n    var waarde=waardes[key];\n    \n          var parameter =decodeURIComponent(waarde.propuri);\n          var value = decodeURIComponent(waarde.value) ;\n           result[parameter]=value;\n    \n\n  }\n\n  \n  this.props.publishMultipleValues(result);\n  // use multi publish?\n  if (false)\n  {\n    for (var id in waardes) {\n      this.props.publish(id, waardes[id])\n      console.log('submitting internal values ', id, waardes[id])\n    }\n  }\n\n\n\n}\n\n\n  onSubmit = (waardes,extra) => {\n\n\n    try\n    {\n       \n        var r = { props: {} }\n\n        if (this.props.submit === 'internalparameters') {\n                 this.submitInternalParameters(waardes);\n      return\n    }\n   \n    if (this.props.submit === 'formCommand') {\n     // console.log(waardes,iets);\n        this.submitFormCommand(waardes,extra);\n\n      return ;\n    }\n    if (this.props.submit === 'javascript') {\n      console.log(waardes);\n\n    return ;\n  }\n  }\n  catch(e)\n  {}\n}\n\n \n\n\n   getCreateClass()\n   {\n    var createClass=null;\n    \n    try\n    {\n      //console.log(this.props.data.results.bindings);\n      for (var i in this.props.data.results.bindings) {\n        var binding = this.props.data.results.bindings[i];\n         \n          createClass=binding.createClass.value;\n          return createClass;\n        }\n    }\n    catch(e){\n    //  console.log(e)\n    }\n   // console.log(createClass);\n    return createClass;\n   }\n\n createClick()\n {\n   var cls =this.getCreateClass();\n   console.log(\"create not yet implemented\",cls);\n\n  // this.submitFormCommand(waardes);\n\n\n }\n\n  render() \n  {\n   \n    if (this.props.data==null)\n    return null;\n\n    \n   \n    //if (this.props.data==null){return null;}\n    let schema = this.getSchema();\n    var createClass= this.getCreateClass();\n    var createButton=false;\n    if (createClass!=null) createButton=true;\n    ///console.log(createClass,createButton);\n\n    if ((createButton==false) && (schema==null) && (this.props.emptyText!=null) && (this.props.emptyText!=\"\"))\n    {\n     \n      return (<div  style2=\"padding: 35px;\" ><p>{this.props.emptyText}</p></div>);\n    }\n\n    let cancelbutton = this.props.cancelbutton\n    if (cancelbutton == null) {\n      cancelbutton = false\n    }\n    let     donotshowsubmitbutton = this.props.submitbutton;\n    if (donotshowsubmitbutton == null) {\n      donotshowsubmitbutton = false\n    }\n   \n    let disabled=this.props.disabled;\n    if (this.props.disabled)\n    {\n      disabled = false\n    }\n\n   \n    //let schema = this.state.schema;\n    if ( (schema == null))\n    {\n      if (createButton==true)  \n      {\n         return  (<Button color=\"grey\" onClick={this.createClick} >create </Button>);\n      }\n\n      else\n      {\n        return null\n      }\n    }\n    \n\n\n\n    var FormTemplate3 = ({ formFields, schema }) => {\n   \n   \n      return (\n        <Grid sx={{ m: 2 }}>\n        <Grid  container rowSpacing={1}    >\n          {formFields}\n        </Grid>\n        </Grid>\n      );\n    };\n\n  var FormTemplate2 = FormTemplate;\n  if (this.props.readonly)FormTemplate2=FormTemplate3;\n  \n   \n \n    return (\n     \n       \n      <LocalizationProvider dateAdapter={AdapterDateFns}>\n      <div className={styles.bbdform} >\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n        <FormRenderer  ref={this.ref}\n          schema={schema}\n          componentMapper={componentMapper}\n           FormTemplate={FormTemplate2}\n         \n         \n          {...(true && { onSubmit:this.onSubmit}) }\n          {...(cancelbutton && { onCancel: this.onCancel })}\n         \n        />\n      </div>\n      </LocalizationProvider>\n    \n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"BBDForm_grid__2VcLy\",\"bbdform\":\"BBDForm_bbdform__2RjzR\"};"],"sourceRoot":""}