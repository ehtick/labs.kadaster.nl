{"subtitle":"v0.4","project":{"createdAt":"2023-03-15T15:32:19.811Z","title":"Kadaster","path":"kadaster","id":"6411e5038986f00024b17390"},"user":{"name":"Hans Schevers","email":"hans.schevers@buildingbits.nl","role":"superadmin","id":"62278ad6be3c2900303ad8e1"},"createdAt":"2023-09-21T09:20:24.528Z","title":"Lock Unlock Authorisation demo","mainArea":{"widget":"SplitLayout","direction":"column","areas":[{"panelstyle":"paper2","widget":"RadioBox","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"options":"locked),locked (not yet implemented),unlocked,unlocked","horizontal":true,"showLoadingOverlay":true},{"areaSizes":["50px","auto"],"areas":[{"widget":"SelectBox","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"preSelectFirstItem":true,"query":"select ?uri ?user\nwhere\n{\n  values (?user ?uri) {\n    (\"anoniem\" \"?persona=anonymous\")\n    (\"Alles\" \"?persona=system\")\n    \n      (\"gemeente Zeewolde\" \"?persona=Zeewolde\")\n    (\"gemeente Almere\" \"?persona=Almere\")\n    \n      (\"koopsom\" \"?persona=koopsom\")\n    (\"Admin-users\" \"?persona=admin_users\") \n    (\"Admin-auth\" \"?persona=admin_auth\")\n   (\"Admin-log\" \"?persona=admin_log\")\n  } \n\n\n}","publishVariable":"user","label":"Persona"},{"startCollapsed":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"tabs":["FDS","User","Silos","Sparql"],"widget":"BBSideMenu","areas":[{"widget":"SplitLayout","areas":[{"panelstyleExtra":"noScrollBars","areaSizes":["00px","1","2","2"],"areas":[null,{"showLoadingOverlay":false,"renderEmpty":true,"htmlgeenresultaat":"niets geselecteerd","html":"<H4> Koopsom : {{koopsom}} </H4> <H4> jaar: {{jaar}} </H4> ","title":"","widget":"Table2","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"panelstyle":"paper2","charttype":"Pie","query":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nprefix fn:<http://www.w3.org/2017/xpath-functions>\nprefix xsd: <http://www.w3.org/2001/XMLSchema#>\n\n\nselect distinct ?koopsom ?jaar \n # from <https://data.labs.kadaster.nl/lock-unlock/brk>\n #   from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n    from <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n    from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\nwhere\n{\n  \n  <{{perceel}}> <http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?koopsom3.\n  bind (xsd:int(?koopsom3/1000000) as ?m)\n  bind (xsd:int((?koopsom3-(?m*1000000))/1000) as ?d)\n  bind (if (?m=0,concat(str(?d),\".000 euro\"),concat(str(?m),\".\",str(?d),\".000 euro\")) as ?koopsom)\n  \n \n   <{{perceel}}> <http://modellen.geostandaarden.nl/def/imx-geo#year> ?jaar.\n   \n \n\n\n}","gradientColors":true,"titleMenubar":"BRK service","centerContent":true,"panelstyleExtra":"noScrollBars"},{"title":"eigenaren","showLoadingOverlay":false,"panelstyle":"paper2","gradientColors":true,"charttype":"Pie","query":"PREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nprefix brk:<https://data.labs.kadaster.nl/lock-unlock/brk/def/>\n\n\nselect ?naam ?teller \n \nwhere\n{\n \n  graph <https://data.labs.kadaster.nl/lock-unlock/brk>\n  {\n   ?eigendom brk:rustOp <{{perceel}}>.\n   ?tn brk:van ?eigendom.\n   ?tn brk:aandeelTeller ?teller.\n   ?tn brk:tenNameVan ?persoon.\n   ?persoon ^owl:sameAs|owl:sameAs ?persoonBRP\n  }\n        service<{{brp}}{{user}}>\n        {\n        graph <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n        {\n       \t  #?persoonBRP rdfs:label ?naam.\n        ?persoon rdfs:label ?naam.\n        }\n\n       }\n        \n}\n        #hallo","titleMenubar":"BRK-BRP Service","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"BBEChart","stringToColor":false,"labelsInChart":false,"popupLabelFixedFormat":"","legend":true,"defaultMenu":false,"height":"100%","width":"99%","panelstyleExtra":"noScrollBars"},{"width":"90%","height":"175px","panelstyleExtra":"noScrollBars","showLoadingOverlay":false,"titleMenubar":"BRK Service","charttype":"Bar","widget":"BBEChart","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"panelstyle":"paper2","query":"PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n#ID23\nselect ?type ?aantal where\n{\n service<{{brk}}{{user}}>\n  {\n{\nselect ?type (count (distinct ?x) as ?aantal) \n\nwhere\n{\n \n  graph <https://data.labs.kadaster.nl/lock-unlock/brk> {\n  {\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n  filter not exists \n  {\n  \t?eigendom2 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom2!=?eigendom)\n  }\n  bind (\"1 eigenaar\" as ?type)\n  }\n  union\n  {\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    ?eigendom2 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom!=?eigendom2)\n  filter not exists \n  {\n  \t?eigendom3 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom3!=?eigendom)filter (?eigendom3!=?eigendom2)\n  }\n  bind (\"2 eigenaren\" as ?type)\n  }\n   union\n  {\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    ?eigendom2 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    \t?eigendom3 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom!=?eigendom2) filter (?eigendom3!=?eigendom)filter (?eigendom3!=?eigendom2)\n  filter not exists \n  {\n  \t?eigendom4 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom4!=?eigendom)filter (?eigendom4!=?eigendom2)filter (?eigendom4!=?eigendom3)\n  }\n  bind (\"3 eigenaren\" as ?type)\n  }\n \n}\n}\ngroup by ?type \norder by ?type\n}\n}\n}","gradientColors":true,"title":"Kavel eigendom verdeling"}],"direction":"column","widget":"SplitLayout","showLoadingOverlay":true},{"widget":"Tab","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"panelstyle":"paper2","query":"  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT distinct  (?perceel as ?uri) ?geometry ?color\n\nWHERE {\n  \n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n  ?eigendom <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n  ?tn <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendom.\n  ?tn <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoon.\n \n    <script>\n    if (\"{{tnv}}\"==\"http://www.buildingbits.nl/reset\") {return \"\";}\n    else\n    {\n     return \"filter (<{{tnv}}>=?persoon) \"\n     }\n    </script>\n   ?persoon rdfs:label ?persoonLabel.\n \n  optional {\n\n    ?eigendomV2 <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n  filter (?eigendom!=?eigendomV2)\n     ?tn2 <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendomV2.\n   ?tn2 <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoon2.\n  ?persoon2 rdfs:label ?persoonLabel2.\n      ?persoon rdfs:label ?persoonLabel.\n    bind (concat (?persoonLabel,\" en \",?persoonLabel2) as ?temp)\n}\n \n    optional\n  {\n      \n  \n    ?eigendomV2 <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n    ?eigendomV3 <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n  filter (?eigendom!=?eigendomV2)\n    filter (?eigendom!=?eigendomV3)filter (?eigendomV2!=?eigendomV3)\n ?tnV2 <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendomV2.\n   ?tnV2 <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoonV2.\n  ?persoonV2 rdfs:label ?nameV2.\n     ?tn3 <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendomV3.\n   ?tn3 <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoon3.\n  ?persoon3 rdfs:label ?name.\n     \n    ?persoon rdfs:label ?persoonLabel.\n      bind (concat(?persoonLabel,\" , \",?nameV2,\" en \",?name) as ?temp2)\n  }\n  \n \n    \n  bind (if (bound(?temp2),?temp2,if (bound(?temp),?temp,?persoonLabel)) as ?label)\n   bind (if (bound(?temp2),\"3 eigenaren\",if (bound(?temp),\"2 eigenaren\",\"1 eigenaar\")) as ?color)\n  \n  \n} \n  \n\n#title:Percelen;\n#color:RGBA(0,0,255,1)@\"1 eigenaar\";\n#color:RGBA(100,100,55,1)@\"2 eigenaren\";\n#color:RGBA(100,200,55,1)@\"3 eigenaren\";\n\n\n\n","publishVariable":"perceel","tabs":["Eigendom"],"areas":[{"areaSizes":["00px","","auto"],"areas":[{"widget":"Slider","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"showLoadingOverlay":false,"query":"select ?max\n{\n  {\n  bind (0 as ?max)\n}\n  union\n  {\n{\nselect distinct (count(distinct ?perceel) as ?max) \nwhere\n{\n  \ngraph <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>{\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  }\n}\n    }}\n}\n","publishVariable":"aantal","tick":"100","label":"aantal","publishStartValue":true,"startMin":true},{"titleMenubar":"BRK Service","widget":"BBMap","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"panelstyle":"paper2","query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n#id1\nselect * where\n{\n  service<{{brk}}{{user}}>\n  {\n\n{SELECT distinct  (?perceel as ?uri) ?geometry (xds:float(?color2) as ?color)  (concat(\"laatste koopsom \",str(?color2)) as ?label) \n{\n \n   <script>\n    if (\"{{tnv}}\"==\"http://www.buildingbits.nl/reset\") {return \"\";}\n    else\n    {\n     return \"?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan> <{{tnv}}>. ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.  ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?perceel.\"     }\n    </script>\n\n\n     graph <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>{\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n\n ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}\n#optional {\n    graph <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n{\n    ?perceel<http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?color2.\n filter (?color2>100000)\nfilter (?color2<3000000)\n}\n  }\n    limit 10000\n}}}\n \n\n\n#title:Laatste koopsom;","publishVariable":"perceel","showLoadingOverlay":true,"colorPrimaryAction":false,"fitbounds":true}],"direction":"column","widget":"SplitLayout"},{"widget":"BBMap","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"query":"","publishVariable":"perceel","showLoadingOverlay":true},{"widget":"BBMap","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"query":"  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n \n  \n \nSELECT distinct  (?perceel as ?uri) ?geometry ?color \n {{user}}\n    \n  from <https://data.labs.kadaster.nl/lock-unlock/brk>\n    #from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n    from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \t#from <https://data.federatief.datastelsel.nl/lock-unlock/anbi>\n#from <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n   # from <https://data.labs.kadaster.nl/lock-unlock/koopsom/>\n\n    \nWHERE {\n  \n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n   \n    optional\n    {\n      ?eigendom <http://modellen.geostandaarden.nl/def/imx-geo#rustOp> ?perceel.\n     \n \n  optional {\n\n    ?eigendomV2 <http://modellen.geostandaarden.nl/def/imx-geo#rustOp> ?perceel.\n  filter (?eigendom!=?eigendomV2)\n   optional { ?eigendomV3 <http://modellen.geostandaarden.nl/def/imx-geo#rustOp> ?perceel. \n      filter (?eigendomV3!=?eigendom) filter (?eigendomV3!=?eigendomV2)\n     }\n}\n  }\n \n   \n    \n\n    bind (if (bound(?eigendomV2),\"2 eigenaren\",if (bound(?eigendom),\"1 eigenaar\",\"geen eigenaar gevonden\")) as ?color2)\n   bind (if (bound(?eigendomV3),\"3 eigenaren\",?color2) as ?color)\n    ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n\n  \n} \n       \n  \n  \ngroup by ?perceel ?geometry ?color  {{user}}\n    limit 10000\n  \n\n#title:Percelen;\n#color:RGBA(146,224,0,1)@\"1 eigenaar\";\n#color:RGBA(100,100,55,1)@\"2 eigenaren\";\n#color:RGBA(100,200,155,1)@\"3 eigenaren\";\n\n\n\n"}],"colorPrimaryAction":true,"appearance":"CAROUSEL_WITH_BUTTONS","showLoadingOverlay":true},null],"areaSizes":["1","2"],"direction":"row","showLoadingOverlay":true},{"widget":"Tab","tabs":["User","Log"],"areas":[{"areaSizes":["100px","auto"],"areas":[{"widget":"RadioBox","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"label":"Endpoint","horizontal":true,"options":"https://brp-lock-unlock.apps.digilab.network/brp/sparql,brp,https://brk.dst.test.cloud.kadaster.nl/brk/sparql,brk,https://nhr-lock-unlock.apps.digilab.network/nhr/sparql,nhr,https://anbi-lock-unlock.apps.digilab.network/anbi/sparql,ambi","publishVariable":"surl"},{"showLoadingOverlay":true,"areaSizes":["30%","70%"],"areas":[{"resetValues":"groep,rule,role","showLoadingOverlay":true,"titleMenubar":"Users","widget":"List","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"panelstyle":"paper2","query":"select distinct  ?label ?uri\nwhere\n{\n  \n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/users>\n  {\n    ?uri a <https://data.federatief.datastelsel.nl/lock-unlock/authentication/model/def/User>.\n    ?uri <http://www.w3.org/2000/01/rdf-schema#label> ?label\n  }\n}\n\n\n}","publishVariable":"user2"},{"showLoadingOverlay":true,"panelstyleExtra":"noScrollBars","widget":"SplitLayout","direction":"row","areas":[{"showLoadingOverlay":true,"areaSizes":["1","1","1"],"areas":[{"showLoadingOverlay":false,"query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct ?username ?psw\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/users>\n  {\n  <{{user2}}> rdfs:label ?username.\n  bind (\"******\" as ?psw)\n  }\n}\n}","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"Table2","titleMenubar":"Info"},{"showLoadingOverlay":false,"titleMenubar":"Roles","widget":"Table","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?uri as ?rolURI)  ?rol\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  <{{user2}}> <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/has_role> ?uri.\n#  bind (STR(?uri) as ?rol)\n  ?uri rdfs:label ?rol\n  }\n}\n}","publishVariable":"role","panelstyle":"paper2","panelstyleExtra":"","resetValues":"rule,groep"},{"titleMenubar":"groep","showLoadingOverlay":true,"hasButtonShadow":true,"customStyling":false,"popupTitle":"Role info","widget":"Table","direction":"column","areas":[{"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areaSizes":["200px","1"],"areas":[{"showLoadingOverlay":true,"widget":"Table","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"panelstyle":"paper2","query":"select distinct ?prop ?value\nwhere\n{\n  <{{role}}> ?prop ?value \n}"}],"direction":"column","widget":"SplitLayout"}],"areaSizes":["200px","1"],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"popupMinWidth":"600px","popupMaxWidth":"100vw","popupMinHeight":"0","popupMaxHeight":"100vh","popupCloseOnBackdropClick":true,"popupCloseOnEscapeKey":true,"autoOpenOnParameter":"role2","disable":"","query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?uri as ?groepURI)  ?groep\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  <{{role}}> <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/belongs_to_group> ?uri.\n\n  ?uri rdfs:label ?groep\n  }\n}\n}","publishVariable":"groep","panelstyle":"paper2"}],"direction":"column","widget":"SplitLayout","panelstyleExtra":"NoScrollBars"},{"widget":"SplitLayout","direction":"column","areas":[{"showLoadingOverlay":false,"titleMenubar":"rules","html":"<image src=\"{{image}}\" />","query":"\n\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?uri as ?ruleURI)  ?rule ?ruleType ?graphsInDataset\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  \n  <{{groep}}> <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/has_rule> ?uri.\n\n  ?uri rdfs:label ?rule.\n   ?uri a  ?ruleType2.\n  bind (replace(STR(?ruleType2),\"https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/\",\"\") as ?ruleType)\n  \n  \n  optional\n  {\n    ?uri <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/dataset>/^<https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/part_of_dataset> ?graphsInDataset\n}\n  }\n}\n}","widget":"Table2","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"panelstyle":"paper2","panelstyleExtra":"noScrollBars","publishVariable":"rule"},{"query":"\n\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?label as ?property) ?value ?literal ?pred\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  <{{rule}}> ?pred ?value.\n  ?pred rdfs:label ?label.\n  bind(isLITERAL(?value) as ?literal)\n  }\n}\n}","titleMenubar":"Rule details","panelstyle":"paper2","showLoadingOverlay":false,"syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"BBPropertyPanel","childParameterText":"<{{rule}}>"}],"areaSizes":["auto","auto"]}],"areaSizes":["50%","50%"]}],"direction":"row","panelstyle":"paper2","widget":"SplitLayout","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"query":""}],"direction":"column","widget":"SplitLayout"},{"widget":"SplitLayout","direction":"row","areas":[{"titleMenubar":"Users with logs","publishVariable":"luser","query":"\nselect distinct ?label ?uri\n\nwhere\n{\nservice<{{surl}}{{user}}>{\ngraph <http://labs.kadaster.nl/logging>\n{\n\t?log <https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/by_user> ?uri.\n\tbind (STRAFTER(STR(?uri),\"#\") as ?label)\n}\n}\n}","panelstyle":"paper2","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"List"},{"widget":"Tab","tabs":["charts","sparql"],"areas":[{"charttype":"Col","query":"select distinct ?key (count(distinct ?log) as ?aantal)\n\nwhere\n{\n  service<{{surl}}{{user}}>{\n  graph <http://labs.kadaster.nl/logging> {\n?log<https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/by_user> <{{luser}}>.\n?log <https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/startDate> ?date.\n # bind (concat(Str(YEAR(?date)),\" \"+str(Month(?date))) as ?key)\nbind (STRBEFORE(STR(?date),\"-\") as ?year)\nbind (STRBEFORE(STRAFTER(STR(?date),\"-\"),\"-\") as ?month)\nbind (concat(STR(?year),\"-\",?month) as ?key)\n\n}\n}}\ngroup by ?key\norder by ?key","panelstyle":"paper2","showLoadingOverlay":false,"syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"BBEChart","titleMenubar":"Amount of queries per user"},{"widget":"SplitLayout","direction":"row","areas":[{"widget":"List","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"showLoadingOverlay":false,"panelstyle":"paper2","query":"\nselect distinct (STR(?date) as ?label) (?log as ?uri)\n\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\n  graph <http://labs.kadaster.nl/logging>\n  {\n  \n?log<https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/by_user> <{{luser}}>.\n?log <https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/startDate> ?date.\n # bind (concat(Str(YEAR(?date)),\" \"+str(Month(?date))) as ?key)\n\n}\n}\n}\norder by desc(?date)\nlimit 100\n","publishVariable":"log","titleMenubar":"Sparql select queries"},{"widget":"SplitLayout","direction":"column","areas":[{"titleMenubar":"original query","query":"\nselect distinct ?sparql\n\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\n  graph <http://labs.kadaster.nl/logging>\n  {\n<{{log}}><https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/sparqlquery> ?sparql\n}}\n\n}\n\n","panelstyle":"paper2","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBYasgui"},{"query":"{{user}}\nselect distinct ?sparql\n\nwhere\n{\n service<{{surl}}{{user}}>\n  {\ngraph <http://labs.kadaster.nl/logging> {\n<{{log}}><https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/executedQuery> ?sparql\n}}\n\n}\n\n","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBYasgui","titleMenubar":"executed sparql query"}],"areaSizes":["50%","50%"],"voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"showLoadingOverlay":false}],"areaSizes":["300px","1"]}],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"appearance":"CAROUSEL_WITH_BUTTONS"}],"areaSizes":["200px","1"],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true}],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"icons":["user","table"]},{"widget":"Tab","tabs":["BRP","KVK","ANBI","Percelen","BRK","Combi"],"areas":[{"titleMenubar":"BRP data (fictief)","query":"select distinct ?voornaam ?achternaam ?bsn ?gender ?gehuwdMet\nfrom <https://data.federatief.datastelsel.nl/lock-unlock/brp>\nwhere\n{\n # ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/heeftGeboorteplaats> ?plaats.\n  \n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/bsn> ?bsn.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/voornaam> ?voornaam.\n\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?achternaam.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/geslacht> ?gender.\n \n  optional\n  {\n   ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gehuwd>/ <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?gehuwdMet.\n  }\n  \n  #persona_all\n}\nlimit 100","panelstyle":"paper2","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Table"},{"query":"#Persona_All\nPREFIX  geo:  <http://www.opengis.net/ont/geosparql#>\nPREFIX  xsd:  <http://www.w3.org/2001/XMLSchema#>\nPREFIX  rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX  rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX kvk:\t<https://data.federatief.datastelsel.nl/lock-unlock/nhr/def/>\n\nSELECT DISTINCT  ?KVKNummer ?rechtsvorm ?bedrijfsnaam ?rsinNummer ?leiNummer ?stichtingsjaar\nFROM <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n#FROM <https://data.federatief.datastelsel.nl/lock-unlock/gemeentenamen>\nWHERE\n  { \n  ?inschrijving kvk:kvkNummer ?KVKNummer.\n  ?inschrijving kvk:rechtsvorm ?rechtsvorm.\n  ?inschrijving kvk:bedrijsnaam|kvk:bedrijfsnaam ?bedrijfsnaam.\n  ?inschrijving kvk:rsinNummer ?rsinNummer.\n \n  ?inschrijving kvk:leiNummer ?leiNummer.\n  ?inschrijving kvk:stichtingsjaar ?stichtingsjaar.\n  \n  #?inschrijving kvk:UBO ?ubo.\n  \n}\nLIMIT   110","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Table","titleMenubar":"KVK Handelsregister data (fictief)"},null,{"query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n{{user}}\nSELECT distinct ?perceel ?geometry\n\n #from <https://data.labs.kadaster.nl/lock-unlock/brk>\nfrom <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n\nWHERE {\n\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}  \n\n  limit 10\n\n#title:Laatste koopsom;","panelstyle":"paper2","widget":"Tab","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"tabs":["tab1","Tab 2"],"areas":[{"query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n{{user}}\nSELECT distinct ?perceel ?geometry\n\n #from <https://data.labs.kadaster.nl/lock-unlock/brk>\nfrom <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n\nWHERE {\n\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}  \n\n  limit 10\n\n#title:Laatste koopsom;","panelstyle":"paper2","widget":"Table","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true},{"widget":"BBMap","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n{{user}}\nSELECT distinct (?perceel as ?uri) ?geometry (\"Perceel\" as ?color)\n\n #from <https://data.labs.kadaster.nl/lock-unlock/brk>\nfrom <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n\nWHERE {\n\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}  \n\n  limit 100\n\n#title:Laatste koopsom;"}],"appearance":"CAROUSEL_WITH_BUTTONS"},{"titleMenubar":"BRK fictief","panelstyle":"paper2","query":"\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect *\n\n\n{{user}}\n\n      from <https://data.labs.kadaster.nl/lock-unlock/brk>\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  #  from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \n \nwhere\n{\n  ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> [].\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/teller> ?teller.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan> ?persoon.\n  # ?persoon rdfs:label ?naam.\n}\n  \n\n  limit 10","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Table"},{"widget":"Tab","tabs":["Tab 1","Tab 2"],"areas":[{"query":"PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n{{user}}\nSELECT  ?voornaam ?achternaam ?bsn ?koopsom ?teller ?noemer #?geometry\n\n\nfROM  <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n from <https://data.labs.kadaster.nl/lock-unlock/brk>\n    from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \t#from <https://data.federatief.datastelsel.nl/lock-unlock/anbi>\n#from <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n\nWHERE {\n  \n\n     \n  \n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/bsn> ?bsn.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/voornaam> ?voornaam.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?achternaam.\n ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gender>|<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/geslacht> ?gender.\n    optional {\n       ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/heeftGeboorteplaats> ?plaats.\n    }\n  \n  optional\n  {\n   ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gehuwd>/<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?gehuwdMet.\n  }\n     \n  ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan>/owl:sameAs ?persoon.\n     ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?perceel.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/teller> ?teller.\n    ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/noemer> ?noemer.\n   \n ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?koopsom\n  \n  \n  \n} \nLIMIT 100\n","panelstyle":"paper2","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Table","titleMenubar":"BRK en BRP gecombineerd (fictief)"},{"titleMenubar":"Combinatie van datasets (fictief)","query":"PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n{{user}}\nSELECT (?perceel as ?uri)  ?geometry (\"perceel\" as ?color) (concat( \"koopsom:\", STR(?koopsom) ,\"  van \",?voornaam,\" \",?achternaam) as ?label)\n#(concat(?voornaam,\" \",?achternaam,\" bsn:\",STR(?bsn),\" koopsom:\",STR(?koopsom),\" \",?teller,\" \",?noemer) as ?label)\n\nfROM  <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n from <https://data.labs.kadaster.nl/lock-unlock/brk>\n    from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \t#from <https://data.federatief.datastelsel.nl/lock-unlock/anbi>\n#from <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n\nWHERE {\n  \n\n     \n  \n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/bsn> ?bsn.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/voornaam> ?voornaam.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?achternaam.\n ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gender>|<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/geslacht> ?gender.\n    optional {\n       ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/heeftGeboorteplaats> ?plaats.\n    }\n  \n  optional\n  {\n   ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gehuwd>/<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?gehuwdMet.\n  }\n     \n  ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan>/owl:sameAs ?persoon.\n     ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?perceel.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/teller> ?teller.\n    ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/noemer> ?noemer.\n   \n ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?koopsom\n  \n  \n  \n} \nLIMIT 100\n","panelstyle":"paper2","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBMap"}],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"appearance":"CAROUSEL_WITH_BUTTONS"}],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true},{"areaSizes":["30%","1"],"areas":[{"publishVariable":"sparql","panelstyle":"paper2","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"List","query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nselect distinct ?label ?uri\nfrom <http://labs.kadaster.nl/lock-unlock/examplequeries>\nwhere\n{\n#Persona_all\n?uri a <http://labs.kadaster.nl/lock-unlock/examplequeries#SparqlQuery>.\n  ?uri rdfs:label ?label\n\n\n}","titleMenubar":"Sparql queries"},{"panelstyle":"paper2","widget":"BBYasgui","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"showLoadingOverlay":false,"query":"\n#Persona_all\n PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nselect distinct ?sparql\nfrom <http://labs.kadaster.nl/lock-unlock/examplequeries>\nwhere\n{\n\n  <{{sparql}}> <http://labs.kadaster.nl/lock-unlock/examplequeries#query> ?sparql.\n  \n}\n\n"}],"direction":"row","widget":"SplitLayout"},null],"areaSizes":["0","1"],"direction":"column","icons":["sitemap","user","cogs","info"],"panelstyle":"paper2","showLoadingOverlay":true}],"direction":"column","widget":"SplitLayout"}],"areaSizes":["0px","auto"],"showLoadingOverlay":true},"repoURL":"https://brk.dst.test.cloud.kadaster.nl/brk/sparql?persona=system","logoURL":"/logos/kadaster.png","sparqlErrorMessage":"\"errors connecting to the server\"","css":"{\"height\":\"100%\"}","pageWidth":"99%","parameterValues":"{\"tnv\":\"http://www.buildingbits.nl/reset\",\"locked\":\"locked\",\"brp\":\"https://brp-lock-unlock.apps.digilab.network/brp/sparql\",\"nhr\":\"https://nhr-lock-unlock.apps.digilab.network/nhr/sparql\",\"anbi\":\"https://anbi-lock-unlock.apps.digilab.network/anbi/sparql\",\"brk\":\"https://brk.dst.test.cloud.kadaster.nl/brk/sparql\"}","public":true,"path":"gGiOb","layoutName":"CUSTOM","notShowBottom":true,"prejs":"document.withCredentials=false; //http://localhost:3030/unlockedInMem/query //http://localhost:3030/unlocked/query","logoutbutton":false,"notShowTop":false,"id":"650c0ad8348dea0024a3fd7b","loaded":true,"layout":{"showFooter":false}}