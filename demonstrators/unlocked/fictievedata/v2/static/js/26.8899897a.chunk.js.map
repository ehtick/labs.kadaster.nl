{"version":3,"sources":["components/widgets/bb/BBSimplePushButton.module.css","components/widgets/bb/BBSimplePushButton.js"],"names":["module","exports","BBSimplePushButton","state","enabled","onClick2","event","alert","onClick","props","sparqlqueryrapport","url","link","postLink","sendPostLink","sendSimpleLink","sendSparqlQueryRapport","this","changeParameter","setInitialValueChangeParameter","publish","sparql","sparql2","parseTextForVariables","window","top","replace","params","URLSearchParams","append","reallySend","data","postObject","key","JSON","parse","value","encodeURI","error","console","log","me","ajax","XMLHttpRequest","open","withCredentials","setRequestHeader","responseType","onreadystatechange","e","readyState","DONE","status","filename","downloadFileName","onload","target","response","type","download","setTimeout","send","v","Math","random","setState","axios","method","then","label","propEnabled","PublishUtils","processStringForParameters","toLowerCase","prop","pubsub","o","results","bindings","size","fontSize","tooltip","beginIcon","endIcon","title","variant","color","className","styles2","openButton","button1","startIcon","disabled","strFileName","strMimeType","blob","reader","self","defaultMime","mimeType","payload","anchor","document","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","call","bind","length","split","pop","href","indexOf","test","navigator","msSaveBlob","dataUrlToBlob","saver","strUrl","parts","binData","atob","decodeURIComponent","mx","i","uiArr","Uint8Array","charCodeAt","winMode","setAttribute","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","Component"],"mappings":"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","file":"static/js/26.8899897a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"BBSimplePushButton_main__3EFmA\",\"button1\":\"BBSimplePushButton_button1__ZHZ8y\",\"openButton\":\"BBSimplePushButton_openButton__sbofc\",\"closeButton\":\"BBSimplePushButton_closeButton__ZuB9u\",\"divtext\":\"BBSimplePushButton_divtext__3wDLA\",\"textfield2\":\"BBSimplePushButton_textfield2__R-PVu\",\"weirdlabel\":\"BBSimplePushButton_weirdlabel__1qF3h\",\"MuiInputLabel-outlined\":\"BBSimplePushButton_MuiInputLabel-outlined__3RSAP\",\"MuiInputLabel-shrink\":\"BBSimplePushButton_MuiInputLabel-shrink__1i_uG\",\"defaultValueButton\":\"BBSimplePushButton_defaultValueButton__2qCLj\",\"outer\":\"BBSimplePushButton_outer__1uCvN\",\"productTitle\":\"BBSimplePushButton_productTitle__2Am_i\",\"inner\":\"BBSimplePushButton_inner__2vZJL\",\"buttonDiv\":\"BBSimplePushButton_buttonDiv__3eZPw\",\"linkbutton\":\"BBSimplePushButton_linkbutton__29kQW\",\"verstrekken\":\"BBSimplePushButton_verstrekken__33HUJ\",\"appBar\":\"BBSimplePushButton_appBar__2g7xa\",\"title\":\"BBSimplePushButton_title__-Jzn9\",\"vpane\":\"BBSimplePushButton_vpane__pPRMx\"};","import axios from 'axios'\nimport React, { Component } from 'react'\nimport styles from '../../Project.module.css'\nimport styles2 from './BBSimplePushButton.module.css'\nimport { parseTextForVariables } from '../../../helpers/sparql'\nimport { Button, Icon, Tooltip } from '@mui/material'\n\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBSimplePushButton extends Component {\n  state = { enabled: true }\n\n  componentDidMount() {\n    if (this.props.changeParameter != null) {\n      if (this.props.setInitialValueChangeParameter === true) {\n        if (this.props[this.props.changeParameter] == null) {\n          this.props.publish(this.props.changeParameter, 'start')\n        }\n      }\n    }\n  }\n\n  onClick2 = (event) => {\n    alert('already busy')\n  }\n\n  onClick = (event) => {\n    if (this.props.sparqlqueryrapport != null) {\n      this.sendSparqlQueryRapport()\n      return\n    }\n\n    let url = this.props.link\n    if (url != null) {\n      this.sendSimpleLink(url)\n      return\n    }\n    url = this.props.postLink\n    if (url != null) {\n      this.sendPostLink(url)\n      return\n    }\n  }\n\n  sendSparqlQueryRapport() {\n    // console.log(\"create sparql report\");\n    let sparql = this.props.sparqlqueryrapport\n\n    let sparql2 = parseTextForVariables(sparql, this.props)\n    // console.log(sparql2);\n    let url = window.top.url\n    url = url.replace('sparql', 'command')\n\n    const params = new URLSearchParams()\n    params.append('commando', 'sparqlReport')\n    params.append('sparql', sparql2)\n\n    //let o = {commando: \"sparqlReport\", sparql:sparql2};\n    this.reallySend(url, params)\n  }\n  sendPostLink(url) {\n    let data = this.props.postObject\n    if (data == null) data = {}\n    \n\n    if (url === 'command') {\n      url = window.top.url\n      url = url.replace('sparql', 'command')\n    }\n\n    const params = new URLSearchParams()\n\n    try {\n      data = JSON.parse(data)\n      for (let key in data) {\n\n        let value = parseTextForVariables(data[key], this.props);\n        value=encodeURI(value);\n        params.append(key,value );\n        //console.log(\"appending \",key,data[key]);\n      }\n    } catch (error) {\n      console.log('JSON command not ok', data)\n      console.log(error)\n    }\n    this.reallySend(url, params)\n  }\n  reallySend(url, params) {\n    var me = this\n    var ajax = new XMLHttpRequest()\n\n    ajax.open('POST', url, true)\n    ajax.withCredentials = true\n    ajax.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')\n    ajax.responseType = 'blob'\n    ajax.onreadystatechange = function (e) {\n      // Call a function when the state changes.\n      if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n        // Request finished. Do processing here.\n        console.log('downloading 22 ', e)\n        //  me.download(e.target.response, \"fileName.xslx\", \"application/octet-stream\");\n      } else {\n        console.log('ready state ', this.readyState)\n        if (this.readyState === XMLHttpRequest.DONE && this.status !== 200) {\n          console.log('readystate changed')\n          //alert(\"error: cannot proceed\");\n        }\n      }\n    }\n    var filename='fileName2.xslx';\n    if (this.props.downloadFileName!=null) filename=this.props.downloadFileName;\n\n    ajax.onload = function (e) {\n      console.log(e.target.response.type)\n      if (e.target.response.type === 'text/xml') {\n        alert('could not download document')\n      } else {\n        me.download(\n          e.target.response,\n          filename,\n          'application/octet-stream'\n        )\n      }\n    }\n    setTimeout(function () {\n      ajax.send(params)\n    }, 0)\n\n    if (this.props.changeParameter != null) {\n      var v = Math.random(100000)\n      // console.log(\"publishing \",this.props.changeParameter,v);\n      this.props.publish(this.props.changeParameter, v)\n    }\n    this.setState({ enabled: true })\n  }\n\n  sendSimpleLink(url) {\n    // console.log(url);\n    this.setState({ enabled: false })\n    axios({\n      method: 'get',\n      url: url,\n    }).then(\n      (response) => {\n        if (this.props.changeParameter != null) {\n          var v = Math.random(100000)\n          // console.log(\"publishing \",this.props.changeParameter,v);\n          this.props.publish(this.props.changeParameter, v)\n        }\n        this.setState({ enabled: true })\n      },\n      (error) => {\n        console.log(error)\n        alert(error)\n        this.setState({ enabled: true })\n      }\n    )\n  }\n\n  render() {\n    let label = this.props.label\n    if (label == null) label = 'geen label'\n    let enabled = this.state.enabled;\n    if (enabled==true)\n    {\n      // maybe disable via enabled parameters\n      var propEnabled=this.props.enabled;\n      \n      if (propEnabled!=null)\n      {\n        propEnabled =PublishUtils.processStringForParameters(this,propEnabled);\n        try {propEnabled=JSON.parse(propEnabled.toLowerCase());} catch(e){}\n        if (propEnabled==false) enabled=false;\n      }\n    }\n\n    try {\n      let prop = { pubsub: {} }\n      let o = this.props.data.results.bindings[0]\n      for (let key in o) {\n        prop.pubsub[key] = o[key].value\n      }\n\n     \n      label = parseTextForVariables(label, prop)\n    } catch (e) {\n      //console.log(e)\n    }\n    let size = this.props.fontSize\n    if (size == null || size === '') {\n      size = '10'\n    }\n    size += 'px'\n\n    let divStyle = { fontSize: size }\n\n    let tooltip = this.props.tooltip\n    if (tooltip == null) {\n      tooltip = ''\n    }\n\n\nlet beginIcon = this.props.beginIcon\n    let endIcon = this.props.endIcon\n\n      \n    return (\n      <Tooltip title={tooltip}>\n          <Button size=\"small\" variant=\"contained\" color=\"grey\" className={styles2.openButton+\" \"+styles2.button1} onClick={this.onClick}\n            endIcon={endIcon && <Icon>{endIcon}</Icon>}\n            startIcon={beginIcon && <Icon>{beginIcon}</Icon>}\n            disabled={!enabled}\n          >\n              {label}\n          </Button>\n     </Tooltip>\n    )\n  }\n\n  download(data, strFileName, strMimeType) {\n    var self = window, // this script is only for browsers anyway...\n      defaultMime = 'application/octet-stream', // this default mime also triggers iframe downloads\n      mimeType = strMimeType || defaultMime,\n      payload = data,\n      url = !strFileName && !strMimeType && payload,\n      anchor = document.createElement('a'),\n      toString = function (a) {\n        return String(a)\n      },\n      myBlob = self.Blob || self.MozBlob || self.WebKitBlob || toString,\n      fileName = strFileName || 'download',\n      blob,\n      reader\n    myBlob = myBlob.call ? myBlob.bind(self) : Blob\n\n    if (String(this) === 'true') {\n      //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n      payload = [payload, mimeType]\n      mimeType = payload[0]\n      payload = payload[1]\n    }\n\n    if (url && url.length < 2048) {\n      // if no filename and no mime, assume a url was passed as the only argument\n      fileName = url.split('/').pop().split('?')[0]\n      anchor.href = url // assign href prop to temp anchor\n      if (anchor.href.indexOf(url) !== -1) {\n        // if the browser determines that it's a potentially valid url path:\n        var ajax = new XMLHttpRequest()\n        ajax.open('GET', url, true)\n        ajax.responseType = 'blob'\n        ajax.onload = function (e) {\n          this.download(e.target.response, fileName, defaultMime)\n        }\n        setTimeout(function () {\n          ajax.send()\n        }, 0) // allows setting custom ajax headers using the return:\n        return ajax\n      } // end if valid url?\n    } // end if url?\n\n    //go ahead and download dataURLs right away\n    if (/^data:[\\w+-]+\\/[\\w+-]+[,;]/.test(payload)) {\n      if (payload.length > 1024 * 1024 * 1.999 && myBlob !== toString) {\n        payload = dataUrlToBlob(payload)\n        mimeType = payload.type || defaultMime\n      } else {\n        return navigator.msSaveBlob // IE10 can't do a[download], only Blobs:\n          ? navigator.msSaveBlob(dataUrlToBlob(payload), fileName)\n          : saver(payload) // everyone else can save dataURLs un-processed\n      }\n    } //end if dataURL passed?\n\n    blob =\n      payload instanceof myBlob\n        ? payload\n        : new myBlob([payload], { type: mimeType })\n\n    function dataUrlToBlob(strUrl) {\n      var parts = strUrl.split(/[:;,]/),\n        type = parts[1],\n        decoder = parts[2] === 'base64' ? atob : decodeURIComponent,\n        binData = decoder(parts.pop()),\n        mx = binData.length,\n        i = 0,\n        uiArr = new Uint8Array(mx)\n\n      for (i; i < mx; ++i) uiArr[i] = binData.charCodeAt(i)\n\n      return new myBlob([uiArr], { type: type })\n    }\n\n    function saver(url, winMode) {\n      if ('download' in anchor) {\n        //html5 A[download]\n        anchor.href = url\n        anchor.setAttribute('download', fileName)\n        anchor.className = 'download-js-link'\n        anchor.innerHTML = 'downloading...'\n        anchor.style.display = 'none'\n        document.body.appendChild(anchor)\n        setTimeout(function () {\n          anchor.click()\n          document.body.removeChild(anchor)\n          if (winMode === true) {\n            setTimeout(function () {\n              self.URL.revokeObjectURL(anchor.href)\n            }, 250)\n          }\n        }, 66)\n        return true\n      }\n\n      // handle non-a[download] safari as best we can:\n      if (\n        /(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(\n          navigator.userAgent\n        )\n      ) {\n        url = url.replace(/^data:([\\w/\\-+]+)/, defaultMime)\n        if (!window.open(url)) {\n          // popup blocked, offer direct download:\n          if (\n            alert(\n              'Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.'\n            )\n          ) {\n          }\n        }\n        return true\n      }\n\n      //do iframe dataURL download (old ch+FF):\n      var f = document.createElement('iframe')\n      document.body.appendChild(f)\n\n      if (!winMode) {\n        // force a mime that will download:\n        url = 'data:' + url.replace(/^data:([\\w/\\-+]+)/, defaultMime)\n      }\n      f.src = url\n      setTimeout(function () {\n        document.body.removeChild(f)\n      }, 333)\n    } //end saver\n\n    if (navigator.msSaveBlob) {\n      // IE10+ : (has Blob, but not a[download] or URL)\n      return navigator.msSaveBlob(blob, fileName)\n    }\n\n    if (self.URL) {\n      // simple fast and modern way using Blob and URL:\n      saver(self.URL.createObjectURL(blob), true)\n    } else {\n      // handle non-Blob()+non-URL browsers:\n      if (typeof blob === 'string' || blob.constructor === toString) {\n        try {\n          return saver('data:' + mimeType + ';base64,' + self.btoa(blob))\n        } catch (y) {\n          return saver('data:' + mimeType + ',' + encodeURIComponent(blob))\n        }\n      }\n\n      // Blob but not URL support:\n      reader = new FileReader()\n      reader.onload = function (e) {\n        saver(this.result)\n      }\n      reader.readAsDataURL(blob)\n    }\n    return true\n  } /* end download() */\n}\nexport default BBSimplePushButton\n"],"sourceRoot":""}