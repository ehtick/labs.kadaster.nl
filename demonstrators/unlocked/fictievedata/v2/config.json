{"project":{"createdAt":"2023-03-15T15:32:19.811Z","title":"Kadaster","path":"kadaster","id":"6411e5038986f00024b17390"},"user":{"name":"Hans Schevers","email":"hans.schevers@buildingbits.nl","role":"superadmin","id":"62278ad6be3c2900303ad8e1"},"createdAt":"2023-09-21T09:20:24.528Z","title":"Lock Unlock","mainArea":{"showLoadingOverlay":true,"areaSizes":["0px","auto"],"areas":[{"showLoadingOverlay":true,"horizontal":true,"options":"locked),locked (not yet implemented),unlocked,unlocked","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"RadioBox","panelstyle":"paper2"},{"widget":"SplitLayout","direction":"column","areas":[{"label":"Persona","publishVariable":"user","query":"select ?uri ?user\nwhere\n{\n  values (?user ?uri) {\n    (\"Alles\" \"?persona=system\")\n    (\"anoniem\" \"\")\n      (\"gemeente Zeewolde\" \"?persona=Zeewolde\")\n    (\"gemeente Almere\" \"?persona=Almere\")\n    \n      (\"koopsom\" \"?persona=koopsom\")\n    (\"Admin-users\" \"?persona=admin_users\") \n    (\"Admin-auth\" \"?persona=admin_auth\")\n   (\"Admin-log\" \"?persona=admin_log\")\n  } \n\n\n}","preSelectFirstItem":true,"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"SelectBox"},{"showLoadingOverlay":true,"panelstyle":"paper2","icons":["sitemap","user","cogs","info"],"direction":"column","areaSizes":["0","1"],"areas":[{"showLoadingOverlay":true,"direction":"row","areaSizes":["1","2"],"areas":[{"showLoadingOverlay":true,"widget":"SplitLayout","direction":"column","areas":[{"panelstyleExtra":"noScrollBars","panelstyle":"paper2","alignItems":"flex-start","showLoadingOverlay":false,"textbefore":"persoon","nullSelectionResetVariable":true,"publishVariable":"tnv","widget":"SearchAutocomplete","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"query":"PREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\nselect distinct  ?naam (?persoon as ?uri)\n    \nwhere\n{\n   service<{{brk}}{{user}}>\n  {\n    {select distinct ?persoon where {\n   graph <https://data.labs.kadaster.nl/lock-unlock/brk> {\n  []<https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan>/owl:sameAs* ?persoon.\n} }}\n}\n  service<{{brp}}{{user}}>\n  {\n  {select distinct ?persoon ?naam where {\n     graph <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n        {\n  \t           ?persoon <http://www.w3.org/2000/01/rdf-schema#label> ?naam\n        }\n   }\n}}\n     \n}\n#5\n      ","titleMenubar":"BRP-BRK service"},{"panelstyleExtra":"noScrollBars","centerContent":true,"titleMenubar":"BRK service","gradientColors":true,"query":"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nprefix fn:<http://www.w3.org/2017/xpath-functions>\nprefix xsd: <http://www.w3.org/2001/XMLSchema#>\n\n\nselect distinct ?koopsom ?jaar \n # from <https://data.labs.kadaster.nl/lock-unlock/brk>\n #   from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n    from <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n    from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\nwhere\n{\n  \n  <{{perceel}}> <http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?koopsom3.\n  bind (xsd:int(?koopsom3/1000000) as ?m)\n  bind (xsd:int((?koopsom3-(?m*1000000))/1000) as ?d)\n  bind (if (?m=0,concat(str(?d),\".000 euro\"),concat(str(?m),\".\",str(?d),\".000 euro\")) as ?koopsom)\n  \n \n   <{{perceel}}> <http://modellen.geostandaarden.nl/def/imx-geo#year> ?jaar.\n   \n \n\n\n}","charttype":"Pie","panelstyle":"paper2","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"Table2","title":"","html":"<H4> Koopsom : {{koopsom}} </H4> <H4> jaar: {{jaar}} </H4> ","htmlgeenresultaat":"niets geselecteerd","renderEmpty":true,"showLoadingOverlay":false},{"panelstyleExtra":"noScrollBars","width":"99%","height":"100%","defaultMenu":false,"legend":true,"popupLabelFixedFormat":"","labelsInChart":false,"stringToColor":false,"widget":"BBEChart","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"titleMenubar":"BRK-BRP Service","query":"PREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nprefix brk:<https://data.labs.kadaster.nl/lock-unlock/brk/def/>\n\n\nselect ?naam ?teller \n \nwhere\n{\n \n  graph <https://data.labs.kadaster.nl/lock-unlock/brk>\n  {\n   ?eigendom brk:rustOp <{{perceel}}>.\n   ?tn brk:van ?eigendom.\n   ?tn brk:aandeelTeller ?teller.\n   ?tn brk:tenNameVan ?persoon.\n   ?persoon ^owl:sameAs|owl:sameAs ?persoonBRP\n  }\n        service<{{brp}}{{user}}>\n        {\n        graph <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n        {\n       \t  #?persoonBRP rdfs:label ?naam.\n        ?persoon rdfs:label ?naam.\n        }\n\n       }\n        \n}\n        #hallo","charttype":"Pie","gradientColors":true,"panelstyle":"paper2","showLoadingOverlay":false,"title":"eigenaren"},{"title":"Kavel eigendom verdeling","gradientColors":true,"query":"PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect ?type ?aantal where\n{\n service<{{brk}}{{user}}>\n  {\n{\nselect ?type (count (distinct ?x) as ?aantal) \n\nwhere\n{\n \n  graph <https://data.labs.kadaster.nl/lock-unlock/brk> {\n  {\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n  filter not exists \n  {\n  \t?eigendom2 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom2!=?eigendom)\n  }\n  bind (\"1 eigenaar\" as ?type)\n  }\n  union\n  {\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    ?eigendom2 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom!=?eigendom2)\n  filter not exists \n  {\n  \t?eigendom3 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom3!=?eigendom)filter (?eigendom3!=?eigendom2)\n  }\n  bind (\"2 eigenaren\" as ?type)\n  }\n   union\n  {\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    ?eigendom2 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    \t?eigendom3 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom!=?eigendom2) filter (?eigendom3!=?eigendom)filter (?eigendom3!=?eigendom2)\n  filter not exists \n  {\n  \t?eigendom4 <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?x.\n    filter (?eigendom4!=?eigendom)filter (?eigendom4!=?eigendom2)filter (?eigendom4!=?eigendom3)\n  }\n  bind (\"3 eigenaren\" as ?type)\n  }\n \n}\n}\ngroup by ?type \norder by ?type\n}\n}\n}","panelstyle":"paper2","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"BBEChart","charttype":"Bar","titleMenubar":"BRK Service","showLoadingOverlay":false,"panelstyleExtra":"noScrollBars","height":"175px","width":"90%"}],"areaSizes":["100px","1","2","2"],"panelstyleExtra":"noScrollBars"},{"showLoadingOverlay":true,"appearance":"CAROUSEL_WITH_BUTTONS","colorPrimaryAction":true,"areas":[{"widget":"SplitLayout","direction":"column","areas":[{"startMin":true,"publishStartValue":true,"label":"aantal","tick":"100","publishVariable":"aantal","query":"select ?max\n{\n  {\n  bind (0 as ?max)\n}\n  union\n  {\n{\nselect distinct (count(distinct ?perceel) as ?max) \nwhere\n{\n  \ngraph <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>{\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  }\n}\n    }}\n}\n","showLoadingOverlay":false,"syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"Slider"},{"fitbounds":true,"colorPrimaryAction":false,"showLoadingOverlay":true,"publishVariable":"perceel","query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n#id1\nselect * where\n{\n  service<{{brk}}{{user}}>\n  {\n\n{SELECT distinct  (?perceel as ?uri) ?geometry (xds:float(?color2) as ?color)  (concat(\"laatste koopsom \",str(?color2)) as ?label) \n{\n \n   <script>\n    if (\"{{tnv}}\"==\"http://www.buildingbits.nl/reset\") {return \"\";}\n    else\n    {\n     return \"?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan> <{{tnv}}>. ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.  ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?perceel.\"     }\n    </script>\n\n\n     graph <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>{\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n\n ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}\n#optional {\n    graph <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n{\n    ?perceel<http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?color2.\n filter (?color2>100000)\nfilter (?color2<3000000)\n}\n  }\n    limit 10000\n}}}\n \n\n\n#title:Laatste koopsom;","panelstyle":"paper2","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBMap","titleMenubar":"BRK Service"}],"areaSizes":["00px","","auto"]},{"showLoadingOverlay":true,"publishVariable":"perceel","query":"","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBMap"},{"query":"  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n \n  \n \nSELECT distinct  (?perceel as ?uri) ?geometry ?color \n {{user}}\n    \n  from <https://data.labs.kadaster.nl/lock-unlock/brk>\n    #from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n    from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \t#from <https://data.federatief.datastelsel.nl/lock-unlock/anbi>\n#from <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n   # from <https://data.labs.kadaster.nl/lock-unlock/koopsom/>\n\n    \nWHERE {\n  \n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n   \n    optional\n    {\n      ?eigendom <http://modellen.geostandaarden.nl/def/imx-geo#rustOp> ?perceel.\n     \n \n  optional {\n\n    ?eigendomV2 <http://modellen.geostandaarden.nl/def/imx-geo#rustOp> ?perceel.\n  filter (?eigendom!=?eigendomV2)\n   optional { ?eigendomV3 <http://modellen.geostandaarden.nl/def/imx-geo#rustOp> ?perceel. \n      filter (?eigendomV3!=?eigendom) filter (?eigendomV3!=?eigendomV2)\n     }\n}\n  }\n \n   \n    \n\n    bind (if (bound(?eigendomV2),\"2 eigenaren\",if (bound(?eigendom),\"1 eigenaar\",\"geen eigenaar gevonden\")) as ?color2)\n   bind (if (bound(?eigendomV3),\"3 eigenaren\",?color2) as ?color)\n    ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n\n  \n} \n       \n  \n  \ngroup by ?perceel ?geometry ?color  {{user}}\n    limit 10000\n  \n\n#title:Percelen;\n#color:RGBA(146,224,0,1)@\"1 eigenaar\";\n#color:RGBA(100,100,55,1)@\"2 eigenaren\";\n#color:RGBA(100,200,155,1)@\"3 eigenaren\";\n\n\n\n","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBMap"}],"tabs":["Eigendom"],"publishVariable":"perceel","query":"  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT distinct  (?perceel as ?uri) ?geometry ?color\n\nWHERE {\n  \n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n  ?eigendom <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n  ?tn <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendom.\n  ?tn <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoon.\n \n    <script>\n    if (\"{{tnv}}\"==\"http://www.buildingbits.nl/reset\") {return \"\";}\n    else\n    {\n     return \"filter (<{{tnv}}>=?persoon) \"\n     }\n    </script>\n   ?persoon rdfs:label ?persoonLabel.\n \n  optional {\n\n    ?eigendomV2 <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n  filter (?eigendom!=?eigendomV2)\n     ?tn2 <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendomV2.\n   ?tn2 <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoon2.\n  ?persoon2 rdfs:label ?persoonLabel2.\n      ?persoon rdfs:label ?persoonLabel.\n    bind (concat (?persoonLabel,\" en \",?persoonLabel2) as ?temp)\n}\n \n    optional\n  {\n      \n  \n    ?eigendomV2 <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n    ?eigendomV3 <http://modellen.geostandaarden.nl/def/imx-brk#rustOp> ?perceel.\n  filter (?eigendom!=?eigendomV2)\n    filter (?eigendom!=?eigendomV3)filter (?eigendomV2!=?eigendomV3)\n ?tnV2 <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendomV2.\n   ?tnV2 <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoonV2.\n  ?persoonV2 rdfs:label ?nameV2.\n     ?tn3 <http://modellen.geostandaarden.nl/def/imx-brk#van> ?eigendomV3.\n   ?tn3 <http://modellen.geostandaarden.nl/def/imx-brk#tenNameVan> ?persoon3.\n  ?persoon3 rdfs:label ?name.\n     \n    ?persoon rdfs:label ?persoonLabel.\n      bind (concat(?persoonLabel,\" , \",?nameV2,\" en \",?name) as ?temp2)\n  }\n  \n \n    \n  bind (if (bound(?temp2),?temp2,if (bound(?temp),?temp,?persoonLabel)) as ?label)\n   bind (if (bound(?temp2),\"3 eigenaren\",if (bound(?temp),\"2 eigenaren\",\"1 eigenaar\")) as ?color)\n  \n  \n} \n  \n\n#title:Percelen;\n#color:RGBA(0,0,255,1)@\"1 eigenaar\";\n#color:RGBA(100,100,55,1)@\"2 eigenaren\";\n#color:RGBA(100,200,55,1)@\"3 eigenaren\";\n\n\n\n","panelstyle":"paper2","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"Tab"},null],"widget":"SplitLayout"},{"icons":["user","table"],"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areas":[{"widget":"SplitLayout","direction":"column","areas":[{"publishVariable":"surl","options":"https://brp-lock-unlock.apps.digilab.network/brp/sparql,brp,https://brk.dst.test.cloud.kadaster.nl/brk/sparql,brk,https://nhr-lock-unlock.apps.digilab.network/nhr/sparql,nhr,https://anbi-lock-unlock.apps.digilab.network/anbi/sparql,ambi","horizontal":true,"label":"Endpoint","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"RadioBox"},{"query":"","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"SplitLayout","panelstyle":"paper2","direction":"row","areas":[{"publishVariable":"user2","query":"select distinct  ?label ?uri\nwhere\n{\n  \n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/users>\n  {\n    ?uri a <https://data.federatief.datastelsel.nl/lock-unlock/authentication/model/def/User>.\n    ?uri <http://www.w3.org/2000/01/rdf-schema#label> ?label\n  }\n}\n\n\n}","panelstyle":"paper2","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"List","titleMenubar":"Users","showLoadingOverlay":true,"resetValues":"groep,rule,role"},{"areaSizes":["50%","50%"],"areas":[{"panelstyleExtra":"NoScrollBars","widget":"SplitLayout","direction":"column","areas":[{"titleMenubar":"Info","widget":"Table2","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct ?username ?psw\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/users>\n  {\n  <{{user2}}> rdfs:label ?username.\n  bind (\"******\" as ?psw)\n  }\n}\n}","showLoadingOverlay":false},{"resetValues":"rule,groep","panelstyleExtra":"","panelstyle":"paper2","publishVariable":"role","query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?uri as ?rolURI)  ?rol\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  <{{user2}}> <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/has_role> ?uri.\n#  bind (STR(?uri) as ?rol)\n  ?uri rdfs:label ?rol\n  }\n}\n}","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"Table","titleMenubar":"Roles","showLoadingOverlay":false},{"panelstyle":"paper2","publishVariable":"groep","query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?uri as ?groepURI)  ?groep\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  <{{role}}> <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/belongs_to_group> ?uri.\n\n  ?uri rdfs:label ?groep\n  }\n}\n}","disable":"","autoOpenOnParameter":"role2","popupCloseOnEscapeKey":true,"popupCloseOnBackdropClick":true,"popupMaxHeight":"100vh","popupMinHeight":"0","popupMaxWidth":"100vw","popupMinWidth":"600px","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areaSizes":["200px","1"],"areas":[{"widget":"SplitLayout","direction":"column","areas":[{"query":"select distinct ?prop ?value\nwhere\n{\n  <{{role}}> ?prop ?value \n}","panelstyle":"paper2","syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Table","showLoadingOverlay":true}],"areaSizes":["200px","1"],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true}],"direction":"column","widget":"Table","popupTitle":"Role info","customStyling":false,"hasButtonShadow":true,"showLoadingOverlay":true,"titleMenubar":"groep"}],"areaSizes":["1","1","1"],"showLoadingOverlay":true},{"areaSizes":["auto","auto"],"areas":[{"publishVariable":"rule","panelstyleExtra":"noScrollBars","panelstyle":"paper2","syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"Table2","query":"\n\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?uri as ?ruleURI)  ?rule ?ruleType ?graphsInDataset\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  \n  <{{groep}}> <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/has_rule> ?uri.\n\n  ?uri rdfs:label ?rule.\n   ?uri a  ?ruleType2.\n  bind (replace(STR(?ruleType2),\"https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/\",\"\") as ?ruleType)\n  \n  \n  optional\n  {\n    ?uri <https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/dataset>/^<https://data.federatief.datastelsel.nl/lock-unlock/authorisation/model/def/part_of_dataset> ?graphsInDataset\n}\n  }\n}\n}","html":"<image src=\"{{image}}\" />","titleMenubar":"rules","showLoadingOverlay":false},{"childParameterText":"<{{rule}}>","widget":"BBPropertyPanel","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","titleMenubar":"Rule details","query":"\n\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect distinct (?label as ?property) ?value ?literal ?pred\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\ngraph <https://data.federatief.datastelsel.nl/lock-unlock/auth>\n  {\n  <{{rule}}> ?pred ?value.\n  ?pred rdfs:label ?label.\n  bind(isLITERAL(?value) as ?literal)\n  }\n}\n}"}],"direction":"column","widget":"SplitLayout"}],"direction":"row","widget":"SplitLayout","panelstyleExtra":"noScrollBars","showLoadingOverlay":true}],"areaSizes":["30%","70%"],"showLoadingOverlay":true}],"areaSizes":["100px","auto"]},{"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areaSizes":["200px","1"],"areas":[{"widget":"List","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","query":"\nselect distinct ?label ?uri\n\nwhere\n{\nservice<{{surl}}{{user}}>{\ngraph <http://labs.kadaster.nl/logging>\n{\n\t?log <https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/by_user> ?uri.\n\tbind (STRAFTER(STR(?uri),\"#\") as ?label)\n}\n}\n}","publishVariable":"luser","titleMenubar":"Users with logs"},{"appearance":"CAROUSEL_WITH_BUTTONS","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areas":[{"titleMenubar":"Amount of queries per user","widget":"BBEChart","voteForUserActionsDisabledWhenLoading":false,"syncWithUserActionsDisabled":false,"showLoadingOverlay":false,"panelstyle":"paper2","query":"select distinct ?key (count(distinct ?log) as ?aantal)\n\nwhere\n{\n  service<{{surl}}{{user}}>{\n  graph <http://labs.kadaster.nl/logging> {\n?log<https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/by_user> <{{luser}}>.\n?log <https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/startDate> ?date.\n # bind (concat(Str(YEAR(?date)),\" \"+str(Month(?date))) as ?key)\nbind (STRBEFORE(STR(?date),\"-\") as ?year)\nbind (STRBEFORE(STRAFTER(STR(?date),\"-\"),\"-\") as ?month)\nbind (concat(STR(?year),\"-\",?month) as ?key)\n\n}\n}}\ngroup by ?key\norder by ?key","charttype":"Col"},{"areaSizes":["300px","1"],"areas":[{"titleMenubar":"Sparql select queries","publishVariable":"log","query":"\nselect distinct (STR(?date) as ?label) (?log as ?uri)\n\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\n  graph <http://labs.kadaster.nl/logging>\n  {\n  \n?log<https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/by_user> <{{luser}}>.\n?log <https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/startDate> ?date.\n # bind (concat(Str(YEAR(?date)),\" \"+str(Month(?date))) as ?key)\n\n}\n}\n}\norder by desc(?date)\nlimit 100\n","panelstyle":"paper2","showLoadingOverlay":false,"syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"List"},{"showLoadingOverlay":false,"syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"areaSizes":["50%","50%"],"areas":[{"widget":"BBYasgui","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","query":"\nselect distinct ?sparql\n\nwhere\n{\n  service<{{surl}}{{user}}>\n  {\n  graph <http://labs.kadaster.nl/logging>\n  {\n<{{log}}><https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/sparqlquery> ?sparql\n}}\n\n}\n\n","titleMenubar":"original query"},{"titleMenubar":"executed sparql query","widget":"BBYasgui","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"query":"{{user}}\nselect distinct ?sparql\n\nwhere\n{\n service<{{surl}}{{user}}>\n  {\ngraph <http://labs.kadaster.nl/logging> {\n<{{log}}><https://data.federatief.datastelsel.nl/lock-unlock/logging/model/def/executedQuery> ?sparql\n}}\n\n}\n\n"}],"direction":"column","widget":"SplitLayout"}],"direction":"row","widget":"SplitLayout"}],"tabs":["charts","sparql"],"widget":"Tab"}],"direction":"row","widget":"SplitLayout"}],"tabs":["User","Log"],"widget":"Tab"},{"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areas":[{"widget":"Table","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","query":"select distinct ?voornaam ?achternaam ?bsn ?gender ?gehuwdMet\nfrom <https://data.federatief.datastelsel.nl/lock-unlock/brp>\nwhere\n{\n # ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/heeftGeboorteplaats> ?plaats.\n  \n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/bsn> ?bsn.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/voornaam> ?voornaam.\n\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?achternaam.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/geslacht> ?gender.\n \n  optional\n  {\n   ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gehuwd>/ <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?gehuwdMet.\n  }\n  \n  #persona_all\n}\nlimit 100","titleMenubar":"BRP data (fictief)"},{"titleMenubar":"KVK Handelsregister data (fictief)","widget":"Table","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"query":"#Persona_All\nPREFIX  geo:  <http://www.opengis.net/ont/geosparql#>\nPREFIX  xsd:  <http://www.w3.org/2001/XMLSchema#>\nPREFIX  rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX  rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX kvk:\t<https://data.federatief.datastelsel.nl/lock-unlock/nhr/def/>\n\nSELECT DISTINCT  ?KVKNummer ?rechtsvorm ?bedrijfsnaam ?rsinNummer ?leiNummer ?stichtingsjaar\nFROM <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n#FROM <https://data.federatief.datastelsel.nl/lock-unlock/gemeentenamen>\nWHERE\n  { \n  ?inschrijving kvk:kvkNummer ?KVKNummer.\n  ?inschrijving kvk:rechtsvorm ?rechtsvorm.\n  ?inschrijving kvk:bedrijsnaam|kvk:bedrijfsnaam ?bedrijfsnaam.\n  ?inschrijving kvk:rsinNummer ?rsinNummer.\n \n  ?inschrijving kvk:leiNummer ?leiNummer.\n  ?inschrijving kvk:stichtingsjaar ?stichtingsjaar.\n  \n  #?inschrijving kvk:UBO ?ubo.\n  \n}\nLIMIT   110"},null,{"appearance":"CAROUSEL_WITH_BUTTONS","areas":[{"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Table","panelstyle":"paper2","query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n{{user}}\nSELECT distinct ?perceel ?geometry\n\n #from <https://data.labs.kadaster.nl/lock-unlock/brk>\nfrom <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n\nWHERE {\n\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}  \n\n  limit 10\n\n#title:Laatste koopsom;"},{"query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n{{user}}\nSELECT distinct (?perceel as ?uri) ?geometry (\"Perceel\" as ?color)\n\n #from <https://data.labs.kadaster.nl/lock-unlock/brk>\nfrom <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n\nWHERE {\n\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}  \n\n  limit 100\n\n#title:Laatste koopsom;","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"BBMap"}],"tabs":["tab1","Tab 2"],"showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"widget":"Tab","panelstyle":"paper2","query":"PREFIX xds: <http://www.w3.org/2001/XMLSchema#>\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n\n{{user}}\nSELECT distinct ?perceel ?geometry\n\n #from <https://data.labs.kadaster.nl/lock-unlock/brk>\nfrom <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  \n\nWHERE {\n\n  ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n \n}  \n\n  limit 10\n\n#title:Laatste koopsom;"},{"widget":"Table","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"query":"\n  PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nselect *\n\n\n{{user}}\n\n      from <https://data.labs.kadaster.nl/lock-unlock/brk>\n   # from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n  #  from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \n \nwhere\n{\n  ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> [].\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/teller> ?teller.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan> ?persoon.\n  # ?persoon rdfs:label ?naam.\n}\n  \n\n  limit 10","panelstyle":"paper2","titleMenubar":"BRK fictief"},{"appearance":"CAROUSEL_WITH_BUTTONS","showLoadingOverlay":true,"syncWithUserActionsDisabled":true,"voteForUserActionsDisabledWhenLoading":true,"areas":[{"titleMenubar":"BRK en BRP gecombineerd (fictief)","widget":"Table","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","query":"PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n{{user}}\nSELECT  ?voornaam ?achternaam ?bsn ?koopsom ?teller ?noemer #?geometry\n\n\nfROM  <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n from <https://data.labs.kadaster.nl/lock-unlock/brk>\n    from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \t#from <https://data.federatief.datastelsel.nl/lock-unlock/anbi>\n#from <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n\nWHERE {\n  \n\n     \n  \n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/bsn> ?bsn.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/voornaam> ?voornaam.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?achternaam.\n ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gender>|<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/geslacht> ?gender.\n    optional {\n       ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/heeftGeboorteplaats> ?plaats.\n    }\n  \n  optional\n  {\n   ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gehuwd>/<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?gehuwdMet.\n  }\n     \n  ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan>/owl:sameAs ?persoon.\n     ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?perceel.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/teller> ?teller.\n    ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/noemer> ?noemer.\n   \n ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?koopsom\n  \n  \n  \n} \nLIMIT 100\n"},{"widget":"BBMap","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","query":"PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n{{user}}\nSELECT (?perceel as ?uri)  ?geometry (\"perceel\" as ?color) (concat( \"koopsom:\", STR(?koopsom) ,\"  van \",?voornaam,\" \",?achternaam) as ?label)\n#(concat(?voornaam,\" \",?achternaam,\" bsn:\",STR(?bsn),\" koopsom:\",STR(?koopsom),\" \",?teller,\" \",?noemer) as ?label)\n\nfROM  <https://data.labs.kadaster.nl/lock-unlock/koopsom>\n from <https://data.labs.kadaster.nl/lock-unlock/brk>\n    from <https://data.federatief.datastelsel.nl/lock-unlock/brp>\n from <https://data.labs.kadaster.nl/Unlock/unlock/rkkgpercelen>\n  \t#from <https://data.federatief.datastelsel.nl/lock-unlock/anbi>\n#from <https://data.federatief.datastelsel.nl/lock-unlock/nhr>\n\nWHERE {\n  \n\n     \n  \n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/bsn> ?bsn.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/voornaam> ?voornaam.\n  ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?achternaam.\n ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gender>|<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/geslacht> ?gender.\n    optional {\n       ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/heeftGeboorteplaats> ?plaats.\n    }\n  \n  optional\n  {\n   ?persoon <https://data.federatief.datastelsel.nl/lock-unlock/brp/def/gehuwd>/<https://data.federatief.datastelsel.nl/lock-unlock/brp/def/achternaam> ?gehuwdMet.\n  }\n     \n  ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/tenNameVan>/owl:sameAs ?persoon.\n     ?perceel a <http://modellen.geostandaarden.nl/def/imx-geo#Perceel> .\n  ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#begrenzing>/geo:asWKT ?geometry.\n   ?eigendom <https://data.labs.kadaster.nl/lock-unlock/brk/def/rustOp> ?perceel.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/van> ?eigendom.\n   ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/teller> ?teller.\n    ?tn <https://data.labs.kadaster.nl/lock-unlock/brk/def/noemer> ?noemer.\n   \n ?perceel <http://modellen.geostandaarden.nl/def/imx-geo#laatsteKoopsom>/rdf:value ?koopsom\n  \n  \n  \n} \nLIMIT 100\n","titleMenubar":"Combinatie van datasets (fictief)"}],"tabs":["Tab 1","Tab 2"],"widget":"Tab"}],"tabs":["BRP","KVK","ANBI","Percelen","BRK","Combi"],"widget":"Tab"},{"widget":"SplitLayout","direction":"row","areas":[{"titleMenubar":"Sparql queries","query":"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nselect distinct ?label ?uri\nfrom <http://labs.kadaster.nl/lock-unlock/examplequeries>\nwhere\n{\n#Persona_all\n?uri a <http://labs.kadaster.nl/lock-unlock/examplequeries#SparqlQuery>.\n  ?uri rdfs:label ?label\n\n\n}","widget":"List","voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"showLoadingOverlay":true,"panelstyle":"paper2","publishVariable":"sparql"},{"query":"\n#Persona_all\n PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nselect distinct ?sparql\nfrom <http://labs.kadaster.nl/lock-unlock/examplequeries>\nwhere\n{\n\n  <{{sparql}}> <http://labs.kadaster.nl/lock-unlock/examplequeries#query> ?sparql.\n  \n}\n\n","showLoadingOverlay":false,"syncWithUserActionsDisabled":false,"voteForUserActionsDisabledWhenLoading":false,"widget":"BBYasgui","panelstyle":"paper2"}],"areaSizes":["30%","1"]},null],"widget":"BBSideMenu","tabs":["FDS","User","Silos","Sparql"],"voteForUserActionsDisabledWhenLoading":true,"syncWithUserActionsDisabled":true,"startCollapsed":true}],"areaSizes":["50px","auto"]}],"direction":"column","widget":"SplitLayout"},"repoURL":"https://brk.dst.test.cloud.kadaster.nl/brk/sparql?persona=system","logoURL":"/logos/kadaster.png","sparqlErrorMessage":"\"errors connecting to the server\"","css":"{\"height\":\"100%\"}","pageWidth":"99%","parameterValues":"{\"tnv\":\"http://www.buildingbits.nl/reset\",\"locked\":\"locked\",\"brp\":\"https://brp-lock-unlock.apps.digilab.network/brp/sparql\",\"nhr\":\"https://nhr-lock-unlock.apps.digilab.network/nhr/sparql\",\"anbi\":\"https://anbi-lock-unlock.apps.digilab.network/anbi/sparql\",\"brk\":\"https://brk.dst.test.cloud.kadaster.nl/brk/sparql\"}","public":true,"path":"gGiOb","layoutName":"CUSTOM","notShowBottom":true,"prejs":"document.withCredentials=false; //http://localhost:3030/unlockedInMem/query //http://localhost:3030/unlocked/query","logoutbutton":false,"notShowTop":true,"id":"650c0ad8348dea0024a3fd7b","loaded":true,"layout":{"showFooter":false}}