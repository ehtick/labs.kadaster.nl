{"version":3,"sources":["components/widgets/bb/rules/StartRuleButton.module.css","components/widgets/bb/rules/StartRuleButton.js"],"names":["module","exports","StartRuleButton","state","enabled","handleButtonClick","rule","props","startRule","PublishUtils","processStringForParameters","setState","setLoading","parameters","Command","runRulesWithTag","success","failure","window","alert","setTimeStampParameter","console","log","msg","failureMessage","tooltip","this","title","disable","disableParameter","dvalue","pubsub","beginIcon","endIcon","className","styles","openButton","button1","color","size","startIcon","onClick","variant","disabled","Component"],"mappings":"2HACAA,EAAOC,QAAU,CAAC,KAAO,8BAA8B,QAAU,iCAAiC,WAAa,oCAAoC,YAAc,qCAAqC,QAAU,iCAAiC,WAAa,oCAAoC,WAAa,oCAAoC,yBAAyB,gDAAgD,uBAAuB,8CAA8C,mBAAqB,4CAA4C,MAAQ,+BAA+B,aAAe,sCAAsC,MAAQ,+BAA+B,UAAY,mCAAmC,WAAa,oCAAoC,YAAc,qCAAqC,OAAS,gCAAgC,MAAQ,+BAA+B,MAAQ,+B,uMCa33BC,EAAe,iKAyCjC,OAzCiC,oCAClCC,MAAQ,CAACC,SAAQ,GAAM,EAEvBC,kBAAoB,WAElB,IAAIC,EAAM,EAAKC,MAAMC,UACrB,GAAU,MAANF,EAAJ,CAKAA,EAAMG,IAAaC,2BAA2B,eAAKJ,GACnD,EAAKK,SAAS,CAACP,SAAQ,IACvB,EAAKG,MAAMK,YAAW,GACtB,IAAIC,EAAa,EAAKN,MAAMM,WAC5BA,EAAWJ,IAAaC,2BAA2B,eAAKG,GACxDC,IAAQC,gBAAgBT,EAAKO,EAAW,EAAKG,QAAQ,EAAKC,QAN1D,MAFEC,OAAOC,MAAM,qBAUjB,EAAC,EAIFH,QAAU,WAEPP,IAAaW,sBAAsB,gBAAK,GACxCC,QAAQC,IAAI,8BACZ,EAAKf,MAAMK,YAAW,GACtB,EAAKD,SAAS,CAACP,SAAQ,GACzB,EAAC,EAEDa,QAAU,WAER,IAAIM,EAAM,EAAKhB,MAAMiB,eACjBlB,EAAM,EAAKC,MAAMC,UACV,MAALe,GAAoB,IAALA,IAEnBA,EAAI,2BAA2BjB,GAEjCY,OAAOC,MAAMI,GACb,EAAKhB,MAAMK,YAAW,GACtB,EAAKD,SAAS,CAACP,SAAQ,GACzB,EAAC,EA6DA,OA7DA,mCAKD,WAAU,IAAD,OAEHqB,EAAUC,KAAKnB,MAAMkB,QACV,MAAXA,IACFA,EAAU,IAEZ,IAAIE,EAAQD,KAAKnB,MAAMoB,MACV,MAATA,IACFA,EAAQ,IAGV,IAAIC,GAAQ,EACZ,GAAwB,MAApBF,KAAKnB,MAAMqB,QACf,CACE,IAAIC,EAAmBH,KAAKnB,MAAMqB,QAC9BE,EAAOJ,KAAKnB,MAAMwB,OAAOF,GAEjB,MAARC,IAEFF,GAAQ,GAEE,oCAARE,IAEFF,GAAQ,EAGZ,CAEwB,GAApBF,KAAKvB,MAAMC,UAEbwB,GAAQ,GAGV,IAAII,EAAYN,KAAKnB,MAAMyB,UACvBC,EAAUP,KAAKnB,MAAM0B,QAGzB,OAEI,cAAC,IAAO,CAACN,MAAOF,EAAQ,SACtB,cAAC,IAAM,CACLS,UAAWC,IAAOC,WAAW,IAAID,IAAOE,QACxCC,MAAM,OACNC,KAAK,QACLN,QAASA,GAAW,cAAC,IAAI,UAAEA,IAC3BO,UAAWR,GAAa,cAAC,IAAI,UAAEA,IAC/BS,QAAS,kBAAM,EAAKpC,mBAAmB,EACvCqC,QAAQ,YACRC,SAAUf,EAAQ,SAEjBD,KAMX,KAAC,EAtGiC,CAASiB,Y","file":"static/js/28.da57ef97.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"StartRuleButton_main__Y05k9\",\"button1\":\"StartRuleButton_button1__Ze1L8\",\"openButton\":\"StartRuleButton_openButton__18k2h\",\"closeButton\":\"StartRuleButton_closeButton__38wAs\",\"divtext\":\"StartRuleButton_divtext__3Iir3\",\"textfield2\":\"StartRuleButton_textfield2__3Lykh\",\"weirdlabel\":\"StartRuleButton_weirdlabel__2F3m0\",\"MuiInputLabel-outlined\":\"StartRuleButton_MuiInputLabel-outlined__1WEr0\",\"MuiInputLabel-shrink\":\"StartRuleButton_MuiInputLabel-shrink__3G5D1\",\"defaultValueButton\":\"StartRuleButton_defaultValueButton__MuBgT\",\"outer\":\"StartRuleButton_outer__3F06_\",\"productTitle\":\"StartRuleButton_productTitle__3JUE-\",\"inner\":\"StartRuleButton_inner__KQqUf\",\"buttonDiv\":\"StartRuleButton_buttonDiv__3_bnj\",\"linkbutton\":\"StartRuleButton_linkbutton__1TvzD\",\"verstrekken\":\"StartRuleButton_verstrekken__1MdS3\",\"appBar\":\"StartRuleButton_appBar__whduk\",\"title\":\"StartRuleButton_title__3Hd2f\",\"vpane\":\"StartRuleButton_vpane__NMg8C\"};","import React, { Component } from 'react'\r\nimport styles from './StartRuleButton.module.css'\r\n\r\nimport {\r\n  Button,\r\n  Tooltip,\r\n  Icon\r\n} from '@mui/material'\r\n\r\nimport Command from '../../../../helpers/Command'\r\nimport { WindowSharp } from '@mui/icons-material'\r\nimport PublishUtils from '../../../../helpers/PublishUtils'\r\n\r\n\r\nexport default class StartRuleButton extends Component {\r\n  state = {enabled:true }\r\n\r\n  handleButtonClick = () => \r\n  {\r\n    var rule =this.props.startRule;\r\n    if (rule==null)\r\n    {\r\n      window.alert(\"no rule configured\");\r\n      return;\r\n    }\r\n    rule =PublishUtils.processStringForParameters(this,rule);\r\n    this.setState({enabled:false});\r\n    this.props.setLoading(true);\r\n    var parameters = this.props.parameters;\r\n    parameters=PublishUtils.processStringForParameters(this,parameters);\r\n    Command.runRulesWithTag(rule,parameters,this.success,this.failure);\r\n    \r\n  }\r\n\r\n  \r\n\r\n success = () => \r\n  {\r\n    PublishUtils.setTimeStampParameter(this,true);\r\n    console.log(\"rules executed succesfully\");\r\n    this.props.setLoading(false);\r\n    this.setState({enabled:true})\r\n  }\r\n\r\n  failure = () => \r\n  {\r\n    var msg = this.props.failureMessage;\r\n    var rule =this.props.startRule;\r\n    if ( (msg==null) || (msg==\"\"))\r\n    {\r\n      msg=\"error in executing rule \"+rule;\r\n    }\r\n    window.alert(msg);\r\n    this.props.setLoading(false);\r\n    this.setState({enabled:true})\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n \r\n    let tooltip = this.props.tooltip\r\n    if (tooltip == null) {\r\n      tooltip = ''\r\n    }\r\n    let title = this.props.title\r\n    if (title == null) {\r\n      title = ''\r\n    }\r\n   \r\n    let disable=false;\r\n    if (this.props.disable!=null)\r\n    {\r\n      var disableParameter = this.props.disable;\r\n      var dvalue=this.props.pubsub[disableParameter];\r\n      //console.log(disableParameter,dvalue)\r\n      if (dvalue==null) \r\n      {\r\n        disable=true;\r\n      }\r\n      if (dvalue==\"http://www.buildingbits.nl/reset\")\r\n      {\r\n        disable=true;\r\n      }\r\n     \r\n    }\r\n\r\n    if (this.state.enabled==false)\r\n    {\r\n      disable=true;\r\n    }\r\n\r\n    let beginIcon = this.props.beginIcon\r\n    let endIcon = this.props.endIcon\r\n \r\n   \r\n    return (\r\n     \r\n        <Tooltip title={tooltip}>\r\n          <Button\r\n            className={styles.openButton+\" \"+styles.button1}\r\n            color=\"grey\"\r\n            size=\"small\"\r\n            endIcon={endIcon && <Icon>{endIcon}</Icon>}\r\n            startIcon={beginIcon && <Icon>{beginIcon}</Icon>}\r\n            onClick={() => this.handleButtonClick()}\r\n            variant=\"contained\"\r\n            disabled={disable}\r\n          >\r\n            {title}\r\n          </Button>\r\n        </Tooltip>\r\n\r\n       \r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}