(this["webpackJsonpviewer-builder-client"]=this["webpackJsonpviewer-builder-client"]||[]).push([[24],{1120:function(a,t,r){a.exports={widgetContainer:"BBEChart_widgetContainer__3wBna"}},1306:function(a,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return f}));var e=r(5),s=r(6),i=r(7),l=r(8),p=r(1),h=r(941),n=r(219),o=r.n(n),v=r(944);function d(a){var t=function(a,t){var r=!1;"#"==a[0]&&(a=a.slice(1),r=!0);var e=parseInt(a,16),s=(e>>16)+t;s>255?s=255:s<0&&(s=0);var i=(e>>8&255)+t;i>255?i=255:i<0&&(i=0);var l=(255&e)+t;return l>255?l=255:l<0&&(l=0),(r?"#":"")+(l|i<<8|s<<16).toString(16)}(a,50);return new v.o.LinearGradient(0,0,1,0,[{offset:0,color:t},{offset:.5,color:a},{offset:1,color:t}])}function u(a){for(var t=0,r=0;r<a.length;r++)t=a.charCodeAt(r)+((t<<5)-t);for(var e="#",s=0;s<3;s++){e+=("00"+(t>>8*s&255).toString(16)).substr(-2)}return d(e)}function c(a,t){try{var r=a.split("#color:RGBA(");for(var e in r)if(0!=e){var s=r[e].split(')@"'),i=s[0],l=s[1].split('";')[0];if(l=l.replace('"',""),i=i.split(","),l.includes(t))return this.rgbToHex(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]))}}catch(p){console.log(p)}return console.log("color not found reverting to string color"),u(t)}var y=r(1120),b=r.n(y),g=r(0),f=function(a){Object(i.a)(r,a);var t=Object(l.a)(r);function r(){return Object(e.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"get1ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0];for(var r in this.props.data.results.bindings){var e=this.props.data.results.bindings[r],s=0;try{s=e[t].value}catch(i){}a.push({value:s})}return a}},{key:"get2ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1];for(var e in this.props.data.results.bindings){var s=this.props.data.results.bindings[e],i=0;try{i=s[r].value}catch(l){}a.push({name:s[t].value,value:i})}return a}},{key:"get3ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2];for(var s in this.props.data.results.bindings){var i=this.props.data.results.bindings[s],l=0;try{l=i[r].value}catch(h){}var p=0;try{p=i[e].value}catch(h){}a.push({name:i[t].value,value:l,value2:p})}return a}},{key:"get3ParameterDataStacked",value:function(){var a=this.props.data.head.vars[0],t=this.props.data.head.vars[1],r=this.props.data.head.vars[2],e={},s={},i=[],l=null;for(var p in this.props.data.results.bindings){var h=this.props.data.results.bindings[p],n=h[a].value;n!==l&&(l=n,i.push(n));var o=e[n];null==o&&(o={},e[n]=o),o[h[t].value]=h[r].value,s[h[t].value]=""}var v=[],d=[];for(var u in s){var c=[];for(var y in d.push(u),i){var b=(o=e[i[y]])[u];null==b&&(b=0),c.push(b)}var g={name:u,type:"bar",stack:"yes",barWidth:"75%",data:c};v.push(g)}var f={series:v,xAxis:[{type:"category",data:i}],yAxis:[{type:"value"}]};return f.legend={data:d},f}},{key:"get4ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3];for(var i in this.props.data.results.bindings){var l=this.props.data.results.bindings[i],p=0;try{p=l[r].value}catch(o){}var h=0;try{h=l[e].value}catch(o){}var n=0;try{n=l[s].value}catch(o){}a.push({name:l[t].value,value:p,value2:h,value3:n})}return a}},{key:"get5ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3],i=this.props.data.head.vars[4];for(var l in this.props.data.results.bindings){var p=this.props.data.results.bindings[l],h=0;try{h=p[r].value}catch(d){}var n=0;try{n=p[e].value}catch(d){}var o=0;try{o=p[s].value}catch(d){}var v=0;try{v=p[i].value}catch(d){}a.push({name:p[t].value,value:h,value2:n,value3:o,value4:v})}return a}},{key:"get6ParameterData",value:function(){var a=[];try{var t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3],i=this.props.data.head.vars[4],l=this.props.data.head.vars[5];for(var p in this.props.data.results.bindings){var h=this.props.data.results.bindings[p],n=0;try{n=h[r].value}catch(y){}var o=0;try{o=h[e].value}catch(y){}var v=0;try{v=h[s].value}catch(y){}var d=0;try{d=h[i].value}catch(y){}var u=0;try{u=h[l].value}catch(y){}var c=h[t].value;c=c.replace(" ","").replace(" ","").replace(" ",""),a.push({name:c,value:n,value2:o,value3:v,value4:d,value5:u})}}catch(y){console.log(y)}return a}},{key:"get7ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3],i=this.props.data.head.vars[4],l=this.props.data.head.vars[5],p=this.props.data.head.vars[6];for(var h in this.props.data.results.bindings){var n=this.props.data.results.bindings[h],o=0;try{o=n[r].value}catch(b){}var v=0;try{v=n[e].value}catch(b){}var d=0;try{d=n[s].value}catch(b){}var u=0;try{u=n[i].value}catch(b){}var c=0;try{c=n[l].value}catch(b){}var y=0;try{y=n[p].value}catch(b){}a.push({name:n[t].value,value:o,value2:v,value3:d,value4:u,value5:c,value6:y})}return a}},{key:"get8ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3],i=this.props.data.head.vars[4],l=this.props.data.head.vars[5],p=this.props.data.head.vars[6],h=this.props.data.head.vars[7];for(var n in this.props.data.results.bindings){var o=this.props.data.results.bindings[n],v=0;try{v=o[r].value}catch(f){}var d=0;try{d=o[e].value}catch(f){}var u=0;try{u=o[s].value}catch(f){}var c=0;try{c=o[i].value}catch(f){}var y=0;try{y=o[l].value}catch(f){}var b=0;try{b=o[p].value}catch(f){}var g=0;try{g=o[h].value}catch(f){}a.push({name:o[t].value,value:v,value2:d,value3:u,value4:c,value5:y,value6:b,value7:g})}return a}},{key:"get9ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3],i=this.props.data.head.vars[4],l=this.props.data.head.vars[5],p=this.props.data.head.vars[6],h=this.props.data.head.vars[7],n=this.props.data.head.vars[8];for(var o in this.props.data.results.bindings){var v=this.props.data.results.bindings[o],d=0;try{d=v[r].value}catch(W){}var u=0;try{u=v[e].value}catch(W){}var c=0;try{c=v[s].value}catch(W){}var y=0;try{y=v[i].value}catch(W){}var b=0;try{b=v[l].value}catch(W){}var g=0;try{g=v[p].value}catch(W){}var f=0;try{f=v[h].value}catch(W){}var m=0;try{m=v[n].value}catch(W){}a.push({name:v[t].value,value:d,value2:u,value3:c,value4:y,value5:b,value6:g,value7:f,value8:m})}return a}},{key:"get10ParameterData",value:function(){var a=[],t=this.props.data.head.vars[0],r=this.props.data.head.vars[1],e=this.props.data.head.vars[2],s=this.props.data.head.vars[3],i=this.props.data.head.vars[4],l=this.props.data.head.vars[5],p=this.props.data.head.vars[6],h=this.props.data.head.vars[7],n=this.props.data.head.vars[8],o=this.props.data.head.vars[8];for(var v in this.props.data.results.bindings){var d=this.props.data.results.bindings[v],u=0;try{u=d[r].value}catch(x){}var c=0;try{c=d[e].value}catch(x){}var y=0;try{y=d[s].value}catch(x){}var b=0;try{b=d[i].value}catch(x){}var g=0;try{g=d[l].value}catch(x){}var f=0;try{f=d[p].value}catch(x){}var m=0;try{m=d[h].value}catch(x){}var W=0;try{W=d[n].value}catch(x){}var k=0;try{k=d[o].value}catch(x){}a.push({name:d[t].value,value:u,value2:c,value3:y,value4:b,value5:g,value6:f,value7:m,value8:W,value9:k})}return a}},{key:"getOption",value:function(){try{if(null==this.props.data)return{};if("BarStacked"===this.props.charttype)return this.getColBarOptionStacked(!0);if("ColStacked"===this.props.charttype)return this.getColBarOptionStacked(!1);var a=this.props.data,t=null;if(1===a.head.vars.length&&(t=this.get1ParameterData()),2===a.head.vars.length&&(t=this.get2ParameterData()),3===a.head.vars.length&&(t=this.get3ParameterData()),4===a.head.vars.length&&(t=this.get4ParameterData()),5===a.head.vars.length&&(t=this.get5ParameterData()),6===a.head.vars.length&&(t=this.get6ParameterData()),7===a.head.vars.length&&(t=this.get7ParameterData()),8===a.head.vars.length&&(t=this.get8ParameterData()),9===a.head.vars.length&&(t=this.get9ParameterData()),10===a.head.vars.length&&(t=this.get10ParameterData()),null!=t){if("Pie"===this.props.charttype)return this.getPieOption(t,!1);if("Doughnut"===this.props.charttype)return this.getPieOption(t,!0);if("Bar"===this.props.charttype)return this.getColBarOption(t,!0);if("Col"===this.props.charttype)return this.getColBarOption(t,!1);if("gauge"===this.props.charttype)return this.getGaugeOption(t,!1);console.log("geen charttype aanwezig")}}catch(r){}return{}}},{key:"getGaugeOption",value:function(a){return{tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:a}]}}},{key:"getColBarOption",value:function(a,t){var r=[],e=[],s=[],i=[],l=[],p=[],h=[],n=[],v=[],d=[],u=[],c={},y=[],b={};for(var g in a){c[a[g].name]="",b[a[g].value]="",r.push(a[g].name),e.push(a[g].value);try{s.push(a[g].value2)}catch(F){}try{i.push(a[g].value3)}catch(F){}try{l.push(a[g].value4)}catch(F){}try{p.push(a[g].value5)}catch(F){}try{h.push(a[g].value6)}catch(F){}try{n.push(a[g].value7)}catch(F){}try{v.push(a[g].value8)}catch(F){}try{d.push(a[g].value9)}catch(F){}}for(var f in c)u.push(f);for(var m in b)y.push(m);var W=this.props.data.head.vars[1].replaceAll("_"," "),k=[{name:W,type:"bar",barWidth:"60%",data:e}];if(s.length>0){var x=this.props.data.head.vars[2];null!=x&&(k=[{name:W,type:"bar",barWidth:"40%",data:e},{name:x=x.replaceAll("_"," "),type:"bar",barWidth:"40%",data:s}])}if(i.length>0){var A=this.props.data.head.vars[3];null!=A&&(k=[{name:W,type:"bar",barWidth:"25%",data:e},{name:x,type:"bar",barWidth:"25%",data:s},{name:A=A.replaceAll("_"," "),type:"bar",barWidth:"25%",data:i}])}if(l.length>0){var P=this.props.data.head.vars[4];null!=P&&(k=[{name:W,type:"bar",barWidth:"20%",data:e},{name:x,type:"bar",barWidth:"20%",data:s},{name:A,type:"bar",barWidth:"20%",data:i},{name:P=P.replaceAll("_"," "),type:"bar",barWidth:"20%",data:l}])}if(p.length>0){var w=this.props.data.head.vars[5];null!=w&&(k=[{name:W,type:"bar",barWidth:"17%",data:e},{name:x,type:"bar",barWidth:"17%",data:s},{name:A,type:"bar",barWidth:"17%",data:i},{name:P,type:"bar",barWidth:"17%",data:l},{name:w=w.replaceAll("_"," "),type:"bar",barWidth:"17%",data:p}])}if(h.length>0){var C=this.props.data.head.vars[6];null!=C&&(k=[{name:W,type:"bar",barWidth:"14%",data:e},{name:x,type:"bar",barWidth:"14%",data:s},{name:A,type:"bar",barWidth:"14%",data:i},{name:P,type:"bar",barWidth:"14%",data:l},{name:w,type:"bar",barWidth:"14%",data:p},{name:C=C.replaceAll("_"," "),type:"bar",barWidth:"14%",data:h}])}if(n.length>0){var D=this.props.data.head.vars[7];null!=D&&(k=[{name:W,type:"bar",barWidth:"14%",data:e},{name:x,type:"bar",barWidth:"14%",data:s},{name:A,type:"bar",barWidth:"14%",data:i},{name:P,type:"bar",barWidth:"14%",data:l},{name:w,type:"bar",barWidth:"14%",data:p},{name:C,type:"bar",barWidth:"14%",data:h},{name:D=D.replaceAll("_"," "),type:"bar",barWidth:"14%",data:n}])}if(v.length>0){var O=this.props.data.head.vars[8];null!=O&&(k=[{name:W,type:"bar",barWidth:"14%",data:e},{name:x,type:"bar",barWidth:"14%",data:s},{name:A,type:"bar",barWidth:"14%",data:i},{name:P,type:"bar",barWidth:"14%",data:l},{name:w,type:"bar",barWidth:"14%",data:p},{name:C,type:"bar",barWidth:"14%",data:h},{name:D,type:"bar",barWidth:"14%",data:n},{name:O=O.replaceAll("_"," "),type:"bar",barWidth:"14%",data:v}])}if(d.length>0){var S=this.props.data.head.vars[9];null!=S&&(k=[{name:W,type:"bar",barWidth:"14%",data:e},{name:x,type:"bar",barWidth:"14%",data:s},{name:A,type:"bar",barWidth:"14%",data:i},{name:P,type:"bar",barWidth:"14%",data:l},{name:w,type:"bar",barWidth:"14%",data:p},{name:C,type:"bar",barWidth:"14%",data:h},{name:D,type:"bar",barWidth:"14%",data:n},{name:O,type:"bar",barWidth:"14%",data:v},{name:S=S.replaceAll("_"," "),type:"bar",barWidth:"14%",data:d}])}var B=this,_=function(a){var t="";try{t=B.props.popupLabelExtension}catch(l){}null==t&&(t="");var r=2;try{r=parseInt(B.props.popupLabelFixedFormat)}catch(l){}if(null==r&&(r=2),a instanceof Array){if(a.length){var e="";return e+="".concat(a[0].axisValueLabel.replaceAll("_"," ")),a.forEach((function(a){var s=a.value;try{s=parseFloat(s).toFixed(r)}catch(l){}s+=t,e+="<br/>".concat(a.marker).concat(a.seriesName.replaceAll("_"," "),": ").concat(s).concat(a.data.unit||"")})),e}return null}var s="",i=a.value;try{i=parseFloat(i).toFixed(r)}catch(l){}i+=t;try{s+="".concat(a[0].axisValueLabel.replaceAll("_"," "))}catch(l){}return s+="<br/>".concat(a.marker).concat(a.seriesName.replaceAll("_"," "),": ").concat(i).concat(a.data.unit||"")},L={color:this.getDefaultColors(),tooltip:{trigger:"item",axisPointer2:{type:"shadow"},showDelay:0,transitionDuration:.2,formatter:function(a){var t=B.props.popupLabelExtension;if(null==t&&(t=""),Array.isArray(a)){var r="";for(var e in a){var s,i=a[e];s=(s=i.value+"").replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,"),r+='<span style="z-index:1000">'+i.seriesName+":"+s+" "+t+"</span><br>"}return r}return s=(s=a.value+"").replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,"),'<span style="z-index:1000">'+a.seriesName+"<br/>"+s+" "+t+"</span>"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:k},j=this.getColor(k,this.props.gradientColors);if(null!=j&&0!=j.length&&(L.color=j),this.props.popupLabelExtension&&(L.tooltip.formatter=_),this.props.popupLabelFixedFormat&&(L.tooltip.formatter=_),t){var I=L.xAxis;L.xAxis=L.yAxis,L.yAxis=I}if(1===k.length?this.addLegend(L,u):this.addLegend(L,y),!0===this.props.legend&&(L.legend={orient:"vertical",left:"right",top:10}),null!=this.props.optionOptions)try{var T=JSON.parse(this.props.optionOptions);L=o.a.merge(L,T)}catch(z){console.log(z,this.props.optionOptions)}return L}},{key:"addLegend",value:function(a,t){a.legend={data:t}}},{key:"addToolbox",value:function(a){a.toolbox={show:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0,title:"mark"},dataView:{show:!0,readOnly:!1,title:"data view"},magicType:{show:!0,type:["line","bar","stack","tiled"]},title:{line:"line",bar:"bar",stack:"stack",tiled:"tiled"},saveAsImage:{show:!0,title:"save as Image"}}}}},{key:"getPieOption2",value:function(a,t){var r="";null!=this.props.title&&(r=this.props.title);var e="";null!=this.props.subtitle&&(e=this.props.subtitle);var s="75%";t&&(s=["50%","75%"]);var i={};return i={title:{text:r,subtext:e,left:"center",top:"2%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{type:"pie",avoidLabelOverlap:!0,radius:s,center:["50%","50%"],data:a,animation:!0,label:{show:!0}}]},!0===this.props.legend&&(i.legend={orient:"vertical",left:"right",bottom:10}),i}},{key:"arraytojson",value:function(a){var t={};for(var r in a){var e=parseInt(r),s=a[r];s.startsWith("#")||(t[s]=a[e+1])}return t}},{key:"getDefaultColors",value:function(){var a=["#4cabce","#006699","#4cabce","#e5323e","#003366","#ff00aa","#ff1111","#aabbcc","#ccbbaa","#11ff11","#1111ff"];if(this.props.gradientColors){var t=[];for(var r in a){var e=d(a[r]);t.push(e)}a=t}return a}},{key:"getColor",value:function(a,t){var r=this.getDefaultColors(),e=0,s=[];try{if(null==a)return console.log("series ==null. do not know what is going on "),r;if(null!=this.props.color){var i=this.arraytojson(this.props.color);for(var l in a){var p=a[l],h=null;try{h=i[p]}catch(n){}if(null==h)try{h=i[p.name]}catch(n){}if(null==h)try{s.push(r[e]),e++}catch(o){t?s.push(d("#ffaa11")):s.push("#ffaa11")}else t?s.push(d(h)):s.push(h)}}}catch(n){s=r}return s}},{key:"getColBarOptionStacked",value:function(a){var t=this.get3ParameterDataStacked();return t.color=["#4cabce","#006699","#4cabce","#e5323e"],t.tooltip={trigger:"axis",axisPointer:{type:"shadow"}},t.grid={left:"3%",right:"4%",bottom:"3%",containLabel:!0},t.plotarea={"adjust-layout":!0},t}},{key:"getPieOption",value:function(a,t){var r="";null!=this.props.title&&(r=this.props.title);var e="";null!=this.props.subtitle&&(e=this.props.subtitle);var s="75%";t&&(s=["50%","75%"]);var i={};return i={title:{text:r,subtext:e,left:"center",top:"2%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{type:"pie",avoidLabelOverlap:!0,radius:s,center:["50%","50%"],data:a,animation:!0,label:{show:!0}}]},!0===this.props.legend&&(i.legend={orient:"vertical",left:"right",bottom:10,"adjust-layout":!0}),i}},{key:"ready",value:function(a){try{a.parent.resize()}catch(t){}}},{key:"render",value:function(){this.echartupdate=!0;var a=this.getOption();this.props.enableZoom&&(a.dataZoom=[{type:"inside"}]);try{this.props.query.includes("#color:RGBA(")&&this.stringToSparqlColor(this.props.query,a)}catch(i){}this.props.stringToColor&&this.processStringToColor(a),a.width="98%",null!=this.props.title&&(a.title={text:this.props.title,"adjust-layout":!0},!0===this.props.defaultMenu&&this.addToolbox(a),!1===this.props.legend&&(a.legend=null));var t={};if(this.props.labelsInChart)try{for(var r in t={show:!0,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",rotate:90,formatter:"{c} {name|{a}}",fontSize:16,rich:{name:{}}},a.series){a.series[r].label=t}}catch(i){}var e=this.props.height;null!=e&&""!=e||(e="92%");var s=this.props.width;return null!=s&&""!=s||(s="92%"),Object(g.jsx)("div",{className:b.a.widgetContainer,children:Object(g.jsx)(h.a,{style:{height:e,width:s},notMerge:!0,lazyUpdate:!1,option:a,onChartReady:this.ready})})}},{key:"stringToSparqlColor",value:function(a,t){try{if("Pie"===this.props.charttype){t.color=[];var r=t.series[0].data;for(var e in r)t.color.push(c(a,r[e].name));return}}catch(o){}try{if("Bar"===this.props.charttype||"Col"===this.props.charttype){var s=null;try{s=t.legend.data}catch(o){}for(var i in null==s&&(s=t.xAxis[0].data),t.series){var l=[];for(var p in s){var h={value:t.series[i].data[p]},n={color:c(a,s[p])};h.itemStyle=n,l.push(h)}t.series[i].data=l}return}}catch(o){console.log(o)}}},{key:"processStringToColor",value:function(a){try{if("Pie"===this.props.charttype){a.color=[];var t=a.series[0].data;for(var r in t)a.color.push(u(t[r].name));return}}catch(p){}try{if("Bar"===this.props.charttype){var e=a.legend.data,s=[];for(var i in e){var l={value:a.series[0].data[i]};l.itemStyle={color:u(e[i])},s.push(l)}return void(a.series[0].data=s)}}catch(p){}}}]),r}(p.Component)}}]);
//# sourceMappingURL=24.a4591052.chunk.js.map