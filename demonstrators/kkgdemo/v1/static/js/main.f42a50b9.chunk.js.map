{"version":3,"sources":["components/Dialog.js","helpers/resolve-template-string.ts","images/person.svg","images/gear.svg","components/Header.js","components/Home.module.css","components/ConfigurationTopBar.module.css","components/ui-primitives/button.tsx","helpers/widget.ts","components/widgets/Tab.tsx","components/Header.module.css","components/Users.module.css","components/widgets/Table2.module.css","components/widgets/SearchAutocomplete.module.css","helpers/AfterJS.js","components/FontList.tsx","model/project.ts","model/user.ts","api/login.ts","images/wistor-logo-white-with-text.svg","components/Footer.js","components/ui-primitives/popover.tsx","components/widgets/Slider.module.css","components/login/LoginPageLayout.module.css","redux/projects.js","components/ui-primitives/label.tsx","components/widgets/bb/BBPicture.module.css","components/JsonEditor.module.css","helpers/layout.ts","components/default-widget-config.ts","redux/project.js","components/basic/Button.tsx","components/basic/Form.module.css","components/widgets/SelectBox.module.css","components/widgets/SplitLayout.module.css","redux/users.js","components/mui/resolutions.module.css","helpers/utils.js","components/FormField.module.css","helpers/DeferredPromise.ts","helpers/SparqlManager.ts","components/basic/Button.module.css","components/widgets/RadioBox.module.css","helpers/PublishUtils.ts","images/plus.svg","components/widgets/bb/BBPropertyPanelDescriptor.js","components/widgets/bb/BBCheckboxTreeDescriptor.js","components/ui-primitives/pre-span.tsx","components/widgets/TableDescriptor.js","components/widgets/TableCells.js","components/widgets/TreeDescriptor.js","components/widgets/TreeD3Descriptor.js","components/widgets/SelectBox.js","components/widgets/Slider.js","components/widgets/SearchAutocomplete.js","components/widgets/SplitLayout.js","components/widgets/SplitLayoutTestDescriptor.js","components/widgets/Yasgui.js","components/widgets/bb/BBMap.js","components/widgets/bb/BBMapExperimental.js","components/widgets/bb/BBMultiMap.js","components/widgets/bb/BBTreeTable.js","components/widgets/bb/BBYasgui.js","components/widgets/bb/BBYasguiLatest.js","components/widgets/bb/BBYasr.js","components/widgets/bb/BBYasguiNotebook.js","components/widgets/bb/BBNotebook.js","components/widgets/bb/BBKGApiVizWidget.js","components/widgets/bb/BBVoyager.js","components/widgets/bb/BBAccordionDescriptor.js","components/widgets/bb/BBPicture.js","components/widgets/bb/BBHTML.js","components/widgets/bb/editor/BBDFormDescriptor.js","components/widgets/bb/BBSideMenuConfigs.ts","components/widgets/bb/BBSideMenuDescriptor.js","components/widgets/bb/BBEChartDescriptor.js","components/widgets/bb/BBBoorkern.js","components/widgets/bb/rules/StartRuleButtonDescriptor.ts","components/widgets/bb/BBLinkButtons.js","components/widgets/bb/BBStructuredTextDescriptor.js","components/widgets/bb/kvk/BBKVKProductTemplateDescriptor.js","components/widgets/bb/BBBackMenu.js","components/widgets/bb/BBSimplePushButtonDescriptor.js","components/widgets/bb/BBVenn.js","components/widgets/bb/BBForm.js","components/widgets/bb/BBUploadDescriptor.js","components/widgets/bb/BBNOML.js","components/widgets/bb/rotterdam/ButtonPopupDescriptor.js","components/widgets/bb/BBRDFViewer.js","components/widgets/bb/BBCesium.js","components/widgets/bb/BBSVG.js","components/widgets/bb/venr/BBWegselectorDescriptor.js","components/widgets/bb/BBParameterLinkEmptyWidget.js","components/widgets/SequencePaths.js","components/widgets/bb/BBIFCJSViewerDescriptor.js","components/widgets/bb/ifc/BBThreeJSViewerDescriptor.js","components/widgets/bb/BBSparnaturalDescriptor.js","components/widgets/bb/deck/NebulaDescriptor.js","hooks/use-debounce.ts","components/widgets/TextInput.tsx","components/widgets/DynamicFilter/dynamicFilterWidgetDescription.tsx","components/widgets/ExcelWidgetDescriptor.tsx","components/ToggleSwitch.tsx","components/widgets/ToggleWidget.tsx","components/widgets/jobStatusWidgetDescription.ts","components/widgets/bb/BBLibremapDescriptor.js","components/widgets/bb/BBMermaidDescriptor.js","components/WidgetCategory.js","components/widgets/ListDescriptor.js","components/widgets/RadioBox.js","components/widgets/TablePlusPlus/config-options.tsx","components/widgets/TablePlusPlus/tablePlusPlusWidgetDescription.tsx","components/ui-primitives/tabs.tsx","components/widgets/ifcjs/IFCJSViewerV3Descriptor.js","components/widgets/bb/BBIfcViewerNextGen.js","components/widgets/bb/BBTableDescriptor.js","components/widgets/bb/BBSVGEditorDescriptor.js","components/widgets/index.js","images/cross.svg","components/Loader.tsx","components/Widget.js","components/ui-primitives/switch.tsx","components/ui-primitives/dialog.tsx","components/ui-primitives/command.tsx","components/ui-primitives/input-with-suggestions.tsx","utils/parse-sparql-params.ts","components/widgets/TablePlusPlus/ColumnConfiguration.tsx","components/ui-primitives/search-select.tsx","components/FormField.tsx","components/WidgetWrapper.tsx","components/mui/LargeTooltip.tsx","components/Area.js","helpers/run-start-rule.ts","components/ui-primitives/input.tsx","hooks/use-dialog.tsx","redux/current-viewer.ts","images/info.svg","components/AutoHyperlink.js","components/SPARQLEditor.tsx","helpers/user-input-messenger.ts","components/HelpDialog.tsx","components/Dialog.module.css","components/Viewer.js","components/widgets/TableCells.module.css","components/widgets/Yasgui.module.css","components/widgets/bb/BBHTML.module.css","components/widgets/SequencePaths.module.css","components/widgets/bb/Button.module.css","components/Notifications.module.css","components/widgets/Table.js","components/ToggleSwitch.module.css","helpers/styling.ts","components/WidgetWrapper.module.css","components/widgets/bb/BBIFrame.js","redux/pubsub.ts","utils/uri.ts","components/FormGroup.tsx","images/gear-white.svg","images/gear-blue.svg","components/widgets/bb/BBVis.js","components/widgets/bb/kvk/BBKVKFlexibleTextWidget.js","components/sortable/sortable-item.tsx","helpers/sparql.js","components/BackButton.module.css","components/DeleteAppConfigButton.module.css","components/basic/Input.module.css","components/Notification.js","components/widgets/Table2.js","components/widgets/bb/BBIFCViewer.js","components/widgets/ToggleWidget.module.css","components/Loader.module.css","components/ViewerContextUtils.js","components/AppVariables.tsx","components/SparqlTriggerExecutor.tsx","components/TriggerPopup.tsx","components/ConfigurationTopBar.tsx","components/widgets/Icon.ts","components/Area.module.css","helpers/url.ts","components/widgets/bb/bbutil.js","images/arrow-back.svg","images/add.svg","images/wistor-mark-color.svg","components/Home.js","components/BackButton.js","components/Users.js","components/DeleteAppConfigButton.tsx","api/delete-app-config.ts","api/utils.ts","components/Project.js","components/login/LoginPageLayout.tsx","components/login/Login.tsx","api/repo-login.ts","components/login/RepoLogin.tsx","components/ProtectedRoute.tsx","App.js","serviceWorker.js","components/mui/theme.tsx","index.js","components/Project.module.css","components/widgets/Table.module.css","components/Footer.module.css","redux/login.ts","redux/rootReducer.ts","redux/event.js","store.ts","components/Viewer.module.css","images/spinner.gif","components/Spinner.js","components/JsonEditor.tsx","components/TriggerPopup.module.css","helpers/LoginHelper.js","helpers/Command.js","components/widgets/Tab.module.css"],"names":["Dialog","children","onClose","className","styles","overlay","frame","onClick","e","stopPropagation","body","NoPlaceholderValueError","placeholder","options","message","Error","resolveTemplateString","template","published","placeholders","subscribePropMatches","match","Set","map","f","replace","getPlaceholders","length","query","value","getValue","replacePlaceholderWithValue","resolveTemplateStringAndLogErrors","console","log","pubValue","includes","split","negatedTopic","String","toLowerCase","escapedValue","placeholderPattern","RegExp","replaceAll","Header","state","collapsed","logoutRepoOrPlatform","props","bbsparqlendpoint","Command","sendCommand","window","location","reload","logout","href","login","history","push","pathname","onClickManageUsers","mouseOver","mouseOut","loginState","this","logoutbutton","showLogoutButton","isLoggingIn","isLoggedIn","showLoginButton","noLoginButton","Grow","direction","appear","timeout","in","wrapper","modern","main","style","maxWidth","pageWidth","src","logoURL","alt","maxHeight","marginRight","centerPart","title","float","alignTitle","onInfoClick","infoIcon","AutoHyperlink","text","subtitle","auth","person","nameContainer","lineHeight","user","name","role","color","padding","fontSize","Component","withRouter","connect","module","exports","buttonVariants","cva","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","React","ref","type","asChild","Comp","Slot","mergeClasses","undefined","displayName","getSubscription","previousState","currentState","topic","transform","isValid","hasChanged","current","previous","transformation","success","isValidIndex","x","str","number","Number","int","parseInt","isNotInt","isNaN","isString","interpolateSubscriptions","widget","strTemplate","outputFormat","interpolated","PublishUtils","processStringForParameters","APPEARANCE","Tab","selectedIndex","hideTabs","areas","id","tabId","onTabClick","index","tabSelectionSubscription","publish","setState","updateTabs","prevProps","hideTabsTopic","tabIndexTopic","tabIndex","pubsub","alert","newSelectedIndex","newHideTabs","tabs","hideTabIDs","tabHideId","firstNonHiddenIndex","getFirstNonHiddenTab","mode","viewMode","panelstyle","appearance","TraditionalTabs","icons","inactiveTabsOnlyIcons","Boolean","tab","areaConfig","selected","withinSelectedTab","areaContainer","display","key","config","onChange","carouselClickNavigation","navigateToNextTab","CarouselTabs","withButtons","getDescription","tabDescription","registeredTabComponents","component","label","variables","topicValueInterpolationEnabled","tabText","at","isSelected","hideTabText","carouselTabsContainer","carouselButton","prevIcon","tabLabel","i","carouselItem","itemIcon","nextIcon","hideTabIds","AfterJS","jsAfterSelection","js","eval","parameter","pred","pv","publishVariable","sparql","top","MySparql","select","arg","result","results","bindings","FontListButton","show","useDialog","preventDefault","HelpDialog","FontList","AVAILABLE_FONTS","font","navigator","clipboard","writeText","ProjectSchema","z","object","string","path","createdAt","UserSchema","email","project","optional","union","literal","LS_TOKEN_KEY","credentials","axios","post","response","token","data","localStorage","setItem","parse","me","removeItem","AxiosError","error","reason","ERR_INVALID_RESPONSE_WITH_SUGGESTION","getCurrentUser","getItem","get","headers","Authorization","withCredentials","Footer","keuze","er","logo","height","marginTop","marginBottom","normaal","names","waternet2","commentMessage","kvk","buildingbits","wistor","mayer","Popover","PopoverPrimitive","PopoverTrigger","PopoverContent","align","sideOffset","fetchProjects","cb","dispatch","getState","projects","loaded","method","url","createProject","values","initialState","loading","items","handleProjects","action","labelVariants","Label","LabelPrimitive","LAYOUT_NAME","CUSTOM","ORIGINAL","LAYOUT_CONFIG","showFooter","inflateLayout","viewer","layoutName","layout","DEFAULT_WIDGET_CONFIG","general","voteForUserActionsDisabledWhenLoading","syncWithUserActionsDisabled","showLoadingOverlay","SelectBox","preSelectFirstItem","ToggleWidget","publishTopic","enabledBgColor","disabledBgColor","popupMinWidth","popupMaxWidth","popupMinHeight","popupMaxHeight","popupCloseOnBackdropClick","popupCloseOnEscapeKey","BBParameterLinkEmptyWidget","JobStatus","statusLabels","statusTextTemplateString","refetchInterval","IFCJSViewerV3","resetSelectionOnSparqlUpdate","FETCH_VIEWER_SUCCESS","FETCH_PROJECT_SUCCESS","SAVE_VIEWER_SUCCESS","DELETE_APP_SUCCESS","SET_LAYOUT_NAME","viewers","handleProject","filter","v","deleted","item","otherProps","clsx","ButtonLink","fetchUsers","users","createUser","handleUser","not","fn","isEmptyObject","obj","Object","keys","getPrototypeOf","prototype","CancelToken","getSparqlFunction","ss","getAbsoluteRepoUrl","repoURL","getUrl","errorRV","encodeURIComponent","defaults","document","cancelToken","c","cancel","then","call","catch","createSparqlFunction2","Symbol","toStringTag","DeferredPromise","promise","resolve","reject","Promise","bind","ErrorNeedAuth","instances","Map","cache","SparqlTemplate","sparqlEndpoint","templateId","lastRequest","cancelActiveRequest","set","isLatest","has","cachedResults","setTimeout","URLSearchParams","maxContentLength","Infinity","maxBodyLength","Accept","waitFor","shouldCacheQuery","isAxiosError","status","ms","debug","timestampParameters","Date","now","json","parsedObject","rule","ruleTagAfterSubmit","runStartRule","parameters","resetValues","resetParametersRaw","resetParameters","resetValue","promises","resetParameter","currentValue","setTimeoutAsync","all","arg2","resetDataProps","button","multipleselectparametertype","list","record","forEach","getMultiplePropValueAsSingleValue","JSON","stringify","valueString","komma","pre","end","kommaT","getEmptyMultiplePropValueAsSingleValue","n","multipleSelectParameterType","multiplePropValue","csvuri","prefix","postfix","separator","csvstring","valuestring","valueuri","after","lookingFor","parseSymbolIntoParsed","parsed","char","symbol","expectedChar","parsedLength","initialParserState","Array","from","reduce","currentEscapeChar","errorMessage","callback","delay","resetUri","BBPropertyPanelDescriptor","lazy","defaultQuery","getTimestampParametersDef","BBDCheckboxTreeDescriptor","PreSpan","unicodeBidi","fontFamily","whiteSpace","TableDescriptor","category","description","helpComponent","QueryHelp","getResetValueDef","target","rel","TableCells","res","endsWith","isArray","re","sort","a","b","localeCompare","restructureResponse","rowsHash","rows","headersHash","nitem","header","row","isFirstItemBold","firstItemBold","headVar","rindex","hindex","TreeDescriptor","getMultipleValueFormatOptions","TreeD3Descriptor","event","value2","value3","getAttribute","publishVariable2","toString","publishVariable3","preSelect","isEqual","head","vars","ok","keyURI","keyLabel","headVars","stylePanel","stylePrimaryAction","colorPrimaryAction","extrastyle","round","extra","Slider","sliderTouched","onmouseup","onChangeThrottle","throttle","newRange","defineMaxMinValue","oldRange","maxValue","minValue","Math","max","min","startMin","publishStartValue","alternateProps","step","tick","container","rangeValue","slider","onMouseUp","SearchAutocomplete","searchValue","validItems","showPopup","itemsRef","createRef","handleKeyPress","selectedItem","objectKey","objectURIKey","scrollToSelectedItem","itemsStartingWithSearchQuery","startsWith","itemsOnlyContainingSearchQuery","onBlur","emptyEvent","nullSelectionResetVariable","resetPublishVariable","selectVariable","sv","selectedProp","requestAnimationFrame","querySelector","element","cTop","scrollTop","cBottom","clientHeight","eTop","offsetTop","eBottom","isInView","scrollIntoView","block","objectURI","ind","indexOf","Icon","l1","slice","l2","l3","fontWeight","renderLabel","noResults","ee","mainStyle","alignItems","css","cssEscape","textbefore","inputContainer","headertxt","placeholderText","onKeyDown","cursor","renderValidItems","SplitLayout","firstTime","areaSizes","extraClassNames","overflowHidden","disableScrollbars","areaSize","trim","flex","fixedSize","test","heightOrWidth","minimize","substr","toLocaleUpperCase","hidden","disableFlexbox","SplitLayoutTestDescriptor","Yasgui","onRunClick","loadData","yas","textArea","yasgui","Yasqe","setValue","err","buttonContainer","minWidth","tableContainer","renderData","BBMap","bbFolderName","selectedUri","scrolling","noEvents","usesParameters","getJSScriptAfterSelectionChange","BBIFrame","BBMapExperimental","experimental","BBMultiMap","setSelectedUris","selectedUris","getListAsSingleValue","sendSelectedUrisToIframe","iframeRef","contentWindow","postMessage","subscribeVariable","prevState","newSelectedUris","parseMultiplePropValue","join","BBTreeTable","iface","selectUri","BBYasgui","BBYasguiLatest","BBYasr","BBYasguiNotebook","BBNotebook","BBKGApiVizWidget","ar","createVizJSON","BBVoyager","BBAccordionDescriptor","BBPicture","encodedData","pictureBaseEncoded","BBHTML","html","htmlgeenresultaat","html2","html3","cls","fullwindow","dangerouslySetInnerHTML","__html","BBDFormDescriptor","sideMenuConfigs","BBSideMenuDescriptor","BBEChartDescriptor","BBBoorkern","updateMe","StartRuleButtonDescriptor","BBLinkButtons","buttonFontSize","buttonFontFamily","buttonStyles","buttonsContainer","customStyling","buttonBorderRadius","textColor","bgColor","marginBetweenButtons","buttonContainerPadding","projectStyles","labels","CustomStyleButton","links","openLinkInSameTab","openLinksInTheSameTab","beginIcon","beginIcons","endIcon","endIcons","hasButtonShadow","OriginalButton","textDecoration","titleText","margin","startIcon","BBStructuredTextDescriptor","BBKVKProductTemplateDescriptor","BBBackMenu","anchorEl","selections","handleClickBack","rValue","pop","changeSelectedTabs","t","getTabId","sel","handleClose","newValue","o","disabled","Tooltip","IconButton","BBSimplePushButtonDescriptor","BBVenn","BBForm","BBUploadDescriptor","BBNOML","ButtonPopupDescriptor","BBRDFViewer","BBCesium","BBSVG","BBDWegselectorDescriptor","uri","par","publishParameter","ex","WIDGET_VARIABLES","SequencePaths","sequences","previousData","render","sequence","entry","Fragment","iconName","pathSegment","componentDidUpdate","makeHashMaps","rowByUri","rowsByParentUri","r","parentUri","flatMap","getSequences","parent","sequenceRows","topicOnClick","BBIFCJSViewerDescriptor","BBSparnaturalDescriptor","NebulaDescriptor","useDebounce","onTimeout","debounceTime","debounceOn","timerRef","useRef","useEffect","clearTimeout","FormGroup","_FormGroup","Input","_Input","_Label","DEFAULT","DEBOUNCE_TIME","WIDTH","textInputWidgetDescription","publishText","topicToPublish","resolvedText2","setResolvedText","setText","parsedDebounceTime","debounceTimeInSeconds","initialValue","initialResolvedValue","inputParameter","useState","resolvedText","rt","width","marginLeft","hiddenvalue","dynamicFilterWidgetDescription","excelWidgetDescription","ToggleSwitch","checked","isToggled","toggleWidgetDescription","iconImage","handleClick","disabledIconColor","enabledIconColor","iconButton","jobStatusWidgetDescription","BBLibremapDescriptor","BBPMermaidDescriptor","WidgetCategory","basic","widget2D","widget3D","graphic","edit","other","ListDescriptor","RadioBox","publishVariableLabel","restructureOptions","org","option","radioContainerHor","verticalAlign","paddingRight","paddingLeft","radioContainerVer","horizontal","renderOptionsHorizontal","renderOptionsVertical","configOptions","example","uuidv4","TablePlusPlusDescription","Tabs","TabsPrimitive","TabsList","TabsTrigger","TabsTriggerAlt","TabsContent","IFCJSViewerV3Descriptor","UploadConversionJsonHelp","getRunRuleParametersDef","UPLOADCONVERSIONJSON_DEFAULT","UPLOADCONVERSIONJSON_EVERYTHING","UPLOADCONVERSIONJSON_PSETS","UPLOADCONVERSIONJSON_BIMLEGAL","defaultValue","readonly","BBIfcViewerNextGen","BBTableDescriptor","BBSVGEditorDescriptor","widgetDefinitions","BBSideMenu","SplitLayoutTest","BBAccordion","BBEChart","BBVis","RadioBoxDescriptor","Tree","BBCheckboxTree","BBPropertyPanel","TreeD3","Table","Table2","BBSimplePushButton","BBIFCViewer","BBIFCJSViewer","BBThreeJSViewer","BBDForm","BBMermaidDescriptor","BBKVKProductTemplate","BBKVKFlexibleTextWidget","BBStructuredText","BBUpload","ButtonPopup","StartRuleButton","BBSparnatural","Loader","fallback","LoadingOverlay","active","Spinner","require","Widget","lastQuery","resolveTemplateVariableInQuery","changedPublishProps","publishMultipleValues","prop_value","prop","setLoading","voteForUserActionsDisabled","setLoadingFromWidget","sendNotification","msg","toast","resolveTemplateVariableInQueryDebounce","debounce","useLoadingWidget","createSparqlFunction","endpoint","getCgiUrl","repoName","localRepoURL","widgetId","modus","host","encodedQuery","sparqlQuery","codes","nquery","codeQuery","evalcode","evalCode2","Function","originalQuery","countRetries","runJSInQuery","fetch","CanceledError","reauth","goToLoginPage","definition","find","variable","propsWithoutChildren","cloneElement","closeDialog2","closeDialog","Switch","SwitchPrimitives","DialogPortal","DialogPrimitive","DialogOverlay","DialogContent","CommandPrimitive","CommandInput","CommandList","List","CommandEmpty","Empty","CommandGroup","Group","Separator","CommandItem","Item","InputWithSuggestions","input","setInput","open","setOpen","suggestionsWithCurrentInput","suggestions","some","suggestion","onOpenChange","zIndex","onValueChange","noSuggestionsPlaceholder","onSelect","parseSparqlParams","params","inSelect","inParentheses","lastAliasParam","insideAlias","tokens","toUpperCase","param","dataColumnConfigSchema","filterable","boolean","sortable","startRuleActionSchema","startRule","timestampVariable","publishAppVarSchema","actionColumnConfigSchema","nonempty","buttons","array","actions","columnConfigSchema","parseColumn","column","dataColumn","safeParse","actionColumn","TablePlusPlusColumnConfig","sparqlVarNames","setSparqlVarNames","selectVarNames","setSelectVarNames","columnConfigs","setTabId","dataYasqe","useSelector","activeYasqes","currentViewer","updateSPARQLVarNames","getVariablesFromQuery","s","getValueWithoutComments","on","reasonablyClickableSensors","useSensors","useSensor","PointerSensor","activationConstraint","distance","isLinked","isActionColumn","updateColumn","targetColumn","newColumnConfig","dataVarNames","dataSelectVarNames","unlinkedVarNames","varName","unlinkedSelectVarNames","newColumns","newColumn","sensors","onDragEnd","over","activeId","overId","oldIdx","findIndex","newIdx","arrayMove","reorder","onPointerDown","onMouseDown","onFocus","onCheckedChange","JsonEditor","columnConfig","parsedInput","SearchSelect","buttonClassName","contentClassName","noResultsLabel","LabelWithHelp","gap","flexGrow","FormField","theme","classforname","cssFix","check","anyProps","WidgetWrapper","userActionsDisabled","clickable","LargeTooltip","styled","arrow","classes","popper","tooltipClasses","tooltip","textTransform","widgetDefinitionsSorted","Area","dialogVisible","originalConfig","onInsertLayout","confirm","onDeleteWidget","onFormChange","isLayoutWidget","moveConfig","area","onChildChange","newConfig","onShowPopupInfo","popupInfoVisible","infoPopupClose","openAndSaveOriginalConfigForUndo","closeAndKeepConfigChanges","save","closeAndUndoConfigChanges","handleVoteForUserActionsDisabled","voterId","uniqueId","hasVotedForUserActionsDisabled","store","votersForGlobalUserActionsDisabled","widgetDefinition","widgetUserActionsDisabled","parameterValues","sparqlErrorMessage","parseUrlProperties","withTopicValues","menubar","titleMenuBar","titleMenubar","removeUnresolvedParametersFromString","islayout","queryDef","extraStyling1","extraStyling2","extraStyling3","extraStyling4","panelstyleExtra","sts","displayFlex","outerAreaContainerDisplayFlex","infoMenubarb","infoMenubar","hidden2","hiddenwhenparametersareempty","hids2","hid2","visibilityState","visibility","outerAreaContainer","shouldApplyBorderRadius","zeroBorderRadiusWidget","areaBorderStyle","areaBorderRadius","finalTopLeftBorderRadius","finalTopRightBorderRadius","finalBottomLeftBorderRadius","finalBottomRightBorderRadius","hoverToEdit","hoverIndicator","placement","editArea","insertIcon","gearBlue","gearWhite","editIcon","deleteIcon","menubartxt","renderWidget","formElement","wd","tag","textAlign","widgetDefinitionVariables","widgetName","isUserActionsDisabled","ruleTagOrUriTemplate","parametersJson","additionalTemplateVariables","dict","resolvedRule","resolvedParameters","isValidUri","ruleRule","runRulesWithTag","root","getElementById","createElement","setAttribute","appendChild","getRoot","ReactDOM","remove","appCss","currentViewerReducer","newVoters","add","delete","emailRegExp","emails","matchAll","texts","emailsFromLeftToRight","reduceRight","extractNonEmailTexts","SparqlEditor","setYas","setRef","newYas","CURRENT_KEY_PRESSES","userInputChannel","BroadcastChannel","setupUserInputMessenger","windowElement","addEventListener","broadcastKeyRegistration","registerKey","deregisterKey","Button_","Viewer","notification","showJSONEditor","onJsonEditClick","keepAlive","keepAliveInterval","clearInterval","setInterval","isAuthorised","saveTriggers","triggers","updateViewer","mainArea","selectLayout","savingPromise","opts","registerAppCss","saveImpl","showNotification","getViewProps","projectPath","viewerPath","new","timer","strippedData","onDialogOkClick","onHeaderClick","jsonOKClick","voteToDisableUserActions","repoUrl","repoLoginParams","btoa","_instance","loadViewerIntoState","CONNECTED_APPS_STATIC","CONFIG_URL","request","configResponse","loadNewViewerConfig","prejs","error2","loadConfig","shouldConnectToWistorBackend","isAutoLogin","search","fullAccess","userParameters","userUri","userName","silent","viewerParams","isLoggedInUrl","repo","repo2","userResponse","loggedIn","oidcLoginStatus","psw","autoLoginUrl","autoLogin","fixupLegacyRepoURL","sparqlUrl","repoLoginUrl","constructRepoLoginPath","defaultConfig","update60Enabled","update60Running","update60","changingProps","loadViewerIntoStateOnlyOnce","popupInfoAtStart","getAndSetDefaultParameterValues","partialViewer","crypto","getRandomValues","Uint8Array","changingProps60","loop60","appCssJson","st","notShowTop","preview","showBottom","notShowBottom","showTop","trigger","signalIsFetching","isFetching","sparqlTemplate","pubVars","mainContainer","sizes","messageType","flexDirection","openAppSettings","position","overflow","infoMessage","footer","infoDialogueContainer","settingsCheckbox","exportFileName","formatDate","public","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","PROJECT","VIEWER","mapStateToProps","cross","crossDel","deleteClick","deletebuttonrule","deletebuttonruleParams","setTimeStampParameter","openLink","rs","replaceHeaderJSON","charAt","highlightVariable","resetSelectedValueWhenNotAvailable","renderEmpty","zeroResult","generateEmptyResponse","aggregateResultsByID","aggregateResultsByFirstParameter","columnNames","columnName","center","centerContent","centertext","hasDeleteColumn","hideHeader","hasNumberedRows","rowNumberHeader","getHeader","rowNumber","iconSize","iconColor","content","inlineblock","highlight","ashtml","iconcenter","args","twMerge","imgViz","reloadID","parseTextForVariables","command","commandInstance","publishUtils","pvar","publishTextVariable","publishVariable1","runAfterSelection","publishVariableName","publishList","publishVariableParameterTypeName","publishVariableParameterType","singleValue","updateMe2","severity","rv","qq","mounted","findDOMNode","parentNode","afterIntegration","obj1","obj2","hasOwnProperty","_","resultKeyIndex","splice","pubsubNew","cloneDeep","pubsubOrg","update60Timestamp","update60RunningTimestamp","shallowCompare","onComponentDidUpdate","setMessage","sendEvent","reExecuteSparql","firstData22","q","basequery","executedSparql","setBeginSparqlResults","latestData22","onlyOnce","setPubSub","setSelection","selectionValue","selection","once","Singleton","getInstance","iframes","htmlid","createRoot","expandLevel","renderOnce","getParameters","loading222","frameBorder","process","htmln","registerMe","handlePubSub","timestamp","dataWithTimestamps","changes","usePubsub","getPubsub","candidate","URL","rc","binding","page","analyseResults","SortableItem","useSortable","attributes","listeners","setNodeRef","transition","CSS","Translate","restructuredData","id_item","gitem","sp","Parser","sparql2","eee","empty","subscribeProps","subscribeProp","subscribeValue","subscribeProp2","negationMatch","negatedSubscribeProp","regex2","downloadObjectAsJson","exportObj","exportName","dataStr","downloadAnchorNode","click","downloadConfig","Notification","box","backgroundColor","camelCaseToSpaces","TableRow","substring","valueObject","secondValueObject","rawHTML","copyButton","copyValue","link2","copyicon","faCopy","valuesObj","createStateValues","val","nprops","nstate","resetViewer","myPublish","cgi","p_v","entries","key2","AppVariables","appVariables","SparqlTriggerExecutor","setQuery","sparqlManager","setSparqlManager","useSparqlTemplate","resolvedQuery","publishResults","DEFAULT_TRIGGER_DRAFT","createDefaultTriggerDraft","TriggerPopup","triggerIdx","draft","setDraft","labelInputRef","currentTriggerDraft","editTrigger","triggerUpdate","d","fullWidth","sidebar","focus","faAdd","faEdit","faRemove","removeIdx","formStyle","form","onSubmit","required","inputStyle","checkbox","ConfigurationTopBar","triggerPopupOpen","setTriggerPopupOpen","logoutPlatform","createPortal","TopBar","small","to","faArrowLeft","faPaintBrush","IconText","faWrench","faBolt","chevron","faUser","SubMenu","faRotate","faRightFromBracket","isClickable","faChevronDown","library","fas","cgiService","localRepoUrl","origin","isProbablyAWistorServletsEndpoint","instance","_path","_path2","Home","orderBy","Helmet","paragr","subTitle","_excluded","_extends","assign","arguments","source","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","titleId","xmlns","xmlnsXlink","y","viewBox","enableBackground","xmlSpace","fillRule","clipRule","ForwardRef","BackButton","goBack","backButton","Users","isSuperadmin","password","confirming","deleting","DeleteAppConfigButton","DialogTitle","createdBy","createdOn","DialogActions","autoFocus","deleteAppConfig","Project","newClicked","possible","floor","random","makeID","deleteApp","isAuthenticated","viewerIcon","faLockOpen","faLock","noConfigCache","faXmark","faDatabase","opacity","hasAuth","noViewerMessage","renderViewers","emailsWithAnyDeletionRights","appCreator","LoginPageLayout","LoginButtonBar","spin","SsoButton","EMAIL_PATTERN","Login","useForm","register","handleSubmit","formState","errorReason","setErrorReason","doLogin","loginCredentials","resp","payload","pattern","isSubmitting","RepoLoginResponseSchema","any","repoLogin","loginParams","username","repoLoginResponse","RepoLogin","ssoConfigs","setSsoConfigs","repoInfo","queryString","parametersString","atob","decodeURIComponent","usp","getRepoInfoFromSearchParameters","fetchSsoConfigs","isSuperAdmin","ssoConfig","ssoClientId","image","ProtectedRoute","rest","useRouteMatch","isAuthorized","protectIf","enableMapSet","App","isFetchingLoginInfo","wistorArt","fetchLoginInfo","exact","hostname","greyPaletteTheme","createTheme","palette","grey","dark","components","MuiButton","getContrastText","primary","borderColor","border","disabledBackground","alpha","hoverOpacity","queryClient","QueryClient","QueryClientProvider","client","ThemeProvider","serviceWorker","ready","registration","unregister","combineReducers","replaceSets","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","serialize","replacer","compose","createStore","rootReducer","applyMiddleware","thunk","configureStore","useReduxSelector","style22","spinner","valueAsString","draftValue","setDraftValue","JsonTextEditor","inputRef","expanded","setExpanded","validationStatus","setValidationStatus","copyValueToClipboard","pasteValueFromClipboard","readText","readOnly","bar","checkJson","faCheck","faExclamation","formatted","formatJson","blob","Blob","createObjectURL","download","revokeObjectURL","exportValueAsJson","faDownload","accept","file","files","reader","FileReader","onload","readAsText","faUpload","faPaste","prevExpanded","faDownLeftAndUpRightToCenter","faUpRightAndDownLeftFromCenter","LoginHelper","logoff","uploadButton","innerText","fileInput","uploadFile","belongsTo","formData","FormData","l","append","enabled","iframe","contentDocument","sendCommand2","commando","failure","commandUrl","getRepoUrl","errors","command2","command3","graph"],"mappings":"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TvS,UAAW,CACT,CACEnH,KAAM,QACN4B,KAAM,SACNsX,aAAa,qhBACbhS,MACE,4QAEJ,CACElH,KAAM,kBACN4B,KAAM,OACNsF,MACE,6EAEJ,CACElH,KAAM,mBACN4B,KAAM,OACNsF,MACE,8EAEJ,CACElH,KAAM,mBACN4B,KAAM,OACNsF,MACE,8EAEJ,CACElH,KAAM,mBACN4B,KAAM,OACNsF,MACE,8EAEJ,CACElH,KAAM,oBACN4B,KAAM,OACNsF,MACE,0EAEJ,CACElH,KAAM,YACN4B,KAAM,OACNsF,MAAO,oCAET,CACElH,KAAM,YACN4B,KAAM,OACNsF,MAAO,2DAGT,CACElH,KAAM,cACN4B,KAAM,MACNsF,MAAO,2CAGT,CACElH,KAAM,QACN4B,KAAM,OACNsF,MAAO,SAET,CACElH,KAAM,cACN4B,KAAM,OACNsF,MAAO,0CAET,CACElH,KAAM,YACN4B,KAAM,UACNsF,MAAO,0DAET,CACElH,KAAM,gCACN4B,KAAM,UACNsF,MACE,2EAEJ,CACElH,KAAM,oBACN4B,KAAM,UACNsF,MAAO,qIAET,CACElH,KAAM,yBACN4B,KAAM,UACNsF,MAAO,oEAET,CACElH,KAAM,gCACN4B,KAAM,OACNsF,MACE,yFAEJ,CACElH,KAAM,8BACN4B,KAAM,UACNsF,MAAO,uCAET,CACElH,KAAM,mBACN4B,KAAM,OACNsF,MAAO,yBAET,CACElH,KAAM,0BACN4B,KAAM,UACNsF,MAAO,6DAET,CACElH,KAAK,4BACL4B,KAAK,OACLsF,MAAM,6CAGRrD,IAAa0X,gCACb,CACEvb,KAAM,mBACN4B,KAAM,OACNsF,MAAO,gDAET,CACElH,KAAM,yBACN4B,KAAM,OACNsF,MAAO,8GAET,CACElH,KAAM,uBACN4B,KAAM,UACNsF,MAAO,yCAETrD,IAAasV,6BAGnB,KAAC,EA7I4B,GCFdqC,EAAgB,4CA4DlC,OA5DkC,gDAGnC,WACE,MAAO,CACLxb,KAAM,SACNiH,UAAWgS,gBAAK,kBAAO,sDAAkB,IACzC/R,MAAO,gBACPC,UAAW,CACT,CACEnH,KAAM,QACN4B,KAAM,SACN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,IAAa0X,8BAA8B,CACzCvb,KAAM,8BACNkH,MAAO,kEAET,CACElH,KAAM,gCACN4B,KAAM,OACNsF,MACE,iGAEJrD,IAAa0X,8BAA8B,CACzCvb,KAAM,8BACNkH,MAAO,iEAET,CACElH,KAAM,qCACN4B,KAAM,OACNsF,MACE,kFAEJ,CACElH,KAAM,mCACN4B,KAAM,SACNtH,QAAS,CACP,CAAE4M,MAAO,UAAW5L,MAAO,WAC3B,CAAE4L,MAAO,wBAAyB5L,MAAO,QAE3C4L,MACE,mEAEJ,CACElH,KAAM,qBACN4B,KAAM,SACNtH,QAAS,CACP,CAAE4M,MAAO,qBAAsB5L,MAAO,QACtC,CAAE4L,MAAO,qDAAsD5L,MAAO,aACtE,CAAE4L,MAAO,0CAA2C5L,MAAO,WAE7D4L,MACE,uDAEJ,CACElH,KAAM,6BACN4B,KAAM,UACNsF,MAAO,2HAET,CACElH,KAAM,eACN4B,KAAM,UACNsF,MAAO,gDAET,CACElH,KAAM,mBACN4B,KAAM,UACNsF,MAAO,0DAET,CACElH,KAAM,eACN4B,KAAM,UACNsF,MAAO,6CAET,CACElH,KAAM,cACN4B,KAAM,UACNsF,MAAO,4CAET,CACElH,KAAM,kBACN4B,KAAM,UACNsF,MAAO,4CAET,CACElH,KAAM,YACN4B,KAAM,UACNsF,MAAO,0CAET,CACElH,KAAM,qBACN4B,KAAM,UACNsF,MAAO,gDAET,CACElH,KAAM,eACN4B,KAAM,UACNsF,MAAO,0CAET,CACElH,KAAM,YACN4B,KAAM,UACNsF,MAAO,+CAIT,CACElH,KAAM,aACN4B,KAAM,UACNsF,MAAO,0BAKT,CACElH,KAAM,WACN4B,KAAM,UACNsF,MAAS,8DAKX,CACElH,KAAM,uBACN4B,KAAM,OACNsF,MACE,sCAEJ,CACElH,KAAM,oBACN4B,KAAM,UACNsF,MAAM,6CAER,CACElH,KAAM,YACN4B,KAAM,UACNsF,MAAM,gDAGR,CACElH,KAAM,aACN4B,KAAM,OACNsF,MAAM,2GAER,CACElH,KAAM,iBACN4B,KAAM,OACNsF,MAAM,kBAER,CACElH,KAAM,qBACN4B,KAAM,OACNs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CACElH,KAAM,UACN4B,KAAM,OACNsF,MAAO,YAGT,CACElH,KAAM,kBACN4B,KAAM,UACNsF,MAAO,oCAET,CACElH,KAAM,gBACN4B,KAAM,SACNsF,MAAO,sCAET,CACElH,KAAM,gBACN4B,KAAM,SACNsF,MAAO,2DAET,CACElH,KAAM,iBACN4B,KAAM,SACNsF,MAAO,uCAET,CACElH,KAAM,iBACN4B,KAAM,SACNsF,MAAO,6DAET,CACElH,KAAM,sBACN4B,KAAM,SACNsF,MAAO,2DAET,CACElH,KAAM,4BACN4B,KAAM,UACNsF,MAAO,+CAET,CACElH,KAAM,wBACN4B,KAAM,UACNsF,MAAO,oCAET,CACElH,KAAM,aACN4B,KAAM,OACNsF,MAAO,aACPE,gCAAgC,GAGlC,CACEpH,KAAM,UACN4B,KAAM,OACNsF,MAAO,iBACPE,gCAAgC,GAElC,CACEpH,KAAM,UACN4B,KAAM,OACNsF,MAAO,uDAET,CACElH,KAAM,sBACN4B,KAAM,OACNsF,MAAO,yDAET,CACElH,KAAM,yBACN4B,KAAM,OACNsF,MAAO,sDAET,CACElH,KAAM,aACN4B,KAAM,UACNsF,MAAO,8BAET,CACElH,KAAM,gBACN4B,KAAM,UACNsF,MAAO,yBAET,CACElH,KAAM,qBACN4B,KAAM,OACNsF,MAAO,8IAET,CACElH,KAAM,YACN4B,KAAM,OACNsF,MAAO,wJAET,CACElH,KAAM,UACN4B,KAAM,OACNsF,MAAO,8JAET,CACElH,KAAM,kBACN4B,KAAM,UACNsF,MAAO,wCAET,CACElH,KAAM,iBACN4B,KAAM,OACNsF,MAAO,oCAET,CACElH,KAAM,mBACN4B,KAAM,OACNsF,MAAO,qCACP0S,cAAerQ,OAIvB,KAAC,EAxIuC,GC4C3B+gB,GA1CE,kDAGf,aAAe,IAAD,EAIS,OAJT,qBACZ,gBAHFhY,OAAS,4BAAUxV,OAAO+mB,aAAY,yCAAsC,EAuC5EtnB,MAAQ,CAAEunB,YAAa,MAlCrB,EAAKC,UAAY,KACjB,EAAKC,UAAW,EAAK,CACvB,CA8BC,OA9BA,gDAED,WACE,MAAO,CACLhkB,KAAM,cACN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","file":"static/js/main.f42a50b9.chunk.js","sourcesContent":["import React from 'react'\nimport styles from './Dialog.module.css'\n// import {Button} from 'reactstrap';\n\nconst Dialog = ({ children, onClose }) => {\n  return (\n    <div className={styles.overlay}>\n      <div className={styles.frame} onClick={(e) => e.stopPropagation()}>\n        {/* <div className={styles.closeButton}>\n          <Button color=\"primary\" onClick={() => onClose()}>X</Button>\n        </div> */}\n        <div className={styles.body}>\n          {children}\n          {/* <div className={styles.okButton}>\n            <Button color=\"primary\" style={{width: '120px'}} onClick={() => onClose()}>OK</Button>\n          </div> */}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Dialog\n","import { PublishedDict } from '../redux/pubsub'\n\nexport class NoPlaceholderValueError extends Error {\n  constructor(placeholder: string, options?: Parameters<ErrorConstructor>['1']) {\n    const message = `Template-placeholder {{${placeholder}}} did not resolve to a value`\n    super(message, options)\n  }\n}\n\n/**\n * (SPARQL-)template strings can contain value-placeholders.\n * These value-placeholders are annotated as `{{placeholder}}`.\n * Each placeholder represent either a published topic-value or a fallback value.\n * They are annotated as follows `{{topic||fallbackTopic::fallbackValue}}`.\n * \n * This is a replacement for a part of old functionality (18-06-2024).\n * See ./front-end/src/components/Widget.js::resolveTemplateVariableInQuery\n */\nexport function resolveTemplateString(\n  template: string,\n  published: PublishedDict,\n): string {\n  const placeholders = getPlaceholders(template)\n  if (!placeholders.length) return template\n\n  let query = template\n  for (const placeholder of placeholders) {\n    const value = getValue(placeholder, published)\n    if (value == null) return \"\"\n    //if (value == null) throw new NoPlaceholderValueError(placeholder) // This is actually not necessarily a error. for example you can have a sparql query based upon 2 parameters. one could be a selection. when the user has not selected anything and the other parameter changes the query will not resolve, which is fine \n   \n    query = replacePlaceholderWithValue(query, placeholder, value)\n  }\n  return query\n}\n\nexport function resolveTemplateStringAndLogErrors(\n  template: string,\n  published: PublishedDict,\n): string {\n  try {\n    return resolveTemplateString(template, published)\n  } catch (e) {\n    //console.error(e)\n     console.log(\"parameters sparql query can not be resolved (yet). \")\n    return template\n  }\n}\n\nfunction getPlaceholders(template: string) {\n  const subscribePropMatches = template.match(/{{!?[A-Za-z0-9|:./]*}}/g)\n  if (!subscribePropMatches) return []\n  return [...new Set(subscribePropMatches.map((f) => f.replace(/[{}]/g, '')))]\n}\n\n/**\n * The control-flow of this code should be left untouched, until there is a spec for (SPARQL-)templates.\n * In the past, changes to the control-flow have broken Hans' apps, which we don't host.\n */\nfunction getValue(placeholder: string, pubValue: PublishedDict) {\n  let value = pubValue[placeholder]\n\n  if (placeholder.includes('||')) {\n    const topic = placeholder.split('||')[0]\n    value = pubValue[topic]\n    if (value === 'http://www.buildingbits.nl/reset') value = null\n\n    if (value == null) {\n      const topic = placeholder.split('||')[1].split('||')[0].split('::')[0]\n      value = pubValue[topic]\n      if (value === 'http://www.buildingbits.nl/reset') value = null\n    }\n  }\n\n  if (placeholder.includes('::') && value == null) {\n    const topic = placeholder.split('::')[0]\n    value = pubValue[topic]\n    if (value === 'http://www.buildingbits.nl/reset') value = null\n    if (value == null) value = placeholder.split('::')[1]\n  }\n\n  const negatedTopicPattern = /^!(.+)$/\n  const negatedTopic = placeholder.match(negatedTopicPattern)?.[1]\n  if (negatedTopic) value = !(String(pubValue[negatedTopic]).toLowerCase() === 'true')\n\n  return value\n}\n\nfunction escapeReplacement(string: string): string {\n  // Escape $ in the replacement value to prevent it from being interpreted as special replacement patterns\n  // See https://stackoverflow.com/questions/38866071/javascript-replace-method-dollar-signs\n  // and https://stackoverflow.com/questions/28102491/javascript-better-way-to-escape-dollar-signs-in-the-string-used-by-string-prot\n  return string.replace(/\\$/g, '$$$$');\n}\n\nfunction replacePlaceholderWithValue(template: string, placeholder: string, value: string) {\n  const escapedValue = escapeReplacement(value)\n  const placeholderPattern = new RegExp(`{{${placeholder.replaceAll('||', '\\\\|\\\\|')}}}`, 'g')\n  return template.replace(placeholderPattern, escapedValue)\n}\n","export default __webpack_public_path__ + \"static/media/person.89f69b5b.svg\";","export default __webpack_public_path__ + \"static/media/gear.e350f069.svg\";","import { Component } from 'react'\nimport { Button } from 'reactstrap'\nimport styles from './Header.module.css'\nimport person from '../images/person.svg'\nimport gear from '../images/gear.svg'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Grow } from '@mui/material'\nimport Command from '../helpers/Command'\nimport infoIcon from '../images/info.svg'\nimport { AutoHyperlink } from './AutoHyperlink'\nimport { logout } from '../api/login'\n\nconst BACKUP_LOGO = '/logos/logo-wistor.png'\n\nclass Header extends Component {\n  state = { collapsed: true }\n\n  logoutRepoOrPlatform = async () => {\n    let bbsparql = this.props.bbsparqlendpoint\n    if (bbsparql != null) {\n      Command.sendCommand(this, 'logout', null, function () {\n        window.location.reload(false)\n      })\n    } else {\n      console.log('logout from config mongo/nodejs platform')\n      await logout()\n      window.location.href = '/'\n      // localStorage.removeItem('kvk-vb-token');\n    }\n\n    //window.location.reload(false);\n  }\n\n  login = () => {\n    this.props.history.push('/login', this.props.location.pathname)\n  }\n\n  onClickManageUsers = () => {\n    this.props.history.push('/users', this.props.location.pathname)\n  }\n\n  mouseOver = (e) => {\n    console.log('in')\n    // this.setState({collapsed:false});\n  }\n  mouseOut = (e) => {\n    console.log('out')\n    // this.setState({collapsed:true});\n  }\n\n  render() {\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n    const collapsed = this.state.collapsed\n    var logoutbutton =this.props.logoutbutton;\n    if (logoutbutton==null) logoutbutton=false;\n\n    const showLogoutButton = !loginState.isLoggingIn\n      // always show logout button for platform users\n      && (logoutbutton || loginState.isLoggedIn)\n\n    const showLoginButton = !loginState.isLoggingIn\n      && !showLogoutButton\n      && !loginState.isLoggedIn\n      && !this.props.noLoginButton\n\n    return (\n      <Grow direction=\"up\" appear={true} timeout={1000} in={collapsed}>\n        <div className={`${styles.wrapper} ${this.props.modern ? styles.modern : ''}`}>\n          <div\n            className={styles.main}\n            style={{ maxWidth: this.props.pageWidth }}\n          >\n            <img\n              src={this.props.logoURL || BACKUP_LOGO}\n              alt=\"logo\"\n              style={{ maxHeight: '40px', marginRight: '6px' }}\n            />\n\n            <div className={styles.centerPart}>\n              <span\n                className={styles.title}\n                style={{ float: this.props.alignTitle || 'right' }}\n              >\n                {this.props.title || ''}\n                {this.props.onInfoClick && (\n                  <img\n                    src={infoIcon}\n                    alt=\"box\"\n                    className={styles.infoIcon}\n                    onClick={() => this.props.onInfoClick()}\n                  />\n                )}\n              </span>\n              <AutoHyperlink text={this.props.subtitle} />\n            </div>\n            <div className={styles.auth}>\n              {(!loginState.isLoggingIn && loginState.isLoggedIn) && (\n                  <>\n                    <img src={person} alt=\"person\" />\n                    <div className={styles.nameContainer}>\n                      <div style={{ lineHeight: '1.1em' }}>\n                        {loginState.user?.name}\n                      </div>\n                      {(loginState.user?.role === 'admin' || loginState.user?.role === 'superadmin') && (\n                        <Button\n                          color=\"link\"\n                          style={{ padding: '0', fontSize: '0.8em' }}\n                          onClick={this.onClickManageUsers}\n                        >\n                          Manage Users\n                        </Button>\n                      )}\n                    </div>\n                  </>\n              )}\n              {showLogoutButton && (\n                <Button color=\"link\" onClick={this.logoutRepoOrPlatform}>\n                  Log out\n                </Button>\n              )}\n              {showLoginButton && (\n                <Button color=\"primary\" onClick={this.login}>\n                  Login\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n      </Grow>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loginState: state.login,\n})\n\nHeader = withRouter(Header)\n\nexport default connect(mapStateToProps)(Header)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Home_mainContainer__2GzK5\",\"main\":\"Home_main__-wJEx\",\"content\":\"Home_content__rSrZN\",\"title\":\"Home_title__2JJd_\",\"subTitle\":\"Home_subTitle__3qxJR\",\"paragr\":\"Home_paragr__2LXKK\",\"project\":\"Home_project__2Eq02\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top-bar\":\"ConfigurationTopBar_top-bar__9VaN_\",\"small\":\"ConfigurationTopBar_small__2_Cf1\",\"item\":\"ConfigurationTopBar_item__1EEbN\",\"clickable\":\"ConfigurationTopBar_clickable__38qut\",\"active\":\"ConfigurationTopBar_active__1NoVp\",\"sub-menu\":\"ConfigurationTopBar_sub-menu__2WKn0\",\"separator\":\"ConfigurationTopBar_separator__Lr2FU\",\"chevron\":\"ConfigurationTopBar_chevron__1sqbh\",\"icon-text\":\"ConfigurationTopBar_icon-text__25xc7\"};","import * as React from 'react'\nimport {Slot} from '@radix-ui/react-slot'\nimport {cva, type VariantProps} from 'class-variance-authority'\nimport {mergeClasses} from '../../helpers/styling'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, type, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={mergeClasses(buttonVariants({ variant, size, className }))}\n        type={Comp === \"button\" ? (type ?? \"button\") : undefined}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import { PublishedDict } from \"../redux/pubsub\"\nimport PublishUtils from \"./PublishUtils\"\nimport { OpaqueSparqlResults } from \"./sparqlResultHelpers\"\n\n/**\n * Data-structure of a configuration-item\n */\ntype ConfigDescription<\n  T extends ConfigVarTypename,\n  TOptions extends ConfigOptions,\n  TName extends string = string\n> = {\n  name: TName\n  type: T\n  label: string\n  options?: TOptions\n}\n\ntype ConfigVarTypename = 'select' | 'boolean' | 'array' | 'json' | 'yasgui' | 'javascript' | 'button' | 'text'\ntype ConfigOptions = PresentConfigOptions | undefined\ntype PresentConfigOptions = ReadonlyArray<{ readonly label: string, readonly value: string }>\n\n/**\n * React-props that every widget gets\n */\nexport type BaseWidgetProps = {\n  onChange: any\n  withinSelectedTab?: null | boolean\n  panelstyle: string\n  mode?: null | 'edit'\n  pubsub: PublishedDict\n  publish: (topic: string, value: unknown) => void\n}\n\n/**\n * React-props that every sparql-widget gets\n */\nexport type SparqlWidgetProps = {\n  data?: OpaqueSparqlResults\n}\n\n/**\n * React-props that every area-widget gets\n */\nexport type AreaWidgetProps = { areas: {}[] }\n\n/**\n * React-props from configuration-descriptions\n */\nexport type ConfigurablePropsFromDescription<\n  T extends ReadonlyArray<ConfigDescription<any, any>>\n> =\n  ObjectFrom<ConfigNameTuple<T>, ConfigTypeTuple<T>>\n\n/**\n * An object from two tuples \"zipped\" together: a tuple containing keys and a tuple containing types\n * source: https://stackoverflow.com/a/70398429\n */\ntype ObjectFrom<\n  N extends Record<keyof TupleToObject<T>, PropertyKey>,\n  T extends readonly any[],\n> =\n  { [K in keyof TupleToObject<T> as N[K]]: T[K] };\n\n/**\n * A tuple typed as an object (by omitting keys that are commonly found in arrays)\n * source: https://stackoverflow.com/a/70398429\n */\ntype TupleToObject<T extends readonly any[]> = Omit<T, keyof any[]>\n\n/**\n * A tuple of typenames from configuration-items\n */\ntype ConfigNameTuple<T extends ReadonlyArray<ConfigDescription<any, any>>> = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  [K in keyof T]: T[K] extends ConfigDescription<infer _Typename, infer _Options, infer Name>\n    ? Name\n    : never\n}\n\n/**\n * a tuple of types from configuration-items\n */\ntype ConfigTypeTuple<T extends ReadonlyArray<ConfigDescription<any, any>>> = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  [K in keyof T]: T[K] extends ConfigDescription<infer Typename, infer Options, infer _Name>\n    ? ConfigurablePropType<Typename, Options>\n    : never\n}\n\n/**\n * Type from typename\n */\ntype ConfigurablePropType<T extends ConfigVarTypename, TOptions extends ConfigOptions> =\n  T extends 'array' ? (null | undefined | string[]) :\n  T extends 'boolean' ? (null | undefined | boolean) :\n  T extends 'json' ? (null | undefined | {} | []) :\n  T extends 'tablepp-columns-json' ? (null | undefined | {} | []) : // seems to have a problem\n  T extends 'yasgui' ? (null | undefined | string) :\n  T extends 'select' ? (null | undefined | (TOptions extends PresentConfigOptions ? TOptions[number]['value'] : never)) :\n  T extends 'text' ? (null | undefined | string) :\n  never\n\ntype PublishedState = Record<string, any>\n\ntype SubscriptionState<T> =\n  { isValid: false, hasChanged: boolean, current: unknown, topic: null | undefined | string } |\n  { isValid: true, hasChanged: boolean, current: T, topic: string }\n\ntype SubscriptionTransformation<T> = { success: false }| { success: true, value: T }\n\nexport function getSubscription<T>(\n  previousState: null | undefined | PublishedState,\n  currentState: PublishedState,\n  topic: null | undefined | string,\n  transform: (x: unknown) => SubscriptionTransformation<T>\n): SubscriptionState<T> {\n  if (!topic) return { isValid: false, hasChanged: false, current: undefined, topic }\n\n  const previous = previousState?.[topic]\n  const current = currentState?.[topic]\n  const hasChanged = previous !== current && current != null\n  const transformation = transform(current)\n  if (!transformation.success) return { isValid: false, hasChanged, current, topic }\n\n  return {\n    isValid: transformation.success,\n    hasChanged: previous !== current && current != null,\n    current: transformation.value,\n    topic,\n  }\n}\n\nexport function isValidIndex(x: unknown): SubscriptionTransformation<number> {\n  const str = String(x)\n  const number = Number(x)\n  const int = parseInt(str, 10)\n  const isNotInt = int !== number\n  if (x == null || Number.isNaN(number) || isNotInt) return { success: false }\n  return { success: true, value: int }\n}\n\nexport function isString(x: unknown): SubscriptionTransformation<string> {\n  return typeof x !== 'string'\n    ? { success: false }\n    : { success: true, value: x }\n}\n\nexport function interpolateSubscriptions(\n  widget: {props: { pubsub: Record<string, unknown>}},\n  strTemplate: null | undefined | string,\n  outputFormat: 'boolean',\n) {\n    if (outputFormat === 'boolean') {\n      const interpolated = PublishUtils.processStringForParameters(widget, strTemplate)\n      return String(interpolated).toLowerCase() === 'true'\n    }\n    throw new Error('not implemented')\n  }\n","import React from 'react'\nimport styles from './Tab.module.css'\nimport Area from '../Area'\nimport { Icon } from './Icon'\nimport { Button } from '@mui/material'\nimport { IconProp } from '@fortawesome/fontawesome-svg-core'\nimport { BaseWidgetProps, ConfigurablePropsFromDescription, getSubscription, isString, isValidIndex } from '../../helpers/widget'\n\ntype Props = BaseWidgetProps & ConfigurableProps & SpecificWidgetProps\ntype ConfigurableProps = ConfigurablePropsFromDescription<typeof tabDescription['variables']>\ntype SpecificWidgetProps = { areas: {}[] }\n\ntype State = {\n  selectedIndex: number\n  hideTabs: string[]\n  areas: {}[]\n  id: number\n}\n\nconst APPEARANCE = {\n  TRADITIONAL: 'TRADITIONAL',\n  CAROUSEL_WITHOUT_BUTTONS: 'CAROUSEL_WITHOUT_BUTTONS',\n  CAROUSEL_WITH_BUTTONS: 'CAROUSEL_WITH_BUTTONS',\n} as const\n\nexport default class Tab extends React.Component<Props, State> {\n  static tabId = 0\n  state: State = { selectedIndex: 0, hideTabs: [], areas: [], id: Tab.tabId++ }\n\n\n  static getDescription = () => tabDescription\n\n  static registeredTabComponents = [] //registering all tabs for 'back button'\n\n  getTabId() {\n    return this.state.id\n  }\n\n  componentDidMount() {\n    this.updateTabs(null, this.props.hideTabs, this.props.tabSelectionSubscription)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.updateTabs(prevProps, this.props.hideTabs, this.props.tabSelectionSubscription)\n  }\n\n  updateTabs(\n    prevProps: null | Props,\n    hideTabsTopic: undefined | null | string,\n    tabIndexTopic: undefined | null | string,\n  ) {\n    const tabIndex = getSubscription(prevProps?.pubsub, this.props.pubsub, tabIndexTopic, isValidIndex)\n    if (!tabIndex.isValid && tabIndex.current != null && tabIndex.topic != null)\n      return alert(`Value \"${tabIndex.current}\" from topic \"${tabIndex.topic}\" is not a valid index\"`)\n\n    const hideTabs = getSubscription(prevProps?.pubsub, this.props.pubsub, hideTabsTopic, isString)\n    if (!hideTabs.isValid && hideTabs.current != null && hideTabs.topic != null)\n      return alert(`Value \"${hideTabs.current}\" from topic \"${hideTabs.topic}\" is not a string\"`)\n\n    if (!tabIndex.hasChanged && !hideTabs.hasChanged)\n      return\n\n    let newSelectedIndex = this.state.selectedIndex\n    if (tabIndex.isValid && tabIndex.hasChanged) newSelectedIndex = tabIndex.current\n\n    let newHideTabs: string[] = []\n    if (hideTabs.isValid && hideTabs.hasChanged) newHideTabs = hideTabs.current.split(',')\n\n    if (this.props.tabs?.length && this.props.hideTabIDs && newSelectedIndex != null) {\n      const tabHideId = this.props.hideTabIDs[newSelectedIndex]\n      const firstNonHiddenIndex = getFirstNonHiddenTab(this.props.tabs, this.props.hideTabIDs, newHideTabs)\n      if (firstNonHiddenIndex != null && newHideTabs?.includes(tabHideId))\n        newSelectedIndex = firstNonHiddenIndex\n    }\n\n    if (newHideTabs) this.setState({ hideTabs: newHideTabs })\n    if (newSelectedIndex !== this.state.selectedIndex) this.setState({ selectedIndex: newSelectedIndex })\n  }\n\n  onTabClick = (index: number) => {\n    let tabSelectionSubscription = this.props.tabSelectionSubscription\n\n    if (tabSelectionSubscription) this.props.publish(tabSelectionSubscription, index)\n    this.setState({ selectedIndex: index })\n  }\n\n  navigateToNextTab() {\n    if (!this.props.tabs) return\n    this.onTabClick(\n      this.state.selectedIndex >= (this.props.tabs.length - 1)\n        ? 0\n        : this.state.selectedIndex + 1\n    )\n  }\n\n  render() {\n    let mode = this.props.mode\n    return (\n      <div\n        className={styles.main + (mode === 'edit' ? '' : ' ' + styles.viewMode) + ' ' + styles[this.props.panelstyle]}\n      >\n        {(!this.props.appearance || this.props.appearance === APPEARANCE.TRADITIONAL) && (\n          <TraditionalTabs\n            tabs={this.props.tabs ?? []}\n            icons={this.props.icons as any}\n            selectedIndex={this.state.selectedIndex}\n            hideTabs={this.state.hideTabs ?? []}\n            hideTabIDs={this.props.hideTabIDs ?? []}\n            inactiveTabsOnlyIcons={Boolean(this.props.inactiveTabsOnlyIcons)}\n            onTabClick={this.onTabClick}\n          />\n        )}\n\n        {this.props.tabs?.map((tab, index) => {\n          let areaConfig = this.props.areas[index] || {}\n\n          let selected = index == this.state.selectedIndex\n          // console.log(index,this.state.selectedIndex,selected);\n          if (this.props.withinSelectedTab != null) {\n            if (this.props.withinSelectedTab == false) {\n              selected = false\n              //  console.log(\"TEST FF NIET SELECTED TAB WANT TAB IS NIET ZICHTBAAR\");\n            }\n          }\n\n          return (\n            <div key={index} className={styles.areaContainer} style={{ display: selected ? 'flex' : 'none' }}>\n              <Area\n                {...this.props}\n                key={index}\n                index={index}\n                config={areaConfig}\n                onChange={this.props.onChange}\n                withinSelectedTab={selected}\n                onClick={this.props.carouselClickNavigation ? () => this.navigateToNextTab() : undefined}\n              />\n            </div>\n          )\n        })}\n\n        {(this.props.appearance === APPEARANCE.CAROUSEL_WITHOUT_BUTTONS ||\n          this.props.appearance === APPEARANCE.CAROUSEL_WITH_BUTTONS) && (\n          <CarouselTabs\n            withButtons={this.props.appearance === APPEARANCE.CAROUSEL_WITH_BUTTONS}\n            tabs={this.props.tabs ?? []}\n            selectedIndex={this.state.selectedIndex}\n            onTabClick={this.onTabClick}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nconst tabDescription = {\n  name: 'Tab',\n  component: Tab,\n  label: 'Tab Layout',\n  variables: [\n    {\n      name: 'appearance',\n      type: 'select',\n      label: 'Appearance',\n      options: [\n        {\n          label: 'Traditional',\n          value: APPEARANCE.TRADITIONAL,\n        },\n        {\n          label: 'Carousel without buttons',\n          value: APPEARANCE.CAROUSEL_WITHOUT_BUTTONS,\n        },\n        {\n          label: 'Carousel with buttons',\n          value: APPEARANCE.CAROUSEL_WITH_BUTTONS,\n        },\n      ],\n    },\n    {\n      name: 'carouselClickNavigation',\n      type: 'boolean',\n      label: 'Enable click navigation (only for carousel appearance)',\n    },\n    {\n      name: 'tabs',\n      type: 'array',\n      label: 'Tabs',\n      topicValueInterpolationEnabled: true\n    },\n    {\n      name: 'tabSelectionSubscription',\n      type: 'text',\n      label: 'Variabele to listen to for tab selection',\n    },\n    {\n      name: 'hideTabIDs',\n      type: 'array',\n      label: 'tab name (ids) that can be used to hide a tab.',\n    },\n    {\n      name: 'hideTabs',\n      type: 'text',\n      label:\n        'Variabele to listen to for tab visualisation. Use tab names to hide the tabs',\n    },\n    {\n      name: 'icons',\n      type: 'array',\n      label: 'fa icon names when no icon is defined. ',\n    },\n    {\n      name: 'inactiveTabsOnlyIcons',\n      type: 'boolean',\n      label: 'Inactive tabs will only have icons if icons are defined'\n    },\n    {\n      name: 'initialTabSelection',\n      type: 'text',\n      label: 'index of the initial selected tab',\n    },\n    {\n      name: 'areas',\n      type: 'json',\n      // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n      label: 'area definitions',\n    },\n  ],\n} as const\n\nfunction TraditionalTabs(props: {\n  tabs: string[]\n  hideTabIDs: string[]\n  hideTabs: string[]\n  icons: IconProp[]\n  selectedIndex: number\n  inactiveTabsOnlyIcons: boolean\n  onTabClick: (index: number) => any\n}) {\n  return (\n    <div className={styles.tabs}>\n      {props.tabs.map((tabText, index) => {\n        const tabHideId = props.hideTabIDs?.at(index)\n        if (tabHideId && props.hideTabs?.includes(tabHideId)) return null\n\n        let isSelected = index === props.selectedIndex\n        const hideTabText = props.inactiveTabsOnlyIcons && props.icons && !isSelected\n        return (\n          <div\n            key={index}\n            className={styles.tab + (isSelected ? ' ' + styles.selected : '')}\n            onClick={() => props.onTabClick(index)}\n          >\n            {props.icons != null && (\n              <Icon\n                icon={props.icons[index]}\n                size=\"xs\"\n                transform=\"down-0; left-4\"\n              />\n            )}\n            {!hideTabText && tabText}\n          </div>\n        )\n      })}\n  </div>\n  )\n}\n\nfunction CarouselTabs(props: {\n  tabs: string[]\n  selectedIndex: number\n  withButtons: boolean\n  prevIcon?: null | IconProp\n  itemIcon?: null | IconProp\n  nextIcon?: null | IconProp\n  onTabClick: (index: number) => any\n}) {\n  return (\n    <div className={styles.carouselTabsContainer}>\n      {props.withButtons &&\n        <Button\n          onClick={() => {\n            if (props.selectedIndex <= 0) return\n            props.onTabClick(props.selectedIndex - 1)\n          }}\n          className={styles.carouselButton}\n        >\n          <Icon icon={props.prevIcon ?? 'caret-left'} />\n        </Button>\n      }\n      {props.tabs?.map((tabLabel, i) => (\n        <Button\n          className={styles.carouselItem}\n          key={tabLabel}\n          onClick={() => props.onTabClick(i)}\n        >\n          <Icon\n            data-selected={i === props.selectedIndex}\n            icon={props.itemIcon ?? 'circle'}\n          />\n        </Button>\n      ))}\n      {props.withButtons &&\n        <Button\n          className={styles.carouselButton}\n          onClick={() => {\n            if (props.tabs && props.selectedIndex + 1 >= props.tabs.length) return\n            props.onTabClick(props.selectedIndex + 1)\n          }}\n        >\n          <Icon icon={props.nextIcon ?? 'caret-right'} />\n        </Button>\n      }\n    </div>\n  )\n}\n\nexport function getFirstNonHiddenTab(tabs: string[], hideTabIds: string[], hideTabs: string[]) {\n  for (let i = 0; i < tabs.length; i++) {\n    const tabHideId = hideTabIds?.[i]\n    if (tabHideId && !hideTabs?.includes(tabHideId)) return i\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__3z-hj\",\"main\":\"Header_main__3czEd\",\"modern\":\"Header_modern__3hyIe\",\"title\":\"Header_title__2C1Mo\",\"centerPart\":\"Header_centerPart__RkjuJ\",\"auth\":\"Header_auth__3IKlE\",\"nameContainer\":\"Header_nameContainer__1xkA5\",\"infoIcon\":\"Header_infoIcon__2hP7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Users_mainContainer__blMaO\",\"main\":\"Users_main__1Ek77\",\"content\":\"Users_content__2hEUp\",\"title\":\"Users_title__UBjWr\",\"tableContainer\":\"Users_tableContainer__spoq6\",\"add\":\"Users_add__1M5OB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Table2_main__3S9MH\",\"copyicon\":\"Table2_copyicon__-E6ZQ\",\"headertxt\":\"Table2_headertxt__k1L5n\",\"list\":\"Table2_list__35G0R\",\"firstItemBold\":\"Table2_firstItemBold__1-sUM\",\"link\":\"Table2_link__3RM4J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SearchAutocomplete_main__1k8NJ\",\"inputContainer\":\"SearchAutocomplete_inputContainer__2Ybjz\",\"threeColorTemplate\":\"SearchAutocomplete_threeColorTemplate__1hVXq\",\"items\":\"SearchAutocomplete_items__cpVFv\",\"item\":\"SearchAutocomplete_item__2NkmI\",\"selected\":\"SearchAutocomplete_selected__1alXJ\",\"noResults\":\"SearchAutocomplete_noResults__1wYx9\",\"headertxt\":\"SearchAutocomplete_headertxt__20CQu\"};","class AfterJS {\n  static init() {\n    // console.log(\"init afterjs\");\n  }\n  static getJSScriptAfterSelectionChange() {\n    return {\n      name: 'jsAfterSelection',\n      type: 'text',\n      label: 'js calls after selection',\n    }\n  }\n\n  static runAfterSelection(widget) {\n    //AfterJS.init(\"run after selection \",widget);\n\n    if (widget.props.jsAfterSelection != null) {\n      let js = widget.props.jsAfterSelection\n      console.log(js, widget)\n      try {\n        eval(js) //eslint-disable-line no-eval\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  static fillParameterUsingSelectionURIAndPred(widget, parameter, pred) {\n    let pv = widget.props.publishVariable\n    let uri = widget.props.pubsub[pv]\n    //if (uri==null) return;\n\n    let sparql =\n      'select distinct ?result where {optional {<' +\n      uri +\n      '><' +\n      pred +\n      '>?value} bind (IF(BOUND(?value),\"niks\",\"3d\") as ?result)} limit 1'\n    // console.log(sparql);\n    window.top.MySparql.select(sparql, function (arg) {\n      let result = arg.results.bindings[0].result.value\n      //  console.log(result);\n      widget.props.publish(parameter, result)\n    })\n\n    //console.log(widget,parameter,pred);\n  }\n\n  static test(widget) {\n    console.log('testing Afterjs ')\n\n    console.log(widget)\n  }\n}\n\nexport default AfterJS\n","import { useDialog } from \"../hooks/use-dialog\"\n\nimport { HelpDialog } from \"./HelpDialog\"\nimport { useMemo } from \"react\"\n\nexport function FontListButton() {\n  const show = useDialog()\n  return (\n    <a href=\"#\" onClick={e => {\n      e.preventDefault()\n      show(HelpDialog, {\n        component: FontList\n      })\n    }}>\n      Show available fonts...\n    </a>\n  )\n}\n\nconst AVAILABLE_FONTS = [\n  \"Exo\",\n  \"Exo 2 Variable\",\n  \"Maison Neue\",\n  \"Roboto\"\n] as const\n\nexport function FontList(props: {\n  onClose: () => void\n}) {\n  return (\n    <div>\n      <h3>Click to copy</h3>\n      <ul>\n        {AVAILABLE_FONTS.map(font => (\n          <li key={font}>\n            <a href=\"#\" onClick={async e => {\n              e.preventDefault()\n              await navigator.clipboard.writeText(font)\n              props.onClose()\n            }}>\n              {font}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}","import { z } from \"zod\"\n\nexport const ProjectSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  path: z.string(),\n  createdAt: z.string()\n})\n\nexport type Project = z.infer<typeof ProjectSchema>\n","import { z } from \"zod\"\nimport { ProjectSchema } from \"./project\"\n\nexport const UserSchema = z.object({\n  id: z.string(),\n  email: z.string(),\n  name: z.string(),\n  project: ProjectSchema.optional(),\n  role: z.union([\n    z.literal(\"superadmin\"),\n    z.literal(\"admin\"),\n    z.literal(\"editor\"),\n    z.literal(\"viewer\")\n  ])\n})\n\nexport type User = z.infer<typeof UserSchema>\n","import axios, { AxiosError } from \"axios\"\nimport { User, UserSchema } from \"../model/user\"\n\nconst LS_TOKEN_KEY = 'kvk-vb-token'\n\nexport type LoginCredentials = {\n  email: string\n  password: string\n}\n\ntype LoginSuccess = {\n  success: true\n  user: User\n}\n\ntype LoginFailure = {\n  success: false\n  reason: string\n}\n\nexport async function login(credentials: LoginCredentials): Promise<LoginSuccess | LoginFailure> {\n  try {\n    const response = await axios.post('/api/login', credentials)\n    const token = response.data.token\n    localStorage.setItem(LS_TOKEN_KEY, token)\n\n    const user = UserSchema.parse(response.data.me)\n    return { success: true, user }\n  } catch (error) {\n    localStorage.removeItem(LS_TOKEN_KEY)\n\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n\n    if (typeof error.response?.data !== 'string') {\n      console.error(error)\n      return { success: false, reason: 'Request failure' }\n    }\n\n    return { success: false, reason: error.response?.data }\n  }\n}\n\nexport async function logout() {\n  localStorage.removeItem(LS_TOKEN_KEY)\n}\n\nconst ERR_INVALID_RESPONSE_WITH_SUGGESTION =\n  'Invalid response! When developing use `yarn dev`.'\n\n  export  function getCurrentToken():string\n  {\n   \n    const token = localStorage.getItem(LS_TOKEN_KEY)\n  if (token == null) return \"no token\";\n  return  `Bearer ${token}`;\n\n  }\n\nexport async function getCurrentUser(): Promise<User | null> {\n  const token = localStorage.getItem(LS_TOKEN_KEY)\n  if (token == null) return null\n\n  try {\n    const response = await axios.get('/api/me', {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        withCredentials: true\n      }\n    })\n    if (!response.data.me) {\n      // noinspection ExceptionCaughtLocallyJS\n      throw new Error(ERR_INVALID_RESPONSE_WITH_SUGGESTION)\n    }\n      \n    return UserSchema.parse(response.data.me)\n  } catch (error) {\n    localStorage.removeItem(LS_TOKEN_KEY)\n\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n\n    console.error(error)\n    return null\n  }\n}\n","export default __webpack_public_path__ + \"static/media/wistor-logo-white-with-text.8e0d5b43.svg\";","import React, { Component } from 'react'\nimport styles from './Footer.module.css'\nimport logo from '../images/wistor-logo-white-with-text.svg'\nimport { withRouter } from 'react-router-dom'\n\nclass Footer extends Component {\n  render() {\n    //var keuze=\"normaal\";\n    var keuze = 'wistor'\n\n    try {\n      if (this.props.location.pathname.includes('waternet')) {\n        keuze = 'waternet'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('kvk')) {\n        keuze = 'kvk'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('buildingbits')) {\n        keuze = 'buildingbits'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('rws')) {\n        keuze = 'buildingbits'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('connectedapps')) {\n        keuze = 'buildingbits'\n      }\n    } catch (er) {}\n    try {\n      if (this.props.location.pathname.includes('mayer')) {\n        keuze = 'mayer'\n      }\n    } catch (er) {}\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.main}>\n          <a href=\"http://wistor.nl\">\n            <div>\n              <img src={logo} alt=\"logo\" style={{ height: '20px', marginRight: '6px', marginTop: '6px', marginBottom: '6px' }}/>\n            </div>\n          </a>\n          {\n            {\n              normaal: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"https://www.mayersoftwaredevelopment.nl/\"\n                    >\n                      mayersoftwaredevelopment\n                    </a>\n                  </div>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"http://wistor.nl\"\n                    >\n                     Wistor\n                    </a>\n                  </div>\n                </div>\n              ),\n              waternet2: (\n                <div className={styles.commentMessage}>\n                  Als u vragen of opmerkingen heeft kun u een bericht sturen\n                  naar{' '}\n                  <a\n                    className={styles.email}\n                    href=\"mailto:otlviewer@waternet.nl\"\n                  >\n                    OTLviewer@waternet.nl\n                  </a>\n                </div>\n              ),\n              kvk: (\n                <div className={styles.commentMessage}>\n                  <div>\n                    <a className={styles.email} href=\"http://www.kvk.nl\">\n                      KVK Innovatielab\n                    </a>\n                  </div>\n                </div>\n              ),\n              buildingbits: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"https://wistor.nl\"\n                    >\n                      Wistor\n                    </a>\n                  </div>\n                </div>\n              ),\n              wistor: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"https://wistor.nl\"\n                    >\n                      Wistor\n                    </a>\n                  </div>\n                </div>\n              ),\n              mayer: (\n                <div className={styles.names}>\n                  <div>\n                    <a\n                      className={styles.email}\n                      href=\"https://www.mayersoftwaredevelopment.nl/\"\n                    >\n                      mayersoftwaredevelopment\n                    </a>\n                  </div>\n                </div>\n              ),\n            }[keuze]\n          }\n\n          {/* <div className={styles.names}>\n            <div>Michiel Mayer</div>\n            <div>Hans Schevers</div>\n          </div> */}\n        </div>\n      </div>\n    )\n  }\n}\n\nFooter = withRouter(Footer)\n\nexport default Footer\n","import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { mergeClasses } from '../../helpers/styling'\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverClose = PopoverPrimitive.PopoverClose\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={mergeClasses(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverClose }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Slider_main__2CxOA\",\"label\":\"Slider_label__2e9Wr\",\"container\":\"Slider_container__3ZWIg\",\"slider\":\"Slider_slider__2O89W\",\"rangeValue\":\"Slider_rangeValue__L0PAk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-app\":\"LoginPageLayout_login-app__1oxY2\",\"login-container\":\"LoginPageLayout_login-container__2Rrzi\",\"login-main\":\"LoginPageLayout_login-main__1Sbct\",\"login-button-bar\":\"LoginPageLayout_login-button-bar__2UdlH\",\"login-error\":\"LoginPageLayout_login-error__oBKEo\",\"login-spinner\":\"LoginPageLayout_login-spinner__3p4Dd\",\"login-button-sso\":\"LoginPageLayout_login-button-sso__qwwjd\"};","import axios from 'axios'\n\nexport const fetchProjects = (cb) => async (dispatch, getState) => {\n  if (getState().projects.loaded) return\n  dispatch({ type: 'FETCH_PROJECTS_REQUEST' })\n  try {\n    let { data } = await axios({\n      method: 'get',\n      url: '/api/projects',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n    })\n    dispatch({ type: 'FETCH_PROJECTS_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nexport const createProject = (values, cb) => async (dispatch, getState) => {\n  try {\n    let { data } = await axios({\n      method: 'post',\n      url: '/api/projects',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n      data: values,\n    })\n    dispatch({ type: 'NEW_PROJECT_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nconst initialState = {\n  loaded: false,\n  loading: false,\n  items: [],\n}\n\nexport default function handleProjects(state = initialState, action) {\n  switch (action.type) {\n    case 'FETCH_PROJECTS_REQUEST':\n      return {\n        ...state,\n        loading: true,\n      }\n    case 'FETCH_PROJECTS_SUCCESS':\n      return {\n        ...state,\n        items: action.data,\n        loading: false,\n        loaded: true,\n      }\n    case 'NEW_PROJECT_SUCCESS':\n      return {\n        ...state,\n        items: [...state.items, action.data],\n      }\n    default:\n      return state\n  }\n}\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { mergeClasses } from '../../helpers/styling'\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n  VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={mergeClasses(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"BBPicture_main__1QcsH\",\"list\":\"BBPicture_list__3DSqp\",\"firstItemBold\":\"BBPicture_firstItemBold__2iyh7\",\"link\":\"BBPicture_link__3slHV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"JsonEditor_wrapper__3kqZQ\",\"bar\":\"JsonEditor_bar__PSXEl\",\"separator\":\"JsonEditor_separator__1ANQD\",\"json-status\":\"JsonEditor_json-status__1mK3X\",\"ok\":\"JsonEditor_ok__1YvMS\",\"error\":\"JsonEditor_error__33jF2\"};","type LayoutName = keyof typeof LAYOUT_NAME\ntype Config = { showFooter: boolean }\ntype LayoutConfig = { [K in LayoutName]: Config }\n\nexport const LAYOUT_NAME = {\n  CUSTOM: 'CUSTOM',\n  ORIGINAL: 'ORIGINAL',\n} as const\n\nconst LOAD_STYLE = {\n  CUSTOM: 'overlay',\n  ORIGINAL: 'classic',\n} as const\n\nconst LAYOUT_CONFIG: LayoutConfig = {\n  CUSTOM: { showFooter: false },\n  ORIGINAL: { showFooter: true },\n}\n\nexport function inflateLayout<V extends { layoutName: LayoutName }>(viewer: V) {\n  const layoutName = viewer.layoutName || LAYOUT_NAME.ORIGINAL\n  return { ...viewer, layoutName, layout: LAYOUT_CONFIG[layoutName] }\n}\n\nexport function getLoadStyle(layoutName: LayoutName = LAYOUT_NAME.ORIGINAL) {\n  return LOAD_STYLE[layoutName]\n}\n","export const DEFAULT_WIDGET_CONFIG = {\n  general: {\n    voteForUserActionsDisabledWhenLoading: true,\n    syncWithUserActionsDisabled: true,\n    showLoadingOverlay: true\n  },\n  SelectBox: {\n    preSelectFirstItem: true\n  },\n  ToggleWidget: {\n    appearance: 'icon',\n    publishTopic: 'defaultTopic',\n    enabledBgColor: '#00589b',\n    disabledBgColor: 'gray'\n  },\n  \"BB ButtonPopup\": {\n    popupMinWidth: '600px',\n    popupMaxWidth: '100vw',\n    popupMinHeight: '0',\n    popupMaxHeight: '100vh',\n    popupCloseOnBackdropClick: true,\n    popupCloseOnEscapeKey: true\n  },\n  BBParameterLinkEmptyWidget: {\n    showLoadingOverlay: false\n  },\n  JobStatus: {\n    statusLabels: {\n      \"RUNNING\": \"running\",\n      \"QUEUED\": \"queued\"\n    },\n    statusTextTemplateString: \"<b>{{.count}}</b> {{.status}}\",\n    refetchInterval: \"5\"\n  },\n  IFCJSViewerV3: {\n    resetSelectionOnSparqlUpdate: true\n  }\n} as const\n","export const FETCH_VIEWER_SUCCESS = 'FETCH_VIEWER_SUCCESS'\nexport const FETCH_PROJECT_SUCCESS = 'FETCH_PROJECT_SUCCESS'\nexport const SAVE_VIEWER_SUCCESS = 'SAVE_VIEWER_SUCCESS'\nexport const DELETE_APP_SUCCESS = 'DELETE_APP_SUCCESS'\nexport const SET_LAYOUT_NAME = 'SET_LAYOUT_NAME'\n\nconst initialState = {\n  loading: true,\n  viewers: [],\n}\n\nexport default function handleProject(state = initialState, action) {\n  switch (action.type) {\n\n    case FETCH_PROJECT_SUCCESS:\n      return {\n        ...state,\n        ...action.data,\n        viewers: action.data.viewers\n          .filter(v => !v.deleted)\n          .map(v => ({ ...v, loaded: false })),\n        loading: false,\n      }\n\n    case FETCH_VIEWER_SUCCESS:\n     \n      window.top.data = action.data\n        if (action.data==null)\n        {\n          return {\n            ...state,\n            viewers: [\n              ...state.viewers.filter((item) => item.id !== null),\n              { ...action.data, loaded: true },\n            ],\n          }\n        }\n      return {\n        ...state,\n        viewers: [\n          ...state.viewers.filter((item) => item.id !== action.data.id),\n          { ...action.data, loaded: true },\n        ],\n      }\n\n    case SAVE_VIEWER_SUCCESS:\n      return {\n        ...state,\n        viewers: [\n          ...state.viewers.filter((item) => item.id !== action.data.id),\n          { ...action.data, loaded: true },\n        ],\n      }\n\n    case DELETE_APP_SUCCESS:\n      return {\n        ...state,\n        viewers: state.viewers.filter(v => v.id !== action.data.id),\n      }\n\n    case SET_LAYOUT_NAME:\n      return { ...state, layoutName: action.data }\n\n    default:\n      return state\n\n  }\n}\n","import style from \"./Button.module.css\"\nimport clsx from \"clsx\"\n\nexport type ButtonVariant = \"primary\" | \"info\" | \"outline\"\n\nexport function Button(props: {\n  variant: ButtonVariant\n  className?: string\n  children?: React.ReactNode\n  type?: \"button\" | \"submit\"\n} & Omit<React.HTMLProps<HTMLButtonElement>, \"type\">) {\n  const { variant, className, children, type, ...otherProps } = props\n  return (\n    <button type={props.type ?? \"button\"}\n            className={clsx(style[\"button\"], style[props.variant], props.className)}\n            {...otherProps}>\n      {props.children}\n    </button>\n  )\n}\n\nexport function ButtonLink(props: {\n  variant: ButtonVariant\n  className?: string\n  children?: React.ReactNode\n} & React.HTMLProps<HTMLAnchorElement>) {\n  const { variant, className, children, ...otherProps } = props\n  return (\n    <a className={clsx(style[\"button\"], style[props.variant], props.className)}\n       {...otherProps}>\n      {props.children}\n    </a>\n  )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__1Bv9v\",\"form-field\":\"Form_form-field__1Xs7n\",\"checkbox\":\"Form_checkbox__3V-U6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SelectBox_main__2fb1x\",\"threeColorTemplate\":\"SelectBox_threeColorTemplate__JP90R\",\"label\":\"SelectBox_label__1bhKt\",\"round\":\"SelectBox_round__3DRif\",\"extra\":\"SelectBox_extra__7C26_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SplitLayout_main__ZfdFV\",\"preview\":\"SplitLayout_preview__7iAtg\",\"row\":\"SplitLayout_row__2Hq6r\",\"column\":\"SplitLayout_column__1TXiI\",\"areaContainer\":\"SplitLayout_areaContainer__25FOL\",\"overflowAuto\":\"SplitLayout_overflowAuto__2pVrk\",\"overflowHidden\":\"SplitLayout_overflowHidden__2sm8L\"};","import axios from 'axios'\n\nexport const fetchUsers = (cb) => async (dispatch, getState) => {\n  if (getState().users.loaded) return\n  dispatch({ type: 'FETCH_USERS_REQUEST' })\n  try {\n    let { data } = await axios({\n      method: 'get',\n      url: '/api/users',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n    })\n    dispatch({ type: 'FETCH_USERS_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nexport const createUser = (values, cb) => async (dispatch, getState) => {\n  try {\n    let { data } = await axios({\n      method: 'post',\n      url: '/api/users',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n      data: values,\n    })\n    dispatch({ type: 'NEW_USER_SUCCESS', data })\n  } catch (error) {\n    console.log(error)\n    cb(error)\n  }\n}\n\nconst initialState = {\n  loaded: false,\n  loading: false,\n  items: [],\n}\n\nexport default function handleUser(state = initialState, action) {\n  switch (action.type) {\n    case 'FETCH_USERS_REQUEST':\n      return {\n        ...state,\n        loading: true,\n      }\n    case 'FETCH_USERS_SUCCESS':\n      return {\n        ...state,\n        items: action.data,\n        loading: false,\n        loaded: true,\n      }\n    case 'NEW_USER_SUCCESS':\n      return {\n        ...state,\n        items: [...state.items, action.data],\n      }\n    default:\n      return state\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark-form-control-select\":\"resolutions_dark-form-control-select__12Wa2\"};","import axios from 'axios'\nimport { getAbsoluteRepoUrl } from './url'\n\nexport function not(fn) {\n  return (...args) => !fn(...args)\n}\n\nexport function isEmptyObject(obj) {\n  return (\n    obj &&\n    Object.keys(obj).length === 0 &&\n    Object.getPrototypeOf(obj) === Object.prototype\n  )\n\n}\nconst CancelToken = axios.CancelToken\n\nexport function getSparqlFunction(props)\n{\n  return createSparqlFunction2(props);\n}\n\n/*\nexport function loadExternalJS(js)\n{\n    \n}\n*/\n\nfunction getUrl(props)\n{\n  var ss=getAbsoluteRepoUrl(props.repoURL);\n // console.log(ss);\n  return ss;\n} \n\n\nfunction getUrl_old(props) {\n  \n  try {\n    let url = '/api/sparql/' + props.repoURL\n    if (props.repoURL.startsWith('http')) {\n      // request sparql endpoint directly\n      url = props.repoURL\n    }\n    var modus = false\n    if (window.location.host === 'localhost:3000') {\n      modus = true\n    }\n    //  var modus=false; //debug\n\n    if (\n      props.localRepoURL != null &&\n      props.localRepoURL !== '' &&\n      modus\n    ) {\n      url = props.localRepoURL\n    }\n   \n  //  console.log('returning url :' + url)\n    return url\n  } catch (e) {\n    console.log('error creating url' + e)\n  }\n  return null\n}\n\nfunction createSparqlFunction2(props) {\n  // gebruikt door bb widgets in iframe situation\n  var url =getUrl(props)\n var f = function (query, success, errorRV) {\n    // console.log(\"query via window top \",query,success,errorRV);\n\n    let encodedQuery = encodeURIComponent(query)\n    let data = {\n      query: query,\n    }\n    data = 'infer=false&sameAs=false&query=' + encodedQuery\n\n    axios.defaults.headers.post['Content-Type'] =\n      'application/x-www-form-urlencoded'\n    //axios.defaults.headers.post['Access-Control-Allow-Origin'] ='*';\n    axios.defaults.headers.post['Accept']='application/sparql-results+json,*/*;q=0.9'\n    //console.log(\"querying with \",query,headers);\n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include'\n    // console.log(\"really sparqling \",query);\n     if (document.withCredentials==false)\n     {\n      axios.defaults.withCredentials = false\n     }\n    axios({\n      method: 'post',\n      url,\n      data,\n     \n      cancelToken: new CancelToken((c) => {\n        this.cancel = c\n      }),\n    })\n      .then((response) => {\n        if (success) {\n          success.call(this, response.data)\n        }\n      })\n      .catch((error) => {\n        //  console.log(error,query);\n        if (errorRV) {\n          errorRV.call(this, error)\n        }\n      })\n  }\n\n return f;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"FormField_default__sRnyI\",\"check\":\"FormField_check__2Wjr7\",\"radioGroup\":\"FormField_radioGroup__1b3T9\",\"help\":\"FormField_help__2v_XN\"};","/**\n * Helper class to pre-create references of Promises while allowing the resolve function to be specified at a later time.\n *\n * This is useful when you need the promise to be assigned somewhere whilst constructing it.\n */\nexport class DeferredPromise<T> implements PromiseLike<T> {\n  promise: Promise<T>\n\n  resolve: (value: (PromiseLike<T> | T)) => void\n  reject: (reason?: any) => void\n\n  catch: <TResult = never>(onrejected?: ((reason: any) => (PromiseLike<TResult> | TResult)) | undefined | null) => Promise<T | TResult>\n  then: <TResult1 = T, TResult2 = never>(onfulfilled?: ((value: T) => (PromiseLike<TResult1> | TResult1)) | undefined | null, onrejected?: ((reason: any) => (PromiseLike<TResult2> | TResult2)) | undefined | null) => Promise<TResult1 | TResult2>\n\n  readonly [Symbol.toStringTag] = \"Promise\"\n\n  constructor() {\n    this[Symbol.toStringTag] = \"Promise\"\n\n    // make ts happy\n    this.resolve = () => {}\n    this.reject = () => {}\n\n    this.promise = new Promise((resolve, reject) => {\n      // assign the resolve and reject functions to `this`\n      // making them usable on the class instance\n      this.resolve = resolve\n      this.reject = reject\n    })\n\n    // bind `then` and `catch` to implement the same interface as Promise\n    this.then = this.promise.then.bind(this.promise)\n    this.catch = this.promise.catch.bind(this.promise)\n  }\n}\n","import axios, { isAxiosError } from \"axios\"\nimport { OpaqueSparqlResults } from \"./sparqlResultHelpers\"\nimport { DeferredPromise } from \"./DeferredPromise\"\n\ntype ResultHolder = {\n  result: OpaqueSparqlResults\n  isLatest: () => boolean\n}\n\ntype QueryString = string\n\ntype TemplateId = string\n\nexport class ErrorNeedAuth extends Error {}\n\nconst state = {\n  instances: new Map<TemplateId, SparqlTemplate>(),\n  cache: new Map<QueryString, OpaqueSparqlResults>()\n}\n\ntype LastFetchRequest = {\n  query: string\n  promise: PromiseLike<ResultHolder>\n}\n\nexport class SparqlTemplate {\n  lastRequest: LastFetchRequest | null = null\n  sparqlEndpoint: string\n  cancelActiveRequest: null | (() => void) = null\n\n  constructor(sparqlEndpoint: string, templateId: TemplateId) {\n    this.sparqlEndpoint = sparqlEndpoint\n    state.instances.set(templateId, this)\n  }\n\n  async fetch(query: QueryString): Promise<ResultHolder> {\n    if (this.lastRequest?.query === query) {\n      return this.lastRequest.promise\n    }\n\n    const promise = new DeferredPromise<ResultHolder>()\n    this.lastRequest = { query, promise }\n\n    const isLatest = () => promise === this?.lastRequest?.promise\n    this.cancelActiveRequest?.()\n\n    if (state.cache.has(query)) {\n      const cachedResults = state.cache.get(query)\n      if (!cachedResults) throw new Error('Cache problem!')\n      setTimeout(() => promise.resolve({ isLatest, result: cachedResults }), 10)\n      return promise\n    }\n\n    try {\n      const data = new URLSearchParams()\n      data.set('infer', String(false))\n      data.set('sameAs', String(false))\n      data.set('query', query)\n\n      const response = await axios({\n        method: 'post',\n        url: this.sparqlEndpoint,\n        maxContentLength: Infinity,\n        maxBodyLength: Infinity,\n        data,\n        // @ts-ignore\n        withCredentials: document.withCredentials ?? true,\n        headers:{\n          Accept: 'application/sparql-results+json,*/*;q=0.9',\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        },\n        cancelToken: new axios.CancelToken((c) => this.cancelActiveRequest = c),\n      })\n\n      const match = query.match(/#\\s*artificially-slow-query\\s*=\\s*([0-9]+)/)\n      if (match) {\n        await waitFor(parseInt(match[1]))\n      }\n\n      this.cancelActiveRequest = null\n      const result = response.data\n\n      if (shouldCacheQuery(query)) {\n        state.cache.set(query, result)\n      }\n\n      promise.resolve({\n        isLatest,\n        result\n      })\n      return promise\n    } catch (error) {\n      if (isAxiosError(error) && (error.response?.status === 401 || error.response?.status === 403))\n        throw new ErrorNeedAuth()\n      throw error\n    }\n  }\n}\n\nasync function waitFor(ms: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), ms)\n  })\n}\n\nfunction shouldCacheQuery(query: QueryString) {\n  return !query.includes(\"#nocache\")\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__13Gds\",\"primary\":\"Button_primary__2ugne\",\"info\":\"Button_info__2lxHJ\",\"outline\":\"Button_outline__1EONj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"RadioBox_main__OWVGX\",\"label\":\"RadioBox_label__xmETg\",\"radioContainerHor\":\"RadioBox_radioContainerHor__1iRy5\",\"radioContainerVer\":\"RadioBox_radioContainerVer__R820_\",\"rows\":\"RadioBox_rows__2dSeK\",\"row\":\"RadioBox_row__26El2\"};","import { resolveTemplateString } from \"./resolve-template-string\";\nimport { runStartRule } from \"./run-start-rule\"\n\nclass PublishUtils {\n  static resetUri=\"http://www.buildingbits.nl/reset\";\n  \n  static setTimeStampParameter(widget: {\n    props: {\n      pubsub: Record<string, unknown>\n      publish: (topic: string, value: unknown) => void\n      timestampParameters: string | null | undefined\n    }\n  }, debug: boolean = false)\n  {\n    if (debug) {\n      console.log(\n        'timestamp parameter called ',\n        widget.props.timestampParameters\n      )\n    }\n    if (widget.props.timestampParameters) {\n      var valuesRaw = widget.props.timestampParameters\n      var values = valuesRaw.split(',')\n      var me = widget\n      var value = 'time:' + Date.now()\n      if (debug) console.log(values, value)\n\n      if (values.length > 0) {\n        if (debug) console.log(values[0],widget.props.pubsub[values[0]])\n        if (\n         // widget.props.pubsub[values[0]] != null &&\n          widget.props.pubsub[values[0]] !== value\n        ) {\n          //console.log(widget);\n          setTimeout(function () {\n           // console.log('resetting parameter 1 ' + values[0], value)\n            widget.props.publish(values[0], value)\n          }, 25)\n        }\n        //   data[values[n]]=\"http://www.buildingbits.nl/reset\";\n      }\n      if (values.length > 1) {\n        if (\n          widget.props.pubsub[values[1]] != null &&\n          widget.props.pubsub[values[1]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 2 ' + values[1])\n            me.props.publish(values[1], value)\n          }, 50)\n        }\n      }\n      if (values.length > 2) {\n        if (\n          widget.props.pubsub[values[2]] != null &&\n          widget.props.pubsub[values[2]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 3 ' + values[2])\n            me.props.publish(values[2], value)\n          }, 75)\n        }\n      }\n      if (values.length > 3) {\n        if (\n          widget.props.pubsub[values[3]] != null &&\n          widget.props.pubsub[values[3]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 4 ' + values[3])\n            me.props.publish(values[3], value)\n          }, 100)\n        }\n      }\n      if (values.length > 4) {\n        if (\n          widget.props.pubsub[values[4]] != null &&\n          widget.props.pubsub[values[4]] !== value\n        ) {\n          setTimeout(function () {\n            console.log('resetting parameter 5 ' + values[4])\n            me.props.publish(values[4], value)\n          }, 125)\n        }\n      }\n      if (values.length > 5) {\n        console.log('too many properties to reset')\n        alert('too many properties to reset in search box')\n      }\n\n      if (debug) {\n        console.log('reset parameter called for ', values)\n      }\n    }\n  }\n\n  static publish(props: {\n    dispatch: (value: unknown) => void\n  }, key: string, value: unknown) {\n    var data = { key: value };\n\n    props.dispatch({\n      type: \"PUBLISH\",\n      data: data\n    });\n  }\n\n\n\n\n  static getResetValueDef() {\n    return {\n      name: 'resetValues',\n      type: 'text',\n      label:\n        'reset this parameter after select event. multiple parameters via comma seperation',\n    }\n  }\n  static getRunRuleParametersDef()\n  {\n    return {\n      name: 'ruleTagAfterSubmit',\n      type: 'text',\n      label: 'run rule with tag after succesful submit',\n    };\n  }\n\n  static getRunRuleOptionalParametersDef()\n  {\n    return {\n      name: 'ruleparameters',\n      type: 'json',\n      label: 'extra json values',\n    };\n  }\n\n\n  \n\n  static async runRule(widget:any,json:any)\n  {   \n    //console.log(\"run rule json\",json);\n    const parsedObject: Record<string, string> = {};\n\n    for (const key in json) {\n        if (typeof json[key] === 'string') {\n            parsedObject[key] = json[key];\n        } else {\n            console.log(`Invalid value for key ${key}: expected a string.`);\n        }\n    }\n   // console.log(parsedObject,json)\n\n    const rule =widget.props.ruleTagAfterSubmit\n    if (!rule) return;\n    \n    await runStartRule(rule, widget.props.parameters,parsedObject)\n  }\n  \n\n  static getTimestampParametersDef() {\n    return {\n      name: 'timestampParameters',\n      type: 'text',\n      label:\n        'sets a timestamp after main event. multiple parameters via comma seperation',\n    }\n  }\n\n  static async resetParameter(widget: {\n    props: {\n      pubsub: Record<string, unknown>\n      publish: (topic: string, value: unknown) => void\n      resetValues: string | null | undefined\n    }\n  }, debug = false): Promise<unknown> {\n    if (debug) {\n      console.log('reset parameter called', widget.props.resetValues)\n    }\n    if (!widget.props.resetValues) return\n\n    const resetParametersRaw = widget.props.resetValues\n    const resetParameters = resetParametersRaw.split(',')\n    const resetValue = 'http://www.buildingbits.nl/reset'\n\n    const promises = []\n    for (const resetParameter of resetParameters) {\n      const currentValue = widget.props.pubsub[resetParameter]\n      if (currentValue == null || currentValue === resetValue) continue\n      promises.push(setTimeoutAsync(() => {\n        console.log(`resetting parameter: ${resetParameter}`)\n        widget.props.publish(resetParameter, resetValue)\n      }, 25))\n    }\n\n    return Promise.all(promises)\n  }\n  static removeUnresolvedParametersFromString(value:string|\"\")\n  {\n    return value.replace(/{{!?[A-Za-z0-9|:./]*}}/g,\"\")\n  }\n\n\n  static processStringForParameters(widget: {\n    props: {\n      pubsub: Record<string, unknown>\n    }\n  }, strTemplate: string | null | undefined) {\n    if (!strTemplate) return \"\"\n\n    try {\n      return resolveTemplateString(strTemplate, widget.props.pubsub)\n    } catch(e) {\n      console.log(`${widget}:\\n\\n${e}\\n\\n`)\n      return strTemplate\n    }\n  }\n\n  static emptyDataParameterChange(widget: {\n    props: {\n      pubsub: Record<string, unknown>\n      resetDataProps: string | null | undefined\n    }\n  }, arg: any, arg2: any) {\n    if (widget.props.resetDataProps) {\n      if (arg.data != null) {\n        console.log(widget.props.pubsub.button, arg.pubsub.button)\n        console.log(widget, arg, arg2)\n      }\n    }\n  }\n\n  static getEmptyDataParameterChange() {\n    return {\n      name: 'resetDataProps',\n      type: 'text',\n      label:\n        'reset data value when this parameter changes. multiple parameters via comma seperation',\n    } as const\n  }\n\n  /**\n   * Converts a list of values to a single value string according to multipleselectparametertype\n   */\n  static getListAsSingleValue(multipleselectparametertype: \"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\" | \"json\" | null | undefined, list: Array<string | number>) {\n    const record: Record<string, boolean> = {}\n    list.forEach(item => record[item] = true)\n    return PublishUtils.getMultiplePropValueAsSingleValue(multipleselectparametertype, record)\n  }\n\n  /**\n   * Converts a record holding multiple values to a single value string according to multipleselectparametertype\n   */\n  static getMultiplePropValueAsSingleValue(multipleselectparametertype: \"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\" | \"json\" | null | undefined, values: Record<string, boolean>)\n  {\n    if (multipleselectparametertype === \"json\") {\n      if (values == null) return JSON.stringify([])\n\n      const list = []\n      for (let key in values) {\n        const enabled = values[key]\n        if (!enabled) continue\n        list.push(key)\n      }\n\n      return JSON.stringify(list)\n    }\n\n    let valueString = ''\n      let komma = ''\n      let pre = '<'\n      let end = '>'\n      let kommaT = ','\n      if (multipleselectparametertype === 'csvstring') {\n        pre = '\"'\n        end = pre\n      }\n      if (multipleselectparametertype === 'valuestring') {\n        pre = '(\"'\n        end = '\") '\n        kommaT = ''\n      }\n      if (multipleselectparametertype === 'valueuri') {\n        pre = '(<'\n        end = '>) '\n        kommaT = ''\n      }\n    if (values==null)\n    {\n      return this.getEmptyMultiplePropValueAsSingleValue(multipleselectparametertype);\n    }\n      for (let n in values) {\n        if (values[n]) {\n          valueString += komma + pre + n + end\n          komma = kommaT\n        }\n      }\n      //  console.log(valueString);\n      if (valueString === '') valueString=this.getEmptyMultiplePropValueAsSingleValue(multipleselectparametertype);\n      return valueString;\n  }\n\n  /**\n   * Parses multiple values from multiplePropValue according to multipleSelectParameterType\n   */\n  static parseMultiplePropValue(multipleSelectParameterType: \"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\" | \"json\" | null | undefined, multiplePropValue: string) {\n    if (multipleSelectParameterType === \"json\") {\n      return JSON.parse(multiplePropValue)\n    }\n\n    const escapeChar = '\\\\'\n\n    const formatDict = {\n      csvuri: { prefix: '<', postfix: '>', separator: ',' },\n      csvstring: { prefix: '\"', postfix: '\"', separator: ',' },\n      valuestring: { prefix: '(\"', postfix: '\")', separator: ' ' },\n      valueuri: { prefix: '(<', postfix: '>)', separator: ' ' },\n    }\n\n    const { prefix, postfix, separator } = formatDict[multipleSelectParameterType ?? \"csvuri\"]\n\n    const after = (lookingFor: 'prefix' | 'value' | 'postfix' | 'separator') => {\n      if (lookingFor === 'prefix') return 'value'\n      if (lookingFor === 'value' && postfix === '') return 'separator'\n      if (lookingFor === 'value') return 'postfix'\n      if (lookingFor === 'postfix' && separator === '') return 'prefix'\n      if (lookingFor === 'postfix') return 'separator'\n      if (lookingFor === 'separator' && prefix === '') return 'value'\n      if (lookingFor === 'separator') return 'prefix'\n      throw new Error(`unknown value for \"lookingFor\": ${lookingFor}`)\n    }\n\n    /**\n     * parses char as part of symbol and pushes that onto parsed\n     */\n    const parseSymbolIntoParsed = (parsed: string, char: string, symbol: string) => {\n        const expectedChar = symbol[parsed.length]\n        if (char !== expectedChar) {\n          console.log({char, expectedChar, symbol, parsedLength: parsed.length})\n          throw new Error(`${char} was expected to be part of ${symbol} as ${multipleSelectParameterType} in ${multiplePropValue}`)\n        }\n        parsed += char\n        return parsed\n    }\n\n    type ParserState = {\n      currentEscapeChar?: string\n      values: string[]\n      parsed: string\n      lookingFor: 'prefix' | 'value' | 'postfix' | 'separator'\n    }\n\n    const initialParserState: ParserState = { values: [], parsed: '', lookingFor: after('separator') }\n    const { values } = Array.from(multiplePropValue).reduce((currentState: ParserState, char): ParserState => {\n      let { currentEscapeChar, values, parsed, lookingFor } = currentState\n      try {\n\n        if (lookingFor === 'prefix') {\n          parsed = parseSymbolIntoParsed(parsed, char, prefix)\n          if (parsed.length === prefix.length) return { values, parsed: '', lookingFor: after('prefix') }\n          return { values, parsed, lookingFor }\n        }\n\n        if (lookingFor === 'value') {\n          if (!currentEscapeChar && char === escapeChar)\n            return { currentEscapeChar: char, values, parsed, lookingFor }\n\n          if (currentEscapeChar || char !== postfix[0]) {\n            parsed += char\n            return { values, parsed, lookingFor }\n          }\n\n          values.push(parsed)\n          parsed = ''\n          lookingFor = after('value')\n        }\n\n        if (lookingFor === 'postfix') {\n          parsed = parseSymbolIntoParsed(parsed, char, postfix)\n          if (parsed.length === postfix.length) return { values, parsed: '', lookingFor: after('postfix') }\n          return { values, parsed, lookingFor }\n        }\n\n        if (lookingFor === 'separator') {\n          parsed = parseSymbolIntoParsed(parsed, char, separator)\n          if (parsed.length === separator.length) return { values, parsed: '', lookingFor: after('separator') }\n          return { values, parsed, lookingFor }\n        }\n\n      } catch(e) {\n        // @ts-ignore\n        const errorMessage = e.message\n        throw new Error(errorMessage + '\\n\\n' + JSON.stringify({ values, parsed, lookingFor, char }))\n      }\n\n      throw new Error(`unknown value for \"lookingFor\": ${lookingFor}`)\n    }, initialParserState)\n\n    return values\n  }\n\n  static getEmptyMultiplePropValueAsSingleValue(multipleselectparametertype: \"csvuri\" | \"csvstring\" | \"valuestring\" | \"valueuri\" | \"json\" | null | undefined)\n  {\n    if (multipleselectparametertype === \"json\") {\n      return JSON.stringify([])\n    }\n\n    let valueString = ''\n     let value='';\n      let pre = '<'\n      let end = '>'\n      let kommaT = ','\n      if (multipleselectparametertype === 'csvstring') {\n        pre = '\"'\n        end = pre\n      }\n      if (multipleselectparametertype === 'valuestring') {\n        pre = '(\"'\n        end = '\") '\n        kommaT = ''\n      }\n      if (multipleselectparametertype === 'valueuri') {\n        pre = '(<'\n        end = '>) '\n        kommaT = ''\n        value='http://www.buildingbits.nl/reset';\n      }\n\n              \n          valueString = pre + value + end\n         \n      \n      //  console.log(valueString);\n    //  if (valueString === '') valueString = '<http://www.buildingbits.nl/reset>';\n      return valueString;\n  }\n\n  static getMultipleValueFormatOptions({\n    name = 'multipleselectparametertype',\n    label = 'for Multiple selection only: how to set the multivalue parameters'\n  }: {\n    name?: string\n    label?: string\n  } = {}) {\n    return {\n      name,\n      type: 'select',\n      options: [\n        { label: 'csv as uri', value: 'csvuri' },\n        { label: 'csv as string with \"', value: 'csvstring' },\n        { label: 'sparql value string with \"', value: 'valuestring' },\n        { label: 'sparql value uri', value: 'valueuri' },\n        { label: 'JSON array', value: 'json' }\n      ],\n      label\n    } as const\n  }\n}\n\nfunction setTimeoutAsync<T>(callback: () => T, delay: number): Promise<T> {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      try {\n        resolve(callback())\n      } catch (e) {\n        reject(e)\n      }\n    }, delay)\n  })\n}\n\nexport default PublishUtils\n","export default __webpack_public_path__ + \"static/media/plus.d2c8885b.svg\";","\nimport { lazy } from 'react';\nimport PublishUtils from '../../../helpers/PublishUtils';\n\nclass BBPropertyPanelDescriptor {\n  \n\n  static getDescription() {\n    return {\n      name: 'BBPropertyPanel',\n      component: lazy(() =>  import('./BBPropertyPanel')),\n      label: 'BBPropertyPanel',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          defaultQuery:\"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \\n\\r \\n\\r select ?property ?pred ?value ?literal ?beschrijving ?beschrijvingValue ?icon ?iconColor\\n\\rwhere\\n\\r{\\n\\r  <{{selection}}> ?pred ?value.\\n\\r  filter(?pred!=rdf:type).\\n\\r  filter (?pred!=<http://www.opengis.net/ont/geosparql#asWKT>)\\n\\r  bind (strafter(StR(?pred),\\\"#\\\") as ?property)\\n\\r  bind (ISLITERAL(?value) as ?literal)\\n\\r  bind (\\\"fa fa-star\\\" as ?icon)\\n\\r  bind (\\\"#aa00aa\\\" as ?iconColor)\\n\\r  bind (\\\"een beschrijving\\\" as ?beschrijving)\\n\\r # bind (\\\"een beschrijving 2\\\" as ?beschrijvingValue)\\n\\r  \\n\\r  \\n\\r   \\n\\r}\",\n          label:\n            'to fill the property panel. Use ?property and ?value. optionally use  ?beschrijving  ?beschrijvingValue ?literal ?pred  ?iconColor ?icon',\n        },\n        {\n          name: 'childParameterText',\n          type: 'text',\n          label:\n            'string to replace in sparql with uri for getting child info (e.g. {{uri}})',\n        },\n        {\n          name: 'renderEmpty',\n          type: 'boolean',\n          label: 'render an empty table',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        {\n          name: 'editable',\n          type: 'boolean',\n          label:\n            'allow edits. this needs extra ?graph ?datatype ?uri parameters',\n        },\n        {\n          name: 'ruleTagAfterSubmit',\n          type: 'text',\n          label: 'run rule with tag after succesful submit',\n        },\n        {\n          name: 'parameters',\n          type: 'json-text',\n          label:\n            'extra parameters send in JSON format,Parameters will be resolved before sending. keep it simple. no subchildren',\n        },\n        \n        PublishUtils.getTimestampParametersDef(),\n        {\n          name: 'failureMessage',\n          type: 'text',\n          label: 'failure message',\n        },\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  \n}\n\nexport default BBPropertyPanelDescriptor\n","\r\nimport { lazy } from 'react';\r\nexport default class BBDCheckboxTreeDescriptor  {\r\n \r\n  static getDescription() {\r\n    return {\r\n      name: 'BBCheckboxTree',\r\n      component: lazy(() =>  import('./BBCheckboxTree')),\r\n      label: 'BBCheckboxTree',\r\n      variables: [\r\n        \r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:'to fill the tree.   ?uri ?text ?parent ?icon ',\r\n        },\r\n       \r\n      ],\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","import { HTMLProps } from \"react\"\n\nexport function PreSpan(props: HTMLProps<HTMLSpanElement>) {\n  const style: HTMLProps<HTMLSpanElement>['style'] = {\n    ...props.style,\n    unicodeBidi: 'embed',\n    fontFamily: 'monospace',\n    whiteSpace: 'pre',\n  }\n  return <span {...props} style={style} />\n}\n","import { lazy } from 'react';\r\n\r\nimport PublishUtils from './../../helpers/PublishUtils'\r\nimport { PreSpan } from '../ui-primitives/pre-span';\r\n\r\nexport default class TableDescriptor {\r\n    static getDescription() {\r\n        return {\r\n          name: 'Table',\r\n          status:\"normal\",\r\n          category:\"Default\",\r\n          component: lazy(() =>  import('./Table')), \r\n          label: 'Table widget',\r\n          variables: [\r\n            {\r\n              name: 'query',\r\n              type: 'yasgui',\r\n\r\n              description:\"extra documentation\",\r\n              defaultQuery:\"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?label ?labelURI ?comment\\n\\rwhere\\n\\r{\\n\\r    graph ?g\\n\\r  {\\n\\r    ?labelURI a/rdfs:subClassOf* <{{cls}}>. ?labelURI rdfs:label ?label.\\n\\r      optional { ?labelURI rdfs:comment ?comment}\\n\\r     \\n\\r  }\\n\\r\\n\\r}\\n\\r        limit 100\",\r\n              label:\r\n                'The results of this query are displayed in the table in the same order as they are returned from the triplestore. ' +\r\n                'Note that results of query-variable-names that end with either \"URI\", \"URL\", \"Icon\", \"IconColor\", \"IconSize\", are not displayed in the table, see help for an explanation of their functionality',\r\n              helpComponent: QueryHelp\r\n            },\r\n            {\r\n              name: 'publishVariable',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which item URI is published, when a link in the table is clicked.',\r\n                description:\"more information about the publish variable\"\r\n            },\r\n            {\r\n              name: 'highlightVariable',\r\n              type: 'text',\r\n              label: 'highlight table row with this uri',\r\n            },\r\n            {\r\n              name: 'ashtml',\r\n              type: 'boolean',\r\n              label: 'tabel waardes als html',\r\n            },\r\n            {\r\n              name: 'title',\r\n              type: 'text',\r\n              label: 'Titel boven de tabel',\r\n            },\r\n            {\r\n              name: 'renderEmpty',\r\n              type: 'boolean',\r\n              label: 'render an empty table',\r\n            },\r\n            {\r\n              name: 'zeroResult',\r\n              type: 'text',\r\n              label:\r\n                'text to display when sparql results is valid but has zero results',\r\n            },\r\n            {\r\n              name: 'aggregateResultsByFirstParameter',\r\n              type: 'boolean',\r\n              label: 'aggregate sparql results by the first parameter',\r\n            },\r\n            {\r\n              name: 'hideHeader',\r\n              type: 'boolean',\r\n              label:\r\n                'Hide the header',\r\n            },\r\n            {\r\n              name: 'replaceHeaderJSON',\r\n              type: 'text',\r\n              label:\r\n                'Key value JSON that replaces parameter headers. {\"label\":\"naam (volledig)\"}',\r\n            },\r\n            {\r\n              name: 'resetSelectedValueWhenNotAvailable',\r\n              type: 'boolean',\r\n              label: 'reset selected value when it is not available (anymore)',\r\n            },\r\n            {\r\n              name: 'hasNumberedRows',\r\n              type: 'boolean',\r\n              label: 'show row numbers',\r\n            },\r\n            {\r\n              name: 'centerContent',\r\n              type: 'boolean',\r\n              label: 'center values in the tabel',\r\n            },\r\n            PublishUtils.getResetValueDef(),\r\n            {\r\n                name: 'deletebuttonrule',\r\n                type: 'text',\r\n                label: 'uri or tag for rule when pushing delete icon',\r\n              },\r\n            {\r\n              name: 'deletebuttonruleParams',\r\n              type: 'json',\r\n              label: 'Extra parameters send to the rule when pushing delete icon. Should be a flat JSON with string-only values.',\r\n            },\r\n              PublishUtils.getTimestampParametersDef(),\r\n          ],\r\n        }\r\n      }\r\n    \r\n}\r\n\r\nfunction QueryHelp() {\r\n  return (\r\n    <div>\r\n      <p>When there is a query-variable-name <PreSpan>varName</PreSpan></p>\r\n      <ul>\r\n        <li><PreSpan>{'{varName}'}URI</PreSpan> will make it so that clicking on the table-cell value{' '}\r\n            of <PreSpan>varName</PreSpan> will save the value of <PreSpan>{'{varName}URI'}</PreSpan> to this widget's\r\n            {' '}configured app-variable.</li>\r\n        <li><PreSpan>{'{varName}'}URL</PreSpan> will make it so that clicking on the table-cell-value{' '}\r\n            of <PreSpan>varName</PreSpan> will let make the browser follow the value of{' '}\r\n            <PreSpan>{'{varName}URI'}</PreSpan> as a URL</li>\r\n        <li><PreSpan>{'{varName}'}Icon</PreSpan> will replace table-cell-value of <PreSpan>varName</PreSpan> with an{' '}\r\n            icon from <a href=\"https://fontawesome.com/search?o=r&m=free\" target=\"_blank\" rel=\"noreferrer\">fontawesome</a>.{' '}\r\n            <PreSpan>{'{varName}Icon'}</PreSpan> should be formatted as <PreSpan>{'fa-{iconName}'}</PreSpan></li>\r\n        <li><PreSpan>{'{varName}'}IconColor</PreSpan> sets the color of the aforementioned icon, which should be a{' '}\r\n            <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/color_value\" target=\"_blank\" rel=\"noreferrer\">css-color-value</a></li>\r\n        <li><PreSpan>{'{varName}'}IconSize</PreSpan> sets the height of the aforementioned icon, which should be a{' '}\r\n            <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/height\" target=\"_blank\" rel=\"noreferrer\">css-height-value</a></li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { restructureResponse } from '../../helpers/sparql'\nimport styles from './TableCells.module.css'\n\nclass TableCells extends React.Component {\n  static getDescription() {\n    return {\n      name: 'TableCells',\n      component: TableCells,\n      label: 'TableCells widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Query to fill table. Use ?header ?value ?row ?col to generate a matrix table .',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which tree item URI is published, when a link in the table  is clicked.',\n        },\n        {\n          name: 'isFirstItemBold',\n          type: 'boolean',\n          label: 'First item bold',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de tabel',\n        },\n        {\n          name: 'onClick',\n          type: 'javascript',\n          label: 'Code that runs before link click event.',\n        },\n      ],\n    }\n  }\n\n  createStateValues(items) {\n    // not used\n    let res = {}\n    for (var i = 0; i < items.length; i++) {\n      let item = items[i]\n      Object.keys(item).forEach((key) => {\n        if (key.endsWith('URI')) return\n        let obj = { value: item[key] }\n        if (item[key + 'URI']) obj.link = item[key + 'URI']\n        if (!res[key]) {\n          res[key] = obj\n        } else if (Array.isArray(res[key])) {\n          if (!res[key].filter((re) => re.value === obj.value).length) {\n            res[key].push(obj)\n          }\n        } else if (res[key].value !== item[key]) {\n          res[key] = [res[key], obj]\n        }\n      })\n    }\n\n    Object.keys(res).forEach((key) => {\n      if (Array.isArray(res[key])) {\n        res[key].sort((a, b) => a.value.localeCompare(b.value))\n      }\n    })\n\n    return res\n  }\n\n  render() {\n    //console.log(\"table 2 render function \");\n    let data = this.props.data\n    //  console.log(data);\n    if (!data || !data.results || data.results.bindings.length === 0) {\n      return null\n    }\n\n    let items = restructureResponse(data)\n\n    if (!items.length) return null\n\n    var rowsHash = {}\n    var rows = []\n    var headersHash = {}\n    var headers = []\n    var n = 0\n    for (var nitem in items) {\n      var item = items[nitem]\n      n++\n      if (headersHash[item.header] == null) {\n        headersHash[item.header] = n\n        headers.push(item.header)\n      } // collect unique headers;\n      var row = rowsHash[item.row]\n      if (row == null) {\n        row = { row: item.row }\n        rowsHash[item.row] = row\n        rows.push(row)\n      }\n      row[item.header] = item.value\n    }\n\n    console.log(rows)\n\n    return (\n      <div\n        className={\n          styles.main +\n          (this.props.isFirstItemBold ? ' ' + styles.firstItemBold : '')\n        }\n      >\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n        <table>\n          {\n            <thead>\n              <tr>\n                {headers.map((headVar, index) => (\n                  <th key={'header' + index}>{headVar}</th>\n                ))}\n              </tr>\n            </thead>\n          }\n\n          <tbody>\n            {rows.map((row, rindex) => (\n              <tr key={'row' + rindex}>\n                {headers.map((header, hindex) => (\n                  <td key={'td' + hindex}>{row[header]}</td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default TableCells\n","import { lazy } from 'react';\r\n\r\nimport PublishUtils from './../../helpers/PublishUtils'\r\n\r\nexport default class TreeDescriptor {\r\n  \r\n\r\n    static getDescription() {\r\n        return {\r\n          name: 'Tree',\r\n          component: lazy(() =>  import('./Tree')), \r\n          label: 'Tree widget',\r\n          category:\"basic\",\r\n          variables: [\r\n            {\r\n              name: 'query',\r\n              type: 'yasgui',\r\n              defaultQuery:\"PREFIX owl: <http://www.w3.org/2002/07/owl#>\\n\\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?label ?uri ?parent ?icon ?description \\n\\rwhere\\n\\r{\\n\\r    \\n\\r    graph <{{graph}}>\\n\\r    {\\n\\r       ?uri a owl:Class.\\n\\r        ?uri rdfs:label ?label.\\n\\r    optional {?uri rdfs:subClassOf ?parent. } \\n\\r    optional {\\n\\r    filter not exists  {[] rdfs:subClassOf ?uri}   bind (\\\"leaf\\\" as ?icon2) }\\n\\r            bind (if(BOUND(?icon2),?icon2,\\\"star\\\") as ?icon)\\n\\r  \\n\\r    }\\n\\r}\\n\\r\\n\\rlimit 100\",\r\n              label:\r\n                'Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons and checkbox for checkbox version. Use ?description of an tooltip using a info icon',\r\n            },\r\n            {\r\n              name: 'publishVariable',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which tree item URI is published, when tree item is clicked.',\r\n            },\r\n            {\r\n              name: 'publishVariable2',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which tree item URI2 is published, when tree item is clicked.',\r\n            },\r\n            {\r\n              name: 'publishVariable3',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which tree item URI3 is published, when tree item is clicked.',\r\n            },\r\n            {\r\n              name: 'publishVariable4',\r\n              type: 'text',\r\n              label:\r\n                'Variabele in which tree item URI4 is published, when tree item is clicked.',\r\n            },\r\n            {\r\n              name: 'subscribeVariable',\r\n              type: 'text',\r\n              label:\r\n                'Publish variabele on which to listen to to define tree item selection.',\r\n            },\r\n            {\r\n              name: 'textstyle',\r\n              type: 'text',\r\n              label: 'css class for text style. {w2ui}',\r\n            },\r\n            {\r\n              name: 'rootLabel',\r\n              type: 'text',\r\n              label: 'Label of the root of the tree. Leave empty for no root.',\r\n            },\r\n            \r\n            {\r\n              name: 'expandLevel',\r\n              type: 'int',\r\n              label: 'initially expand the tree to this level',\r\n            },\r\n    \r\n            {\r\n              name: 'title',\r\n              type: 'text',\r\n              label: 'title',\r\n            },\r\n            {\r\n              name: 'defaultIcon',\r\n              type: 'text',\r\n              label: 'fa icon name when no icon is defined. ',\r\n            },\r\n            {\r\n              name: 'aggregate',\r\n              type: 'boolean',\r\n              label: 'Aggregate the results based upon parent and child uri ',\r\n            },\r\n            {\r\n              name: 'shouldNonSelectedSubTreeClose',\r\n              type: 'boolean',\r\n              label:\r\n                'Should a subtree that does not contain selection fold on new selection.',\r\n            },\r\n            {\r\n              name: 'setSelectionInURL',\r\n              type: 'boolean',\r\n              label: 'the selected URI will be used in the browser URL. THIS WORKS ONLY WHEN browser URL is similar to the selection (Security reasons)',\r\n            },\r\n            {\r\n              name: 'debugSetSelectionInURL',\r\n              type: 'boolean',\r\n              label: 'sets a ?selection parameter in the browser url for Debug reasons',\r\n            },\r\n            {\r\n              name: 'setSelectionInURLStartsString',\r\n              type: 'text',\r\n              label:\r\n                'the selected URI will be used in the browser URL only if it starts with this text. . ',\r\n            },\r\n            {\r\n              name: 'parseInitialURLForSelection',\r\n              type: 'boolean',\r\n              label: 'parse the initial URL for selection',\r\n            },\r\n            {\r\n              name: 'initialSelection',\r\n              type: 'text',\r\n              label: 'initial uri selection',\r\n            },\r\n            {\r\n              name: 'scrollSelectionIntoView',\r\n              type: 'boolean',\r\n              label: 'try to automatically scroll the selected object into view',\r\n            },\r\n            {\r\n              name:'multipleCheckBoxParameter',\r\n              type:'text',\r\n              label:\"parameter for (multiple) checkbox values \"\r\n            }\r\n              ,\r\n            PublishUtils.getMultipleValueFormatOptions(),\r\n            {\r\n              name: 'deletebuttonrule',\r\n              type: 'text',\r\n              label: 'uri or tag for rule when pushing delete icon',\r\n            },\r\n            {\r\n              name: 'deletebuttonruleParams',\r\n              type: 'json',\r\n              label: 'Extra parameters send to the rule when pushing delete icon. Should be a flat JSON with string-only values.',\r\n            },\r\n            {\r\n              name: 'allowNonLeafDeletion',\r\n              type: 'boolean',\r\n              label: 'Allow deletion of items with children',\r\n            },\r\n            PublishUtils.getTimestampParametersDef()\r\n          ]\r\n        }\r\n      }\r\n    \r\n}","import { lazy } from 'react';\n\nexport default class TreeD3Descriptor {\n \n\n  static getDescription() {\n    return {\n      name: 'TreeD3',\n      component: lazy(() =>  import('./TreeD3')), \n      label: 'TreeD3 widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill tree',\n        },\n        {\n          name: 'publishVariableOnTreeItemClick',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele in which tree item URI is published, when tree item is clicked.',\n        },\n        {\n          name: 'subscribeVariableForTreeItemSelection',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele on which to listen to define tree item selection.',\n        },\n        {\n          name: 'subscribeVariableForTreeConnectionHighlight',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele on which to listen to define which tree connections to highlight',\n        },\n        {\n          name: 'subscribeVariableForFilter',\n          type: 'text',\n          label:\n            'Publish/subscribe variabele on which to listen to define which tree items should be filtered out',\n        },\n        {\n          name: 'rootLabel',\n          type: 'text',\n          label: 'Label of the root of the tree. Leave empty for no root.',\n        },\n        {\n          name: 'treeType',\n          type: 'select',\n          label: 'Soort boom',\n          options: [\n            {\n              label: 'Horizontaal',\n              value: 'horizontal',\n            },\n            {\n              label: 'Radiaal',\n              value: 'radial',\n            },\n          ],\n        },\n      ],\n    }\n  }\n\n  \n}\n\n","import React, { Component } from 'react'\nimport styles from './SelectBox.module.css'\nimport { Input } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\nimport { not, isEmptyObject } from '../../helpers/utils'\nimport isEqual from 'lodash/isEqual'\nimport PublishUtils from '../../helpers/PublishUtils'\n\nclass SelectBox extends Component {\n\n  static getDescription() {\n    return {\n      name: 'SelectBox',\n      component: SelectBox,\n      label: 'Select box widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          defaultQuery:\"select distinct ?graph ?label \\r\\n where \\r\\n{  \\r\\n graph ?g  \\r\\n {    \\r\\n values(?label ?graph)\\r\\n {  \\r\\n     (\\\"tva\\\" <http://wistor.nl/ifc/2024/bimlegal/tva>)   \\r\\n   (\\\"rhijnkade\\\" <http://wistor.nl/ifc/2024/bimlegal/rhijnkade>) \\r\\n   }\\r\\n  }\\r\\n}\",\n          label: 'To fill select box items',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which the URI of the selected item is published.',\n        },\n        {\n          name: 'publishVariable2',\n          type: 'text',\n          label: 'Variabelename for ?uri2 of the selected item (if available).',\n        },\n        {\n          name: 'publishVariable3',\n          type: 'text',\n          label: 'Variabelename for ?uri3 of the selected item (if available).',\n        },\n        {\n          name: 'preSelectFirstItem',\n          type: 'boolean',\n          label: 'pre select first item',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          label: 'Label',\n          topicValueInterpolationEnabled: true\n        },\n        {\n          name: 'extrastyle',\n          type: 'text',\n          label: 'extra css style ({\"border-radius\":\"20px\"})',\n        },\n       // PublishUtils.getResetValueDef()\n      ],\n    }\n  }\n\n  componentDidMount() \n  {\n    if (this.props.data) {\n      this.preSelect()\n    }\n  }\n\n  componentDidUpdate(prevProps) \n  {\n    try {\n      if (!isEqual(prevProps.data, this.props.data)) {\n        this.preSelect()\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  preSelect() {\n    try {\n     // console.log(\"preselect the first item\",this.props.preSelectFirstItem);\n      if (this.props.preSelectFirstItem!=true) return;\n      var value = 'http://www.buildingbits.nl/reset'\n      if (this.props.data==null) \n      {\n        if (this.props.publishVariable != null) \n        {\n          this.props.publish(this.props.publishVariable, value)\n        }\n        return;\n      }\n      let item = restructureResponse(this.props.data)[0]\n      if (item == null) {\n      } else {\n        let keyURI = this.props.data.head.vars[0]\n        value = item[keyURI]\n      }\n\n      if (this.props.publishVariable != null) \n      {\n        this.props.publish(this.props.publishVariable, value)\n      }\n      if (this.props.publishVariable2 != null && item['uri2'] != null) {\n       // console.log('initial select publishing uri2 ', item['uri2'])\n        this.props.publish(this.props.publishVariable2, item['uri2'])\n       \n      }\n      if (this.props.publishVariable3 != null && item['uri3'] != null) {\n        // console.log('initial select publishing uri2 ', item['uri2'])\n        \n         this.props.publish(this.props.publishVariable3, item['uri3'])\n       }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  onChange = (event) => {\n    let value = event.target.value\n    let value2 = null\n    let value3 = null\n\n    try {\n      value2 = event.target[event.target.selectedIndex].getAttribute('value2')\n    } catch (e) {}\n\n    try {\n      value3 = event.target[event.target.selectedIndex].getAttribute('value3')\n    } catch (e) {}\n\n        this.setState({selected:value});\n    if ((this.props.publishVariable != null) && (this.props.publishVariable != \"\") )\n    {\n     // PublishUtils.emptyDataParameterChange(this);\n      this.props.publish(this.props.publishVariable, value)\n    }\n\n    if (this.props.publishVariable2 != null && value2 != null && this.props.publishVariable2 != \"\") \n    {\n      //console.log('select publishing uri2 ',this.props.publishVariable2,value2,event.target[event.target.selectedIndex]);\n      this.props.publish(this.props.publishVariable2, value2.toString())\n      \n    }\n    if (this.props.publishVariable3 != null && value3 != null&& this.props.publishVariable3 != \"\") \n    {\n     // console.log('select publishing uri3 ',this.props.publishVariable3,value3.toString());\n      this.props.publish(this.props.publishVariable3, value3)\n    }\n \n  }\n\n  render() \n  {\n    let ok=true;\n  \n    if (!this.props) {ok=false;}\n    if (!this.props.data) {ok=false;}\n    let items = null\n    let keyURI =null;\n    let keyLabel =null;\n\n    if (ok)\n    {\n      try{\n      let headVars = this.props.data.head.vars\n      if (headVars.length < 2) ok=false;\n       keyURI = headVars[0] // graph\n       keyLabel = headVars[1] // label\n     \n      try {\n        items = restructureResponse(this.props.data).filter(not(isEmptyObject))\n      } catch (er) {\n       // console.log(er);\n      \n        ok=false;\n      }\n    }\n    catch(e){}\n  }\n\n    if (items == null) {  items=[]}\n    const value = this.props.publishVariable ? this.props.pubsub[this.props.publishVariable] : null\n    const stylePanel = styles[this.props.panelstyle]\n    const stylePrimaryAction = this.props.colorPrimaryAction ? 'primaryColor' : ''\n\n    var extrastyle={};\n    if (this.props.extrastyle!=null)\n    {\n      try{\n          extrastyle=JSON.parse(this.props.extrastyle);\n      }\n      catch(e){}\n    }\n\n    return (\n      <div className={styles.main} style={extrastyle}>\n        <div className={styles.label}>{this.props.label}</div>\n        <Input\n          className= {`form-control ${styles.round} ${styles.extra} ${stylePanel} ${stylePrimaryAction}`}\n          value={value || ''}\n          type=\"select\"\n          onChange={this.onChange}\n        >\n          {/* <option value=\"\">Kies een {this.props.publishVariable}...</option> */}\n          {items.map((item) => \n          {\n           //var selected=false;\n           // if (item[keyURI]==this.state.selected)   selected=true;\n            \n            return (\n           \n            <option\n              key={item[keyURI]}\n              value={item[keyURI]}\n              value2={item['uri2']}\n              value3={item['uri3']}\n            >\n              {item[keyLabel]}\n            </option>\n          ) } \n          )}\n        </Input>\n      </div>\n    )\n  }\n}\n\nexport default SelectBox\n","import React, { Component } from 'react'\nimport styles from './Slider.module.css'\nimport { restructureResponse } from '../../helpers/sparql'\nimport throttle from 'lodash/throttle'\n\nclass Slider extends Component {\n  state = {}\n  sliderTouched = false\n\n  static getDescription() {\n    var r = {\n      name: 'Slider',\n      component: Slider,\n      label: 'Slider widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Sparql query to define min max values of the slider. it uses only the first parameter',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Variabele in which the value of the slider is published.',\n        },\n\n        {\n          name: 'startMin',\n          type: 'boolean',\n          label: 'default on minimum',\n        },\n        {\n          name: 'publishStartValue',\n          type: 'boolean',\n          label: 'publish the initial value',\n        },\n\n        {\n          name: 'tick',\n          type: 'text',\n          label: 'tick',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          label: 'Label',\n        },\n        {\n          name: 'textwidth',\n          type: 'text',\n          label: 'text width',\n        },\n      ],\n    }\n    return r\n  }\n\n  componentDidUpdate(prevProps) {\n    const newRange = this.defineMaxMinValue()\n    const oldRange = this.defineMaxMinValue(prevProps)\n    if (newRange.maxValue === oldRange.maxValue && newRange.minValue === oldRange.minValue) return\n\n    const value = this.sliderTouched ? Math.max(newRange.minValue, Math.min(newRange.maxValue, this.state.value)) :\n                this.props.startMin ? newRange.minValue : newRange.maxValue\n    this.setState({value: value})\n    if (this.props.publishVariable && this.props.publishStartValue) {\n      this.props.publish(this.props.publishVariable, value)\n    }\n  }\n\n  defineMaxMinValue(alternateProps) {\n    let minValue = 1000000\n    let maxValue = -1000000\n    try {\n      var data = this.props.data\n      if (alternateProps) {\n        data = alternateProps.data\n      }\n      let headVars = data.head.vars\n      let key = headVars[0] // eg. oprichtingsDatum\n      let items = restructureResponse(data)\n\n      items.forEach((item) => {\n        let value = item[key]\n        try {\n          if (typeof value === 'string') value = Number(value)\n        } catch (error) {\n          console.log(error)\n        }\n        if (value < minValue) minValue = value\n        if (value > maxValue) maxValue = value\n      })\n      return { minValue, maxValue }\n    } catch (e) {\n      console.log(e)\n    }\n    return { minValue, maxValue }\n  }\n\n  onChange = (event) => {\n    this.sliderTouched = true\n    this.setState({\n      value: event.target.value,\n    })\n    // console.log(event);\n\n    //this.onChangeThrottle();\n  }\n  onmouseup = (event) => {\n    // console.log(\"mouse up\");\n    this.onChangeThrottle()\n  }\n\n  onChangeThrottle = throttle(() => {\n    // console.log(\"slider update\");\n    let value = this.state.value\n\n    if (value) {\n      console.log('really publishing ', this.props.publishVariable, value)\n      this.props.publish(this.props.publishVariable, value)\n    }\n  }, 200)\n\n  render() {\n    if (!this.props.data) return null\n    let step = 1\n    if (this.props.tick != null) {\n      try {\n        step = parseInt(this.props.tick)\n      } catch (error) {}\n    }\n    let { minValue, maxValue } = this.defineMaxMinValue()\n\n    let value\n    if (this.props.startMin) {\n      value = this.state.value || minValue\n    } else {\n      value = this.state.value || maxValue\n    }\n\n    return (\n      <div className={styles.main}>\n        <table>\n          <tbody>\n            <tr>\n              <td>\n                <div className={styles.label}>{this.props.label}</div>\n                <div className={styles.container}>\n                  <div className={styles.rangeValue}>{minValue}</div>\n                  <input\n                    className={styles.slider}\n                    type=\"range\"\n                    min={minValue}\n                    max={maxValue}\n                    value={value}\n                    step={step}\n                    onChange={this.onChange}\n                    onMouseUp={this.onmouseup}\n                  />\n                  <div className={styles.rangeValue}>{maxValue}</div>\n                  <div className={styles.rangeValue}>({value})</div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Slider\n","import React, { Component } from 'react'\nimport styles from './SearchAutocomplete.module.css'\nimport { Input } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\nimport PublishUtils from '../../helpers/PublishUtils'\nimport Icon from '@mui/material/Icon';\n\n\n//magnifyingGlass from '../../images/magnifying-glass.svg';\n//import cross from '../../images/cross.svg';\n\nclass SearchAutocomplete extends Component {\n  state = {\n    searchValue: '',\n    validItems: [],\n    showPopup: false,\n    selectedIndex: 0\n  }\n\n  itemsRef = React.createRef()\n\n  static getDescription() {\n    return {\n      name: 'SearchAutocomplete',\n      component: SearchAutocomplete,\n      label: 'Search autocomplete widget',\n      variables: [\n        {\n          name: 'query',\n          defaultQuery:\"PREFIX owl: <http://www.w3.org/2002/07/owl#>\\n\\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?label ?uri ?icon \\n\\rwhere\\n\\r{\\n\\r    \\n\\r    graph <{{graph}}>\\n\\r    {\\n\\r       ?uri a owl:Class.\\n\\r       ?uri rdfs:label ?label.\\n\\r    optional {\\n\\r    filter not exists  {[] rdfs:subClassOf ?uri}   bind (\\\"folder\\\" as ?icon2) }\\n\\r    \\n\\r   #  bind (if(BOUND(?icon2),?icon2,\\\"star\\\") as ?icon)\\n\\r      \\n\\r    }\\n\\r}\\n\\r\\n\\rlimit 1000\",\n          type: 'yasgui',\n          label: 'Query to fill search results. parameters search string, uri and optionally ?icon',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Variabele in which searchterm is published.',\n        },\n        // {\n        //   name: 'selectVariable',\n        //   type: 'text',\n        //   label: 'Variabele to find a selection int the search widget (not implemented)',\n        // },\n        {\n          name: 'nullSelectionResetVariable',\n          type: 'boolean',\n          label: 'set reset value when nothing is selected',\n        },\n        {\n          name: 'alignItems',\n          type: 'select',\n          label: 'Uitlijning',\n          options: [\n            {\n              label: 'Stretch',\n              value: 'stretch',\n            },\n            {\n              label: 'Start',\n              value: 'flex-start',\n            },\n            {\n              label: 'Center',\n              value: 'center',\n            },\n            {\n              label: 'End',\n              value: 'flex-end',\n            },\n          ],\n        },\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'textbefore',\n          type: 'text',\n          label: 'text before the search input.',\n        },\n        {\n          name: 'cssEscape',\n          type: 'text',\n          label: 'JSON object of CSS statements',\n        },\n\n        {\n          name: 'resetPublishVariable',\n          type: 'boolean',\n          label: 'Reset the publish variable when sparql changes',\n        },\n        {\n          name: 'placeholderText',\n          type: 'text',\n          label: 'Placeholder text for the search bar',\n        },\n      ],\n    }\n  }\n\n  shouldComponentUpdate(e, b) {\n    if (e == null) return true\n    if (this.props == null) return true\n    if (e.data !== this.props.data) {\n      //console.log(\"NEW DATA. refresh current searchbox\");\n\n      if (this.props.resetPublishVariable === true) {\n        let pv = this.props.publishVariable\n        // console.log(\"should reset if variable is present\",pv);\n        if (pv != null) {\n          // console.log(\"publish variable could be present\");\n          if (this.props.pubsub[pv] != null) {\n            //console.log(\"reset publish variable \",pv,this.props.pubsub[pv]);\n\n            this.setState({ searchValue: '' })\n            this.props.publish(pv, 'http://www.buildingbits.nl/empty')\n          }\n        }\n      }\n    }\n        try {\n                    if (this.props.selectVariable!=null)\n                    {\n                      var sv =this.props.selectVariable;\n                      if (this.props.pubsub[sv]!=e.pubsub[sv])\n                      {\n                        var selectedProp = e.pubsub[sv];\n                        console.log(\"we should search for \"+selectedProp);\n                      }\n                    }\n        }\n        catch(e){}\n\n    return true\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      if (!this.state.validItems.length) {\n        return\n      }\n\n      let selectedItem = null;\n      if (this.state.selectedIndex != null) {\n        selectedItem = this.state.validItems[this.state.selectedIndex]\n      } else if (this.state.validItems.length === 1) {\n        selectedItem = this.state.validItems[0]\n      }\n\n      if (!selectedItem) {\n        return\n      }\n\n      const objectKey = this.props.data.head.vars[0]\n      const objectURIKey = this.props.data.head.vars[1]\n\n      this.publish(selectedItem[objectURIKey], selectedItem[objectKey])\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault() // prevent cursor moving to end\n\n      let selectedIndex = this.state.selectedIndex\n      let validItems = this.state.validItems\n      if (selectedIndex === validItems.length - 1) return\n      this.setState({\n        selectedIndex: selectedIndex === null ? 0 : selectedIndex + 1,\n      })\n      this.scrollToSelectedItem(\"down\");\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault()  // prevent cursor moving to start\n\n      let selectedIndex = this.state.selectedIndex\n      if (selectedIndex === 0) return\n      this.setState({\n        selectedIndex:\n          selectedIndex === null\n            ? this.state.validItems.length - 1\n            : selectedIndex - 1,\n      })\n      this.scrollToSelectedItem(\"up\");\n    } else if (e.key === 'Escape') {\n      this.setState({ searchValue: '' })\n    }\n  }\n\n  /**\n   * @param direction {\"up\"|\"down\"}\n   */\n  scrollToSelectedItem(direction) {\n    requestAnimationFrame(() => {\n      if (!this.itemsRef.current) return\n      const selectedItem = this.itemsRef.current.querySelector('[data-is-selected=true]')\n      if (!selectedItem) return\n      if (isInView(this.itemsRef.current, selectedItem)) return\n      selectedItem.scrollIntoView({ block: direction === \"up\" ? \"start\" : \"end\" })\n    })\n  }\n\n  onChange = (e) => {\n    let objectKey = this.props.data.head.vars[0]\n    let searchValue = e.target.value\n\n    let items = restructureResponse(this.props.data)\n\n    // Always render items starting with search query on top\n    const itemsStartingWithSearchQuery = items.filter(item =>\n      item[objectKey] && item[objectKey].toLowerCase().startsWith(searchValue.toLowerCase())\n    )\n    const itemsOnlyContainingSearchQuery = items.filter(item =>\n      item[objectKey]\n      && item[objectKey].toLowerCase().includes(searchValue.toLowerCase())\n      && !item[objectKey].toLowerCase().startsWith(searchValue.toLowerCase()))\n    const validItems = [\n      ...itemsStartingWithSearchQuery,\n      ...itemsOnlyContainingSearchQuery\n    ]\n\n    this.setState({\n      searchValue,\n      showPopup: true,\n      validItems,\n      selectedIndex: 0,\n    })\n  }\n\n  onBlur = (e) => {\n    setTimeout(() => {\n      this.setState({\n        showPopup: false,\n      })\n    }, 300)\n  }\n\n  publish(objectURI, key) {\n    let publishVariable = this.props.publishVariable\n    var data = {}\n\n    data[publishVariable] = objectURI\n\n    this.props.publish(publishVariable, objectURI) //DIT EERST\n\n    PublishUtils.resetParameter(this, false)\n   \n    this.setState({\n      showPopup: false,\n      searchValue: key,\n    })\n  }\n\n  renderLabel(label, searchValue,icon) {\n    let ind = label.toLowerCase().indexOf(searchValue.toLowerCase())\n    if (ind === -1) {\n      return <div><span>{label} </span> \n      {icon && (<span><Icon  fontSize=\"small\" color=\"action\" size=\"small\" >{icon}</Icon></span>)}\n      </div>\n    }\n    let end = ind + searchValue.length\n    let l1 = label.slice(0, ind)\n    let l2 = label.slice(ind, end)\n    let l3 = label.slice(end)\n    return (\n      <div>\n        <span>{l1}</span>\n        <span style={{ fontWeight: 'bold' }}>{l2}</span>\n        <span>{l3}</span>\n        {icon && (<span><Icon  size=\"small\"   fontSize=\"small\" color=\"action\" >{icon}</Icon></span>) }\n      </div>\n    )\n  }\n\n  renderValidItems() {\n    try {\n      if (!this.props.data) return\n\n      let objectKey = this.props.data.head.vars[0]\n      let objectURIKey = this.props.data.head.vars[1]\n      let searchValue = this.state.searchValue\n      let validItems = this.state.validItems\n      let selectedIndex = this.state.selectedIndex\n      let selectedItem = validItems[selectedIndex]\n\n      if (!searchValue) return null\n      if (!validItems.length)\n        return <div className={styles.noResults}>geen resultaten gevonden</div>\n      if (!this.state.showPopup) return null\n\n      return (\n        <div className={styles.items} z-index={200} ref={this.itemsRef}>\n          {validItems.map((item, index) => {\n            let isSelected =\n              selectedItem && selectedItem[objectURIKey] == item[objectURIKey]\n             let icon =item.icon;\n            return (\n              \n              <div\n             key={index}\n                data-is-selected={isSelected}\n                className={\n                  styles.item + ' ' + (isSelected ? styles.selected : '')\n                }\n                onClick={() =>\n                  this.publish(item[objectURIKey], item[objectKey])\n                }\n              >\n                {this.renderLabel(item[objectKey], searchValue,icon)}\n              \n                \n              </div>\n             \n             \n            )\n          })}\n        </div>\n      )\n    } catch (ee) {\n      console.log(ee)\n    }\n    return\n  }\n\n  emptyEvent=()=>\n  {\n   // console.log(\"empty event\");\n    this.setState({ searchValue: '' });\n    if (this.props.nullSelectionResetVariable)\n    {\n      if (this.props.publishVariable!=null)\n      {\n        this.props.publish(this.props.publishVariable, PublishUtils.resetUri) //DIT EERST\n        PublishUtils.resetParameter(this, false)\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.data) return null\n    let mainStyle = {\n      alignItems: this.props.alignItems || 'stretch',\n    }\n\n    let css = this.props.cssEscape\n    if (css) {\n      try {\n        css = JSON.parse(css)\n        mainStyle = {\n          ...mainStyle,\n          ...css,\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    }\n    let text = this.props.textbefore\n    if (text != null && text.length < 1) {\n      text = null\n    }\n    return (\n      <div className={styles.main} style={mainStyle}>\n        <div className={`${styles.inputContainer} ${styles[this.props.panelstyle]}`}>\n          {text && <b className={styles.headertxt}>{text}</b>}\n          <Input\n            value={this.state.searchValue}\n            component=\"input\"\n            type=\"text\"\n            placeholder={this.props.placeholderText}\n            onKeyDown={this.handleKeyPress}\n            onChange={this.onChange}\n            onBlur={this.onBlur}\n          />\n          {this.state.searchValue ? (\n            <img\n              style={{ cursor: 'pointer' }}\n              onClick={this.emptyEvent}\n              src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik00NTcuNSw0NjZjLTMuNSwwLTYuOS0xLjMtOS41LTRMNDgsNjJjLTUuMy01LjMtNS4zLTEzLjgsMC0xOS4xYzUuMy01LjMsMTMuOC01LjMsMTkuMSwwbDQwMCw0MDBjNS4zLDUuMyw1LjMsMTMuOCwwLDE5LjENCgkJQzQ2NC40LDQ2NC43LDQ2MSw0NjYsNDU3LjUsNDY2eiIvPg0KCTxwYXRoIGQ9Ik01Ny41LDQ2NmMtMy41LDAtNi45LTEuMy05LjUtNGMtNS4zLTUuMy01LjMtMTMuOCwwLTE5LjFMNDQ4LDQzYzUuMy01LjMsMTMuOC01LjMsMTkuMSwwYzUuMyw1LjMsNS4zLDEzLjgsMCwxOS4xTDY3LDQ2Mg0KCQlDNjQuNCw0NjQuNyw2MSw0NjYsNTcuNSw0NjZ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==\"\n              alt=\"empty\"\n            />\n          ) : (\n            <img\n              src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGQ9Ik0yMzIuNjg5LDM0Ljc5N2MxMS44MjcsMi4xNTUsMjMuODI2LDMuNzI1LDM1LjUwNSw2LjYxM0MzODcuNDMxLDcwLjkzMyw0NDkuMTgxLDIwMS41ODQsMzk1LjgyLDMxMi4xMzMNCgljLTQuNjUzLDkuNTgyLTMuNTA3LDE0LjM1LDQuNCwyMS4wODhjNDQuNDIyLDM3Ljc1MiwyMi4xMTksMTguMjIzLDY2LjIyLDU2LjQzM2MyMS41NjksMTguNjU4LDIwLjc0NCw0Mi44NjItMS45NDgsNjAuMTQ2DQoJYy0xMy4xNTYsOS45NzEtMjguODgxLDkuMjM3LTQzLTIuODg4Yy00NC41Ni0zOC4zNy0yMi43MzgtMTkuMDAyLTY3LjE1OS01Ny40NjRjLTMuNzE0LTMuMjMyLTcuNDczLTYuMzUtMTEuNzgyLTkuODc5DQoJYy0yNy4wNDcsMjAuNjI5LTU3LjAyOCwzMy42NDgtOTAuMzEsMzkuNDcxQzE0My4xNDcsNDM4LjIyNCwzNC45NywzNTEuNDY3LDMwLjM2MiwyNDAuNzc5DQoJQzI1LjkwNCwxMzMuODg2LDk4LjE1Miw0OC45OTcsMjAzLjU5MSwzNi45NTJjMi41NTYtMC4yODcsNS4wNDItMS40MSw3LjU1My0yLjE1NUMyMTguMzA2LDM0Ljc5NywyMjUuNTAzLDM0Ljc5NywyMzIuNjg5LDM0Ljc5N3oNCgkgTTM2NS4zMzUsMjI4Ljg4M2MwLjE4NC03Ny45NTYtNjEuODQyLTE0MC40MTYtMTM5LjgzMi0xNDAuNzgzYy03Ny44NTItMC4zNzgtMTQwLjgyOCw2MS44NDItMTQxLjE5NSwxMzkuNDg4DQoJYy0wLjQsNzguMzU3LDYyLjMzNSwxNDEuNDgyLDE0MC41NjUsMTQxLjUwNEMzMDIuNjIyLDM2OS4xODUsMzY1LjE5NywzMDYuNzI1LDM2NS4zMzUsMjI4Ljg4M3oiLz4NCjwvc3ZnPg0K\"\n              alt=\"magnifying glass\"\n            />\n          )}\n        </div>\n        {this.renderValidItems()}\n      </div>\n    )\n  }\n}\n\n/**\n * @param container {HTMLElement}\n * @param element {HTMLElement}\n * @return {boolean}\n */\nfunction isInView(container, element) {\n  const cTop = container.scrollTop\n  const cBottom = cTop + container.clientHeight\n\n  const eTop = element.offsetTop\n  const eBottom = eTop + element.clientHeight\n\n  return eTop >= cTop && eBottom <= cBottom\n}\n\nexport default SearchAutocomplete\n","import React, { Component } from 'react'\nimport styles from './SplitLayout.module.css'\nimport Area from '../Area'\nimport { interpolateSubscriptions } from '../../helpers/widget'\nimport { mergeClasses } from \"../../helpers/styling\"\n\nclass SplitLayout extends Component {\n  static getDescription() {\n    return {\n      name: 'SplitLayout',\n      component: SplitLayout,\n      label: 'Split Layout',\n      variables: [\n        {\n          name: 'direction',\n          type: 'select',\n          label: 'Direction',\n          options: [\n            {\n              label: 'Rijen',\n              value: 'column',\n            },\n            {\n              label: 'Kolommen',\n              value: 'row',\n            },\n          ],\n        },\n        {\n          name: 'disableScrollbars',\n          type: 'boolean',\n          label: 'disable scrollbars',\n        },\n        {\n          name: 'minimize',\n          type: 'boolean',\n          label: 'minimize size',\n        },\n        {\n          name: 'areaSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            \"Kolom Breedte of Rij hoogte, gescheiden door comma's. Waarden kunnen gegeven worden in pixels, percentage of getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 130px,1,10%)\",\n        },\n        {\n          name: 'style',\n          type: 'json',\n          label: 'style for each area',\n        },\n        {\n          name: 'areas',\n          type: 'json',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label: 'area definitions',\n        },\n      ],\n    }\n  }\n\n  render() {\n   \n    if (this.props.withinSelectedTab === false && this.firstTime == null) {\n      return null\n    } else {\n      this.firstTime = false\n    }\n\n    let areaSizes = this.props.areaSizes\n    let areas= this.props.areas;\n\n    if (areas==null)areas=[];\n\n    if (typeof areaSizes === 'string') {\n      areaSizes = areaSizes.split(' ')\n    }\n\n    const extraClassNames = mergeClasses({\n      [styles.overflowHidden]: this.props.disableScrollbars\n    })\n\n    let mode = this.props.mode || 'preview'\n\n    // if (this.props.minimize)\n    return (\n      <div\n        className={\n          styles.main +\n          ' ' +\n          styles[this.props.direction] +\n          ' ' +\n          styles[mode] +\n          ' ' +\n          extraClassNames\n        }\n      >\n        {areaSizes.map((areaSize, index) => {\n          let areaConfig = areas[index] || {}\n          areaSize = areaSize.trim()\n          let flex = '0 0 auto'\n          // let flex = '1 1 auto';\n          let fixedSize = 'auto'\n\n          if (/^\\d+$/.test(areaSize)) {\n            if (areaSize === '0') {\n              areaSize = '0 0 auto'\n            }\n            flex = areaSize\n          } else {\n            fixedSize = areaSize\n          }\n          let heightOrWidth =\n            this.props.direction === 'row' ? 'width' : 'height'\n          if (this.props.minimize) {\n            heightOrWidth =\n              'max' +\n              heightOrWidth.substr(1).toLocaleUpperCase() +\n              heightOrWidth.substr(1)\n            //console.log(\"minimize \",heightOrWidth, fixedSize);\n            flex = '1 1 auto'\n          }\n\n          if (this.props.direction !== 'row') {\n            // console.log(areaSize);\n            if (!areaSize.endsWith('px')) {\n              flex = '1 1 auto'\n            }\n          }\n          if (mode !== 'preview' && areaSize.endsWith('px')) {\n            areaSize = parseInt(areaSize.replace('px', ''))\n            areaSize += 200\n            areaSize = areaSize + 'px'\n            // console.log(\"moeten we nu niet de hoogte aanpassen ?\",areaSize);\n          }\n\n          if (interpolateSubscriptions(this, areaConfig.hidden, 'boolean'))\n            fixedSize = (() => {\n              if (this.props.mode !== 'edit') return 0\n              if (this.props.direction === 'row') return 100\n              return 20\n          })()\n\n          return (\n            <div\n              key={index}\n              className={mergeClasses(styles.areaContainer, extraClassNames)}\n              style={{\n                flex,\n                [heightOrWidth]: fixedSize,\n                ...(this.props.style?.length ? this.props.style[index] : {})\n              }}\n            >\n              <Area\n                {...this.props}\n                disableFlexbox={false}\n                index={index}\n                config={areaConfig}\n                onChange={this.props.onChange}\n              />\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default SplitLayout\n","\n\nimport { lazy } from 'react';\n\nexport default class SplitLayoutTestDescriptor  {\n  static getDescription() {\n    return {\n      name: 'SplitLayoutTest',\n      component: lazy(() =>  import('./SplitLayoutTest')), \n      label: 'Split Layout Test',\n      variables: [\n        {\n          name: 'direction',\n          type: 'select',\n          label: 'Direction',\n          options: [\n            {\n              label: 'Rijen',\n              value: 'column',\n            },\n            {\n              label: 'Kolommen',\n              value: 'row',\n            },\n          ],\n        },\n        {\n          name: 'areaSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            \"Kolom Breedte of Rij hoogte, gescheiden door comma's. Waarden kunnen gegeven worden in getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 1,3,1)\",\n        },\n        {\n          name: 'minSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            \"initiele grootte, gescheiden door comma's. Waarden kunnen gegeven worden in pixels. (Een voorbeeld: 130px,200px,300px)\",\n        },\n        {\n          name: 'cardSizes',\n          type: 'array',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label:\n            'padding Waarden kunnen gegeven worden in pixels, percentage of getallen. Een getal is verhoudingsgetal ten opzichte van de andere Rijen/Kolommen. (Een voorbeeld: 130px,1,10%)',\n        },\n        {\n          name: 'areas',\n          type: 'json',\n          // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n          label: 'area definitions',\n        },\n      ],\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport styles from './Yasgui.module.css'\n//import yasqe from 'yasgui-yasqe'\nimport yasgui from '@triply/yasgui'\nimport '../../../node_modules/@triply/yasqe/build/yasqe.min.css'\n//import '../../../node_modules/yasgui-yasqe/dist/yasqe.css'\nimport axios from 'axios'\nimport { Button } from 'reactstrap'\nimport { restructureResponse } from '../../helpers/sparql'\n\nclass Yasgui extends Component {\n  constructor(props) {\n    super(props)\n    this.textArea = React.createRef()\n  }\n\n  state = {\n    message: '',\n  }\n\n  // componentDidMount() {\n  //   setTimeout(() => {\n  //     this.yas = yasqe.fromTextArea(this.textArea.current);\n  //     // this.yas.setSize('100%')\n  //     let defaultValue = `PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n  //     select * where {\n  //       ?s ?p ?o .\n  //     } limit 100`;\n  //     this.yas.setValue(defaultValue);\n  //     // debugger\n  //     // this.textArea.current.focus()\n  //   }, 500);\n\n  //   // this.yas.on('blur', () => {\n  //   //   // this.props.handleBlur(this.yas.getValue());\n  //   //   this.loadData(this.yas.getValue())\n  //   // });\n  // }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.withinSelectedTab !== this.props.withinSelectedTab &&\n      this.props.withinSelectedTab\n    ) {\n      if (this.yas) return\n      this.yas = new yasgui.Yasqe(this.textArea.current);\n\n     // this.yas = yasgui.Yasqe.fromTextArea(this.textArea.current)\n      let defaultValue = `PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nselect * where { \n  ?s ?p ?o .\n} limit 2`\n      this.yas.setValue(defaultValue)\n    }\n  }\n\n  onRunClick = () => {\n    this.loadData(this.yas.getValue())\n  }\n\n  loadData(query) {\n    if (!this.props.repoURL) return console.log('Repo URL is not set!')\n\n    if (query) {\n      // default use proxy server\n      let url = '/api/sparql/' + this.props.repoURL\n      let data = {\n        query: encodeURIComponent(query),\n      }\n      let headers = {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      }\n      if (this.props.repoURL.startsWith('http')) {\n        // request sparql endpoint directly\n        url = this.props.repoURL\n        data =\n          'infer=true&limit=1000&offset=0&sameAs=true&query=' +\n          encodeURIComponent(query)\n        headers = {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          Accept: 'application/sparql-results+json',\n        }\n      }\n\n      axios({\n        method: 'post',\n        url,\n        data,\n        headers,\n      })\n        .then((response) => {\n          this.setState({\n            data: response.data,\n            message: '',\n          })\n        })\n        .catch((err) => {\n          console.log(err)\n          this.setState({\n            message: 'Er ging iets mis met laden van de data.',\n          })\n        })\n    }\n  }\n\n  renderData() {\n    if (this.state.message) {\n      return <div>{this.state.message}</div>\n    }\n\n    if (!this.state.data) return null\n    let headVars = this.state.data.head.vars\n    let items = restructureResponse(this.state.data)\n\n    return (\n      <table>\n        <thead>\n          <tr>\n            {headVars.map((headVar, index) => (\n              <th key={index}>{headVar}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {items.map((item, index) => {\n            return (\n              <tr key={index}>\n                {headVars.map((headVar, index) => {\n                  let value = item[headVar] || ''\n                  return <td key={index}>{value}</td>\n                })}\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n\n  render() {\n    return (\n      <div className={styles.main}>\n       <div ref={this.textArea} type=\"textarea\" />\n        <div className={styles.buttonContainer}>\n          <Button\n            color=\"primary\"\n            style={{ minWidth: '120px', marginTop: '12px' }}\n            onClick={this.onRunClick}\n          >\n            RUN\n          </Button>\n        </div>\n        <div className={styles.tableContainer}>{this.renderData()}</div>\n      </div>\n    )\n  }\n}\n\nexport default Yasgui\n","import './bbutil'\r\nimport BBIFrame from './BBIFrame'\r\nimport PublishUtils from '../../../helpers/PublishUtils'\r\nimport AfterJS from '../../../helpers/AfterJS'\r\n\r\nclass BBMap extends BBIFrame {\r\n  getUrl = ()  => `/${window.bbFolderName}/map/leafletWidgetDeploy171V1.html`\r\n\r\n  constructor() {\r\n    super()\r\n    //console.log(\"BBMap Constructor\");\r\n    this.scrolling = 'no'\r\n    this.noEvents = false;\r\n    this.usesParameters=false;\r\n  }\r\n\r\n  static getDescription() {\r\n    return {\r\n      name: 'BBMap',\r\n      component: BBMap,\r\n      label: 'Leaflet map',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          defaultQuery:\"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?uri ?color ?geometry (concat(\\\"label: \\\",STR(?color)) as ?label)\\n\\r\\n\\rwhere\\n\\r{\\n\\rgraph <{{graph}}>\\n\\r    {\\n\\r      ?uri <http://www.opengis.net/ont/geosparql#asWKT> ?geometry.\\n\\r    ?uri a ?cls.\\n\\r       \\n\\r    }\\n\\r  ?cls rdfs:label ?color\\n\\r \\n\\r    }\\n\\rlimit 1000\\n\\r    \\n\\r#title: title;\\n\\r \\n\\r\",\r\n          label:\r\n            'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring. hints for coloring #color:RGBA(0,255,0,1)@\"values\"infottext&extr text       #baselayer:PDOK grijs; #title:titel;',\r\n        },\r\n        {\r\n          name: 'basequery',\r\n          type: 'yasgui',\r\n          label:\r\n            'default for creating a map. when no parameters are available ',\r\n        },\r\n        {\r\n          name: 'startWithGreyBase',\r\n          type: 'boolean',\r\n          label:\r\n            'start with grey baselayer ',\r\n        },\r\n        \r\n        {\r\n          name: 'height',\r\n          type: 'text',\r\n          label: 'height variable',\r\n        },\r\n        {\r\n          name: 'publishVariable',\r\n          type: 'text',\r\n          label:\r\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\r\n        },\r\n        {\r\n          name: 'subscribeVariable',\r\n          type: 'text',\r\n          label:\r\n            'Published uri variabele on which to listen to define selection.',\r\n        },\r\n        \r\n        {\r\n          name: 'noResultToast',\r\n          type: 'text',\r\n          label:\r\n            'message when there is no result',\r\n        },\r\n\r\n        \r\n\r\n\r\n        AfterJS.getJSScriptAfterSelectionChange(),\r\n        PublishUtils.getResetValueDef(),\r\n        {\r\n          name: 'className',\r\n          type: 'text',\r\n          label: 'iframe classNames',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n\r\n  state = { selectedUri: null }\r\n}\r\nexport default BBMap\r\n","import './bbutil'\r\nimport BBIFrame from './BBIFrame'\r\nimport PublishUtils from '../../../helpers/PublishUtils'\r\nimport AfterJS from '../../../helpers/AfterJS'\r\n\r\nclass BBMapExperimental extends BBIFrame {\r\n  getUrl = ()  => `/${window.bbFolderName}/mapV2/leafletWidgetDeploy171V1.html`\r\n\r\n  constructor() {\r\n    super()\r\n    //console.log(\"BBMap Constructor\");\r\n    this.scrolling = 'no'\r\n    this.noEvents = false;\r\n    this.usesParameters=false;\r\n  }\r\n\r\n  static getDescription() {\r\n    return {\r\n      name: 'BB Map Experimental',\r\n      component: BBMapExperimental,\r\n      label: 'Leaflet map (Experimental)',\r\n      experimental:true,\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          defaultQuery:\"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?uri ?color ?geometry (concat(\\\"label: \\\",STR(?color)) as ?label)\\n\\r\\n\\rwhere\\n\\r{\\n\\rgraph <{{graph}}>\\n\\r    {\\n\\r      ?uri <http://www.opengis.net/ont/geosparql#asWKT> ?geometry.\\n\\r    ?uri a ?cls.\\n\\r       \\n\\r    }\\n\\r  ?cls rdfs:label ?color\\n\\r \\n\\r    }\\n\\rlimit 1000\\n\\r    \\n\\r#title: title;\\n\\r \\n\\r\",\r\n          label:\r\n            'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring. hints for coloring #color:RGBA(0,255,0,1)@\"values\"infottext&extr text       #baselayer:PDOK grijs; #title:titel;',\r\n        },\r\n        {\r\n          name: 'basequery',\r\n          type: 'yasgui',\r\n          label:\r\n            'default for creating a map. when no parameters are available ',\r\n        },\r\n        {\r\n          name: 'startWithGreyBase',\r\n          type: 'boolean',\r\n          label:\r\n            'start with grey baselayer ',\r\n        },\r\n        \r\n        {\r\n          name: 'height',\r\n          type: 'text',\r\n          label: 'height variable',\r\n        },\r\n        {\r\n          name: 'publishVariable',\r\n          type: 'text',\r\n          label:\r\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\r\n        },\r\n        {\r\n          name: 'subscribeVariable',\r\n          type: 'text',\r\n          label:\r\n            'Published uri variabele on which to listen to define selection.',\r\n        },\r\n        \r\n        {\r\n          name: 'noResultToast',\r\n          type: 'text',\r\n          label:\r\n            'message when there is no result',\r\n        },\r\n\r\n        \r\n\r\n\r\n        AfterJS.getJSScriptAfterSelectionChange(),\r\n        PublishUtils.getResetValueDef(),\r\n        {\r\n          name: 'className',\r\n          type: 'text',\r\n          label: 'iframe classNames',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n\r\n  state = { selectedUri: null }\r\n}\r\nexport default BBMapExperimental\r\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\nimport AfterJS from '../../../helpers/AfterJS'\nimport _ from 'lodash';\n\nclass BBMultiMap extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/multimap/leafletWidgetDeploy171V1.html`\n\n  constructor() \n  {\n    super()\n    //console.log(\"BBMap Constructor\");\n    this.scrolling = 'no'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBMultiMap',\n      component: BBMultiMap,\n      label: 'Leaflet Multi map',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the multimap. Use ?uri ?label ?graph ?colorPred ?colorPredLabel ?labelPred ?labelPredLabel ?selectedColorPred ?selectedLabelPred ?extra for sparql definitions',\n        },\n        {\n          name: 'useSparqlMapDefinitions',\n          type: 'boolean',\n          label: 'use the sparql results for multiple map definitions',\n        },\n        \n        {\n          name: 'height',\n          type: 'text',\n          label: 'height variable',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variable in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variable on which to listen to define selection.',\n        },\n        PublishUtils.getMultipleValueFormatOptions({\n          name: 'multiSubscribeParameterType',\n          label: 'For the variable above, in what format the value is provided.'\n        }),\n        {\n          name: 'multiSelectionPublishVariable',\n          type: 'text',\n          label:\n            'Variable in which an item URIs are published, when multiple features on the map are selected.',\n        },\n        PublishUtils.getMultipleValueFormatOptions({\n          name: 'multiSelectionParameterType',\n          label: 'For the variable above, how to set the multivalue parameters'\n        }),\n        {\n          name: 'multiSelectionShapePublishVariable',\n          type: 'text',\n          label:\n            'Variable in which the drawn shape for multiple feature selection is published.',\n        },\n        {\n          name: 'multiSelectionShapePublishFormat',\n          type: 'select',\n          options: [\n            { label: 'GeoJson', value: 'GeoJSON' },\n            { label: 'WKT (Well Known Text)', value: 'WKT' }\n          ],\n          label:\n            'For the variable above, in which format to publish the geometry',\n        },\n        {\n          name: 'multiSelectionType',\n          type: 'select',\n          options: [\n            { label: 'hide drawing tools', value: 'hide' },\n            { label: 'Intersect (features inside and touching the shape)', value: 'intersect' },\n            { label: 'Within (only features inside the shape)', value: 'within' }\n          ],\n          label:\n            'The boolean operation to use for selection by shape',\n        },\n        {\n          name: 'redrawMapOnSelectionChange',\n          type: 'boolean',\n          label: 'redraw map on selection change. This can affect performance, but is needed to reflect changes visually for multi-select'\n        },\n        {\n          name: 'advancedEdit',\n          type: 'boolean',\n          label: 'add advanced edit menubar (requires refresh)'\n        },\n        {\n          name: 'loadShapeControl',\n          type: 'boolean',\n          label: 'add load shape as a zip file button (requires refresh)'\n        },\n        {\n          name: 'measurementB',\n          type: 'boolean',\n          label: 'add measurement button (requires refresh)'\n        },\n        {\n          name: 'fullscreenB',\n          type: 'boolean',\n          label: 'add fullscreen button (requires refresh)'\n        },\n        {\n          name: 'downloadGeoJSON',\n          type: 'boolean',\n          label: 'download geojson file (requires refresh)'\n        },\n        {\n          name: 'geocoderB',\n          type: 'boolean',\n          label: 'add geocoder button (requires refresh)'\n        },\n        {\n          name: 'removeLayerwidgetB',\n          type: 'boolean',\n          label: 'remove layerwidget button (requires refresh)'\n        },\n        {\n          name: 'removePrintB',\n          type: 'boolean',\n          label: 'remove print button (requires refresh)'\n        },\n        {\n          name: 'zoomHomeB',\n          type: 'boolean',\n          label: 'remove zoom home buttons (requires refresh)'\n        },\n\n        \n        {\n          name: 'streetview',\n          type: 'boolean',\n          label: 'add streetview buttons'\n        },\n\n        \n\n        {\n          name: 'noLegend',\n          type: 'boolean',\n          label:   'hide legend  (reload is necessary for this to take effect)'\n        },\n\n\n        \n        {\n          name: 'subscribeExtraSparql',\n          type: 'text',\n          label:\n            'parameter containing extra sparql ',\n        },\n        {\n          name: 'selectboundingbox',\n          type: 'boolean',\n          label:'use a boundingbox for selecting an object',\n        },\n        {\n          name: 'fitbounds',\n          type: 'boolean',\n          label:'after a data update modify the view to fit  ',\n        },\n       \n        {\n          name: 'allQueries',\n          type: 'text',\n          label:'parametername containing an array of all queries (not yet implemented, useful for downloadGIS function)',\n        },\n        {\n          name: 'lineWidthScale',\n          type: 'text',\n          label:'lineWidthScale',\n        },\n        {\n          name: 'lineWidthMinPixels',\n          type: 'text',\n          label:'lineWidthMinPixels',\n        },\n        \n\n        AfterJS.getJSScriptAfterSelectionChange(),\n        PublishUtils.getResetValueDef(),\n        \n      ],\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    super.componentDidUpdate(prevProps, prevState)\n    const subscribeVariable = this.props.pubsub[this.props['subscribeVariable']]\n    if (subscribeVariable !== this.state.subscribeVariable) {\n      try {\n        this.setState({ subscribeVariable })\n        const newSelectedUris = PublishUtils.parseMultiplePropValue(this.props['multiSubscribeParameterType'], subscribeVariable)\n        this.sendSelectedUrisToIframe(newSelectedUris)\n        this.setSelectedUris(newSelectedUris)\n      } catch(e) {\n        console.error([\n          `An error occurred whilst using subscribeVariable \"${this.props['subscribeVariable']}\" to update the selected uris. `,\n          `Perhaps multiSubscribeParameterType \"${this.props['multiSubscribeParameterType']}\" needs a different setting. `,\n          `Additional details:`,\n          '\\n\\n',\n          e.message].join('')\n          )\n      }\n    }\n  }\n\n  setSelectedUris = (selectedUris = []) => {\n    this.setState({ selectedUris })\n    if (this.props['publishVariable']!=null)\n    {\n      this.props.publish(this.props['publishVariable'], selectedUris[0])\n    }\n    if (  this.props['multiSelectionPublishVariable']!=null)\n    {\n      this.props.publish(\n        this.props['multiSelectionPublishVariable'],\n        PublishUtils.getListAsSingleValue(this.props['multiSelectionParameterType'], selectedUris)\n      )\n    }\n  }\n\n  sendSelectedUrisToIframe = (selectedUris = []) => {\n    this.iframeRef.current?.contentWindow?.postMessage?.({ type: 'update-selected-uris', selectedUris })\n  }\n\n  state = { selectedUris: [], subscribeVariable: undefined }\n}\n\nexport default BBMultiMap\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBTreeTable extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/treetable.html`\n\n  constructor() {\n    super()\n    // console.log(\"BBTREE TABLE Constructor\");\n    this.scrolling = 'no'\n     this.noEvents=false;\n     this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBTreeTable',\n      component: BBTreeTable,\n      label: 'BB Tree Table widget',\n      variables: [\n        {\n          name: 'query',\n          defaultQuery:\"PREFIX owl: <http://www.w3.org/2002/07/owl#>\\n\\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?text ?uri ?parent \\n\\rwhere\\n\\r{\\n\\r \\n\\r    graph <{{graph}}>\\n\\r    {\\n\\r       ?uri a owl:Class.\\n\\r        ?uri rdfs:label ?text.\\n\\r    optional {?uri rdfs:subClassOf ?parent. } \\n\\r   \\n\\r  \\n\\r    }\\n\\r}\\n\\r\\n\\rlimit 1000\",\n          type: 'yasgui',\n          label: 'user ?text ?uri ?parent ?icon ',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the tree is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        {\n          name: 'publishVariable1',\n          type: 'text',\n          label:\n            'Variabele in which an item var1 is published (if available), when a feature in the tree is clicked.',\n        },\n        {\n          name: 'publishTextVariable',\n          type: 'text',\n          label:\n            'Variabele in which the label is published , when a feature in the tree is clicked.',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'title',\n        },\n        {\n          name: 'createRoot',\n          type: 'boolean',\n          label: 'createRoot',\n        },\n        {\n          name: 'expandLevel',\n          type: 'int',\n          label: 'expandLevel',\n        },\n        {\n          name: 'icon',\n          type: 'text',\n          label: 'icon',\n        },\n        \n        {\n          name: 'extraCSS',\n          type: 'text',\n          label: 'extra css',\n        },\n        {\n          name: 'noInfoIcon',\n          type: 'boolean',\n          label: 'no info icon',\n        },\n\n        {\n          name: 'groupByPropertyValue',\n          type: 'text',\n          label: 'group by propertyvalue',\n        },\n\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  shouldComponentUpdate222(arg, arg2) {\n    var update = false\n\n    if (this.iface == null) {\n      return true\n    }\n\n    if (this.props.subscribeVariable != null) {\n      var selected = this.props.pubsub[this.props.subscribeVariable]\n      if (this.selected !== selected) {\n        this.iface.selectUri(selected)\n        this.selected = selected\n        return false\n      }\n    }\n\n    /*\n    \n\n    try{\n      //console.log(\"map receives an should update \",arg.data,this.iface.me.iface.me.props.data);\n      if (arg.data!=this.iface.me.iface.me.props.data)\n      {\n        console.log(\"nieuw data ? update component\",arg.data);\n        update= true;\n        return true;\n      }\n    }\n    catch(e){}\n\n\n    var sub = arg.subscribeVariable;\n    if (sub!=null)\n    {\n     // console.log(\"map can be updates by exertal variable \"+sub);\n      var selection =arg.pubsub[sub];\n      \n      if (selection!=null)\n      {\n       // console.log(\"map found externalvaue\"+selection,this.state.selectedUri); \n        if (this.state.selectedUri!=selection)\n        {\n          //console.log(\"map receives an external selection\",this.iface);\n          \n               this.iface.selectUri(selection);\n              // this.setState({selectedUri:selection});\n        }\n\n       \n      }\n    }\n    */\n\n    return update\n  }\n}\n\nexport default BBTreeTable\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasgui extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/yasgui/yasguiConf.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'yes'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBYasgui',\n      component: BBYasgui,\n      label: 'BB YasGUI',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            '?sparql ?options variabel (single). getOptions() is available in yasgui ',\n        },\n        {\n          name: 'pusblishsparqlquery',\n          type: 'string',\n          label:\n            'publish the query into this parameter (single tab only)(refresh necessary)',\n        },\n        {\n          name: 'escapeDoubleQuotesQuery',\n          type: 'boolean',\n          label: 'escape double quotes in the query',\n        },\n        {\n          name: 'queryOnly',\n          type: 'boolean',\n          label: 'show only yasque ',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBYasgui\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasguiLatest extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/yasgui/yasguiConfLatest.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'yes'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBYasguiLatest',\n      component: BBYasguiLatest,\n      label: 'BB YasGUI Latest',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            '?sparql ?options variabel (single). getOptions() is available in yasgui ',\n        },\n        {\n          name: 'queryOnly',\n          type: 'boolean',\n          label: 'show only yasque ',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBYasguiLatest\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasr extends BBIFrame {\n  getUrl() {\n    BBIFrame.scrolling = 'no'\n    return `/${window.bbFolderName}/bbyasr.html`\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBYasr',\n      component: BBYasr,\n      label: 'BB Yasr',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill yasr chart. ',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'title of the chart ',\n        },\n        {\n          name: 'chartType',\n          type: 'select',\n          label: 'type of the chart',\n          options: [\n            {\n              label: 'Pie chart',\n              value: 'PieChart',\n            },\n            {\n              label: 'ColumnChart',\n              value: 'ColumnChart',\n            },\n            {\n              label: 'Bar chart',\n              value: 'BarChart',\n            },\n            {\n              label: 'Line chart',\n              value: 'LineChart',\n            },\n            {\n              label: 'Donut (nog niet aanwezig)',\n              value: 'Donut',\n            },\n            {\n              label: 'Gauge',\n              value: 'Gauge',\n            },\n          ],\n        },\n        {\n          name: 'ddd',\n          type: 'boolean',\n          label: '3D',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBYasr\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBYasguiNotebook extends BBIFrame {\n  getUrl() {\n    BBIFrame.scrolling = 'yes'\n    return `/${window.bbFolderName}/bbyasguinotebook.html`\n  }\n}\n\nexport default BBYasguiNotebook\n","import { Component } from 'react'\n//import {jqeury,$} from 'jquery'\n\n//import svgIcons from 'trumbowyg/dist/ui/icons.svg'\n//const trumbowygIconsId = 'trumbowyg-icons'\n\n//require ('trumbowyg/dist/trumbowyg');\n\nclass BBNotebook extends Component {\n  constructor(props) { //eslint-disable-line no-useless-constructor\n    super(props)\n  }\n  /*\n  componentWillMount() {\n\n  }\n\n  componentDidMount() {\n\n    const {\n      id,\n      lang,\n      buttons,\n      semantic,\n      resetCss,\n      removeformatPasted,\n      autogrow,\n      data,\n      disabled,\n      onFocus,\n      onBlur,\n      onInit,\n      onChange,\n      onResize,\n      onPaste,\n      onOpenFullScreen,\n      onCloseFullScreen,\n      onClose,\n      shouldUseSvgIcons,\n      shouldInjectSvgIcons,\n      svgIconsPath,\n      btnsDef,\n      plugins\n    } = this.props\n\n    if (shouldInjectSvgIcons && $(`#${trumbowygIconsId}`).length === 0) {\n      $('body').prepend(`<div id=\"${trumbowygIconsId}\">${svgIcons}</div>`)\n    }\n\n    const trumbowygInstance = $(`#${id}`)\n      .trumbowyg({\n        lang: lang,\n        btns: buttons,\n        btnsDef: btnsDef,\n        semantic: semantic,\n        resetCss: resetCss,\n        removeformatPasted: removeformatPasted,\n        autogrow: autogrow,\n        plugins: plugins,\n        svgPath: shouldUseSvgIcons\n          ? shouldInjectSvgIcons ? '' : svgIconsPath\n          : false\n      })\n\n    if (onFocus) {\n      trumbowygInstance.on('tbwfocus', onFocus)\n    }\n\n    if (onBlur) {\n      trumbowygInstance.on('tbwblur', onBlur)\n    }\n\n    if (onInit) {\n      trumbowygInstance.on('tbwinit', onInit)\n    }\n\n    if (onChange) {\n      trumbowygInstance.on('tbwchange', onChange)\n    }\n\n    if (onResize) {\n      trumbowygInstance.on('tbwresize', onResize)\n    }\n\n    if (onPaste) {\n      trumbowygInstance.on('tbwpaste', onPaste)\n    }\n\n    if (onOpenFullScreen) {\n      trumbowygInstance.on('tbwopenfullscreen', onOpenFullScreen)\n    }\n\n    if (onCloseFullScreen) {\n      trumbowygInstance.on('tbwclosefullscreen', onCloseFullScreen)\n    }\n\n    if (onClose) {\n      trumbowygInstance.on('tbwclose', onClose)\n    }\n\n    $(`#${id}`).trumbowyg('html', data)\n    $(`#${id}`).trumbowyg(disabled === true ? 'disable' : 'enable')\n  }\n\n  componentWillReceiveProps(nextProps) {\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n\n    return nextProps.data !== this.props.data\n      || nextProps.disabled !== this.props.disabled\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    $(`#${this.props.id}`).trumbowyg('html', this.props.data)\n    $(`#${this.props.id}`).trumbowyg(this.props.disabled === true ? 'disable' : 'enable')\n  }\n\n  componentWillUnmount() {\n    $(`#${this.props.id}`).trumbowyg('destroy')\n  }\n\n  render() {\n    return (\n      <div id={`${this.props.id}`} placeholder={this.props.placeholder}></div>\n    )\n  }\n\n\ndefaultProps = {\n  buttons: [\n    ['viewHTML'],\n    ['formatting'],\n    'btnGrp-semantic',\n    ['superscript', 'subscript'],\n    ['link'],\n    ['insertImage'],\n    'btnGrp-justify',\n    'btnGrp-lists',\n    ['horizontalRule'],\n    ['removeformat'],\n    ['fullscreen']\n  ],\n  semantic: true,\n  resetCss: false,\n  removeformatPasted: false,\n  autogrow: false,\n  disabled: false,\n  btnsDef: {},\n  shouldUseSvgIcons: true,\n  shouldInjectSvgIcons: true,\n  plugins: {}\n};\n\n\n*/\n}\n\nexport default BBNotebook\n","import React from 'react'\n\nclass BBKGApiVizWidget extends React.Component {\n  state = {\n    value: '',\n  }\n\n  render() {\n    console.log('rendering apiviz')\n    return null\n  }\n\n  createVizJSON() {\n    var ar = []\n\n    console.log('created viz json', ar)\n\n    return ar\n  }\n  test() {\n    this.createVizJSON()\n    this.loadData('select * where {?a ?b ?c} limit 10')\n  }\n}\n\nexport default BBKGApiVizWidget\n\n/*[\n  {\n    \"id\": \"obj-persoon\",\n    \"name\": \"Persoon\",\n    \"path\": \"/personen\",\n    \"input\": \"persoonsnummer\",\n    \"rx\": 100,\n    \"ry\": 100,\n    \"x\": 300,\n    \"y\": 200,\n    \"color\": \"pink\",\n    \"connections\": [],\n    \"endpoints\": []\n  },\n  {\n    \"id\": \"obj-maatschappelijk-activiteit\",\n    \"name\": \"Maatschappelijke activiteit\",\n    \"path\": \"/maatschappelijkeactiviteiten\",\n    \"input\": \"kvknummer\",\n    \"rx\": 100,\n    \"ry\": 100,\n    \"x\": 301,\n    \"y\": 600,\n    \"color\": \"lightblue\",\n    \"connections\": [\n      {\n        \"connId\": \"obj-vestiging\",\n        \"endpoints\": [\n          {\n            \"name\": \"Hoofdvestiging\",\n            \"path\": \"/hoofdvestiging\",\n            \"description\": \"Levert de hoofdvestiging die hoort bij de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n            \"response\": {\n              \"vestiging\": {\n                \"vestigingsnummer\": \"string\"\n              }\n            }\n          },\n          {\n            \"name\": \"Vestigingen\",\n            \"path\": \"/vestigingen\",\n            \"description\": \"Levert de vestigingen die horen bij de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n            \"response\": [\n              {\n                \"vestiging\": {\n                  \"vestigingsnummer\": \"string\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"connId\": \"obj-persoon\",\n        \"endpoints\": [\n          {\n            \"name\": \"Eigenaar\",\n            \"path\": \"/eigenaar\"\n          }\n        ]\n      }\n    ],\n    \"endpoints\": [\n      {\n        \"name\": \"Bezoeklocatie\",\n        \"path\": \"/bezoeklocatie\",\n        \"description\": \"Levert de afgeleide bezoeklocatie van de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n        \"response\": {\n          \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n          \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n          \"datumAanvang\": \"string\",\n          \"datumEinde\": \"string\",\n          \"binnenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"locatienummer\": \"string\",\n            \"bagLocatieIdentificatie\": \"string\",\n            \"binnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"bagAdresIdentificatie\": \"string\",\n              \"straatnaam\": \"string\",\n              \"huisnummer\": 0,\n              \"huisletter\": \"string\",\n              \"huisnummertoevoeging\": \"string\",\n              \"postcode\": \"string\",\n              \"plaats\": \"string\"\n            },\n            \"aanduidingBijBinnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"aanduiding\": \"Bij\",\n              \"referentielocatie\": {\n                \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n                \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n                \"locatienummer\": \"string\",\n                \"bagLocatieIdentificatie\": \"string\",\n                \"binnenlandsAdres\": {\n                  \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n                  \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n                  \"bagAdresIdentificatie\": \"string\",\n                  \"straatnaam\": \"string\",\n                  \"huisnummer\": 0,\n                  \"huisletter\": \"string\",\n                  \"huisnummertoevoeging\": \"string\",\n                  \"postcode\": \"string\",\n                  \"plaats\": \"string\"\n                }\n              }\n            },\n            \"vrijeLocatie\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"locatiebeschrijving\": \"string\"\n            }\n          },\n          \"buitenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n            \"locatienummer\": \"string\",\n            \"adres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:00.176Z\",\n              \"adresregel1\": \"string\",\n              \"adresregel2\": \"string\",\n              \"adresregel3\": \"string\",\n              \"land\": {\n                \"naam\": \"string\",\n                \"landCode\": 0,\n                \"toegangsnummer\": \"string\"\n              }\n            }\n          },\n          \"toevoeging\": \"string\",\n          \"afgeschermd\": \"ja\"\n        }\n      },\n      {\n        \"name\": \"Postlocatie\",\n        \"path\": \"/postlocatie\",\n        \"description\": \"Levert de afgeleide postlocatie van de maatschappelijke activiteit met het opgegeven KVK-nummer\",\n        \"response\": {\n          \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n          \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n          \"datumAanvang\": \"string\",\n          \"datumEinde\": \"string\",\n          \"binnenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"locatienummer\": \"string\",\n            \"bagLocatieIdentificatie\": \"string\",\n            \"binnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"bagAdresIdentificatie\": \"string\",\n              \"straatnaam\": \"string\",\n              \"huisnummer\": 0,\n              \"huisletter\": \"string\",\n              \"huisnummertoevoeging\": \"string\",\n              \"postcode\": \"string\",\n              \"plaats\": \"string\"\n            },\n            \"aanduidingBijBinnenlandsAdres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"aanduiding\": \"Bij\",\n              \"referentielocatie\": {\n                \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n                \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n                \"locatienummer\": \"string\",\n                \"bagLocatieIdentificatie\": \"string\",\n                \"binnenlandsAdres\": {\n                  \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n                  \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n                  \"bagAdresIdentificatie\": \"string\",\n                  \"straatnaam\": \"string\",\n                  \"huisnummer\": 0,\n                  \"huisletter\": \"string\",\n                  \"huisnummertoevoeging\": \"string\",\n                  \"postcode\": \"string\",\n                  \"plaats\": \"string\"\n                }\n              }\n            },\n            \"vrijeLocatie\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"locatiebeschrijving\": \"string\"\n            }\n          },\n          \"buitenlandseLocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n            \"locatienummer\": \"string\",\n            \"adres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.585Z\",\n              \"adresregel1\": \"string\",\n              \"adresregel2\": \"string\",\n              \"adresregel3\": \"string\",\n              \"land\": {\n                \"naam\": \"string\",\n                \"landCode\": 0,\n                \"toegangsnummer\": \"string\"\n              }\n            }\n          },\n          \"binnenlandsePostlocatie\": {\n            \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.586Z\",\n            \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.586Z\",\n            \"locatienummer\": \"string\",\n            \"adres\": {\n              \"registratietijdstipOpvoer\": \"2019-09-27T11:57:49.586Z\",\n              \"registratietijdstipAfvoer\": \"2019-09-27T11:57:49.586Z\",\n              \"postadrestype\": \"Postbus\",\n              \"nummer\": 0,\n              \"postcode\": \"string\",\n              \"plaats\": \"string\"\n            }\n          },\n          \"toevoegingBezoeklocatie\": \"string\"\n        }\n      }\n    ],\n    \"response\": {\n      \"kvkNummer\": \"string\",\n      \"gegevensgebruik\": {\n        \"directMailing\": \"WelDirectMailing\"\n      }\n    },\n    \"description\": \"Levert de (basis)gegevens van de maatschappelijke activiteit met het opgegeven KVK-nummer\"\n  },\n  {\n    \"id\": \"obj-vestiging\",\n    \"name\": \"Vestiging\",\n    \"path\": \"/vestigingen\",\n    \"input\": \"vestigingsnummer\",\n    \"rx\": 100,\n    \"ry\": 100,\n    \"x\": 700,\n    \"y\": 700,\n    \"color\": \"lightgreen\",\n    \"connections\": [\n      {\n        \"connId\": \"obj-persoon\",\n        \"endpoints\": [\n          {\n            \"name\": \"Eigenaar\",\n            \"path\": \"/eigenaar\"\n          }\n        ]\n      }\n    ]\n  }\n]\n*/\n","//import {GraphQLVoyager} from 'graphql-voyager';\n//import '../../../../node_modules/graphql-voyager/dist/voyager.css';\nimport BBIFrame from './BBIFrame'\nimport './bbutil'\n\n//var hans =require ('./test.json');\n\nclass BBVoyager extends BBIFrame {\n  getUrl() {\n    BBIFrame.scrolling = 'no'\n    return `/${window.bbFolderName}/bbvoyager.html`\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBVoyager',\n      component: BBVoyager,\n      label: 'UML Diagram Voyager',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill the diagram. ( ?domainName ?rangeName ?propname)',\n          defaultQuery: `\n                                 PREFIX sh: <http://www.w3.org/ns/shacl#>\n                      PREFIX owl: <http://www.w3.org/2002/07/owl#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n        \n        \n        select distinct ?domainName ?propName ?rangeName #?selectie  \n        \n        from  <{{versie}}>\n        \n        where \n        {\n            bind (<{{selection}}> as ?selectie)\n                ?cls ^rdfs:subClassOf* ?selectie.\n              filter (?cls not in (owl:Thing, rdfs:Resource) )\n         #outgoing properties\n          {\n               ?selectie rdfs:label ?domainName.\n              ?cls sh:property ?ps.\n              ?ps sh:path ?prop.\n                ?prop rdfs:label ?propName.\n               # ?prop a owl:DatatypeProperty.\n                 {\n                 ?ps sh:datatype ?rangeName.\n                 }\n                 union\n                {\n                        ?ps sh:class/rdfs:label ?rangeName\n                }\n        \n        }\n          \n             union\n            {\n                # objecten die verwijzen naar geselecteerde object\n                ?shape sh:property ?ps.\n            ?ps sh:class ?cls.\n                ?cls rdfs:label ?rangeName.\n                ?shape rdfs:label ?domainName.\n                ?ps sh:path/rdfs:label ?propName.\n        \n         }\n        \n        }\n      `\n        \n\n },     \n        {\n          name: 'height',\n          type: 'string',\n          label: 'optional css string for the height value',\n        },\n      ],\n    }\n  }\n}\n\nexport default BBVoyager\n","import { lazy } from 'react';\r\nexport default class BBAccordionDescriptor  {\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'Accordion',\r\n      component: lazy(() =>  import('./BBAccordion')),\r\n      label: 'Accordion',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'use parameter ?label for accordion headings. use ?content for inner accordion content ',\r\n        },\r\n\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          label: 'Titel boven de tabel',\r\n        },\r\n\r\n        {\r\n          name: 'html',\r\n          type: 'boolean',\r\n          label: 'html text',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react'\nimport styles from './BBPicture.module.css'\n\nexport default class BBPicture extends Component {\n  state = {}\n\n  static getDescription() {\n    return {\n      name: 'Picture',\n      component: BBPicture,\n      label: 'Picture',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven het plaatje',\n        },\n        {\n          name: 'pictureBaseEncoded',\n          type: 'text',\n          label:\n            'base encoded picture. converteer plaatjes via bijv https://www.base64-image.de/',\n        },\n        {\n          name: 'src',\n          type: 'text',\n          label: 'referentie naar het plaatje',\n        },\n      ],\n    }\n  }\n\n  render() {\n    let encodedData = this.props.pictureBaseEncoded\n\n    if (encodedData) {\n      return (\n        <div className={styles.main}>\n          {this.props.title && (\n            <div className={styles.title}>{this.props.title}</div>\n          )}\n          <img src={encodedData} />{/*eslint-disable-line jsx-a11y/alt-text*/}\n        </div>\n      )\n    }\n\n    let src = this.props.src\n    if (src) {\n      return (\n        <div className={styles.main}>\n          {this.props.title && (\n            <div className={styles.title}>{this.props.title}</div>\n          )}\n          <img src={src} />{/*eslint-disable-line jsx-a11y/alt-text*/}\n        </div>\n      )\n    }\n    return (\n      <div className={styles.main}>\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport styles from './BBHTML.module.css'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nexport default class BBHTML extends Component {\n  state = {}\n\n  static getDescription() {\n    return {\n      name: 'BBHTML',\n      component: BBHTML,\n      label: 'BBHTML',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'use parameter {{parameters}} to change html ',\n        },\n        {\n          name: 'html',\n          type: 'text',\n          label: 'html ',\n        },\n        {\n          name: 'htmlgeenresultaat',\n          type: 'text',\n          label: 'html bij 0 resultaten',\n        },\n        {\n          name: 'cls',\n          type: 'text',\n          label: 'class ',\n        },\n      ],\n    }\n  }\n\n  render() {\n    try\n    {\n    if (!this.props.html && !this.props.htmlgeenresultaat) {\n      return null\n    }\n    let html = this.props.html\n    var html2 = ''\n    let data = this.props.data\n    if (data != null && html != null && html!=\"\") {\n      if (\n        data.results != null &&\n        data.results.bindings != null &&\n        data.results.bindings.length > 0\n      ) {\n        var object = data.results.bindings[0]\n        var html3 = html\n        for (var key in object) {\n          try {\n            var value = object[key].value\n            html3 = html3.replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value).replace('{{' + key + '}}', value)\n          } catch (e) {}\n        }\n        html2 += html3\n      }\n\n      if (\n        this.props.htmlgeenresultaat != null &&\n        data.results.bindings.length === 0\n      ) {\n        \n        html2 = PublishUtils.processStringForParameters(this,this.props.htmlgeenresultaat)\n        console.log(this.props.htmlgeenresultaat,html2);\n      }\n    } else {\n      html2=html=\"\";\n      try {html2 = PublishUtils.processStringForParameters(this,this.props.htmlgeenresultaat)} catch(e){}\n    \n      \n    }\n\n    html2 = html2.replace(/.*{{.*}}.*/, '')\n\n    let cls = this.props.cls\n    if (styles[cls] != null) cls = styles[cls]\n    return <div   className={styles.fullwindow+\" \"+ cls} dangerouslySetInnerHTML={{ __html: html2 }} />\n  }\n  catch(e)\n  {\n    console.log(\"mannaged \",e);\n    if (this.props.htmlgeenresultaat!=null)\n    {\n      return  PublishUtils.processStringForParameters(this.props.htmlgeenresultaat);\n    }\n    else\n    {\n      return ''\n    }\n    \n  }\n  \n  }\n}\n","\nimport { lazy } from 'react';\nimport PublishUtils from '../../../../helpers/PublishUtils';\n//import {PublishUtils} from PublishUtils;\n\n\nexport default class BBDFormDescriptor  {\n \n  static getDescription() {\n    return {\n      name: 'BBDForm',\n      component: lazy(() =>  import('./BBDForm')),\n      label: 'BBDForm',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de form',\n          topicValueInterpolationEnabled: true\n        },\n        {\n          name: 'classOrUri',\n          type: 'text',\n          label: 'uri van de owl/shacl class or individual (not implemented)',\n        },\n        {\n          name: 'addEditToolbar',\n          type: 'boolean',\n          label: 'add edit toolbar (not implemented yet)',\n        },\n        {\n          name: 'query',\n          type: 'yasgui',\n          defaultQuery:'PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\\n\\r\\n\\r\\n\\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\r\\n\\rselect * where\\n\\r\\n\\r\\n\\r{\\n\\r\\n\\r  { \\n\\r\\n\\r  select ?uri \\n\\r\\n\\r    where \\n\\r\\n\\r  { \\n\\r\\n\\r   bind (uri(concat(\\\"http://wistor.nl/ifc/appartement/\\\",replace(str(uuid()),\\\"urn:uuid:\\\",\\\"\\\") ))\\n\\r\\n\\r        as ?uri)    \\n\\r\\n\\r  \\n\\r\\n\\r    }\\n\\r\\n\\r  }\\n\\r\\n\\r  \\n\\r\\n\\r  bind (<{{graph}}/extra> as ?graph)\\n\\r\\n\\r\\n\\r\\n\\r     bind (\\\"Appartement\\\" as ?title)\\n\\r\\n\\r  values (  ?propUri ?label ?value ?type ?hidden)\\n\\r\\n\\r  {\\n\\r\\n\\r   (  <http://wistor.nl/ifc/verdieping> \\\"verdieping\\\" <{{storey}}> \\\"relation\\\" true)\\n\\r\\n\\r    (  rdfs:label \\\"naam\\\" \\\"appartement naam\\\" xsd:string false)\\n\\r\\n\\r    (  rdfs:comment \\\"extra\\\" \\\"beschrijving\\\" xsd:string false)\\n\\r\\n\\r    ( <http://wistor.nl/ifc/nummer> \\\"nummer\\\" 1 xsd:integer false)\\n\\r\\n\\r    \\n\\r\\n\\r  }\\n\\r\\n\\r}',\n          label:\n            'to fill the form. Use graph,title,uri, propUri, label,value, type ({xsd:types},select,relation,stringlist,textarea), optionLabel optionValue ?required regex, multiple,objectOfCls, disabled,hidden, addmodus. createClass for create button ',\n          helpComponent: QueryHelp\n        },\n       \n        {\n          name: 'cancelbutton',\n          type: 'boolean',\n          label: 'show cancel button. (not implemented)',\n        },\n        \n        {\n          name: 'readonly',\n          type: 'boolean',\n          label: 'read-only, no buttons',\n        },\n        {\n          name: 'masseditmode',\n          type: 'boolean',\n          label: \"use multiple uri's but only show prop distinctly. no values for now \"\n        },\n       \n        {\n          name: 'disabled',\n          type: 'boolean',\n          label: 'disabled',\n        },\n        {\n          name: 'emptyText',\n          type: 'text',\n          label: 'text by empty sparql results',\n        },\n        {\n          name: 'hyperlinkPar',\n          type: 'text',\n          label: 'parameter to update when selecting a hyperlink',\n        },\n\n        \n        {\n          name: 'submit',\n          type: 'select',\n          label: 'submit handling ',\n          options: [\n            { label: 'kies', value: 'kies' },\n            { label: 'form command', value: 'formCommand' },\n            { label: 'internal parameters', value: 'internalparameters' },\n            { label: 'javascript', value: 'javascript' },\n            \n          ],\n        },\n        {\n          name: 'submitbuttonlabel',\n          type: 'text',\n          label: 'label for the submit button',\n          topicValueInterpolationEnabled: true\n        },\n        {\n          name: 'ruleTagAfterSubmit',\n          type: 'text',\n          label: 'run rule with tag after succesful submit',\n        },\n        {\n          name: 'parameters',\n          type: 'json-text',\n          label:\n            'mandatory extra parameters send in JSON format for rules,Parameters will be resolved before sending. keep it simple. no subchildren',\n        },\n        \n        PublishUtils.getTimestampParametersDef(),\n        {\n          name: 'successMessage',\n          type: 'text',\n          label: 'form submission success message',\n        },\n        {\n          name: 'failureMessage',\n          type: 'text',\n          label: 'failure message',\n        },\n        {\n          name: 'closePopup',\n          type: 'boolean',\n          label: 'close popup after succesful submit',\n        },\n      ],\n    }\n  }\n\n \n}\n\nfunction QueryHelp() {\n  return (\n    <div>\n      <p>\n        <code>?collectionType</code> variables now support the following: <code>rdf:List</code>{' '}\n        (full uri: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#List')\n      </p>\n    </div>\n  )\n}\n","export const sideMenuConfigs = [\n  {\n    name: 'query',\n    type: 'yasgui',\n    label:\n      'Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons ()',\n  },\n  {\n    name: 'tabs',\n    type: 'array',\n    label: 'Tabs',\n  },\n  {\n    name: 'tabSelectionSubscription',\n    type: 'text',\n    label: 'Variabele to listen to for tab selection',\n  },\n  {\n    name: 'hideTabs',\n    type: 'text',\n    label:\n      'Variabele to listen to for tab visualisation. Use tab names to hide the tabs',\n  },\n  {\n    name: 'icons',\n    type: 'array',\n    label:\n      'fa icon names for each tab such as box,cogs,coffee,envelope,hand-point-left,arrow-left,cube,database,gavel,gift,stop,',\n  },\n  {\n    name: 'headertext',\n    type: 'text',\n    label: 'text for the header when expanded',\n  },\n  {\n    name: 'lazyLoadingPages',\n    type: 'boolean',\n    label: 'does not load the tabs/pages in advance. Also returning to a page results in a reload',\n  },\n  {\n    name: 'footertext',\n    type: 'text',\n    label: 'text for the footer',\n  },\n  {\n    name: 'backgroundimage',\n    type: 'text',\n    label: 'background image',\n  },\n  {\n    name: 'customStyling',\n    type: 'boolean',\n    label: 'Enable Custom Styling',\n  },\n  {\n    name: 'sidemenuBackgroundColor',\n    type: 'text',\n    label: 'The background Color in Hex format. e.g. #000000',\n  },\n  {\n    name: 'sidemenuTabColor',\n    type: 'text',\n    label: 'The background color of the tab in Hex format. e.g. #000000',\n  },\n  {\n    name: 'sidemenuTabIconColor',\n    type: 'text',\n    label: 'The background color of the tab icon of the tab in Hex format. e.g. #000000',\n  },\n  {\n    name: 'sidemenuTabTextColor',\n    type: 'text',\n    label: 'The text color of the tab in Hex format. e.g. #000000',\n  },\n  {\n    name: 'sidemenuTabHoverColor',\n    type: 'text',\n    label: 'The background color of the tab on mouse hovering in Hex format. e.g. #000000',\n  },\n  {\n    name: 'sidemenuTabIconHoverColor',\n    type: 'text',\n    label: 'The background color of the tab icon on mouse hovering in Hex format. e.g. #000000',\n  },\n  {\n    name: 'sidemenuTabTextHoverColor',\n    type: 'text',\n    label: 'The text color of the tab on mouse hovering in Hex format. e.g. #000000',\n  },\n  {\n    name: 'startCollapsed',\n    type: 'boolean',\n    label: 'start collapsed',\n  },\n  {\n    name: 'onlyCollapsed',\n    type: 'boolean',\n    label: 'only collapsed',\n  },\n  {\n    name: 'rightside',\n    type: 'boolean',\n    label: 'show menu on the rightside',\n  },\n  {\n    name: 'className',\n    type: 'text',\n    label: 'css classNames',\n  },\n  {\n    name: 'areas',\n    type: 'json',\n    // label: 'Column widths or row heights (separated by commas). Value can be a number (which will be set as flex values/verhoudingswaarden) or a px/% value',\n    label: 'area definitions',\n  },\n] as const\n","import { lazy } from 'react'\r\nimport { sideMenuConfigs } from './BBSideMenuConfigs'\r\n\r\nexport default class BBSideMenuDescriptor {\r\n\r\n  static getDescription() {\r\n    return {\r\n      name: 'BBSideMenu',\r\n      component: lazy(() =>  import('./BBSideMenu')),\r\n      label: 'BBSideMenu',\r\n      variables: sideMenuConfigs,\r\n    }\r\n  }\r\n\r\n}","\nimport { lazy } from 'react';\n\nexport default class BBEChartDescriptor {\n  static getDescription() {\n    return {\n      name: 'BBEChart',\n      component: lazy(() =>  import('./BBEChart')),\n      label: 'BBEChart',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          defaultQuery:\"select distinct ?label (count(distinct ?uri) as ?amount) \\r\\n  where \\r\\n  { \\r\\n graph <{{graph}}> \\r\\n{\\r\\n?uri a ?cls\\r\\n}\\r\\n  ?cls rdfs:label ?label \\r\\n} \\r\\n  group by ?label \\r\\n order by ?label\",\n          label:\n            'Query to fill the chart. first parameter is the type, second the amount for a pie/donut',\n        },\n        {\n          name: 'charttype',\n          type: 'select',\n          label: 'charttype',\n          options: [\n            { label: 'Kies', value: 'Kies' },\n            { label: 'Pie', value: 'Pie' },\n            { label: 'Small pie', value: 'SmallPie' },\n            { label: 'Doughnut', value: 'Doughnut' },\n            { label: 'Small doughnut', value: 'DoughnutSmall' },\n            { label: 'Bar', value: 'Bar' },\n            { label: 'Column', value: 'Col' },\n            { label: 'stacked Column', value: 'ColStacked' },\n            { label: 'stacked Bar', value: 'BarStacked' },\n            { label: 'Gauge', value: 'gauge' },\n          ],\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'title',\n        },\n        {\n          name: 'width',\n          type: 'text',\n          label: 'width css (97%)',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height css  (95%) ',\n        },\n        {\n          name: 'optionOptions',\n          type: 'text',\n          label: 'extra options for echart {\"series\":[{\"bargap\":0}]}'\n        },\n        {\n          name: 'color',\n          type: 'array',\n          label: 'optional colorscheme series,hexcolor... ok,#ffaacc',\n        },\n        {\n          name: 'legend',\n          type: 'boolean',\n          label: 'legend',\n        },\n        {\n          name: 'defaultMenu',\n          type: 'boolean',\n          label: 'defaultMenu',\n        },\n        {\n          name: 'stringToColor',\n          type: 'boolean',\n          label: 'use string values to color chart',\n        },\n        {\n          name: 'gradientColors',\n          type: 'boolean',\n          label: 'use gradient colors',\n        },\n        {\n          name: 'enableZoom',\n          type: 'boolean',\n          label: 'make the chart zoomable',\n        },\n        {\n          name: 'labelsInChart',\n          type: 'boolean',\n          label: 'labels in the chart',\n        },\n        {\n          name: 'popupLabelExtension',\n          type: 'text',\n          label: 'extension string for popup values (euro or stuks) ',\n        },\n        {\n          name: 'popupLabelFixedFormat',\n          type: 'text',\n          label: '1 or 2 or..',\n        },\n\n\n        \n\n      ],\n    }\n  }\n\n  \n}\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBBoorkern extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/boorkern/vboorkern.html`\n\n  constructor() {\n    super()\n    //console.log(\"boorkern Constructor\");\n    this.scrolling = 'no'\n    this.noEvents = false;\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBBoorkern',\n      component: BBBoorkern,\n      label: 'virtuele boorkern',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'to fill the map. ',\n        },\n        {\n          name: 'height',\n          type: 'text',\n          label: 'height variable',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the figure is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.(not yet implemented). use selectedUri instead  (set a default value via ::) ',\n        },\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n\n  reExecuteSparql() {\n    // console.log(\"re execute sparql called \");\n    this.updateMe()\n  }\n}\nexport default BBBoorkern\n","import { lazy } from 'react'\r\nimport { FontList } from \"../../../FontList\"\r\nimport PublishUtils from '../../../../helpers/PublishUtils'\r\n\r\nexport default class StartRuleButtonDescriptor  {\r\n \r\n  static getDescription() {\r\n    return {\r\n      name: 'StartRuleButton',\r\n      component: lazy(() =>  import('./StartRuleButton')),\r\n      label: 'StartRuleButton',\r\n      variables: [\r\n           \r\n       \r\n        {\r\n          name: 'disabled',\r\n          type: 'boolean',\r\n          label: 'disabled',\r\n        },\r\n        {\r\n            name: 'title',\r\n            type: 'text',\r\n            label: 'button label',\r\n            topicValueInterpolationEnabled: true\r\n          },\r\n          {\r\n            name: 'beginIcon',\r\n            type: 'text',\r\n            label: 'begin icon',\r\n          },\r\n          {\r\n            name: 'endIcon',\r\n            type: 'text',\r\n            label: 'end icon',\r\n          },\r\n          {\r\n            name: 'tooltip',\r\n            type: 'text',\r\n            label: 'button tooltip',\r\n            topicValueInterpolationEnabled: true\r\n          },\r\n          {\r\n            name: 'startRule',\r\n            type: 'text',\r\n            label: 'start rule with tag. Also EMPTY can be used.',\r\n          },\r\n         \r\n          {\r\n            name: 'parameters',\r\n            type: 'json-text',\r\n            label:\r\n              'extra parameters send in JSON format,Parameters will be resolved before sending. keep it simple. no subchildren',\r\n          },\r\n        \r\n       \r\n        \r\n        PublishUtils.getTimestampParametersDef(),\r\n        {\r\n          name: 'failureMessage',\r\n          type: 'text',\r\n          label: 'failure message',\r\n        },\r\n\r\n        {\r\n          name: 'customStyling',\r\n          type: 'boolean',\r\n          label: 'Enable Custom Styling',\r\n        },\r\n        {\r\n          name: 'buttonBorderRadius',\r\n          type: 'text',\r\n          label: 'Custom Styling: button-border-radius (examples: \"2lh\", \"50%\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\r\n        },\r\n        {\r\n          name: 'textColor',\r\n          type: 'text',\r\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\r\n        },\r\n        {\r\n          name: 'bgColor',\r\n          type: 'text',\r\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\r\n        },\r\n        {\r\n          name: 'hasButtonShadow',\r\n          type: 'boolean',\r\n          label: 'Custom Styling: enable button-shadow'\r\n        },\r\n        {\r\n          name: 'buttonFontSize',\r\n          type: 'text',\r\n          label: 'Custom Styling: button-font-size'\r\n        },\r\n        {\r\n          name: 'buttonFontFamily',\r\n          type: 'text',\r\n          label: 'Custom Styling: button-font-family',\r\n          helpComponent: FontList\r\n        },\r\n      ]\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","import { Button } from '@mui/material'\nimport { Component } from 'react'\nimport projectStyles from '../../Project.module.css'\nimport buttonStyles from './Button.module.css'\nimport { Icon } from '../Icon'\nimport { FontList } from \"../../FontList\"\n\nclass BBLinkButtons extends Component {\n  static getDescription() {\n    return {\n      name: 'BBLinkButtons',\n      component: BBLinkButtons,\n      label: 'BB Link Buttons',\n      variables: [\n        {\n          name: 'labels',\n          type: 'array',\n          label: 'label,label2,etc',\n          topicValueInterpolationEnabled: true,\n        },\n        {\n          name: 'links',\n          type: 'array',\n          label: 'url1,url2,etc',\n          topicValueInterpolationEnabled: true,\n        },\n        {\n          name: 'openLinksInTheSameTab',\n          type: 'boolean',\n          label: 'Open links in the same tab'\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'titel',\n        },\n        {\n          name: 'beginIcons',\n          type: 'array',\n          label: 'begin-icons: \"icon1,icon2,etc\"'\n        },\n        {\n          name: 'endIcons',\n          type: 'array',\n          label: 'end-icons: \"icon1,icon2,etc\"'\n        },\n        {\n          name: 'customStyling',\n          type: 'boolean',\n          label: 'Enable Custom Styling',\n        },\n        {\n          name: 'buttonBorderRadius',\n          type: 'text',\n          label: 'Custom Styling: button-border-radius (examples: \"2lh\", \"50%\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\n        },\n        {\n          name: 'textColor',\n          type: 'text',\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'bgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'hasButtonShadow',\n          type: 'boolean',\n          label: 'Custom Styling: enable button-shadow'\n        },\n        {\n          name: 'marginBetweenButtons',\n          type: 'text',\n          label: 'Custom Styling: margin-between-buttons (example: \"0.4em\")',\n        },\n        {\n          name: 'buttonContainerPadding',\n          type: 'text',\n          label: 'Custom Styling: button-container-padding (example: \"0.4em\")'\n        },\n        {\n          name: 'buttonFontSize',\n          type: 'text',\n          label: 'Custom Styling: button-font-size'\n        },\n        {\n          name: 'buttonFontFamily',\n          type: 'text',\n          label: 'Custom Styling: button-font-family',\n          helpComponent: FontList\n        },\n      ],\n    }\n  }\n\n  render() {\n    const fontSize = this.props.buttonFontSize ? this.props.buttonFontSize : 'inherit'\n    const fontFamily = this.props.buttonFontFamily ? this.props.buttonFontFamily : 'inherit'\n    return (\n      <div\n        className={buttonStyles.buttonsContainer}\n        data-custom-styling={Boolean(this.props.customStyling)}\n        style={{\n          '--button-border-radius': this.props.buttonBorderRadius,\n          '--text-color': this.props.textColor,\n          '--background-color': this.props.bgColor,\n          '--margin-between-buttons': this.props.marginBetweenButtons,\n          '--button-container-padding': this.props.buttonContainerPadding,\n          '--button-font-size': fontSize,\n          '--button-font-family': fontFamily,\n        }}\n      >\n        {this.props.title && (\n          <div className={projectStyles.title}>{this.props.title}</div>\n        )}\n        {this.props.labels?.map((label, i) => {\n\n          if (!this.props.customStyling) return (\n            <OriginalButton\n              key={i}\n              href={this.props.links?.[i]}\n              openLinkInSameTab={this.props.openLinksInTheSameTab}\n              beginIcon={this.props.beginIcons?.[i]}\n              endIcon={this.props.endIcons?.[i]}\n            >\n              {label}\n            </OriginalButton>\n          )\n\n          return (\n            <CustomStyleButton\n              key={i}\n              href={this.props.links?.[i]}\n              openLinkInSameTab={this.props.openLinksInTheSameTab}\n              beginIcon={this.props.beginIcons?.[i]}\n              endIcon={this.props.endIcons?.[i]}\n              hasButtonShadow={this.props.hasButtonShadow}\n            >\n              {label}\n            </CustomStyleButton>\n          )\n         })}\n      </div>\n    )\n  }\n}\n\nfunction OriginalButton(props) {\n  return (\n    <a\n      className={projectStyles.viewer}\n      style={{ textDecoration: 'none', color: 'inherit' }}\n      href={props.href}\n      target={props.openLinkInSameTab ? \"_self\" : \"_blank\"}\n      rel=\"noopener noreferrer\" // For security reasons when using target=\"_blank\"\n    >\n      <div className={projectStyles.titleText}>\n        {props.beginIcon && <Icon icon={props.beginIcon} />}\n        {props.children}\n        {props.endIcon && <Icon icon={props.endIcon} />}\n      </div>\n    </a>\n  )\n}\n\nfunction CustomStyleButton(props) {\n  return (\n    <Button\n      component=\"a\"\n      className={buttonStyles.button}\n      style={{ textDecoration: 'none',  color: 'inherit', padding: '10px', margin: '10px' }}\n      onClick={props.onClick}\n      href={props.href}\n      target={props.openLinkInSameTab ? \"_self\" : \"_blank\"}\n      rel=\"noopener noreferrer\" // For security reasons when using target=\"_blank\"\n      color=\"grey\"\n      variant=\"contained\"\n      endIcon={props.endIcon && <Icon icon={props.endIcon} />}\n      startIcon={props.beginIcon && <Icon icon={props.beginIcon} />}\n      data-has-button-shadow={Boolean(props.hasButtonShadow)}\n    >\n      {props.children}\n    </Button>\n  )\n}\n\nexport default BBLinkButtons\n","\r\nimport { lazy } from 'react';\r\n\r\nexport default class BBStructuredTextDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BBStructuredText',\r\n      component: lazy(() =>  import('./BBStructuredText')),\r\n      label: 'BB Structured Text',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'use parameter ?header ?headerText ?content  ',\r\n        },\r\n        {\r\n          name: 'paperbackground',\r\n          type: 'select',\r\n          label: 'paper background',\r\n          options: [\r\n            {\r\n              label: 'default',\r\n              value: 'noneWhite',\r\n            },\r\n            {\r\n              label: 'grey',\r\n              value: 'bbgrey',\r\n            },\r\n            {\r\n              label: 'white',\r\n              value: 'bbwhite',\r\n            },\r\n            {\r\n              label: 'default grey',\r\n              value: 'noneGrey',\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          name: 'papercolor',\r\n          type: 'select',\r\n          label: 'paper color',\r\n          options: [\r\n            {\r\n              label: 'default',\r\n              value: 'noneWhite',\r\n            },\r\n            {\r\n              label: 'white paper',\r\n              value: 'bbwhitePaper',\r\n            },\r\n            {\r\n              label: 'grey paper',\r\n              value: 'bbgreyPaper',\r\n            },\r\n\r\n            {\r\n              label: 'default grey',\r\n              value: 'noneGrey',\r\n            },\r\n          ],\r\n        },\r\n\r\n        {\r\n          name: 'cls',\r\n          type: 'text',\r\n          label: 'class ',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n}","import { lazy } from 'react';\nexport default class BBKVKProductTemplateDescriptor {\n\n  static getDescription() {\n    return {\n      name: 'BBKVKProductTemplate',\n      component: lazy(() =>  import('./BBKVKProductTemplate')), \n      label: 'BBK KVK Product Template',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de template',\n        },\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the form. Use title,uri, propUri, label,value, type (xsd,select), optionLabel optionValue ?required regex, multiple,objectOfCls ',\n        },\n        {\n          name: 'buttons',\n          type: 'array',\n          label: 'buttons',\n        },\n        {\n          name: 'popupFullScreen',\n          type: 'array',\n          label: 'popupFullScreen',\n        },\n        {\n          name: 'popupTitle',\n          type: 'array',\n          label: 'popupTitle',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Variabele in which URI is published when button is clicked.',\n        },\n\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n  \n  \n}\n","import React, { Component } from 'react'\nimport { Tooltip, IconButton } from '@mui/material'\nimport ChevronLeft from '@mui/icons-material/ChevronLeft'\n\nimport Tab from '../Tab'\n\nexport default class BBBackMenu extends Component {\n  state = { anchorEl: false, selections: [] }\n\n  static getDescription() {\n    return {\n      name: 'BBBackMenu',\n      component: BBBackMenu,\n      label: 'BackMenu',\n      variables: [\n        {\n          name: 'parameter',\n          type: 'text',\n          label: 'parameter ',\n        },\n        {\n          name: 'changeSelectedTabs',\n          type: 'boolean',\n          label: 'also set tab selections ',\n        },\n      ],\n    }\n  }\n\n  shouldComponentUpdate(props, state) {\n    try {\n      var newValue = props.pubsub[props.parameter]\n      if (newValue == null) return true\n\n      if (this.state.selections.length === 0) {\n        var o = { parameter: newValue, tabs: {} }\n        for (var n in Tab.registeredTabComponents) {\n          let t = Tab.registeredTabComponents[n]\n          o.tabs[t.getTabId()] = t.state.selectedIndex\n        }\n        this.state.selections.push(o)\n      } else {\n        var lastValue =\n          this.state.selections[this.state.selections.length - 1].parameter\n        if (lastValue !== newValue) {\n          o = { parameter: newValue, tabs: {} }\n\n          for (const n in Tab.registeredTabComponents) {\n            let t = Tab.registeredTabComponents[n]\n            o.tabs[t.getTabId()] = t.state.selectedIndex\n          }\n          this.state.selections.push(o)\n        }\n      }\n      // console.log(this.state.selections);\n    } catch (e) {\n      console.log(e)\n    }\n    //console.log(par,par2);\n    return true\n  }\n\n  handleClickBack = (event) => {\n    //this.setState({anchorEl:event.currentTarget});\n\n    if (this.state.selections.length === 0) return\n    if (this.state.selections.length === 1) return\n    // min 2 dus kan terug\n    var rValue = this.state.selections[this.state.selections.length - 2]\n\n    if (this.props.parameter != null) {\n      this.props.publish(this.props.parameter, rValue.parameter)\n      this.state.selections.pop()\n      this.state.selections.pop()\n    }\n    //this.setState({anchorEl:null});\n    if (this.props.changeSelectedTabs) {\n      for (var n in Tab.registeredTabComponents) {\n        var t = Tab.registeredTabComponents[n]\n        for (var tabId in rValue.tabs) {\n          if (tabId === t.getTabId()) {\n            var sel = rValue.tabs[tabId]\n            if (t.state.selectedIndex !== sel) {\n              //console.log(\"found a tab that needs to be switched\",t);\n              t.setState({ selectedIndex: sel })\n            }\n          }\n        }\n      }\n    }\n  }\n\n  handleClose = () => {\n    this.setState({ anchorEl: null })\n  }\n\n  render() {\n    var disabled = false\n    if (this.state.selections.length < 2) {\n      disabled = true\n    }\n    //var sel = this.state.selections;\n    return (\n      <div>\n        <Tooltip title=\"back\">\n          <span>\n            {' '}\n            <IconButton\n              disabled={disabled}\n              variant=\"contained\"\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleClickBack}\n            >\n              <ChevronLeft />\n            </IconButton>\n          </span>\n        </Tooltip>\n      </div>\n    )\n    /*\n      \n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={this.handleClose}\n      >\n        {sel.map(index =>(\n        <MenuItem onClick={this.handleClose}>hallo uri:{sel[index]}</MenuItem>\n        \n        ))\n      }\n      </Menu>\n      \n        )\n        */\n  }\n}\n","import { lazy } from 'react';\n\n class BBSimplePushButtonDescriptor{\n  \n  static getDescription() {\n    return {\n      name: 'BBSimplePushButton',\n      component: lazy(() =>  import('./BBSimplePushButton')), \n      category:\"Default\",\n      label: 'Simple Push Button',\n      variables: [\n        {\n          name: 'label',\n          type: 'text',\n          label: 'label',\n        },\n        {\n          name: 'beginIcon',\n          type: 'text',\n          label: 'begin icon',\n        },\n        {\n          name: 'endIcon',\n          type: 'text',\n          label: 'end icon',\n        },\n        {\n          name: 'enabled',\n          type: 'text',\n          label: 'parameter true/false for enabling button',\n        },\n\n        {\n          name: 'tooltip',\n          type: 'text',\n          label: 'button tooltip',\n        },\n\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'for parameters for label for example',\n        },\n        {\n          name: 'link',\n          type: 'text',\n          label: 'simple link which will be called when the button is clicked',\n        },\n        {\n          name: 'postLink',\n          type: 'text',\n          label:\n            'alternative to link: a post link with optionally a postObject. keywords allowed such as command for command servlet calls',\n        },\n        {\n          name: 'postObject',\n          type: 'text',\n          label:\n            'object send via postLink adres. Parameters will be resolved before sending. keep it simple. no subchildren',\n        },\n        {\n          name: 'postDownload',\n          type: 'boolean',\n          label: 'triggers a download',\n        },\n        {\n          name: 'downloadFileName',\n          type: 'text',\n          label: 'download file name ',\n        },\n        {\n          name: 'messageLWTTitle',\n          type: 'text',\n          label: 'show message title for long waiting time',\n        },\n        {\n          name: 'messageLWT',\n          type: 'text',\n          label: 'show message for long waiting time',\n        },\n        \n        \n        {\n          name: 'changeParameter',\n          type: 'text',\n          label: 'change parameter value when succesfull',\n        },\n        {\n          name: 'setInitialValueChangeParameter',\n          type: 'boolean',\n          label: 'set initial value for change parameter ',\n        },\n        {\n          name: 'successMessage',\n          type: 'text',\n          label: 'shows message after successful operation ',\n        },\n        {\n          name: 'fontSize',\n          type: 'text',\n          label: 'size of the text ',\n        },\n        {\n          name: 'sparqlqueryrapport',\n          type: 'yasgui',\n          label: 'sparql query rapport. (optionally use #template:)',\n        },\n\n\n\n\n      ],\n    }\n  }\n}\n  \nexport default BBSimplePushButtonDescriptor\n","import BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nexport default class BBVenn extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/venn.html`\n\n  constructor() {\n    super()\n    this.scrolling = 'false'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBVenDiagram',\n      component: BBVenn,\n      label: 'BB Venn diagram',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'use ?set and ?amount.  ?set values must be space separated classes. ',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n\n        PublishUtils.getResetValueDef(),\n      ],\n    }\n  }\n}\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBForm extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/form.html`\n\n  constructor() {\n    super()\n    this.scrolling = 'true'\n    this.noEvents = false\n  }\n  static getDescription() {\n    return {\n      name: 'BBForm',\n      component: BBForm,\n      label: 'BB Form widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the map. Use ?uri and ?geometry for WKT strings. Optionally use ?color for automatic coloring ',\n        },\n        {\n          name: 'fields',\n          type: 'json',\n          label: 'json for w2uiform fields',\n        },\n\n        {\n          name: 'tabs',\n          type: 'text',\n          label: 'w2ui tabs definitie',\n        },\n        {\n          name: 'filetype',\n          type: 'text',\n          label: 'file type extension (e.g.:ifc) ',\n        },\n        {\n          name: 'service',\n          type: 'select',\n          label: 'service upload or command',\n          options: [\n            {\n              label: 'command',\n              value: 'command',\n            },\n            {\n              label: 'upload',\n              value: 'upload',\n            },\n          ],\n        },\n       \n        {\n          name: 'commando',\n          type: 'text',\n          label: 'commando',\n        },\n        {\n          name: 'dataCommand',\n          type: 'text',\n          label: 'extra data send to the server via json',\n        },\n        {\n          name: 'endJS',\n          type: 'text',\n          label:\n            'js after successfull submit   (getIface().me.props.closeDialog())',\n        },\n        PublishUtils.getTimestampParametersDef(),\n      ],\n    }\n  }\n}\n\nexport default BBForm\n","\r\nimport { lazy } from 'react';\r\nimport PublishUtils from '../../../helpers/PublishUtils'\r\n\r\nexport default class BBUploadDescriptor  {\r\n \r\n  \r\n\r\n\r\n\r\n static getDescription() {\r\n    return {\r\n      name: 'BBUpload',\r\n      component: lazy(() =>  import('./BBUpload')),\r\n      label: 'BB Upload widget',\r\n      variables: [\r\n        {\r\n          name: 'serverUrl',\r\n          type: 'text',\r\n          label: 'server url (full url or upload)',\r\n        },\r\n        {\r\n          name: 'command',\r\n          type: 'text',\r\n          label: 'command for server  {validateGarantie,uploadAnyXLSX,uploadAnyFile:ruletag}',\r\n        },\r\n        {\r\n          name: 'uploadText',\r\n          type: 'text',\r\n          label: 'text for the widget',\r\n        },\r\n        {\r\n          name: 'processingText',\r\n          type: 'text',\r\n          label: 'text for the widget when uploading and processing',\r\n        },\r\n        {\r\n          name: 'fileExtensions',\r\n          type: 'text',\r\n          label: 'fileExtensions xslx,js',\r\n        },\r\n        {\r\n          name: 'fields',\r\n          type: 'json',\r\n          label: 'json for w2uiform fields',\r\n        },\r\n        {\r\n          name: 'tabs',\r\n          type: 'text',\r\n          label: 'optional w2ui tabs definitie',\r\n        },\r\n\r\n        {\r\n          name: 'multiple',\r\n          type: 'boolean',\r\n          label: 'multiple files ',\r\n        },\r\n        {\r\n          name: 'extraJSON',\r\n          type: 'text',\r\n          label: 'extra json info. parameters may be used. {\"graph\":\"{{graph}}\"}',\r\n        },\r\n        {\r\n          name: 'autoUpload',\r\n          type: 'boolean',\r\n          label: 'auto upload ',\r\n        },\r\n        {\r\n          name: 'resultUri',\r\n          type: 'text',\r\n          label: 'parameter that will be updated after succesful upload containing uri where more information can be found on the uploaded ',\r\n        },\r\n       \r\n        {\r\n          name: 'successEval',\r\n          type: 'text',\r\n          label:\r\n            'javascript code after successfull upload... e.g. me.downloadReport(\"garantierapport\",\"garantie.html\") ',\r\n        },\r\n\r\n        PublishUtils.getTimestampParametersDef(),\r\n        \r\n      ],\r\n    }\r\n  }\r\n}","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBNOML extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/noml.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBNOML',\n      component: BBNOML,\n      label: 'BBNOML',\n      variables: [\n        {\n          name: 'data',\n          type: 'text',\n          label: 'noml input',\n        },\n      ],\n    }\n  }\n}\nexport default BBNOML\n","import { lazy } from 'react';\nimport { FontList } from \"../../../FontList\"\nexport default class ButtonPopupDescriptor  {\n\nstatic getDescription() {\n    return {\n      name: 'BB ButtonPopup',\n      component: lazy(() =>  import('./ButtonPopup')),\n      label: 'Button Popup',\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'button label',\n          topicValueInterpolationEnabled: true\n        },\n        {\n          name: 'beginIcon',\n          type: 'text',\n          label: 'begin icon',\n        },\n        {\n          name: 'endIcon',\n          type: 'text',\n          label: 'end icon',\n        },\n\n        {\n          name: 'popupFullScreen',\n          type: 'boolean',\n          label: 'popup fullScreen not implemented',\n        },\n        {\n          name: 'popupMinWidth',\n          type: 'string',\n          label: 'popup min width in CSS, e.g. 600px',\n        },\n        {\n          name: 'popupMaxWidth',\n          type: 'string',\n          label: 'popup max width in CSS, e.g. 100vw for max screen width',\n        },\n        {\n          name: 'popupMinHeight',\n          type: 'string',\n          label: 'popup min height in CSS, e.g. 600px',\n        },\n        {\n          name: 'popupMaxHeight',\n          type: 'string',\n          label: 'popup max height in CSS, e.g. 100vh for max screen height',\n        },\n        {\n          name: 'popupContentPadding',\n          type: 'string',\n          label: 'popup content padding in CSS, e.g. 0px for zero padding',\n        },\n        {\n          name: 'popupCloseOnBackdropClick',\n          type: 'boolean',\n          label: 'close popup when clicking outside the popup',\n        },\n        {\n          name: 'popupCloseOnEscapeKey',\n          type: 'boolean',\n          label: 'close popup when pressing Escape',\n        },\n        {\n          name: 'popupTitle',\n          type: 'text',\n          label: 'popupTitle',\n          topicValueInterpolationEnabled: true\n        },\n\n        {\n          name: 'tooltip',\n          type: 'text',\n          label: 'button tooltip',\n          topicValueInterpolationEnabled: true\n        },\n        {\n          name: 'disable',\n          type: 'text',\n          label: 'disable when parameter is empty/reset value or true' ,\n        },\n        {\n          name: 'autoOpenOnParameter',\n          type: 'text',\n          label: 'automatically opens popup when the parameter changes.',\n        },\n        {\n          name: 'closeAtParameterChange',\n          type: 'text',\n          label: 'close popup when the parameter changes. deprecated',\n        },\n        {\n          name: 'openDialog',\n          type: 'boolean',\n          label: 'open dialog the first time',\n        },\n        {\n          name: 'customStyling',\n          type: 'boolean',\n          label: 'Enable Custom Styling',\n        },\n        {\n          name: 'buttonBorderRadius',\n          type: 'text',\n          label: 'Custom Styling: button-border-radius (examples: \"2lh\", \"50%\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\n        },\n        {\n          name: 'textColor',\n          type: 'text',\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'bgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'hasButtonShadow',\n          type: 'boolean',\n          label: 'Custom Styling: enable button-shadow'\n        },\n        {\n          name: 'buttonFontSize',\n          type: 'text',\n          label: 'Custom Styling: button-font-size'\n        },\n        {\n          name: 'buttonFontFamily',\n          type: 'text',\n          label: 'Custom Styling: button-font-family',\n          helpComponent: FontList\n        },\n      ],\n    }\n  }\n}\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBRDFViewer extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/rdfviewer/index.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBRDFViewer',\n      component: BBRDFViewer,\n      label: 'BB RDF Viewer',\n      variables: [\n        {\n          name: 'query',\n          defaultQuery:\"\\n\\rselect * where\\n\\r{\\n\\r\\n\\r  graph ?g\\n\\r  {\\n\\r  \\n\\r   ?uri a <http://rdf.bg/ontologies/ifc#IfcSpace>.\\n\\r   ?uri <http://rdf.bg/ontologies/ifc#geometry> ?geometry.\\n\\r    \\n\\r   #?uri <http://rdf.bg/ontologies/ifc#propertySets> ?ps.\\n\\r\\n\\r  #?ps<http://rdf.bg/ontologies/ifc#properties> ?pss.\\n\\r  #?pss <http://rdf.bg/ontologies/ifc#name> \\\"\\\".\\n\\r  #?pss <http://rdf.bg/ontologies/ifc#value> ?color.\\n\\r  ?uri a ?cls.\\n\\r    bind (strafter(STR(?cls),\\\"#\\\") as ?color)\\n\\r    bind (concat(\\\"IFC class:\\\",?color) as ?label)\\n\\r  #bind (0.3 as ?alpha)\\n\\r  }\\n\\r}\\n\\rlimit 1000\",\n          type: 'yasgui',\n          label: ' Use ?file. or upcoming blob parameters',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when an object is selected.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        PublishUtils.getResetValueDef(),\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n}\nexport default BBRDFViewer\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBCesium extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/cesiumMap/cesiumConf.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBCesiumJS',\n      component: BBCesium,\n      label: 'Cesium JS',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: ' Use ?uri ?geometry ?color',\n        },\n        {\n          name: 'basequery',\n          type: 'yasgui',\n          label: ' Use ?uri ?geometry ?color',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        PublishUtils.getResetValueDef(),\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n}\nexport default BBCesium\n","import BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nexport default class BBSVG extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/SVG.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'false'\n    this.noEvents = false\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBSGV',\n      component: BBSVG,\n      label: 'SVG widget (Single Line Diagram)',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the svg. use ?uri ?x ?x ?type ',\n        },\n              {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n          \n       \n\n        {\n          name: 'dragNodes',\n          type: 'boolean',\n          label: 'drag nodes',\n        },\n      \n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n\n\n\n}\n","\r\nimport { lazy } from 'react';\r\n\r\nexport default class BBDWegselectorDescriptor  {\r\n \r\n  static getDescription() {\r\n    return {\r\n      name: 'Wegselector',\r\n      component: lazy(() =>  import('./BBWegselector')),\r\n      label: 'Wegselector',\r\n      variables: [\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          label: 'Titel boven de form',\r\n        },\r\n        \r\n        \r\n        {\r\n          name: 'showStrook',\r\n          type: 'boolean',\r\n          label: 'show strook options',\r\n        },\r\n        {\r\n          name: 'publishVariable',\r\n          type: 'text',\r\n          label:\r\n            'Published filter sparql bps into a parameter',\r\n        }\r\n     ]\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class BBParameterLinkEmptyWidget extends Component {\r\n\r\n  static getDescription() {\r\n    return {\r\n      name: 'BBParameterLinkEmptyWidget',\r\n      component: BBParameterLinkEmptyWidget,\r\n      label: 'Parameter Link (EmptyWidget)',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'Query to link a parameter',\r\n        },\r\n        {\r\n            name: 'publishParameter',\r\n            type: 'text',\r\n            label: 'publish parameter name (use ?uri single value limit 1)'\r\n         }\r\n        ]\r\n    }\r\n\r\n}\r\nshouldComponentUpdate(props,state)\r\n{\r\n  if (props==null) return false;\r\n  if (props.data==null) return false;\r\n\r\n  try{\r\n    if (props.data!=this.props.data)\r\n    {\r\n      if (props.data!=null)\r\n      {\r\n       // console.log(props.data);\r\n        if (props.data.results!=null)\r\n        {\r\n        try\r\n        {\r\n           if (props.data.results.bindings==null) return false;\r\n           if (props.data.results.bindings.length!=1) return false;\r\n           \r\n\r\n\r\n          var newValue=props.data.results.bindings[0].uri.value;\r\n         \r\n          var par=props.publishParameter;\r\n          if (par!=null)\r\n          {\r\n           \r\n            this.props.publish(par,newValue);\r\n           // console.log(\"perhaps publish new results? \",newValue,par);\r\n          }\r\n        }\r\n        catch(ex)\r\n        {\r\n         // console.log(ex);\r\n        }\r\n      }\r\n      }\r\n\r\n    }\r\n  }\r\n  catch(e){\r\n  //  console.log(e)\r\n  }\r\n    return false;\r\n}\r\n\r\n\r\nrender()\r\n{\r\n return null;   \r\n}\r\n\r\n}\r\n\r\n\r\n","import React from 'react'\nimport { Icon } from './Icon'\nimport styles from './SequencePaths.module.css'\n\nconst WIDGET_VARIABLES = [\n  {\n    name: 'query',\n    type: 'yasgui',\n    label:\n      'Query to display sequence path. ' +\n      'The following variable-names should be queried: \"?name\", \"?uri\", \"?parentUri\". ' +\n      'The utmost-grand-parent is displayed on the left, with the utmost-grand-child on the right.' +\n      'If there are multiple parents, then multiple sequence paths will be shown.'\n  },\n  {\n    name: 'iconName',\n    type: 'text',\n    label: 'font-awesome-icon-name to be used between path-nodes (default: \"angle-right\")',\n  },\n  {\n    name: 'topicOnClick',\n    type: 'text',\n    label: 'Topic to publish URI when clicking on path-node',\n  },\n]\n\nexport class SequencePaths extends React.Component {\n  state = {\n    sequences: [],\n    data: undefined,\n    previousData: undefined,\n  }\n\n  static getDescription() {\n    return {\n      name: 'SequencePaths',\n      component: SequencePaths,\n      label: 'Sequence-paths widget',\n      variables: WIDGET_VARIABLES,\n    }\n  }\n\n  render = () => (\n    <div className={`${styles.main} ${styles[this.props.panelstyle]}`} disabled={this.state.loading}>\n      {this.state.sequences.map((sequence) => (\n        <div key={sequence}>\n          {sequence.map((entry, i) => (\n            <React.Fragment key={entry.uri.value}>\n              {i !== 0 && <Icon icon={this.props.iconName?.length ? this.props.iconName : 'angle-right'} />}\n              <span\n                className={`${styles.pathSegment} ${this.props.panelstyle}`}\n                onClick={() => this.select(entry.uri.value)}\n              >\n                {entry.name.value}\n              </span>\n            </React.Fragment>\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n\n  componentDidUpdate = () => {\n    try {\n      if (this.props.data && this.props.data !== this.state.previousData) {\n        const sequences = sequenceRows(this.props.data.results.bindings)\n        this.setState({ sequences, previousData: this.props.data })\n      }\n    } catch(e) {\n      console.error(e.message)\n    }\n  }\n\n  select = (uri) => this.props.dispatch({ type: 'PUBLISH', data: { [this.props.topicOnClick]: uri } })\n}\n\nfunction sequenceRows(rows) {\n  const { rowByUri, rowsByParentUri } = makeHashMaps()\n  const rootRows = rows.filter(r => !(r.parentUri?.value in rowByUri))\n  return rootRows.flatMap(r => getSequences([[r]]))\n\n  function makeHashMaps() {\n    const rowByUri = {}\n    const rowsByParentUri = {}\n\n    for (const row of rows) {\n      rowByUri[row.uri.value] = row\n\n      if (!row.parentUri?.value) continue\n      if (!rowsByParentUri[row.parentUri.value]) rowsByParentUri[row.parentUri.value] = [row]\n      else rowsByParentUri[row.parentUri.value].push(row)\n    }\n\n    return { rowByUri, rowsByParentUri }\n  }\n\n  function getSequences(sequences) {\n    return sequences.flatMap(sequence => {\n      const parent = sequence.at(-1)\n      const children = rowsByParentUri[parent.uri.value]\n      if (!children) return [sequence]\n\n      const newSequences = children.map(c => [...sequence, c])\n      return getSequences(newSequences)\n    })\n  }\n}\n","import { lazy } from 'react';\r\n\r\nexport default class BBIFCJSViewerDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'IFCJSViewer',\r\n      //component: lazy(() =>  import('./BBIFCJSViewer.js')),\r\n      component: lazy(() =>  import('./BBIFCViewer.js')),\r\n      label: 'IFC JS Viewer (v2)',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'use parameter ?filename ?guid ?hidden ?alpha ?color  ',\r\n        }]\r\n    }\r\n}\r\n}","import { lazy } from 'react';\r\n\r\nexport default class BBIFCJSViewerDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BBThreeJSViewer',\r\n      component: lazy(() =>  import('./BBThreeJSViewer.js')),\r\n      label: 'BB ThreeJS viewer (v2)',\r\n      variables: [\r\n        {\r\n          name: 'glb files prefix',\r\n          type: 'text',\r\n          label: 'prefix for all glb files (e.g. http://wistor.nl/BloodBee/cgi/download/) ',\r\n        },\r\n        {\r\n          name: 'glb files',\r\n          type: 'array',\r\n          label: 'comma separated file names to load. \"file1.glb,file2.glb\" or use parameters {{filename}}',\r\n        },\r\n        {\r\n          name: 'visualisation hint',\r\n          type: 'select',\r\n          options: [\r\n            \r\n            { label: 'normal', value: 'normal' },\r\n            { label: 'transparent', value: 'transparent' },\r\n            { label: 'very transparent', value: 'vtransparent' },\r\n            { label: 'toon', value: 'toon' },\r\n            { label: 'toon transparent', value: 'toontransparent' },\r\n            { label: 'nice', value: 'nice' },\r\n            { label: 'nicer', value: 'nicer' },\r\n            { label: 'nicer grey', value: 'nicerGrey' },\r\n            { label: 'grey', value: 'grey' },\r\n            { label: 'grey transparent', value: 'greytransparent' },\r\n            { label: 'grey very transparent', value: 'greyverytransparent' },\r\n\r\n          ],\r\n          label: 'such as transparent,normal,toon ',\r\n\r\n        },\r\n        {\r\n          name: 'simpleMode',\r\n          type: 'boolean',\r\n          label: 'use this for only basic viewing of IFC models',\r\n        },\r\n\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'use parameter ?guid ?uri ?hidden ?alpha ?color ?label (?gltf). use sparqlhints #transparent   ',\r\n        },\r\n      \r\n        {\r\n          name: 'guidpublishparameter',\r\n          type: 'text',\r\n          label: 'parameter for guid publishing',\r\n        },\r\n        {\r\n          name: 'guidselector',\r\n          type: 'text',\r\n          label: 'parameter for selecting object using GUID',\r\n        }\r\n        ,\r\n        {\r\n          name: 'selectOnlySparqlResults',\r\n          type: 'boolean',\r\n          label: 'select only sparql result objects',\r\n        },\r\n        \r\n        {\r\n          name: 'visualiseOnlySparqlResults',\r\n          type: 'boolean',\r\n          label: 'visualise only sparql result objects',\r\n        }\r\n\r\n      ]\r\n    }\r\n}\r\n}","import { lazy } from 'react';\r\n\r\nexport default class BBSparnaturalDescriptor{\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BBSparnatural',\r\n      component: lazy(() =>  import('./BBSparnatural')),\r\n      label: 'BB Sparnatural',\r\n      variables: [\r\n       \r\n          \r\n          {\r\n            name: 'configttl',\r\n            type: 'text',\r\n            label: 'local filename such as \\\"config.ttl\\\". (refresh is necessary) ',\r\n          },\r\n          {\r\n            name: 'lang',\r\n            type: 'text',\r\n            label: 'language, default is nl (refresh is necessary)',\r\n          },\r\n          {\r\n            name: 'limit',\r\n            type: 'text',\r\n            label: 'limit (default is 100000) (refresh is necessary)',\r\n          },\r\n\r\n          {\r\n            name: 'configttlAsString',\r\n            type: 'text',\r\n            label: 'config as a string. (not implemented) ',\r\n          },\r\n\r\n\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label: 'perhaps create sparnatural config using sparql results? (not implemented) ',\r\n        }\r\n    ]\r\n}\r\n}\r\n}\r\n","import { lazy } from 'react';\r\nexport default class NebulaDescriptor  {\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'Nebula',\r\n      component: lazy(() =>  import('./Nebula')),\r\n      label: 'Nebula',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'use parameter ?label for accordion headings. use ?content for inner accordion content ',\r\n        },\r\n\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          label: 'Titel boven de tabel',\r\n        },\r\n\r\n       \r\n      ],\r\n    }\r\n  }\r\n}\r\n","import { useEffect, useRef } from 'react'\n\nexport function useDebounce(onTimeout: () => void, debounceTime: number, debounceOn: unknown[] = []) {\n  const timerRef = useRef<ReturnType<typeof setTimeout>>()\n  useEffect(() => {\n    if (timerRef.current) clearTimeout(timerRef.current)\n    timerRef.current = setTimeout(() => onTimeout(), debounceTime)\n  }, debounceOn) // eslint-disable-line react-hooks/exhaustive-deps\n}\n","import { ChangeEvent, ReactNode, useEffect, useState } from 'react'\nimport { FormGroup as _FormGroup, Input as _Input, Label as _Label } from 'reactstrap'\nimport { useDebounce } from '../../hooks/use-debounce'\nimport PublishUtils from '../../helpers/PublishUtils'\n\n// Workaround due to incorrect typing of the class-component instances\nconst FormGroup = _FormGroup as any\nconst Input = _Input as any\nconst Label = _Label as any\n\nconst DEFAULT = {\n  DEBOUNCE_TIME: 1, //second\n  WIDTH: '100%',\n}\n\nexport const textInputWidgetDescription = {\n  name: 'Text input',\n  component: TextInput,\n  label: 'Text input',\n  variables: [\n    {\n      name: 'label',\n      type: 'text',\n      label: 'Label above input-field',\n    },\n    {\n      name: 'topicToPublish',\n      type: 'text',\n      label:\n        'Topic/Parameter to which to publish the user input',\n    },\n    {\n      name: 'inputParameter',\n      type: 'text',\n      label:\n        'Initial value  (refresh is necessary)',\n    },\n    {\n      name: 'debounceTimeInSeconds',\n      type: 'text',\n      label: 'Seconds to wait after user input to broadcast value to topic',\n    },\n    {\n      name: 'width',\n      type: 'text',\n      label: 'Width of text input (use css length value; default is \"100%\")',\n    }\n  ],\n}\n\nexport function TextInput(props: {\n  label?: string\n  topicToPublish?: string\n  inputParameter?:string\n  debounceTimeInSeconds: string\n  width: string\n  pubsub: Record<string, unknown>\n  publish: (topic: string, value: string) => void\n}) {\n\n\n\n    const publishText = (text: string) => {\n    if (props.topicToPublish) {\n      //props.publish(props.topicToPublish, text)\n      //console.log(PublishUtils.processStringForParameters({props:props},text));\n       var resolvedText2=PublishUtils.processStringForParameters({props:props},text);\n       setResolvedText(resolvedText2);\n       setText(text);\n      props.publish(props.topicToPublish,resolvedText2)\n    }\n  }\n\n   \n  \n // console.log(props.debounceTimeInSeconds, typeof props.debounceTimeInSeconds)\n  const parsedDebounceTime = Number(props.debounceTimeInSeconds || DEFAULT.DEBOUNCE_TIME) * 1000\nvar initialValue=\"\";\nvar initialResolvedValue=\"\";\nvar publishFirstTime=false;\n  if (props.inputParameter)\n    {\n     \n      initialValue = props.inputParameter\n      initialResolvedValue=PublishUtils.processStringForParameters({props:props},initialValue);\n     publishFirstTime =true;\n     \n    }\n   \n const [text, setText] = useState(initialValue);\n const [resolvedText, setResolvedText] = useState(initialResolvedValue)\n \n \n  \n\n  useDebounce(() => publishText(text), parsedDebounceTime, [text])\n  useEffect(() =>  publishText(text), [props.topicToPublish])  // eslint-disable-line react-hooks/exhaustive-deps\n \n\n useEffect(() => {\n\n\n  \n\n  var rt=PublishUtils.processStringForParameters({props:props},text);\n  if (rt!=resolvedText) {\n    console.log(\"updating to \",rt);\n  \n    publishText(text)\n  } else {\n  //  setShouldUpdate(false);\n  }\n}, [props]);\n\n //if (publishFirstTime) publishText(initialValue);\nif (Number.isNaN(parsedDebounceTime))\n  return <div>Error: configured waiting time is not a number: \"{props.debounceTimeInSeconds}\"</div>\n\n\n\n  return (\n    <FormGroup style={{padding: '0.25rem', width: '100%'}}>\n      {props.label &&\n        <Label style={{marginLeft: '0.25rem', marginBottom: '0.25rem'}}>{props.label}</Label>\n      }\n      <Input hiddenvalue={{resolvedText}} value={text}\n        onChange={(e: ChangeEvent<HTMLInputElement>) => setText(e.target.value)}\n        style={{width: props.width || DEFAULT.WIDTH}}\n      />\n    </FormGroup> as ReactNode\n  )\n}\n","import React, { lazy } from \"react\"\n\nexport const dynamicFilterWidgetDescription = {\n  name: \"DynamicFilter\",\n  component: lazy(() => import(\"./DynamicFilter\")),\n  label: \"Dynamic Filter\",\n  variables: [\n    {\n      name: 'urlPublishVariable',\n      type: 'text',\n      label: \"Variable in which the browser's URL is published upon filter change.\"\n    },\n    {\n      name: 'filtersPublishVariable',\n      type: 'text',\n      label:\n        'Variable in which the filters are published. Note that the query will need \"PREFIX xsd\" in the header.'\n    },\n    {\n      name: 'filterLogicalOperation',\n      type: 'select',\n      label: 'The behaviour when multiple filters are selected',\n      options: [\n        { value: 'AND', label: 'Filters connected without UNION (AND)' },\n        { value: 'OR', label: 'Filters connected with UNION (OR)' },\n      ]\n    },\n    {\n      name: \"query\",\n      type: \"yasgui\",\n      label: \"SparQL query to define the possible filters: ?sparqlParameter ?property ?propertyURI ?value ?valueURI ?type ?defaultExpanded ?defaultVisible. Last two parameters are optional.\",\n      helpComponent: FilterInputQueryHelp\n    }\n  ]\n}\n\nfunction FilterInputQueryHelp() {\n  return (\n    <table>\n      <tbody>\n      <tr>\n        <th>\n          <code>?sparqlParameter</code>\n        </th>\n        <td>\n          String literal with the name of the SparQL parameter used in the published snippet (<code>?subj</code>). Do not include the <code>?</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?property</code>\n        </th>\n        <td>\n          String literal with the label of the filterable property.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?propertyURI</code>\n        </th>\n        <td>\n          String literal with the URI of the filterable property.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?value</code>\n        </th>\n        <td>\n          For checkboxes, radiobuttons, search: string literal with the label of the filterable values.<br />\n          For range or daterange: <code>\"min\"</code> or <code>\"max\"</code> to indicate if it's the min or max value.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?valueURI</code>\n        </th>\n        <td>\n          For checkboxes, radiobuttons, search: string URI or literal of the filterable values.<br />\n          For range: number literal of the min or max value.<br />\n          For daterange: date literal of the min or max value like <code>\"2023-01-01T00:00:00Z\"^^xsd:dateTime</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?type</code>\n        </th>\n        <td>\n          Either <code>\"checkboxes\"</code>, <code>\"radiobuttons\"</code>, <code>\"search\"</code>, <code>\"range\"</code> or <code>\"daterange\"</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?defaultExpanded</code>\n        </th>\n        <td>\n          Whether to expand the filter by default. Either <code>true</code> or <code>false</code>.\n        </td>\n      </tr>\n      <tr>\n        <th>\n          <code>?defaultVisible</code>\n        </th>\n        <td>\n          Whether the filter is shown by default. Either <code>true</code> or <code>false</code>. If <code>false</code>, it can be added by the user via the Add button.\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  )\n}\n\n","import { lazy } from 'react';\r\n\r\nexport const excelWidgetDescription = {\r\n    name: 'Excel widget',\r\n    component:lazy(() => import('./ExcelWidget' )),\r\n    label: 'Excel widget',\r\n    variables: [\r\n      {\r\n        name: 'excelUrl',\r\n        type: 'text',\r\n        label:\r\n          'An excel URL to load (If there is a excelUrlTopic specified, this will be ignored)',\r\n      },\r\n      {\r\n        name: 'excelUrlTopic',\r\n        type: 'text',\r\n        label:\r\n          'Published topic on which to listen to the excel URL to load',\r\n      },\r\n      {\r\n        name: 'selectedCellLocation',\r\n        type: 'text',\r\n        label:\r\n          'A variable to publish the selected cell location. The publish format is excel axis e.g \"A10\", \"B8\".',\r\n      },\r\n      {\r\n        name: 'selectedCellValue',\r\n        type: 'text',\r\n        label:\r\n          'A variable to publish the selected cell value',\r\n      },\r\n      {\r\n        name: 'currentActiveSheetName',\r\n        type: 'text',\r\n        label:\r\n          'A variable to publish the name of the current active sheet',\r\n      },\r\n      {\r\n        name: 'highlightColor',\r\n        type: 'text',\r\n        label: 'The default color for hightlighting the cells in format of Hex Code (#RRGGBB). If no highlighting color is specified in the sparql data, this color will be used.',\r\n      },\r\n      {\r\n        name: 'fastHighlighting',\r\n        type: 'boolean',\r\n        label: '[experimental] Enable this to highlight the cells is faster. But resetting the hightlights may requires reloading workbook or refresh the page. Note: Only the default color can be used for this highlight.',\r\n      },\r\n      {\r\n        name: \"query\",\r\n        type: 'yasgui',\r\n        label:\r\n          'Query certain cells to be highlighted in the loaded workbook. The query pattern should be `select ?sheetIndex ?sheetName ?row ?col ?color ?value ?range` Note: Only cells that has values and their values are equal to ?value can be highlighted! If both sheetIndex and sheetName are specified, sheetIndex takes priority.',\r\n      },\r\n    ],\r\n  }","import styles from './ToggleSwitch.module.css'\n\nexport const ToggleSwitch = (props: {\n  isToggled: boolean\n  onClick: () => void\n}) => {\n    return (\n      <label className={styles[\"toggle-switch\"]}>\n        <input type=\"checkbox\" checked={props.isToggled} onClick={() => props.onClick()} />\n        <span className={styles[\"switch\"]} />\n      </label>\n    );\n  };\n  ","import { ToggleSwitch } from '../ToggleSwitch'\nimport { IconButton } from '@mui/material'\nimport { Icon } from './Icon'\nimport styles from './ToggleWidget.module.css'\nimport { IconProp } from '@fortawesome/fontawesome-svg-core'\n\nexport const toggleWidgetDescription = {\n  name: 'ToggleWidget',\n  component: ToggleWidget,\n  label: 'Toggle Widget',\n  variables: [\n    {\n      name: 'appearance',\n      type: 'select',\n      label: 'Choose your preferred appearance',\n      options: [\n        {\n          label: 'Icon',\n          value: 'icon',\n        },\n        {\n          label: 'Checkbox',\n          value: 'checkbox',\n        },\n        {\n          label: 'Toggle Switch',\n          value: 'toggleSwitch',\n        },\n      ],\n    },\n    {\n      name: 'iconImage',\n      type: 'text',\n      label:\n        'name of the Font Awesome icon you want to use',\n    },\n    {\n      name: 'publishTopic',\n      type: 'text',\n      label:\n        'topic to publish binary state to',\n    },\n    {\n      name: 'enabledBgColor',\n      type: 'text',\n      label: 'Custom Styling: Enabled background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n    {\n      name: 'enabledIconColor',\n      type: 'text',\n      label: 'Custom Styling: Enabled icon-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n    {\n      name: 'disabledBgColor',\n      type: 'text',\n      label: 'Custom Styling: Disabled background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n    {\n      name: 'disabledIconColor',\n      type: 'text',\n      label: 'Custom Styling: Disabled icon-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n    },\n  ],\n}\n\nfunction ToggleWidget(props: {\n  pubsub: any\n  appearance: 'icon' | 'checkbox' | 'toggleSwitch'\n  iconImage: IconProp\n  publishTopic: string\n  enabledBgColor:string\n  enabledIconColor: string\n  disabledBgColor:string\n  disabledIconColor: string\n  publish: (topic: string, value: unknown) => void\n}) {\n  const appearance = props.appearance || 'icon'\n  const iconImage = props.iconImage || 'filter'\n  const publishTopic = props.publishTopic || 'defaultTopic'\n  const handleClick = () => {\n    if (publishTopic) {\n      props.publish(publishTopic, !props.pubsub[publishTopic])\n    }\n  }\n  return (\n    <div style={{\n      '--icon-color': props.disabledIconColor,\n      '--bg-color': props.disabledBgColor,\n      '--active-icon-color': props.enabledIconColor,\n      '--active-bg-color': props.enabledBgColor,\n    } as {}}>\n      {appearance == 'checkbox' && <input type=\"checkbox\" checked={props.pubsub[publishTopic]} onClick={handleClick}/>}\n      {appearance == 'toggleSwitch' && <ToggleSwitch isToggled={props.pubsub[publishTopic]} onClick={handleClick}/>}\n      {appearance == 'icon' && (\n        <IconButton\n          className={styles.iconButton}\n          onClick={handleClick}\n          data-active={props.pubsub[publishTopic]}\n        >\n          <Icon icon={iconImage} />\n        </IconButton>\n      )}\n    </div>\n  )\n}\n","import { lazy } from 'react';\n\nexport const jobStatusWidgetDescription = {\n    name: 'JobStatus',\n    component: lazy(() => import('./JobStatus' )),\n    label: 'Job status indicator (rule engine)',\n    variables: [\n      {\n        name: 'initiatorTagsToInclude',\n        type: 'text',\n        label:\n          'Monitor only jobs initiated by specified rule tags. Can be comma separated. By default all jobs are monitored.'\n      },\n      {\n        name: 'statusLabels',\n        type: 'json',\n        label:\n          'JSON that maps the job statuses to a human-friendly label'\n      },\n      {\n        name: 'statusTextTemplateString',\n        type: 'text',\n        label:\n          'Template string for the job status display. May have HTML. You can use placeholders {{.count}} and {{.status}} (NOTE: these are not available as pubsub variables)'\n      },\n      {\n        name: 'zeroJobsString',\n        type: 'text',\n        label:\n          'Text for the job status display when there are zero active jobs. May have HTML.'\n      },\n      {\n        name: 'refetchInterval',\n        type: 'text',\n        label: 'How often to refresh in seconds. Cannot be lower than 1.'\n      }\n    ],\n  }\n","\r\nimport { lazy } from 'react';\r\n\r\n\r\nexport default class BBLibremapDescriptor {\r\n\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BB Maplibre',\r\n      component: lazy(() =>  import('./BBLibremap')),\r\n      label: 'BBLibremap',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'Query to fill tree. First item should be the object label, the second the object URI, the third the parent URI. optional you can use icon, icon2 and icon3 variables for fa-fa icons ()',\r\n        },\r\n       \r\n      ],\r\n    }\r\n  }\r\n\r\n}","\nimport { lazy } from 'react';\nimport PublishUtils from '../../../helpers/PublishUtils';\n\nclass BBPMermaidDescriptor {\n  \n\n  static getDescription() {\n    return {\n      name: 'BBMermaid',\n      component: lazy(() =>  import('./BBMermaid')),\n      label: 'BBPMermaid',\n      variables: [\n        \n        {\n          name: 'mermaid',\n          type: 'json-text',\n          label:\n            'mermaid string',\n        }\n        \n      ],\n    }\n  }\n\n  \n}\n\nexport default BBPMermaidDescriptor\n","export default class WidgetCategory\r\n {\r\n     static  basic=\"basic\";\r\n     static  experimental=\"experimental\";\r\n     static  widget2D=\"2D\";\r\n     static  widget3D=\"3D\";\r\n     static  graphic=\"graphic\";\r\n     static  edit=\"edit\";\r\n     static  other=\"other\";\r\n     static  layout=\"layout\";\r\n     \r\n}","import { lazy } from 'react';\nimport WidgetCategory from '../WidgetCategory';\nimport PublishUtils from './../../helpers/PublishUtils'\n\n\n\nexport default class ListDescriptor {\n\n  static getDescription() {\n    return {\n      name: 'List',\n      component:  lazy(() =>  import('./List')), \n      label: WidgetCategory.basic+' List widget',\n      category:WidgetCategory.basic,\n      variables: [\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de lijst',\n        },\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'first variabele for the labels ',\n          defaultQuery:\"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\rselect ?label ?uri where\\n\\r{\\n\\r  graph<{{graph}}>\\n\\r  {\\n\\r\t\t?uri rdfs:label ?label\\n\\r  }\\n\\r}\\n\\r  \\n\\rlimit 10\"\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'sparql parameter name for publishing select event result',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label: 'Published variabele on which to listen to to define list item selection.',\n        },\n        {\n          name: 'multipleselect',\n          type: 'boolean',\n          label: 'allow multiple selections. parameters are filled as comma separated values',\n        },\n        {\n          name: 'allMultipleSelect',\n          type: 'boolean',\n          label: 'Add \"All\" multiple select',\n        },\n        {\n          name: 'defaultSelectAll',\n          type: 'boolean',\n          label: 'Selects all as default behaviour and after each query update',\n        },\n        PublishUtils.getMultipleValueFormatOptions(),\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'customStyling',\n          type: 'boolean',\n          label: 'Enable Custom Styling',\n        },\n        {\n          name: 'areaBorderStyle',\n          type: 'text',\n          label: 'Custom Styling: area-border-style (example: \"3px solid grey\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border',\n        },\n        {\n          name: 'areaBorderRadius',\n          type: 'text',\n          label: 'Custom Styling: area-border-radius (examples: \"0.8em\", \"1.2em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius',\n        },\n        {\n          name: 'textColor',\n          type: 'text',\n          label: 'Custom Styling: text-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'bgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'selectedTextColor',\n          type: 'text',\n          label: 'Custom Styling: text-color of selection (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'selectedBgColor',\n          type: 'text',\n          label: 'Custom Styling: background-color of selection (examples: \"green\", \"#FF0000\", \"hsl(0 100% 50% / 50%)\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value',\n        },\n        {\n          name: 'itemBorderStyle',\n          type: 'text',\n          label: 'Custom Styling: border between each list-item (examples: \"3px solid grey\")'\n        },\n        {\n          name: 'itemPaddingVertical',\n          type: 'text',\n          label: 'Custom Styling: vertical padding of each list-item (examples: \"0.8em\", \"1.4em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-top',\n        },\n        {\n          name: 'itemPaddingHorizontal',\n          type: 'text',\n          label: 'Custom Styling: horizontal padding of each list-item (examples: \"0.4em\", \"1.0em\"). See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-left',\n        },\n        /*,\n    {\n      name: 'clearParameter',\n      type: 'text',\n      label: 'clears widget when parameter changes'\n    }*/\n      ],\n    }\n  }\n}\n\n  ","import React, { Component, Fragment } from 'react'\nimport styles from './RadioBox.module.css'\n\nclass RadioBox extends Component {\n  static getDescription() {\n    return {\n      name: 'RadioBox',\n      component: RadioBox,\n      label: 'Radio box widget',\n      variables: [\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which the URI of the selected radio box is published.',\n        },\n        {\n          name: 'publishVariableLabel',\n          type: 'text',\n          label:\n            'Variabele in which the LABEL of the selected radio box is published.',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          label: 'Label',\n          topicValueInterpolationEnabled: true\n        },\n        {\n          name: 'horizontal',\n          type: 'boolean',\n          label: 'horizontal',\n        },\n        {\n          name: 'options',\n          type: 'text',\n          label:\n            'Options defined by a comma separated list of value/label pairs',\n        },\n      ],\n    }\n  }\n\n  componentDidMount() {\n    let options = this.restructureOptions()\n    if (!options) return;\n    if (false)  \n    {\n    this.props.publish(\n      this.props.publishVariable,\n      options[0] && options[0].value\n    )\n    }\n  }\n\n  onChange = (event) => {\n    try\n    {\n    let value = event.target.value\n    this.props.publish(this.props.publishVariable, value)\n    }\n    catch(e){console.log(e);}\n    try\n    {\n      if (this.props.publishVariableLabel!=null)\n      {\n          console.log(event.target.alt);\n          this.props.publish(this.props.publishVariableLabel, event.target.alt);\n      }\n    }\n  catch(e){console.log(e);}\n\n\n\n  }\n\n  restructureOptions() {\n    let options = this.props.options\n    try {\n      options = options.split(',')\n    } catch (error) {\n      return null\n    }\n\n    options = options.reduce((org, value, index) => {\n      if (index % 2 === 0) {\n        value = value.trim()\n        org = [\n          ...org,\n          {\n            value,\n            label: options[index + 1] || value,\n          },\n        ]\n      }\n      return org\n    }, [])\n    return options\n  }\n\n  renderOptionsHorizontal() {\n    let value = this.props.pubsub[this.props.publishVariable]\n    let options = this.restructureOptions()\n\n    if (!options) {\n      return (\n        <div>Options should be a comma separated list of value,label pairs</div>\n      )\n    }\n\n    return (\n      <Fragment>\n        {options.map((option) => (\n          <div key={option.value}>\n            <label className={styles.radioContainerHor}>\n              <input\n                type=\"radio\"\n                name={this.props.label}\n                checked={value === option.value}\n                value={option.value}\n                onChange={this.onChange}\n                alt={option.label}\n              />\n              <span\n                style={{\n                  verticalAlign: 'middle',\n                  paddingRight: '15px',\n                  paddingLeft: '12px',\n                }}\n              >\n                {option.label}\n              </span>\n            </label>\n          </div>\n        ))}\n      </Fragment>\n    )\n  }\n  renderOptionsVertical() {\n    let value = this.props.pubsub[this.props.publishVariable]\n    let options = this.restructureOptions()\n\n    if (!options) {\n      return (\n        <div>Options should be a comma separated list of value,label pairs</div>\n      )\n    }\n\n    return (\n      <div>\n        {options.map((option) => (\n          <div key={option.value}>\n            <label className={styles.radioContainerVer}>\n              <input\n                type=\"radio\"\n                name={this.props.label}\n                checked={value === option.value}\n                value={option.value}\n                onChange={this.onChange}\n                alt={option.label}\n              />\n              <span style={{ verticalAlign: 'middle', paddingLeft: '12px' }}>\n                {option.label}\n              </span>\n            </label>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  render() {\n    let horizontal = this.props.horizontal\n    return (\n      <div className={styles.main}>\n        <div className={styles.label}>{this.props.label} </div>\n\n        {horizontal\n          ? this.renderOptionsHorizontal()\n          : this.renderOptionsVertical()}\n      </div>\n    )\n  }\n}\n\nexport default RadioBox\n","import PublishUtils from \"../../../helpers/PublishUtils\"\nimport { ConfigurablePropsFromDescription } from \"../../../helpers/widget\"\nimport { v4 as uuidv4 } from \"uuid\"\n\nconst defaultQuery = `SELECT\n  ?title\n  (?note as ?title_URI)\n  (\"\" as ?comments)\n  (\"fa-comments\" as ?comments_ICON)\n  (?note as ?comments_URI)\n  ?author\n  ?author_ICON\n  (\"16px\" as ?author_ICONSIZE)\n  ?author_ICONCOLOR\n  ?sourceLink\n  ?sourceLink_ICON\n  ?sourceLink_URL\nWHERE {\n  BIND(IF(BOUND(?sourceLink_URL), \"radix-external-link\", \"\") AS ?sourceLink_ICON)\n  VALUES (?note ?title ?author ?author_ICON ?author_ICONCOLOR ?sourceLink ?sourceLink_URL) {\n    (<https://example.com/notes/1> \"My first babby note\" \"Baby\" \"fa-baby\" \"magenta\" undef undef)\n    (<https://example.com/notes/2> \"Server is down\" \"BimBamBoom\" \"fa-user-group\" \"#060270\" \"app.wistor.nl\" \"https://app.wistor.nl\")\n    (<https://example.com/notes/3> \"Tips on keeping data secure\" \"Hackermann 😎\" \"fa-user\" \"#388B17\" \"google.com\" \"https://google.com\")\n  }\n}\n`\ntype PublishVariableAction = {\n  type: \"publish\"\n  topic: string\n  value: string\n}\n\ntype StartRuleAction = {\n  type: \"start-rule\"\n  startRule: string\n  parameters: Record<string, string> | null | undefined\n  timestampVariable?: string\n}\n\nexport type Action = PublishVariableAction | StartRuleAction\n\ntype ColumnButton = {\n  icon?: string\n  label?: string\n  actions?: Array<Action>\n  buttons?: ColumnButton[]\n}\n\nexport type ColumnDescription = {\n  id: string\n  label: string\n  filterable?: boolean\n  sortable?: boolean\n  hidden?: boolean\n  publishTopic?: string\n  buttons?: ColumnButton[]\n  width?: string\n}\n\nexport type ColumnConfig = ColumnDescription[]\n\nexport const configOptions = [\n  {\n    name: 'query',\n    type: 'yasgui',\n    description:\"extra documentation\",\n    defaultQuery,\n    label: [\n      'Query-variable-names structured as \"?{identifier}_{modifier}\" modify',\n      'the display query-variable-results of \"?{identifier}\",',\n      'see help for more info',\n    ].join(' '),\n    helpComponent: QueryHelp\n  },\n  {\n    name: 'columnConfig',\n    type: 'tablepp-columns-json',\n    label: 'Column Config\\nℹ️Note: The displayed order of columns is determined by the order of the tabs, not the order of the result variables in the SPARQL query. You can drag-and-drop tabs to change their order.',\n    helpComponent: ConfigJsonHelp\n  },\n  {\n    name: 'publishVariable',\n    type: 'text',\n    label: 'Topic (variable) in which item URI is published when a link in the table is clicked. Can be overridden by the column-configuration\\'s \"publishTopic\".',\n    description: \"more information about the publish variable\"\n  },\n  {\n    name: 'hideColumnHeaders',\n    type: 'boolean',\n    label: 'hide column headers',\n  },\n  {\n    name: 'showFilters',\n    type: 'boolean',\n    label: 'enable global filter',\n  },\n  {\n    name: 'idToFilterTextOf',\n    type: 'text',\n    label: 'Limit global filtering to specific identifier(s), separate with comma. Leave empty to filter all fields.',\n  },\n  {\n    name: 'paginationEnabled',\n    type: 'boolean',\n    label: 'enable pagination',\n  },\n  {\n    name: 'paginationPageSize',\n    type: 'number',\n    label: 'maximum number of rows to show per page',\n  },\n  {\n    name: 'selectionMode',\n    type: 'select',\n    options: [\n      { value: \"DISABLED\", label: \"Disabled\"},\n      { value: \"SINGLE\", label: \"Single row (highlight)\"},\n      { value: \"MULTIPLE\", label: \"Multiple rows (checkboxes)\"},\n    ],\n    label: 'row selection mode',\n  },\n  {\n    name: 'variableToPublishOnSelection',\n    type: 'text',\n    label: 'Variable name from the SPARQL query representing the value for selection. Will be used for the selection publish and subscription settings below.'\n  },\n  {\n    name: 'selectedRowSubscription',\n    type: 'text',\n    label: 'Variabele to listen to for row selection.',\n  },\n  {\n    name: 'lastSelectedRowTopic',\n    type: 'text',\n    label: 'Topic to publish last selected row to.'\n  },\n  {\n    name: 'selectedRowsTopic',\n    type: 'text',\n    label: 'Topic to publish selected rows to.'\n  },\n  PublishUtils.getMultipleValueFormatOptions(),\n  {\n    name: 'enableMockActions',\n    type: 'boolean',\n    label: 'enableMockActions',\n  }\n] as const\n\nfunction QueryHelp() {\n  return (\n    <div>\n      <p className=\"mb-3\">\n        The results of this query are displayed in the table in the same order\n        as they are returned from the triplestore.\n      </p>\n      <p className=\"mb-3\">\n        It is possible to modify a cell by selecting sparql-variables with the\n        following name-shape <code>{'?{identifier}_{modifier}'}</code>.\n        Rows have an empty identifier, e.g. <code>{'?_{modifier}'}</code>.\n      </p>\n      <p>\n         The following <code>{'modifier'}</code>s have been implemented:\n      </p>\n      <ul className=\"list-disc pl-4\">\n        <li>\n          <code>URI</code>: makes the cell clickable. On click it publishes this value to the global \"publish topic\",\n          or the column-configuration-specific `publishTopic` (the latter overrides the former).{\" \"}\n          <em>If this modifier is used, then <code>URL</code> should not be used</em> as you cannot have both behaviours.{\" \"}\n          An error-notification is clearly visible on your screen if both modifiers are active.\n        </li>\n        <li>\n          <code>URL</code>: makes the cell clickable. On click it opens a new browser-tab/window with this value as its URL.{\" \"}\n          <em>If this modifier is used, then <code>URL</code> should not be used</em> as you cannot have both behaviours.{\" \"}\n          An error-notification is clearly visible on your screen if both modifiers are active.\n        </li>\n        <li>\n          <code>ICON</code>: name of the icon, this can be an icon from{\" \"}\n          <a href=\"https://fontawesome.com/search?o=r&m=free\" target=\"_blank\" rel=\"noreferrer\"\n             className=\"text-indigo-400 hover:text-decoration-underline\">fontawesome</a>, {\" \"}\n          <a href=\"https://www.radix-ui.com/icons\" target=\"_blank\" rel=\"noreferrer\"\n             className=\"text-indigo-400 hover:text-decoration-underline\">Radix Icons</a>, or{\" \"}\n          <a href=\"https://mui.com/material-ui/material-icons/\" target=\"_blank\" rel=\"noreferrer\"\n             className=\"text-indigo-400 hover:text-decoration-underline\">MUI Icons</a>\n          <br />\n          Examples: <code>fa-user</code>, <code>fa-minus-circle</code>, <code>radix-layers</code>, <code>radix-dots-horizontal</code>, <code>mui-add</code>.\n        </li>\n        <li>\n          <code>ICONCOLOR</code>: css color of the icon. Examples: <code>blue</code>, <code>rgba(128, 128, 0, 0.5)</code>, <code>#ffee33</code>\n        </li>\n        <li>\n          <code>ICONSIZE</code>: css size of the icon. Examples: <code>15px</code>, <code>16pt</code>, <code>2rem</code>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport type TablePlusPlusConfigOptions = ConfigurablePropsFromDescription<typeof configOptions>\n\nfunction ConfigJsonHelp() {\n  const example: ColumnDescription = {\n    \"id\": uuidv4(),\n    \"label\": \"Actions\",\n    \"width\": \"150px\",\n    \"buttons\": [\n      {\n        \"icon\": \"fa-star\",\n        \"actions\": [\n          {\n            \"type\": \"start-rule\",\n            \"startRule\": \"favourite rule\",\n            \"parameters\": {\n              \"someParameter\": \"{{someValue}}\"\n            },\n            \"timestampVariable\": \"myTimestamp\"\n          }\n        ]\n      },\n      {\n        \"buttons\": [\n          {\n            \"label\": \"Open user details\",\n            \"icon\": \"fa-user\",\n            \"actions\": [\n              {\n                \"type\": \"publish\",\n                \"topic\": \"userForPopup\",\n                \"value\": \"{{user}}\"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n\n  return (\n    <div>\n      <h3 className=\"font-bold font-lg\">SPARQL columns</h3>\n      <p className=\"mb-3\">\n        The visible columns and the order of columns are explicitly decided by the SPARQL column tabs.\n        Use the 'Auto fill' button to automatically populate them based on variables in\n        your <code>SELECT</code> statement.\n      </p>\n      <p className=\"mb-3\">\n        If you see a column with the '🔗' symbol, it means it is linked to a valid SPARQL variable. <br />\n        Columns with the '⛓️‍💥' symbol are not linked to a valid SPARQL variable.\n      </p>\n      <h3 className=\"font-bold font-lg\">Action columns</h3>\n      <p className=\"mb-3\">\n        You can also create additional columns which are not linked to a specific SPARQL variable,\n        but can be used to trigger an action.\n\n        <ul className=\"list-disc list-inside\">\n          <li>Currently two action types are supported in buttons: <code>\"publish\"</code> and <code>\"start-rule\"</code></li>\n          <li>You can use query result variables in <code>{'{{placeholders}}'}</code>, from any row's SPARQL column variable or global pubsub variables</li>\n          <li>Create a button without an icon and with button-children to display a \"...\"-dropdown menu</li>\n        </ul>\n      </p>\n      <p className=\"mb-3\">\n        An advanced example for an action column:<br />\n        <pre style={{ color: '#e83e8c' }}>{JSON.stringify(example, null, 4)}</pre>\n      </p>\n    </div>\n  )\n}","import * as React from 'react'\nimport {configOptions} from './config-options'\n\n\nexport const TablePlusPlusDescription = {\n  name: 'Table++',\n  component: React.lazy(() => import('./TablePlusPlus' )),\n  label: 'Table++',\n  variables: configOptions,\n}\n","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\nimport {mergeClasses} from \"../../helpers/styling\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={mergeClasses(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={mergeClasses(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsTriggerAlt = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={mergeClasses(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-t-md bg-muted px-2 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground border-x border-t border-solid border-slate-200 data-[state=active]:border-[#b8c0cb] hover:bg-slate-50\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTriggerAlt.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={mergeClasses(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsTriggerAlt, TabsContent }\n","import { lazy } from 'react';\nimport WidgetCategory from '../../WidgetCategory';\nimport PublishUtils from '../../../helpers/PublishUtils';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../../ui-primitives/tabs'\nimport { JsonTextEditor } from '../../JsonEditor'\n\nexport default class IFCJSViewerV3Descriptor {\n\n  static getDescription() {\n    return {\n      name: 'IFCJSViewerV3',\n      component:  lazy(() =>  import('./IFCJSViewerV3')), \n      label: WidgetCategory.experimental+' IFC Viewer V3 (BIM-Legal development) ',\n      category:WidgetCategory.experimental,\n      variables: [\n\n        {\n          name: 'modus',\n          type: 'select',\n          label: 'modus',\n          options: [\n            {\n              label: 'Viewer',\n              value: 'Viewer',\n            },\n            {\n              label: 'Upload only',\n              value: 'Upload',\n            },\n            {\n              label: 'Viewer with Upload',\n              value: 'ViewerWithUpload',\n            },\n            {\n              label: 'Download BIM-Legal file',\n              value: 'BIMLegalDownload',\n            },\n          ],\n        },\n        {\n          name: 'uploadFileMode',\n          type: 'select',\n          label: 'upload File Mode',\n          options: [\n            {\n              label: 'single Ifc',\n              value: 'singleIfc',\n            },\n            {\n              label: 'multiple Ifc  (not yet implemented)',\n              value: 'multipleIfc',\n            },\n          ],\n        },\n        {\n          name: 'uploadButtonLabel',\n          type: 'text',\n          label: 'Text for the upload button',\n        },\n        {\n          name: 'uploadPanelLabel',\n          type: 'text',\n          label: 'Text for the upload panel',\n        },\n        {\n          name: 'uploadBelongsTo',\n          type: 'text',\n          label: 'uri for belongsTo parameter',\n          helpComponent: function (){return (<p> the uploadany file uri of the uploaded ifc file and its derivations (like frag and LD) will be connected via the wistor#belongsTo Parameter to this parameter value </p>)} \n        },\n        {\n          name: 'uploadconversionjson',\n          type: 'json',\n          label: 'conversion to LD options in JSON',\n          helpComponent: UploadConversionJsonHelp\n        },\n        {\n          name: 'bimlegalfrag',\n          type: 'boolean',\n          label: 'create a IFCSpace frag file only',\n          \n        },\n\n        \n        {\n          name: 'AfterUploadIFCUriSelection',\n          type: 'text',\n          label: 'parameter that will be filled with the IFCupload uri',\n          helpComponent: function () {return (<p> After a succesful upload the uploadany file uri will be set to this parameter. This can be handy to automaticially select the uploaded file </p>)}\n        },\n        PublishUtils.getTimestampParametersDef(),\n        PublishUtils.getRunRuleParametersDef(),\n             \n\n        {\n          name: 'files prefix',\n          type: 'text',\n          label: 'prefix for all ifc files (e.g. http://wistor.nl/servlets/cgi/download/repo/) ',\n        },\n\n        \n\n        {\n          name: 'ifcfiles',\n          type: 'array',\n          label: 'comma separated url(s) to IFC files to display. parameters can be used here referring to (wistor) download locations using the wistor download servlet',\n        },\n       \n        {\n          name: 'Visualisation mode',\n          type: 'select',\n          label: '2d of 3d modus',\n          options: [\n            {\n              label: '3D',\n              value: '3D',\n            },\n            {\n              label: '2D',\n              value: '2D',\n            }\n          ]},\n        {\n          name: 'objectVisualisationMode',\n          type: 'select',\n          label: 'options to visualise IFC data icw Sparql results',\n          options: [\n            {\n              label: 'normal (no sparql necessary)',\n              value: 'normal',\n            },\n            {\n              label: 'show only sparql results ',\n              value: 'sparqlonly',\n            },\n            {\n              label: 'show all transparent (sparql results in color) ',\n              value: 'transparent',\n            }\n          ]},\n        {\n          name: 'query',\n          type: 'yasgui',\n          label: 'use parameter ?guid (necessary to link?) ?uri (handy for publishing) ?hidden (false/true) ?alpha ?color (create a color based upon this value) ?colorHex ?label (popup label)  ',\n          defaultQuery:\"\"\n        },\n        {\n          name: 'predefinedColors',\n          type: 'json',\n          label: 'JSON-object linking ?color labels to actual CSS-style colors. Example: { \"Walls\": \"#3366ff\", \"Floors\": \"red\" }',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'sparql parameter name for publishing select event result. Arguably we need GUIDS to link data to the viewer. Perhaps GUID based interaction (publish guids instead of URIs is handier)',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label: 'Published variabele on which to listen for selection.',\n        },\n        {\n          name: 'zoomOnSelectionChange',\n          type: 'boolean',\n          label: 'Automatically zoom in to selection when selection has changed.',\n        },\n        {\n          name: 'resetSelectionOnSparqlUpdate',\n          type: 'boolean',\n          label: 'Reset selection on SPARQL update.',\n        },\n        {\n          name: 'multipleselect',\n          type: 'boolean',\n          label: 'allow multiple selections. parameters are filled as comma separated values',\n        },\n       \n        PublishUtils.getMultipleValueFormatOptions(),\n        {\n          name: 'bimlegaleditorversion',\n          type: 'boolean',\n          label: 'allow other scripts to interact with special functions for bim-legal',\n        },\n        \n        /*,\n    {\n      name: 'clearParameter',\n      type: 'text',\n      label: 'clears widget when parameter changes'\n    }*/\n      ],\n    }\n  }\n}\n\nconst UPLOADCONVERSIONJSON_DEFAULT = {\n  \"categoriesToInclude\": [\n    \"IFCELEMENT\", \"IFCSITE\", \"IFCPROJECT\", \"IFCBUILDING\", \"IFCBUILDINGSTOREY\", \"IFCGROUP\", \"IFCZONE\"\n  ],\n  \"relationsToInclude\": [\n    \"IsDefinedBy\",\n    \"ContainedInStructure\",\n    \"ContainsElements\",\n    \"Decomposes\",\n    \"IsDecomposedBy\",\n    \"IsGroupedBy\",\n    \"HasAssignments\",\n  ],\n  \"includeElementsWithoutRelations\": true,\n  \"psetNameRegex\": null\n}\n\nconst UPLOADCONVERSIONJSON_EVERYTHING = {\n  \"categoriesToInclude\": [\n    \"IFCELEMENT\", \"IFCSITE\", \"IFCPROJECT\", \"IFCBUILDING\", \"IFCBUILDINGSTOREY\", \"IFCGROUP\"\n  ],\n  \"relationsToInclude\": [\n    \"IsDecomposedBy\",\n    \"Decomposes\",\n    \"AssociatedTo\",\n    \"HasAssociations\",\n    \"ClassificationForObjects\",\n    \"IsGroupedBy\",\n    \"HasAssignments\",\n    \"IsDefinedBy\",\n    \"DefinesOcurrence\",\n    \"IsTypedBy\",\n    \"Types\",\n    \"Defines\",\n    \"ContainedInStructure\",\n    \"ContainsElements\",\n    \"HasControlElements\",\n    \"AssignedToFlowElement\",\n    \"ConnectedTo\",\n    \"ConnectedFrom\",\n    \"ReferencedBy\",\n    \"Declares\",\n    \"HasContext\",\n    \"Controls\",\n    \"IsNestedBy\",\n    \"Nests\"\n  ],\n  \"includeElementsWithoutRelations\": true,\n  \"psetNameRegex\": null\n}\n\nconst UPLOADCONVERSIONJSON_PSETS = {\n  \"categoriesToInclude\": [\n    \"IFCELEMENT\"\n  ],\n  \"relationsToInclude\": [\n    \"IsDefinedBy\",\n  ],\n  \"includeElementsWithoutRelations\": false,\n  \"psetNameRegex\": null\n}\n\nconst UPLOADCONVERSIONJSON_BIMLEGAL = {\n  \"categoriesToInclude\": [\n    \"IFCSPACE\", \"IFCSITE\", \"IFCPROJECT\", \"IFCBUILDING\", \"IFCBUILDINGSTOREY\"\n  ],\n  \"relationsToInclude\": [\n    \"IsDefinedBy\",\n    \"ContainsElements\",\n    \"ContainedInStructure\"\n  ],\n  \"includeElementsWithoutRelations\": true,\n  \"psetNameRegex\": null\n}\n\nfunction UploadConversionJsonHelp() {\n  return (\n    <div>\n      <h3 className=\"mb-2 font-bold\">Configuration properties</h3>\n      <ul className=\"mb-3\">\n        <li>\n          <code>categoriesToInclude</code>: list of IFC object categories to include in export,\n          like <code></code>. IFCELEMENT is a shortcut for all categories that have{' '}\n          <a\n            href=\"https://standards.buildingsmart.org/IFC/RELEASE/IFC4_1/FINAL/HTML/schema/ifcproductextension/lexical/ifcelement.htm\"\n            rel=\"noopener noreferrer\" target=\"_blank\" style={{ textDecoration: 'underline' }}>IfcElement</a> as\n          superclass.\n          Should be in UPPERCASE. If this is not set or null, all non-orphaned elements are included.\n        </li>\n        <li>\n          <code>relationsToInclude</code>: defines relations to include (according the relation name in IFC).{' '}\n          Is case sensitive. Use IsDefinedBy for property set relations.{' '}\n          If this is not set or null, all supported relations are included.\n        </li>\n        <li>\n          <code>includeElementsWithoutRelations</code>: boolean whether to include elements where zero relations where found according to\n          the relationsToInclude & psetNameRegex settings.\n        </li>\n        <li>\n          <code>psetNameRegex</code>: regex to only export property sets relations with a specific name. If this is not set, null,\n          or empty, all property sets are included.\n        </li>\n      </ul>\n\n      <h3 className=\"mb-2 font-bold\">Example configurations</h3>\n      <Tabs defaultValue=\"default\">\n        <TabsList>\n          <TabsTrigger value=\"default\">Default</TabsTrigger>\n          <TabsTrigger value=\"everything\">Everything</TabsTrigger>\n          <TabsTrigger value=\"elements-psets\">IfcElements with psets</TabsTrigger>\n          <TabsTrigger value=\"bimlegal\">BIMLegal</TabsTrigger>\n        </TabsList>\n        <TabsContent value=\"default\">\n          <JsonTextEditor value={JSON.stringify(UPLOADCONVERSIONJSON_DEFAULT, null, 4)} readonly />\n        </TabsContent>\n        <TabsContent value=\"everything\">\n          <JsonTextEditor value={JSON.stringify(UPLOADCONVERSIONJSON_EVERYTHING, null, 4)} readonly />\n        </TabsContent>\n        <TabsContent value=\"elements-psets\">\n          <JsonTextEditor value={JSON.stringify(UPLOADCONVERSIONJSON_PSETS, null, 4)} readonly />\n        </TabsContent>\n        <TabsContent value=\"bimlegal\">\n          <JsonTextEditor value={JSON.stringify(UPLOADCONVERSIONJSON_BIMLEGAL, null, 4)} readonly />\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}","import './bbutil'\nimport BBIFrame from './BBIFrame'\n\nclass BBIfcViewerNextGen extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/ifc-viewer/index.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'yes'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBIfcViewerNextGen',\n      component: BBIfcViewerNextGen,\n      label: 'BB IFC Viewer next gen',\n      variables: [\n\n      ],\n    }\n  }\n}\n\nexport default BBIfcViewerNextGen\n","\nimport { lazy } from 'react';\n\nexport default class BBTableDescriptor{\n\n  static getDescription() {\n    return {\n      name: 'BBTable',\n      component: lazy(() =>  import('./BBTable')),\n      label: 'BB Table widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'to fill the table use any parameter. Optionally use Check parameter extension for boolean values. Optionally use the Fix extension (?parameternameFix) to restrict the amount of numbers after the decimal for each parameter. Optionally use ?background for background coloring ',\n        },\n        {\n          name: 'renderEmpty',\n          type: 'boolean',\n          label: 'render an empty table',\n        },\n        {\n          name: 'colSizes',\n          type: 'array',\n          label: 'optional array of col sizes. 100px,50%,350px. Needs a widgetrefresh when changed',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label: 'Published uri variabele for other widgets.',\n        },\n\n        {\n          name: 'replaceHeaderJSON',\n          type: 'text',\n          label: 'Key value JSON that replaces parameter headers. {\"label\":\"naam (volledig)\"}',\n        },\n        {\n          name: 'searchbar',\n          type: 'boolean',\n          label: 'show searchbar (widget refresh necessary)',\n        },\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n        {\n          name: 'uselocalnumberformat',\n          type: 'boolean',\n          label: 'use local number format',\n        },\n        {\n          name: 'downloadbutton',\n          type: 'boolean',\n          label: 'add toolbar with download button (widget refresh necessary)',\n        },\n        {\n          name: 'downloadURL',\n          type: 'text',\n          label: 'base exceltemplate. This will be used to insert the data in the first sheet',\n        },\n        {\n          name: 'downloadStartRow',\n          type: 'text',\n          label: 'start row to insert the data into the excelsheet',\n        },\n        {\n          name: 'downloadNoHeader',\n          type: 'boolean',\n          label: 'do not export sparql parameter names as columnames',\n        },\n        {\n          name: 'wraptext',\n          type: 'boolean',\n          label: 'wrap text in the table',\n        },\n        {\n          name: 'excelheadertext',\n          type: 'text',\n          label: 'headertext for row 1 when downloading this table in excel',\n        },\n\n        {\n          name: 'summaryFields',\n          type: 'text',\n          label: 'add summary below using the following csv sparql parameters (costs, profit)',\n        },\n        {\n          name: 'filename',\n          type: 'text',\n          label: 'xlsx filename',\n        },\n      ],\n    }\n  }\n}\n\n","\r\nimport { lazy } from 'react';\r\n\r\n\r\nexport default class BBSVGEditorDescriptor {\r\n\r\n\r\n\r\nstatic getDescription() {\r\n    return {\r\n      name: 'BB SVGEditor',\r\n      component: lazy(() =>  import('./BBSVGEditor')),\r\n      label: 'BB SVGEditor',\r\n      variables: [\r\n        {\r\n          name: 'query',\r\n          type: 'yasgui',\r\n          label:\r\n            'Query to fill the svg. use ?uri and ?svg',\r\n        },\r\n       \r\n      ],\r\n    }\r\n  }\r\n\r\n}","\n//import BBPropertyPanel from './bb/BBPropertyPanel'\nimport BBPropertyPanel from './bb/BBPropertyPanelDescriptor'\nimport BBCheckboxTree from './bb/BBCheckboxTreeDescriptor'\n\nimport Table from './TableDescriptor'\nimport Table2 from './Table2'\nimport TableCells from './TableCells'\nimport Tree from './TreeDescriptor'\nimport TreeD3 from './TreeD3Descriptor';\n\n\nimport SelectBox from './SelectBox'\nimport Slider from './Slider'\nimport SearchAutocomplete from './SearchAutocomplete'\nimport Tab from './Tab'\nimport SplitLayout from './SplitLayout'\nimport SplitLayoutTest from './SplitLayoutTestDescriptor'\nimport Yasgui from './Yasgui'\nimport BBMapExperimental from './bb/BBMap'\nimport BBMap from './bb/BBMapExperimental'\nimport BBMultiMap from './bb/BBMultiMap'\n\nimport BBTreeTable from './bb/BBTreeTable'\nimport BBYasgui from './bb/BBYasgui'\nimport BBYasguiLatest from './bb/BBYasguiLatest'\nimport BBYasr from './bb/BBYasr'\nimport BBYasguiNotebook from './bb/BBYasguiNotebook'\nimport BBNotebook from './bb/BBNotebook'\nimport BBKGApiVizWidget from './bb/BBKGApiVizWidget'\nimport BBVoyager from './bb/BBVoyager'\nimport BBAccordion from './bb/BBAccordionDescriptor'\nimport BBPicture from './bb/BBPicture'\nimport BBHTML from './bb/BBHTML'\nimport BBDForm from './bb/editor/BBDFormDescriptor'\n//import BBForm from './bb/editor/BBForm';\n//import BBGrid from './bb/editor/BBGrid';\nimport BBSideMenu from './bb/BBSideMenuDescriptor'\nimport BBEChart from './bb/BBEChartDescriptor'\nimport BBBoorkern from './bb/BBBoorkern'\nimport StartRuleButton from './bb/rules/StartRuleButtonDescriptor'\n\nimport BBVis from './bb/BBVis'\nimport BBLinkButtons from './bb/BBLinkButtons'\nimport BBIFCViewer from './bb/BBIFCViewer'\nimport BBStructuredText from './bb/BBStructuredTextDescriptor'\n\n//import BBLayout from './bb/BBLayout';\nimport BBKVKProductTemplate from './bb/kvk/BBKVKProductTemplateDescriptor'\nimport BBKVKFlexibleTextWidget from './bb/kvk/BBKVKFlexibleTextWidget'\nimport BBBackMenu from './bb/BBBackMenu'\nimport BBSimplePushButton from './bb/BBSimplePushButtonDescriptor'\nimport BBVenn from './bb/BBVenn'\nimport BBForm from './bb/BBForm'\nimport BBUpload from './bb/BBUploadDescriptor'\nimport BBNOML from './bb/BBNOML'\nimport ButtonPopup from './bb/rotterdam/ButtonPopupDescriptor'\nimport BBRDFViewer from './bb/BBRDFViewer'\nimport BBCesium from './bb/BBCesium'\n//import BBRDFViewerOnline from './bb/BBRDFViewerOnline'\n//import BBMultiSelect from './bb/BBMultiSelect'\nimport BBSVG from './bb/BBSVG'\n//import BBThreeJS from './bb/BBThreeJS'\nimport BBDWegselectorDescriptor from './bb/venr/BBWegselectorDescriptor';\nimport BBParameterLinkEmptyWidget from './bb/BBParameterLinkEmptyWidget'\nimport { SequencePaths } from './SequencePaths'\nimport BBIFCJSViewer from './bb/BBIFCJSViewerDescriptor'\nimport BBThreeJSViewer from './bb/ifc/BBThreeJSViewerDescriptor'\nimport BBSparnatural from './bb/BBSparnaturalDescriptor'\n//import LDWizardDescriptor from './bb/ldwizard/LDWizardDescriptor'\nimport NebulaDescriptor from './bb/deck/NebulaDescriptor'\nimport { textInputWidgetDescription } from './TextInput'\nimport { dynamicFilterWidgetDescription } from \"./DynamicFilter\"\nimport { excelWidgetDescription } from './ExcelWidgetDescriptor'\nimport { toggleWidgetDescription } from './ToggleWidget'\nimport { jobStatusWidgetDescription } from './jobStatusWidgetDescription'\n\nimport BBLibremapDescriptor from './bb/BBLibremapDescriptor'\nimport BBMermaidDescriptor from './bb/BBMermaidDescriptor'\n// basic\nimport ListDescriptor from './ListDescriptor'\nimport RadioBoxDescriptor from './RadioBox'\nimport { TablePlusPlusDescription } from './TablePlusPlus/tablePlusPlusWidgetDescription'\n// import Search from './Search';\nimport IFCJSViewerV3Descriptor from './ifcjs/IFCJSViewerV3Descriptor'\nimport BBIfcViewerNextGen from \"./bb/BBIfcViewerNextGen\"\nimport BBTableDescriptor from './bb/BBTableDescriptor'\nimport BBSVGEditorDescriptor from \"./bb/BBSVGEditorDescriptor\"\n\nlet widgetDefinitions = [\n  //layout\n\n  BBSideMenu.getDescription(),\n  SplitLayout.getDescription(),\n  SplitLayoutTest.getDescription(),\n  Tab.getDescription(),\n  BBAccordion.getDescription(),\n//basic\n\n\n  BBEChart.getDescription(),\n  BBVis.getDescription(),\n  \n  ListDescriptor.getDescription(),\n\n  Slider.getDescription(),\n  SelectBox.getDescription(),\n  //BBMultiSelect.getDescription(),\n  RadioBoxDescriptor.getDescription(),\n  SearchAutocomplete.getDescription(),\n  Tree.getDescription(),\n  SequencePaths.getDescription(),\n  BBCheckboxTree.getDescription(),\n  \n  //BBPropertyPanel.getDescription(),\n  BBSVGEditorDescriptor.getDescription(),\n  BBPropertyPanel.getDescription(),\n  TreeD3.getDescription(),\n  Table.getDescription(),\n  Table2.getDescription(),\n  TableCells.getDescription(),\n  textInputWidgetDescription,\n  {\n    name: 'Yasgui',\n    component: Yasgui,\n    label: 'Yasgui widget',\n  },\n  TablePlusPlusDescription,\n  BBTableDescriptor.getDescription(),\n  BBTreeTable.getDescription(),\n  BBPicture.getDescription(),\n  BBHTML.getDescription(),\n  BBBackMenu.getDescription(),\n  BBSimplePushButton.getDescription(),\n  dynamicFilterWidgetDescription,\n  // 2d\n\n\n\n  \n \n  BBMap.getDescription(),\n  BBMapExperimental.getDescription(),\n  BBLibremapDescriptor.getDescription(),\n  BBMultiMap.getDescription(),\n\n  //3d\n  BBCesium.getDescription(),\n  BBIFCViewer.getDescription(),\n  BBIFCJSViewer.getDescription(),\n  BBThreeJSViewer.getDescription(),\n\n\n  //edit\n  BBYasgui.getDescription(),\n  BBYasguiLatest.getDescription(),\n  {\n    name: 'BBYasguiNotebook',\n    component: BBYasguiNotebook,\n    label: 'BB YasGUINotebook',\n    variables: [],\n  },\n  {\n    name: 'BBNotebook',\n    component: BBNotebook,\n    label: 'BB Notebook',\n    variables: [],\n  },\n  BBYasr.getDescription(),\n  {\n    name: 'BBKGApiVizWidget',\n    component: BBKGApiVizWidget,\n    label: 'BBKGApiVizWidget',\n    variables: [\n      {\n        name: 'query',\n        type: 'yasgui',\n        label: 'just to start. ',\n      },\n    ],\n  },\n  BBDForm.getDescription(),\n\n\n\n  // graphics\n  BBNOML.getDescription(),\n  BBVoyager.getDescription(),\n  BBMermaidDescriptor.getDescription(),\n  BBBoorkern.getDescription(),\n  \n//utils\n\n \n\n//other\n  BBKVKProductTemplate.getDescription(),\n  BBKVKFlexibleTextWidget.getDescription(),\n  BBLinkButtons.getDescription(),\n  \n\n\n  BBStructuredText.getDescription(),\n  BBVenn.getDescription(),\n  BBSVG.getDescription(),\n  BBForm.getDescription(),\n  BBUpload.getDescription(),\n  ButtonPopup.getDescription(),\n  BBRDFViewer.getDescription(),\n  //BBRDFViewerOnline.getDescription(),\n//  BBThreeJS.getDescription(),\n //LDWizardDescriptor.getDescription(),\n  BBDWegselectorDescriptor.getDescription(),\n  BBParameterLinkEmptyWidget.getDescription(),\n\n  StartRuleButton.getDescription(),\n  NebulaDescriptor.getDescription(),\n  BBSparnatural.getDescription(),\n  \n  excelWidgetDescription,\n  toggleWidgetDescription,\n  jobStatusWidgetDescription,\n  IFCJSViewerV3Descriptor.getDescription(),\n  BBIfcViewerNextGen.getDescription()\n \n]\n\nexport default widgetDefinitions\n","export default __webpack_public_path__ + \"static/media/cross.53a62fd9.svg\";","import { Suspense, ReactNode } from 'react'\nimport Spinner from './Spinner'\nimport css from './Loader.module.css'\n\ntype Props = {\n  active: boolean\n  children?: ReactNode | undefined\n}\n\nexport function Loader(props: Props) {\n  return (\n    <Suspense fallback={\n      <LoadingOverlay active={props.active}></LoadingOverlay>\n    }>\n      <LoadingOverlay active={props.active}>\n        {props.children}\n      </LoadingOverlay>\n    </Suspense>\n  )\n}\n\nfunction LoadingOverlay(props: Props) {\n  return (\n    <>\n      {props.active && (\n        <div className={css['overlay']}>\n          <Spinner loading={props.active} />\n        </div>\n      )}\n      {props.children}\n    </>\n  )\n}\n","import { Component, cloneElement } from 'react'\nimport axios from 'axios'\nimport isEqual from 'lodash/isEqual'\nimport debounce from 'lodash/debounce'\nimport { connect } from 'react-redux'\nimport { toast } from 'react-toastify'\nimport { Loader } from './Loader'\nimport { getCgiUrl } from '../helpers/url'\nimport { ErrorNeedAuth, SparqlTemplate } from \"../helpers/SparqlManager\"\nimport { NoPlaceholderValueError, resolveTemplateString } from '../helpers/resolve-template-string'\n\nconst SparqlClient = require('sparql-http-client/SimpleClient')\n\naxios.defaults.timeout = 250000; \n\nconst CancelToken = axios.CancelToken\n\nclass Widget extends Component {\n  constructor(props) {\n    super(props)\n    this.resolveTemplateVariableInQueryDebounce = debounce(\n      this.resolveTemplateVariableInQuery,\n      2000\n    )\n    this.useLoadingWidget = false\n    if (window.top.url == null) {\n      this.createSparqlFunction()\n    }\n\n    const endpoint = getCgiUrl('sparql', this.props.repoName, this.props.repoURL, this.props.localRepoURL)\n    this.sparql = new SparqlTemplate(endpoint, this.props.widgetId)\n  }\n\n  lastQuery = undefined\n  state = {\n    loading: false,\n  }\n\n  getUrl() {\n    try {\n      let url = '/api/sparql/' + this.props.repoURL\n      if (this.props.repoURL.startsWith('http')) {\n        // request sparql endpoint directly\n        url = this.props.repoURL\n      }\n      var modus = false\n      if (window.location.host === 'localhost:3000') {\n        modus = true\n      }\n      //  var modus=false; //debug\n\n      if (\n        this.props.localRepoURL != null &&\n        this.props.localRepoURL !== '' &&\n        modus\n      ) {\n        url = this.props.localRepoURL\n      }\n      window.top.url = url\n      try {       document.url=url } catch(e){}\n    //  console.log('returning url :' + url)\n      return url\n    } catch (e) {\n      console.log('error creating url' + e)\n    }\n    return null\n  }\n\n  createSparqlFunction2() {\n    // gebruikt door bb widgets in iframe situation\n    var url = this.getUrl()\n    window.top.query = async function (query, success, errorRV) {\n      // console.log(\"query via window top \",query,success,errorRV);\n\n      let encodedQuery = encodeURIComponent(query)\n      let data = {\n        query: query,\n      }\n      data = 'infer=false&sameAs=false&query=' + encodedQuery\n\n      axios.defaults.headers.post['Content-Type'] =\n        'application/x-www-form-urlencoded'\n      //axios.defaults.headers.post['Access-Control-Allow-Origin'] ='*';\n\n      //console.log(\"querying with \",query,headers);\n\n      \n    \n    if (document.withCredentials==null) {document.withCredentials=true}\n\n      axios.defaults.withCredentials = document.withCredentials;\n      if (document.withCredentials !=false)\n      {\n        axios.defaults.credentials = 'include'\n      }\n    \n      \n       if  ( !( (success==null)  && (errorRV==null)) ) \n       {\n          var r=axios({  method: 'post',     url,      data,      maxContentLength: Infinity,\n          maxBodyLength: Infinity,   headers:{       Accept: 'application/sparql-results+json'      },     cancelToken: new CancelToken((c) => {         this.cancel = c       }),       }); \n          \n            r.then((response) => {\n              if (success) {\n                success.call(this, response.data)\n              }\n            })\n            .catch((error) => {\n              //  console.log(error,query);\n              if (errorRV) {\n                errorRV.call(this, error)\n              }\n            })\n          }\n       \n      \n        else\n        {\n             console.log(\"run await version\");\n        //  var r= await axios({  method: 'post',     url,  data,       headers:{       Accept: 'application/sparql-results+json'      },     cancelToken: new CancelToken((c) => {         this.cancel = c       }),       }).catch(err => false);; \n        var r= await axios.post(url,data,{   maxContentLength: Infinity,\n          maxBodyLength: Infinity, headers:{       Accept: 'application/sparql-results+json'      },     cancelToken: new CancelToken((c) => {         this.cancel = c       }),       });; \n         \n         \n            return  r;\n        }\n      }\n  \n\n    this.sparqlQuery = window.top.query;\n    \n  }\n\n  createSparqlFunction() {\n    // gebruikt door bb widgets in iframe situation\n\n    if (true) {\n      this.createSparqlFunction2()\n      return\n    }\n    var endpointUrl = this.getUrl()\n    window.top.query = async function (query, success, errorRV) {\n      try {\n        const client = new SparqlClient({ endpointUrl,headers:{\n          Accept: 'application/sparql-results+json'\n        } })\n        \n        const stream = await client.query.select(query, {\n          operation: 'postUrlencoded',\n        })\n        var data = await stream.json()\n\n        if (success) {\n          success.call(this, data)\n        }\n      } catch (e) {\n        console.log(e)\n        if (errorRV != null) {\n          errorRV.call(this, 'error sparql endpoint')\n        }\n      }\n    }\n  }\n\n  runJSInQuery(query) {\n    try {\n      if (query == null) return null\n      let b = query.includes('<script>')\n      if (b) {\n      //  console.log('FOUND JS in query')\n\n        let codes = query.split('<script>')\n        let nquery = ''\n        for (let n in codes) {\n          if (n === '0') {\n            nquery = codes[n]\n            continue\n          }\n          let code = codes[n]\n\n          let codeQuery = code.split('</script>')\n          let evalcode = codeQuery[0]\n          //  console.log(code,n,evalcode);\n          let evalCode2 ='';\n          try\n          {\n            evalCode2 = new Function(evalcode)() //eslint-disable-line no-new-func\n          }\n          catch(e)\n          {\n               console.log(\"cannot execute js code \",evalcode,e)\n          }\n          \n          if (evalCode2 == null) {\n            evalCode2 = ''\n          }\n          let subQuery2 = codeQuery[1]\n          nquery += evalCode2 + subQuery2\n        }\n      //  console.log('returning ', nquery)\n        return nquery\n      }\n    } catch (error) {\n      console.error('error parsing js in query ', error, query)\n    }\n\n    return query\n  }\n\n  async loadData(originalQuery, countRetries = 0) {\n    if (countRetries > 1) return console.error('retried this already')\n\n    if (!this.props.repoURL) return console.error('Repo URL is not set!')\n    if (!originalQuery) return\n\n    const query = this.runJSInQuery(originalQuery)\n\n    if (countRetries === 0) {\n      this.setLoading(true)\n      this.setState({ message: null })\n    }\n\n    try {\n      const response = await this.sparql.fetch(query)\n      if (!response.isLatest()) return\n\n      this.setState({ data: response.result })\n      this.setLoading(false)\n    } catch(error) {\n      if (error instanceof axios.CanceledError) {\n        return\n      }\n\n      if (error instanceof ErrorNeedAuth) {\n        const auth = await this.props.reauth()\n        if (!auth.success) {\n          auth.goToLoginPage()\n          return\n        }\n        return this.loadData(originalQuery)\n      }\n\n      console.error(error)\n      return this.loadData(originalQuery, countRetries + 1)\n    }\n  }\n\n  /**\n   * @param changedPublishProps {string[]|null}\n   */\n  resolveTemplateVariableInQuery = (changedPublishProps) => {\n    if (this.props.withinSelectedTab === false) return // geen queries uitvoeren voor niet zichtbare tabs\n    if (!this.props.query) return\n\n    try {\n      const query = resolveTemplateString(this.props.query, this.props.pubsub, changedPublishProps)\n      if (query === this.lastQuery) return\n\n      this.lastQuery = query\n      this.loadData(query)\n    } catch(e) {\n      if (e instanceof NoPlaceholderValueError) return this.setState({ message: '' }) //message: `Kies een ${subscribeProp}`\n      console.error(e)\n    }\n  }\n\n  componentDidMount() {\n    let variables = this.props.definition.variables\n    let queryDefinition =\n      variables && variables.find((variable) => variable.name === 'query')\n    if (!queryDefinition) return\n    if (this.props.withinSelectedTab === false) return\n    this.resolveTemplateVariableInQuery()\n  }\n\n  componentDidUpdate(prevProps) {\n    let variables = this.props.definition.variables\n    let queryDefinition =\n      variables && variables.find((variable) => variable.name === 'query')\n    if (!queryDefinition) return\n\n    if (prevProps.repoURL !== this.props.repoURL) {\n      this.resolveTemplateVariableInQueryDebounce()\n    } else if (this.props.withinSelectedTab !== prevProps.withinSelectedTab) {\n      // if (this.props.withinSelectedTab && !this.state.data){\n      if (this.props.withinSelectedTab) {\n        this.resolveTemplateVariableInQuery()\n      }\n    } else if (prevProps.query !== this.props.query) {\n      this.resolveTemplateVariableInQuery()\n    } else if (!isEqual(prevProps.pubsub, this.props.pubsub)) {\n      let changedPublishProps = []\n\n      Object.keys(this.props.pubsub).forEach((key) => {\n        if (prevProps.pubsub[key] !== this.props.pubsub[key]) {\n          changedPublishProps.push(key)\n        }\n      })\n\n      this.resolveTemplateVariableInQuery(changedPublishProps)\n    }\n  }\n\n  publishMultipleValues=(prop_value)=>\n  this.props.dispatch({ type: 'PUBLISH', data: prop_value })\n\n  publish = (prop, value) =>\n    this.props.dispatch({ type: 'PUBLISH', data: { [prop]: value } })\n\n  /**\n   * @param loading {boolean}\n   */\n  setLoading = loading => {\n    this.setState({ loading })\n\n    if (this.props.voteForUserActionsDisabledWhenLoading) {\n      this.props.voteForUserActionsDisabled(loading)\n    }\n  }\n\n  /**\n   * @param loading {boolean}\n   */\n  setLoadingFromWidget = loading => {\n    /*\n     * This setTimeout was taken from existing code and its purpose is unclear.\n     * It may indicate a potential code problem or may not be needed at all.\n     * Further investigation is required to determine if it should be removed.\n     */\n    setTimeout(() => {\n      this.setLoading(loading)\n    }, 0);\n  }\n\n  sendNotification = (msg) => toast(msg)\n\n  render() {\n    if (this.state == null) return null\n\n    const { children, ...propsWithoutChildren } = this.props\n    return (\n      <Loader active={this.state.loading && this.props.showLoadingOverlay}>\n        {cloneElement(children, {\n          ...this.state,\n          ...propsWithoutChildren,\n          setLoading: this.setLoadingFromWidget,\n          publish: this.publish,\n          publishMultipleValues:this.publishMultipleValues,\n          sendNotification: this.sendNotification,\n          closeDialog2:this.props.closeDialog,\n        })}\n      </Loader>\n    )\n  }\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    layoutName: state.project.layoutName,\n    pubsub: state.pubsub\n  }\n}\n\nexport default connect(mapStateToProps)(Widget)","import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\nimport { mergeClasses } from \"../../helpers/styling\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={mergeClasses(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={mergeClasses(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\nimport { mergeClasses } from \"../../helpers/styling\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={mergeClasses(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={mergeClasses(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={mergeClasses(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={mergeClasses(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={mergeClasses(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={mergeClasses(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { MagnifyingGlassIcon } from \"@radix-ui/react-icons\"\nimport { Command as CommandPrimitive } from \"cmdk\"\n\nimport { Dialog, DialogContent } from \"./dialog\"\nimport { mergeClasses } from \"../../helpers/styling\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={mergeClasses(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <MagnifyingGlassIcon className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={mergeClasses(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={mergeClasses(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={mergeClasses(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={mergeClasses(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={mergeClasses(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={mergeClasses(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","import * as React from \"react\"\nimport { CaretSortIcon, CheckIcon } from \"@radix-ui/react-icons\"\n\nimport { Button } from \"./button\"\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"./command\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"./popover\"\nimport { mergeClasses } from \"../../helpers/styling\"\n\n/**\n * Inspired by https://ui.shadcn.com/docs/components/combobox\n */\nexport function InputWithSuggestions<T extends string,>(props: {\n  selected?: T, suggestions: T[], placeholder: string,\n  select: (value: string) => void, noSuggestionsPlaceholder: string,\n}) {\n  const [input, setInput] = React.useState(props.selected ?? '')\n  const [open, setOpen] = React.useState(false)\n\n  const suggestionsWithCurrentInput =\n    props.suggestions.some(suggestion => suggestion === input) || !input.length\n      ? props.suggestions\n      : [input, ...props.suggestions]\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className=\"w-full justify-between\"\n        >\n          {props.suggestions.find(suggestion => suggestion === props.selected)\n            ?? props.placeholder}\n          <CaretSortIcon className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-full p-0\" style={{zIndex: 9999, width: 'var(--radix-popper-anchor-width)'}}>\n        <Command>\n          <CommandInput className=\"h-9\" placeholder={props.placeholder}\n            value={input} onValueChange={setInput}\n          />\n          <CommandList>\n            <CommandEmpty>{props.noSuggestionsPlaceholder}</CommandEmpty>\n            <CommandGroup>{suggestionsWithCurrentInput.map((suggestion) => (\n              <CommandItem key={suggestion} value={suggestion} onSelect={(value) => {\n                props.select(value)\n                setOpen(false)}\n              }>\n                {suggestion}\n                <CheckIcon className={mergeClasses(\n                  \"ml-auto h-4 w-4\",\n                  props.selected === suggestion ? \"opacity-100\" : \"opacity-0\")} />\n              </CommandItem>))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n","export function parseSparqlParams(query: string): string[] {\r\n  let params: string[] = []\r\n  let inSelect = false\r\n  let inParentheses = 0\r\n  let lastAliasParam: string | null = null\r\n  let insideAlias = false\r\n\r\n  const tokens = query\r\n    .replace(/\\r?\\n/g,' ')\r\n    .match(/\\(|\\)|\\?[\\w]+|as|\\*|\\w+|[\"'][^\"']*[\"']|SELECT|WHERE|{|}/gi)\r\n\r\n  if (!tokens) return []\r\n\r\n  for (const token of tokens) {\r\n    if (token.toUpperCase() === 'SELECT') {\r\n      inSelect = true\r\n      continue\r\n    }\r\n\r\n    if (token.toUpperCase() === 'WHERE' || token === '{') {\r\n      break\r\n    }\r\n\r\n    if (inSelect) {\r\n      if (token === '*') {\r\n        return []\r\n      }\r\n      if (token === '(') {\r\n        inParentheses++\r\n        if (!insideAlias) {\r\n          insideAlias = true\r\n          lastAliasParam = null\r\n        }\r\n      } else if (token === ')') {\r\n        inParentheses--\r\n        if (inParentheses === 0) {\r\n          insideAlias = false\r\n          if (lastAliasParam) {\r\n            params.push(lastAliasParam)\r\n          }\r\n        }\r\n      } else if (token.startsWith('?')) {\r\n        const param = token.replace('?', '')\r\n        if (insideAlias) {\r\n          lastAliasParam = param\r\n        } else {\r\n          params.push(param)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return params\r\n}\r\n\r\n// Poor man's testing framework\r\nconst runTest = false\r\nif (runTest) {\r\n  const cases = [\r\n    {\r\n      query: `\r\n      SELECT (\"user\" as ?user)\r\n      (?someone as ?friend)\\r\\n\r\n      ?something\r\n      (\"cool\" as ?isCool)\r\n      (\"\" as ?icon)\r\n      ?nice\r\n      WHERE { ?s ?p ?o . }`,\r\n      expected: 'user friend something isCool icon nice'\r\n    },\r\n    {\r\n      query: `\r\n      SELECT ?one ?two ?three\r\n      ?four { ?five ?six ?seven . }`,\r\n      expected: 'one two three four'\r\n    },\r\n    {\r\n      query: 'SELECT (?var as ?alias) ?realParam WHERE { ?s ?p ?o . }',\r\n      expected: 'alias realParam'\r\n    },\r\n    {\r\n      query: 'select (?another as ?a) ?b ?c { { ?s1 ?p1 ?o1 . } union { ?s2 ?p2 ?o2 . }}',\r\n      expected: 'a b c'\r\n    },\r\n    {\r\n      query: 'select * where { ?s ?p ?o . } ',\r\n      expected: ''\r\n    }\r\n  ]\r\n\r\n  for (let i = 0; i < cases.length; i++) {\r\n    const test = cases[i]\r\n    const actual = parseSparqlParams(test.query).join(' ');\r\n    const passed = actual === test.expected;\r\n    console.log(`parseSparqlParams test ${i + 1} ${passed ? 'PASS' : 'FAIL'}`, {\r\n      query: test.query,\r\n      expected: test.expected,\r\n      actual: actual\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\nimport {z} from 'zod'\nimport {v4 as uuidv4} from 'uuid'\nimport {toast} from 'react-toastify'\n\nimport {useSelector} from '../../../store'\n\nimport {JsonEditor} from '../../JsonEditor'\nimport {Tabs, TabsContent, TabsList, TabsTriggerAlt} from '../../ui-primitives/tabs'\nimport {Cross2Icon, SymbolIcon, PlusIcon, Link2Icon, LinkBreak2Icon, PlayIcon} from '@radix-ui/react-icons'\nimport {Label} from '../../ui-primitives/label'\nimport {Input} from '../../ui-primitives/input'\nimport {Switch} from '../../ui-primitives/switch'\nimport {Button} from '../../ui-primitives/button'\nimport {InputWithSuggestions} from '../../ui-primitives/input-with-suggestions'\n\nimport {DndContext, PointerSensor, UniqueIdentifier, useSensor, useSensors} from '@dnd-kit/core'\nimport {arrayMove, SortableContext} from '@dnd-kit/sortable'\nimport {SortableItem} from '../../sortable/sortable-item'\nimport {Tooltip} from '@mui/material'\nimport {parseSparqlParams} from '../../../utils/parse-sparql-params'\n\nexport type ColumnConfigs = z.infer<typeof stateSchema>\ntype ColumnConfig = ColumnConfigs[number]\n\nconst dataColumnConfigSchema = z.object({\n  id: z.string(),\n  label: z.string(),\n  publishTopic: z.optional(z.string()),\n  filterable: z.boolean(),\n  sortable: z.boolean(),\n  width: z.string(),\n})\n\nconst startRuleActionSchema = z.object({\n  type: z.literal('start-rule'),\n  startRule: z.string(),\n  parameters: z.optional(z.record(z.string(), z.string())),\n  timestampVariable: z.optional(z.string()),\n})\n\nconst publishAppVarSchema = z.object({\n  type: z.literal('publish'),\n  topic: z.string(),\n  value: z.string(),\n})\n\nconst actionColumnConfigSchema = z.object({\n  id: z.string().nonempty(),\n  label: z.string(),\n  width: z.string(),\n  buttons: z.array(z.object({\n    icon: z.optional(z.string()),\n    label: z.optional(z.string()),\n    actions: z.optional(z.array(z.union([\n      startRuleActionSchema,\n      publishAppVarSchema\n    ]))),\n    buttons: z.optional(z.array(z.object({\n      label: z.string(),\n      icon: z.string(),\n      actions: z.array(z.union([\n        startRuleActionSchema,\n        publishAppVarSchema,\n      ]))\n    }))),\n  })),\n})\n\nconst columnConfigSchema = z.union([dataColumnConfigSchema, actionColumnConfigSchema])\n\nconst stateSchema = z.array(columnConfigSchema)\n\nfunction parseColumn(column: unknown) {\n  return {\n    dataColumn: dataColumnConfigSchema.safeParse(column),\n    actionColumn: actionColumnConfigSchema.safeParse(column),\n  }\n}\n\nexport function TablePlusPlusColumnConfig(props: {\n  name: string, columnConfigs: ColumnConfigs,\n  onChange: (name: string, value: ColumnConfigs) => void\n}) {\n  const [sparqlVarNames, setSparqlVarNames] = React.useState<string[]>([])\n  const [selectVarNames, setSelectVarNames] = React.useState<string[]>([])\n  const [tabId, setTabId] = React.useState<string>(props.columnConfigs[0]?.id)\n\n  const dataYasqe = useSelector(({currentViewer: {activeYasqes}}) => {\n    if (activeYasqes.length === 0) console.error('no sparql editor window was found')\n    if (activeYasqes.length > 1) console.error('could not identify which sparql-editor window is used for data-querying')\n    return activeYasqes.length === 1 ? activeYasqes[0] : null\n  })\n\n  React.useEffect(() => {\n    if (!dataYasqe) return\n    const updateSPARQLVarNames = () => {\n      const sparqlVarNames = dataYasqe.getVariablesFromQuery().map(s => s.slice(1))\n      const selectVarNames = parseSparqlParams(dataYasqe.getValueWithoutComments())\n      setSparqlVarNames(sparqlVarNames)\n      setSelectVarNames(selectVarNames)\n    }\n    updateSPARQLVarNames()\n    dataYasqe.on('blur', updateSPARQLVarNames)\n  }, [dataYasqe, setSparqlVarNames])\n\n  // these make it reasonably easy to trigger onClick events on drag-and-drop items\n  const reasonablyClickableSensors = useSensors(useSensor(PointerSensor, {activationConstraint: {distance: 8}}))\n\n  const isLinked = (column: ColumnConfig) => selectVarNames.includes(column.id)\n  const isActionColumn = (column: ColumnConfig) => actionColumnConfigSchema.safeParse(column).success\n\n  const updateColumn = (targetColumn: ColumnConfig, newColumnConfig: ColumnConfig) =>\n    props.onChange(props.name,\n                   props.columnConfigs.map(column => column !== targetColumn ? column : newColumnConfig))\n\n\n  const dataVarNames = sparqlVarNames.filter(s => !s.includes('_'))\n  const dataSelectVarNames = selectVarNames.filter(s => !s.includes('_'))\n\n  const unlinkedVarNames = dataVarNames.filter(varName =>\n    !props.columnConfigs.some(column => column.id === varName))\n  const unlinkedSelectVarNames = dataSelectVarNames.filter(varName =>\n    !props.columnConfigs.some(column => column.id === varName))\n\n  const addDataColumn = () => {\n    const newColumn = { width: 'auto', filterable: true, sortable: true,\n      id: unlinkedSelectVarNames?.[0] ?? `data-${Date.now()}`,\n      label: unlinkedSelectVarNames?.[0] ?? ''}\n    props.onChange(props.name, [...props.columnConfigs, newColumn])\n    setTabId(newColumn.id)\n  }\n\n  const addActionColumn = () => {\n    const newColumn = createDefaultActionColumnConfig()\n    props.onChange(props.name, [...props.columnConfigs, newColumn])\n    setTabId(newColumn.id)\n  }\n\n  const removeColumn = (targetColumn: ColumnConfig) =>\n    props.onChange(props.name, props.columnConfigs.filter(column => column !== targetColumn))\n\n  const autoFillColumns = () => {\n    if (!unlinkedSelectVarNames.length) return\n    const newColumns = unlinkedSelectVarNames.map(name =>\n      ({id: name, label: name, width: 'auto', filterable: true, sortable: true}))\n    props.onChange(props.name, [...props.columnConfigs, ...newColumns])\n    setTabId(newColumns[0].id)\n  }\n\n  const reorder = (activeId: UniqueIdentifier, overId: UniqueIdentifier) => {\n    const oldIdx = props.columnConfigs.findIndex(c => c.id === activeId)\n    const newIdx = props.columnConfigs.findIndex(c => c.id === overId)\n    const newColumns = arrayMove(props.columnConfigs, oldIdx, newIdx)\n    props.onChange(props.name, newColumns)\n  }\n\n  return (\n    <div  className=\"w-full p-2 border-2 rounded-lg bg-muted text-foreground shadow-lg\" style={{\n      fontFamily: '\"Exo 2 Variable\", sans-serif'\n    }}>\n      <div className=\"flex w-full gap-2 pb-2\">\n        <Tooltip title={dataSelectVarNames.length === 0 ? \"Autofill with SELECT * is not supported\" : undefined}>\n          <span>{/* need this <span> for MUI tooltip otherwise it won't show the tooltip on a disabled button -_-*/}\n            <Button disabled={dataSelectVarNames.length === 0}\n                      onClick={autoFillColumns}\n                      className=\"gap-2\">\n              <SymbolIcon />\n              <span>Auto fill</span>\n            </Button>\n          </span>\n        </Tooltip>\n        <Button onClick={addDataColumn} className=\"gap-2\"><PlusIcon /><span>Add sparql column</span></Button>\n        <Button onClick={addActionColumn} className=\"gap-2\"><PlusIcon /><span>Add actions column</span></Button>\n      </div>\n\n      <div className=\"shadow rounded-lg\">\n        <Tabs value={tabId} onValueChange={setTabId}>\n          <DndContext sensors={reasonablyClickableSensors} onDragEnd={(e) => {\n            if (!e.active || !e.over) return\n            reorder(e.active.id, e.over.id)\n          }}>\n            <TabsList className=\"w-full flex flex-row flex-wrap justify-start p-0 h-auto mx-[-1px] bg-transparent\">\n              <SortableContext items={props.columnConfigs.map(c => c.id)}>{props.columnConfigs.map(column => (\n                <SortableItem id={column.id}>\n                  <TabsTriggerAlt className=\"!pr-2 gap-2 [&>button]:hover:opacity-100\" value={column.id} aria-label={column.label}>\n                    {isActionColumn(column)? <PlayIcon/> : isLinked(column)? <Link2Icon/> : <LinkBreak2Icon/>} {column.label}\n                    <Button variant=\"ghost\"\n                            aria-label='Remove column'\n                            className=\"rounded size-5 p-1 hover:bg-slate-300 opacity-50 transition-opacity \"\n                            onPointerDown={e => e.stopPropagation() /* stop radix from selecting the tab */}\n                            onMouseDown={e => e.stopPropagation()  /* stop radix from selecting the tab */}\n                            onFocus={e => e.stopPropagation() /* stop radix from selecting the tab */}\n                            onClick={e => {\n                              e.stopPropagation()  /* stop radix from selecting the tab */\n                              removeColumn(column)\n                            }}>\n                      <Cross2Icon />\n                    </Button>\n                  </TabsTriggerAlt>\n                </SortableItem>\n              ))}</SortableContext>\n            </TabsList>\n          </DndContext>\n          {props.columnConfigs.map(column => {\n            const parsed = parseColumn(column)\n\n            if (parsed.dataColumn.success && !parsed.actionColumn.success) return (\n              <TabsContent value={parsed.dataColumn.data.id} className=\"grid w-full items-center gap-4 p-4 mt-0 bg-background rounded-lg\">\n                <Label className=\"grid w-full gap-1.5\">\n                  <span>SPARQL variable name</span>\n                  <InputWithSuggestions\n                    placeholder={`${isLinked(column) ? '🔗' : '⛓️‍💥'} ${parsed.dataColumn.data.id}`}\n                    selected={parsed.dataColumn.data.id}\n                    select={(id: string) => {\n                      updateColumn(column, {...column, id})\n                      setTabId(id)\n                    }}\n                    suggestions={unlinkedVarNames}\n                    noSuggestionsPlaceholder={\n                      dataVarNames.length === 0\n                        ? \"current query does not contain any sparql identifiers\"\n                        : \"there are no unused sparql identifiers remaining\"}\n                  />\n                </Label>\n                <Label className=\"grid w-full gap-1.5\">\n                  <span>Header label</span>\n                  <Input type=\"text\" value={parsed.dataColumn.data.label}\n                    onChange={e => updateColumn(column, {...column, label: e.target.value})} />\n                </Label>\n                <Label className=\"grid w-full gap-1.5\">\n                  <span>Topic to publish to when clicked with <code>_URI</code> modifier</span>\n                  <Input type=\"text\" value={parsed.dataColumn.data.publishTopic}\n                    onChange={e => updateColumn(column, {...column, publishTopic: e.target.value || undefined})} />\n                </Label>\n                <Label className=\"grid w-full gap-1.5\">\n                  <span>Column width</span>\n                  <Input type=\"text\" value={parsed.dataColumn.data.width}\n                    onChange={e => updateColumn(column, {...column, width: e.target.value})} />\n                </Label>\n                <Label className=\"flex items-center space-x-2\">\n                  <Switch checked={parsed.dataColumn.data.filterable}\n                    onCheckedChange={v => updateColumn(column, {...column, filterable: v})} />\n                  <span>Filter features</span></Label>\n                <Label className=\"flex items-center space-x-2\">\n                  <Switch checked={parsed.dataColumn.data.sortable}\n                    onCheckedChange={v => updateColumn(column, {...column, sortable: v})} />\n                  <span>Sort features</span></Label>\n              </TabsContent>\n            )\n\n            if (parsed.actionColumn.success && !parsed.dataColumn.success) return (\n              <TabsContent value={column.id} className=\"grid w-full items-center gap-4 p-4 mt-0 bg-background rounded-lg\">\n                <JsonEditor name={props.name} value={column}\n                  onValueChange={value => {\n                    try {\n                      const columnConfig = actionColumnConfigSchema.parse(value)\n                      updateColumn(column, columnConfig)\n                      setTabId(columnConfig.id)\n                    } catch(e) {\n                      console.error(e)\n                      toast('could not load column configs correctly, see dev console')\n                    }\n                  }} />\n              </TabsContent>\n            )\n\n            if (!parsed.dataColumn.success) console.error(parsed.dataColumn.error)\n            if (!parsed.actionColumn.success) console.error(parsed.actionColumn.error)\n            return (\n              <TabsContent value={column.id} className=\"grid w-full items-center gap-4 p-4 mt-0 bg-background rounded-lg\">\n                  This column is configured in an unknown format, see browser dev console for more info.\n                  It can only be a data-column or an action-column.\n                  Please fix using json-editor below.\n                  For support: create an issue.\n                <JsonEditor name={props.name} value={column}\n                  onValueChange={value => {\n                    try {\n                      const parsedInput = parseColumn(value)\n                      if (parsedInput.actionColumn.success && parsedInput.dataColumn.success) {\n                        throw new Error(\n                          `\"${column.label}\" parsed as both data-column and action-column, whilst it can only be either of the two.` +\n                          '\\n\\ndata-column\\n\\n' +\n                          JSON.stringify(parsedInput.dataColumn.data) +\n                          '\\n\\naction-column\\n\\n' +\n                          JSON.stringify(parsedInput.actionColumn.data)\n                        )\n                      }\n                      if (!parsedInput.actionColumn.success && !parsedInput.dataColumn.success) {\n                        throw new Error(\n                          `\"${column.label}\" could not be parsed as either data-column or action-column` +\n                          '\\n\\ndata-column\\n\\n' +\n                          parsedInput.dataColumn.error +\n                          '\\n\\naction-column\\n\\n' +\n                          parsedInput.actionColumn.error\n                        )\n                      }\n                      if (parsedInput.dataColumn.success) updateColumn(column, parsedInput.dataColumn.data)\n                      if (parsedInput.actionColumn.success) updateColumn(column, parsedInput.actionColumn.data)\n                      throw new Error('unhandled case')\n                    } catch(e) {\n                      console.error(e)\n                      toast('could not load column configs correctly, see dev console')\n                    }\n                  }} />\n                </TabsContent>\n            )\n\n          })}\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n\nfunction createDefaultActionColumnConfig(): ColumnConfig {\n  return {\n    id: uuidv4(),\n    label: 'Actions',\n    width: 'auto',\n    buttons: [{\n      icon: \"fa-star\",\n      label: \"Run a rule!\",\n      actions: [{\n        type: \"start-rule\",\n        startRule: \"my-rule-tag\",\n        parameters: {\n          \"myRuleParam\": \"{{myRuleParamValue}}\"\n        },\n        timestampVariable: \"myTimestampAfterRuleCompletes\"\n      }]\n    },{\n      icon: \"radix-component-instance\",\n      label: \"Pubsub something!\",\n      actions: [{\n        type: \"publish\",\n        topic: \"myTopic\",\n        value: \"{{columnVariableOrPubsubVariable}}\"\n      }]\n    }]\n  }\n}\n","import * as React from \"react\"\nimport { Check, ChevronsUpDown } from \"lucide-react\"\n\nimport { mergeClasses } from \"../../helpers/styling\"\nimport { Button } from \"./button\"\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"./command\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"./popover\"\n\n\nexport type ComboboxOption = {\n  label: string\n  value: string\n}\n\nexport function SearchSelect(props: {\n  value: string\n  onChange?: (value: string) => void\n  options: ComboboxOption[]\n  placeholder?: string\n  noResultsLabel?: string\n  buttonClassName?: string\n  contentClassName?: string\n}) {\n  const [open, setOpen] = React.useState(false)\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className={mergeClasses('w-full justify-between !px-2', props.buttonClassName)}\n        >\n          {props.value\n            ? props.options.find((option) => option.value === props.value)?.label\n            : (props.placeholder ?? 'Select an option...')}\n          <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className={mergeClasses('w-[200px] p-0', props.contentClassName)}\n                      style={{ zIndex: 9999, width: 'var(--radix-popper-anchor-width)' }}>\n        <Command>\n          <CommandInput placeholder={props.placeholder ?? 'Search...'} />\n          <CommandList>\n            <CommandEmpty>{props.noResultsLabel ?? 'No options found'}</CommandEmpty>\n            <CommandGroup>\n              {props.options.map((option) => (\n                <CommandItem\n                  key={option.value}\n                  value={option.value}\n                  onSelect={(currentValue) => {\n                    props.onChange?.(currentValue === props.value ? \"\" : currentValue)\n                    setOpen(false)\n                  }}\n                >\n                  <Check\n                    className={mergeClasses(\n                      \"mr-2 h-4 w-4\",\n                      props.value === option.value ? \"opacity-100\" : \"opacity-0\"\n                    )}\n                  />\n                  {option.label}\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n","import React from 'react'\nimport { SparqlEditor } from './SPARQLEditor'\nimport { Input, Label } from 'reactstrap'\nimport { FormGroup} from './FormGroup'\nimport AceEditor from 'react-ace'\n// import MonacoEditor from 'react-monaco-editor';\n// import brace from 'brace';\n\nimport styles from './FormField.module.css'\nimport { ShowableComponent, useDialog } from \"../hooks/use-dialog\"\nimport { HelpDialog } from \"./HelpDialog\"\nimport { JsonEditor, JsonTextEditor } from \"./JsonEditor\"\nimport {mergeClasses} from '../helpers/styling'\nimport cssFix from './mui/resolutions.module.css'\nimport {TablePlusPlusColumnConfig, ColumnConfigs} from './widgets/TablePlusPlus/ColumnConfiguration'\nimport { SearchSelect } from './ui-primitives/search-select'\n\ntype FormFieldProps = {\n    name: string\n    label: string\n    topicValueInterpolationEnabled?: boolean\n    helpComponent?: ShowableComponent<{}, void>}\n  & ( {type: 'array', value: string[], onChange: (name: string, value: string[]) => void}\n    | {type: 'boolean', value: boolean, onChange: FormFieldOnChange<boolean>}\n    | {type: 'javascript', value: string, onChange: (name: string, value: string) => void}\n    | {type: 'json', value: string, onChange: (name: string, value: string) => void}\n    | {type: 'json-text', value: string, onChange: (name: string, value: string) => void}\n    | {type: 'number', value: string, onChange: (name: string, value: string) => void}\n    | {type: 'select', value: string, onChange: (name: string, value: string) => void, options: {label: string, value: string}[]}\n    | {type: 'searchselect', value: string, onChange: (name: string, value: string) => void, options: {label: string, value: string}[]}\n    | {type: 'text', value: string, onChange: (name: string, value: string) => void}\n    | {type: 'yasgui', value: string, onChange: (name: string, value: string) => void}\n    | {type: 'tablepp-columns-json', value?: ColumnConfigs, onChange: (name: string, value: ColumnConfigs) => void}\n    )\n\ntype FormFieldOnChange<V, O = void> = (name: string, value: V) => O\n\nfunction FormField(props: FormFieldProps): React.ReactNode {\n  switch (props.type) {\n\n    case 'yasgui': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent} />\n        <SparqlEditor\n          mode=\"init-value\"\n          value={props.value}\n          onBlur={(value) => props.onChange(props.name, value)}\n        />\n      </FormGroup>\n    )\n\n    case 'javascript': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent} />\n        <AceEditor\n          mode=\"javascript\"\n          theme=\"github\"\n          style={{ width: '100%', height: '120px' }}\n          value={props.value}\n          onChange={(newValue) => {\n            props.onChange(props.name, newValue)\n          }}\n          name=\"editor\"\n        />\n      </FormGroup>\n    )\n\n    case 'select': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent} />\n        <Input\n          classforname=\"dark-form-control\"\n          className={mergeClasses(styles.default, 'dark-form-control', cssFix['dark-form-control-select'])}\n          value={props.value || ''}\n          type=\"select\"\n          onChange={e => props.onChange(props.name, e.target.value)}\n        >\n          {props.options && props.options.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>))}\n        </Input>\n      </FormGroup>\n    )\n\n    case 'searchselect': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent} />\n        <SearchSelect\n          value={props.value || ''}\n          onChange={value => props.onChange(props.name, value)}\n          options={props.options}\n          placeholder=\"Search widgets...\"\n          noResultsLabel=\"No widgets found\"\n          buttonClassName=\"legacy bg-[#373a3c] !border-[#808080]\"\n          contentClassName=\"legacy\"\n        />\n      </FormGroup>\n    )\n\n    case 'boolean': return (\n      <FormGroup>\n        <Label style={{ cursor: 'pointer' }}>\n          <Input\n            checked={props.value ?? false}\n            className={styles.check}\n            type=\"checkbox\"\n            onChange={(e) =>\n              props.onChange(props.name, e.target.checked)\n            }\n          />\n          {'  ' + props.label}\n        </Label>\n      </FormGroup>\n    )\n\n   case 'json': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent} />\n        <JsonEditor name={props.name}\n                    value={props.value}\n                    onValueChange={value => {\n                      props.onChange(props.name, value as string)\n                    }} />\n      </FormGroup>\n    )\n\n    case 'json-text': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent} />\n        <JsonTextEditor name={props.name} value={props.value || ''}\n                        onValueChange={value => {\n                          props.onChange(props.name, value as string)\n                        }} />\n      </FormGroup>\n    )\n\n    case 'array': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent}\n          topicValueInterpolationEnabled={props.topicValueInterpolationEnabled} />\n        <Input className=\"dark-form-control\" value={props.value || ''}\n          onChange={e => props.onChange(props.name, e.target.value.split(','))}\n        />\n      </FormGroup>\n    )\n\n    case 'tablepp-columns-json': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent}\n          topicValueInterpolationEnabled={props.topicValueInterpolationEnabled} />\n        <TablePlusPlusColumnConfig name={props.name} columnConfigs={props.value ?? []}\n          onChange={props.onChange} />\n      </FormGroup>\n    )\n\n    case 'text': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent}\n          topicValueInterpolationEnabled={props.topicValueInterpolationEnabled} />\n        <Input className=\"dark-form-control\" value={props.value || ''}\n          onChange={e => props.onChange(props.name, e.target.value)}\n        />\n      </FormGroup>\n    )\n\n    case 'number': return (\n      <FormGroup>\n        <LabelWithHelp label={props.label} helpComponent={props.helpComponent}\n          topicValueInterpolationEnabled={props.topicValueInterpolationEnabled} />\n        <Input className=\"dark-form-control\" value={props.value || ''}\n          onChange={e => props.onChange(props.name, e.target.value)}\n        />\n      </FormGroup>\n    )\n\n    default:\n      const anyProps: {[Property in keyof FormFieldProps]-?: any} = props\n      console.error(`unknown type of formfield: ${anyProps.type}`)\n      return (\n        <FormGroup>\n          <LabelWithHelp label={anyProps.label} helpComponent={anyProps.helpComponent}\n            topicValueInterpolationEnabled={anyProps.topicValueInterpolationEnabled} />\n          <Input className=\"dark-form-control\"\n            onChange={e => anyProps.onChange(anyProps.name, e.target.value)} />\n        </FormGroup>\n      )\n  }\n}\n\nfunction LabelWithHelp(\n  props: Pick<FormFieldProps, 'label' | 'topicValueInterpolationEnabled' | 'helpComponent'>\n) {\n  const show = useDialog()\n\n  return (\n    <>\n      <Label style={{ width: '100%', whiteSpace: 'pre-line' }}>\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <div style={{ flexGrow: 1 }}>\n            {props.label}\n          </div>\n\n          {props.topicValueInterpolationEnabled &&(\n            <i>\n            topic {\"{{variables}}\"} enabled\n            </i>\n          )}\n          {props.helpComponent && (\n            <a href=\"#\" onClick={e => {\n              e.preventDefault()\n              if (props.helpComponent) show(HelpDialog, {component: props.helpComponent}) // I don't know and I don't care anymore, why if-statement necessary\n            }}>\n              Help...\n            </a>\n          )}\n        </div>\n      </Label>\n    </>\n  )\n}\n\nexport default FormField\n","import React from \"react\"\nimport styles from \"./WidgetWrapper.module.css\"\nimport clsx from \"clsx\"\n\ntype Props = {\n  userActionsDisabled: boolean\n  clickable: boolean\n  children: React.ReactNode\n} & React.HTMLAttributes<HTMLDivElement>\n\nexport function WidgetWrapper(props: Props) {\n  const { userActionsDisabled, clickable, ...otherProps } = props\n  return (\n    <div className={clsx(\n      props.className,\n      styles.wrapper, {\n        [styles.clickable]: clickable && !userActionsDisabled\n      })}\n         data-user-actions-disabled={userActionsDisabled}\n         {...otherProps}\n      aria-disabled={userActionsDisabled}\n      data-testid=\"widget-wrapper\"\n    >\n      {props.children}\n    </div>\n  )\n}\n","import { styled, Tooltip as MuiTooltip, tooltipClasses, TooltipProps } from \"@mui/material\"\n\nexport const LargeTooltip = styled(({ className, ...props }: TooltipProps) => (\n  <MuiTooltip {...props} arrow classes={{ popper: className }} />\n))(() => ({\n  [`& .${tooltipClasses.tooltip}`]: {\n    fontSize: '0.875rem',\n    fontWeight: 500,\n    textTransform: 'uppercase',\n    padding: '.75em 1em'\n  }\n}))\n","import { Component } from 'react'\nimport styles from './Area.module.css'\nimport gearWhite from '../images/gear-white.svg'\nimport gearBlue from '../images/gear-blue.svg'\nimport insertIcon from '../images/plus.svg'\nimport infoIcon from '../images/info.svg'\nimport widgetDefinitions from './widgets'\nimport deleteIcon from '../images/cross.svg'\nimport Widget from './Widget'\nimport Dialog from './Dialog'\nimport { Button } from 'reactstrap'\nimport { FormGroup } from './FormGroup'\nimport FormField from './FormField'\nimport PublishUtils from '../helpers/PublishUtils'\nimport { Grow } from '@mui/material'\nimport { isUserActionsDisabled } from \"../redux/current-viewer\"\nimport { connect } from \"react-redux\"\nimport uniqueId from \"lodash.uniqueid\"\nimport { WidgetWrapper } from \"./WidgetWrapper\"\nimport { DEFAULT_WIDGET_CONFIG } from \"./default-widget-config\"\nimport { LargeTooltip } from \"./mui/LargeTooltip\"\nimport { interpolateSubscriptions } from '../helpers/widget'\nimport { store } from \"../store\"\n\nconst widgetDefinitionsSorted = widgetDefinitions.sort((a, b) => a.label.localeCompare(b.label))\n\nclass Area extends Component {\n  state = {\n    dialogVisible: false,\n    originalConfig: {},\n  }\n\n  constructor(props) {\n    super(props)\n    try\n    {\n      this.widgetId = uniqueId(`${props.config.widget}-`)\n    }\n    catch(e){}\n  }\n\n  componentWillUnmount() {\n    // Make sure to revoke the vote when unmounting\n    if (this.hasVotedForUserActionsDisabled()) {\n      this.handleVoteForUserActionsDisabled(false)\n    }\n  }\n\n  onInsertLayout = (name) => {\n    let config = {\n      ...this.props.config,\n    }\n    var split = null\n    if (\n      window.confirm(\n        'Do you want this widget to be the first element in the new splitlayout'\n      )\n    ) {\n      split = {\n        areaSizes: ['auto', 'auto'],\n        areas: [config, {}],\n        direction: 'column',\n        widget: 'SplitLayout',\n      }\n    } else {\n      if (\n        window.confirm(\n          'Do you want this widget to be the second element in the new splitlayout'\n        )\n      ) {\n        split = {\n          areaSizes: ['auto', 'auto'],\n          areas: [{}, config],\n          direction: 'column',\n          widget: 'SplitLayout',\n        }\n      } else {\n        if (\n          window.confirm(\n            'Do you want this widget to be the third element in the new splitlayout or cancel all'\n          )\n        ) {\n          split = {\n            areaSizes: ['auto', 'auto', 'auto'],\n            areas: [{}, {}, config],\n            direction: 'column',\n            widget: 'SplitLayout',\n          }\n        } else {\n          return\n        }\n      }\n    }\n\n    this.props.onChange(split, this.props.index)\n  }\n\n  \n  onDeleteWidget = (name) => {\n    if (window.confirm('are you sure that you want to delete this?')) {\n      let config = {\n        ...this.props.config,\n      }\n\n      config = {}\n      this.props.onChange(config, this.props.index)\n    }\n  }\n\n  isLayoutWidget(widget) {\n    if (widget === 'SplitLayout' || widget === 'SplitLayoutTest') {\n      return true\n    }\n\n    if (widget === 'BBKVKProductTemplate') {\n      return true\n    }\n    // if (widget=='Tab')  {   return true; }\n\n    if (widget === 'BB ButtonPopup') {\n      return true\n    }\n\n    return false\n  }\n\n  onFormChange = (name, value) => {\n    // console.log(\"form change \",name,value);\n\n    let config = {\n      ...this.props.config,\n      [name]: value,\n    }\n\n    if (name === 'widget') {\n      //console.log(value);\n      if (this.isLayoutWidget(value)) {\n        // zodat we geen rare invoegsels krijgen dat doen we via de plus knop\n\n        config.direction = 'column'\n        config.areas = [this.props.config]\n        if (value === 'SplitLayoutTest') {\n          config.areaSizes = ['1', '1']\n        } else {\n          config.areaSizes = ['200px', '1']\n        }\n      } else if (value === 'Tab' || value === 'BBSideMenu') {\n        config.tabs = ['Tab 1', 'Tab 2']\n        config.areas = [this.props.config]\n      } else {\n        let moveConfig =\n          config.areas &&\n          config.areas.find((area) => area && area.widget === value)\n        if (moveConfig) config = moveConfig\n      }\n\n      for (const key of Object.keys(DEFAULT_WIDGET_CONFIG.general)) {\n        if (!(key in config)) config[key] = DEFAULT_WIDGET_CONFIG.general[key]\n      }\n      if (config.widget in DEFAULT_WIDGET_CONFIG) {\n        for (const key of Object.keys(DEFAULT_WIDGET_CONFIG[config.widget])) {\n          if (!(key in config)) config[key] = DEFAULT_WIDGET_CONFIG[config.widget][key]\n        }\n      }\n    }\n    this.props.onChange(config, this.props.index)\n  }\n\n  onChildChange = (config, index) =>\n   {\n    try \n    {\n    let newConfig = {\n      ...this.props.config,\n    }\n    \n    newConfig.areas[index] = config\n    this.props.onChange(newConfig, this.props.index)\n  }\n  catch(e)\n  {\n    console.log(e);\n  }\n    \n  }\n\n  onShowPopupInfo = () => {\n    this.setState({ popupInfoVisible: true })\n    let me = this\n    setTimeout(function () {\n      me.infoPopupClose()\n    }, 2500)\n  }\n\n  infoPopupClose = () => {\n    this.setState({ popupInfoVisible: false })\n  }\n\n  openAndSaveOriginalConfigForUndo = () => {\n    this.setState({ dialogVisible: true, originalConfig: { ...this.props.config } })\n  }\n\n  closeAndKeepConfigChanges = () => {\n    this.setState({ dialogVisible: false })\n    this.props.save()\n  }\n\n  closeAndUndoConfigChanges = () => {\n    this.props.onChange(this.state.originalConfig, this.props.index)\n    this.setState({ dialogVisible: false })\n  }\n\n  /**\n   * Not subscribing to this value from the store, for performance reasons.\n   * In the conventional manner we would use mapStateToProps, but that triggers unnecessary cascading rerenders.\n   * @return {boolean}\n   */\n  hasVotedForUserActionsDisabled() {\n    return store.getState().currentViewer.votersForGlobalUserActionsDisabled.has(this.widgetId)\n  }\n\n  /**\n   * @param userActionsDisabled {boolean}\n   */\n  handleVoteForUserActionsDisabled = (userActionsDisabled) => {\n    this.props.dispatch({\n      type: \"VOTE_USER_ACTIONS_DISABLED\",\n      data: {\n        voterId: this.widgetId,\n        value: userActionsDisabled\n      }\n    })\n  }\n\n  renderWidget(config, widgetDefinition) {\n    if (!config.widget) {\n      if (this.props.mode === 'edit') return <div>Selecteer een widget.</div>\n      return\n    }\n    if ((this.props.mode === 'edit') && (widgetDefinition==null)) return <div>Selecteer een widget.</div>\n    if (widgetDefinition==null) return null;\n    if (interpolateSubscriptions(this, config.hidden, 'boolean')) return null\n\n    const widgetUserActionsDisabled = !!config.syncWithUserActionsDisabled && this.props.userActionsDisabled\n\n    return (\n      <WidgetWrapper\n        userActionsDisabled={widgetUserActionsDisabled}\n        clickable={!!this.props.onClick}\n        onClick={this.props.onClick}\n      >\n        <Widget\n          reauth={this.props.reauth}\n          widgetId={this.widgetId}\n          repoName={this.props.repoName}\n          repoURL={this.props.repoURL}\n          parameterValues={this.props.parameterValues}\n          localRepoURL={this.props.localRepoURL}\n          mode={this.props.mode}\n          save={this.props.save}\n          sparqlErrorMessage={this.props.sparqlErrorMessage}\n          withinSelectedTab={this.props.withinSelectedTab}\n          parseUrlProperties={this.props.parseUrlProperties}\n          {...withTopicValues(config, widgetDefinition, this)}\n          definition={widgetDefinition}\n          onChange={this.onChildChange}\n          closeDialog={this.props.closeDialog}\n          userActionsDisabled={widgetUserActionsDisabled}\n          voteForUserActionsDisabled={this.handleVoteForUserActionsDisabled}\n        >\n          <widgetDefinition.component />\n        </Widget>\n      </WidgetWrapper>\n    )\n  }\n\n  render() {\n   // if (this.props.withinSelectedTab==false) return false;\n\n  // console.log(this);\n    let config = this.props.config || {}\n   \n\n\n\n\n    let menubar = false\n    let titleMenuBar = config.titleMenubar\n    if (titleMenuBar != null) {\n      titleMenuBar = titleMenuBar.trim()\n      titleMenuBar = PublishUtils.processStringForParameters(this, titleMenuBar)\n      titleMenuBar=PublishUtils.removeUnresolvedParametersFromString(titleMenuBar)\n\n    }\n    if (titleMenuBar != null && titleMenuBar !== '' && titleMenuBar !== ' ') {\n      menubar = true\n    }\n    //  console.log(\"titleMenubar '\"+titleMenuBar+\"'\");\n\n    let mode = this.props.mode\n    let widgetDefinition = widgetDefinitionsSorted.find(\n      (widgetDefinition) => widgetDefinition.name === config.widget\n    )\n    let islayout = this.isLayoutWidget(config.widget)\n    try {\n      var queryDef=widgetDefinition.variables.find(obj => obj.name === \"query\");\n    if  (queryDef!=null)\n    {\n      //console.log(\"widget with query parameter\")\n      if (config.query==null)\n      {\n            config.query=queryDef.defaultQuery;\n         //   console.log(\"setting default query\");\n      }\n    }\n  }\n  catch(e){}\n\n\n\n\n\n    let extraStyling1 = ''\n    let extraStyling2 = ''\n    let extraStyling3 = ''\n    let extraStyling4 = ''\n    if (config.panelstyleExtra != null) {\n      var sts = config.panelstyleExtra.split(' ')\n      try {\n        extraStyling1 = sts[0]\n      } catch (e) {}\n      try {\n        extraStyling2 = sts[1]\n      } catch (e) {}\n      try {\n        extraStyling3 = sts[2]\n      } catch (e) {}\n      try {\n        extraStyling4 = sts[3]\n      } catch (e) {}\n    }\n    let displayFlex = ' ' + styles.outerAreaContainerDisplayFlex\n    //not used\n    if (this.props.disableFlexbox) {\n      //  console.log(\"disable flexbox for this area\")  ;\n      displayFlex = ''\n    }\n    let infoMenubarb = false\n    if (config.infoMenubar != null) {\n      if (config.infoMenubar.length > 2) {\n        infoMenubarb = true\n      }\n    }\n    var appear=true;\n    var hidden = config.hidden;\n    if (hidden==null) hidden=false;\n    if (hidden!=false) {\n    \n      hidden=PublishUtils.processStringForParameters(this,hidden);\n      try {hidden=JSON.parse(hidden.toLowerCase());} catch(e){}\n      //console.log(\"2\",hidden,mode);\n      //if (hidden==true) console.log(\"3 hidden=true\");\n      //if (hidden==false) console.log(\"4 hidden=false\");\n     \n    }\n    var hidden2= config.hiddenwhenparametersareempty;\n    if (hidden2?.length)\n    {\n      \n      var hids2=hidden2.split(\",\");\n    //console.log(\"hidden2\",hids2);\n      for (var n in hids2)\n      {\n        var hid2=hids2[n];\n         if (this.props.pubsub[hid2]==null) hidden=true;\n         if (this.props.pubsub[hid2]==\"http://www.buildingbits.nl/reset\") hidden=true;\n      }\n    }\n\n    \n    var visibilityState =hidden ? \"hidden\" : \"visible\";\n if (mode==='edit')  {  visibilityState=\"visible\"; }\n\n      \n\n\n    return (\n     <Grow appear={appear} timeout={1000} in={true}  style={{visibility: visibilityState}} >\n        <div \n          className={\n            styles.outerAreaContainer +\n            ' ' +\n            (shouldApplyBorderRadius(config.widget) ? '' : styles.zeroBorderRadiusWidget) +\n            ' ' +\n            displayFlex +\n            ' ' +\n            (mode === 'edit' ? '' : styles.viewMode) +\n            ' ' +\n            styles[config.widget] +\n            ' ' +\n            styles[config.panelstyle] +\n            ' ' +\n            styles[extraStyling1] +\n            ' ' +\n            styles[extraStyling2] +\n            ' ' +\n            styles[extraStyling3] +\n            ' ' +\n            styles[extraStyling4]\n          }\n          style={{\n            '--area-border-style': config.areaBorderStyle,\n            '--area-border-radius': config.areaBorderRadius,\n            '--final-top-left-border-radius': config.finalTopLeftBorderRadius,\n            '--final-top-right-border-radius': config.finalTopRightBorderRadius,\n            '--final-bottom-left-border-radius': config.finalBottomLeftBorderRadius,\n            '--final-bottom-right-border-radius': config.finalBottomRightBorderRadius,\n          }}\n          data-custom-styling={Boolean(config.customStyling)}\n          data-final-top-left-border-radius={!!config.finalTopLeftBorderRadius}\n          data-final-top-right-border-radius={!!config.finalTopRightBorderRadius}\n          data-final-bottom-left-border-radius={!!config.finalBottomLeftBorderRadius}\n          data-final-bottom-right-border-radius={!!config.finalBottomRightBorderRadius}\n          data-widget-type={config.widget}\n        >\n          {mode === 'edit' && (\n            <div className={styles.hoverToEdit}>\n              <div className={styles.hoverIndicator} aria-label=\"Hover to reveal widget toolbar\" />\n              <LargeTooltip\n                placement=\"bottom\"\n                title={config.widget && `${config.widget} widget`}\n              >\n                <div className={styles.editArea} role=\"toolbar\" aria-label=\"Widget toolbar\">\n                  <img\n                    src={insertIcon}\n                    alt=\"box\"\n                    className={styles.insertIcon}\n                    aria-label=\"Insert widget\"\n                    onClick={() => this.onInsertLayout(config.widget)}\n                  />\n                  <img\n                    src={islayout ? gearBlue : gearWhite}\n                    alt=\"gear\"\n                    className={styles.editIcon}\n                    aria-label=\"Configure widget\"\n                    onClick={this.openAndSaveOriginalConfigForUndo}\n                  />\n                  <img\n                    src={deleteIcon}\n                    alt=\"cross\"\n                    className={styles.insertIcon}\n                    aria-label=\"Delete widget\"\n                    onClick={() => this.onDeleteWidget(config.widget)}\n                  />\n                </div>\n              </LargeTooltip>\n            </div>\n          )}\n\n          {menubar && (\n            <div className={styles.menubar}>\n              <div className={styles.menubartxt}> {titleMenuBar}</div>\n              {infoMenubarb && (\n                <img\n                  src={infoIcon}\n                  alt=\"box\"\n                  className={styles.insertIcon}\n                  onClick={() => this.onShowPopupInfo()}\n                />\n              )}\n            </div>\n          )}\n\n          {this.renderWidget(config, widgetDefinition)}\n\n          {this.state.popupInfoVisible && (\n            <Dialog onClose={this.infoPopupClose}>\n              <div>{config.infoMenubar}</div>\n            </Dialog>\n          )}\n\n          {this.state.dialogVisible && (\n            <Dialog>\n              <FormField\n                classforname={'dark-form-control' + styles.formElement}\n                name=\"widget\"\n                label=\"Widget\"\n                type=\"searchselect\"\n                options={[\n                  { label: 'Selecteer een widget', value: '' },\n                  ...widgetDefinitionsSorted.map((wd) => ({\n                    label: wd.label,\n                    value: wd.name,\n                  })),\n                ]}\n                value={config.widget}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                classforname=\"dark-form-control\"\n                name=\"panelstyle\"\n                label=\"panel style\"\n                type=\"searchselect\"\n                options={[\n                  { label: 'Selecteer een style', value: '' },\n                  { label: 'standaard', value: 'standaard' },\n                  { label: 'no scrollBars', value: 'noScrollBars' },\n                  \n                  { label: 'toolbar', value: 'toolbar' },\n                  { label: 'border', value: 'border' },\n                  { label: 'border 2', value: 'border2' },\n                  { label: 'paper', value: 'paper' },\n                  { label: 'paper 2', value: 'paper2' },\n                  { label: 'padding', value: 'padding1' },\n                  { label: 'padding 2', value: 'padding2' },\n                  { label: 'padding 3', value: 'padding3' },\n                  { label: 'none', value: 'none' },\n                  { label: 'none white', value: 'noneWhite' },\n                  { label: 'refresh', value: 'refresh' },\n                  { label: 'three color template', value: 'threeColorTemplate' },\n                ]}\n                value={config.panelstyle}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                name=\"panelstyleExtra\"\n                label=\"panel style  (noScrollBars)\"\n                type=\"text\"\n                value={config.panelstyleExtra}\n                onChange={this.onFormChange}\n              />\n\n              <FormField\n                name=\"titleMenubar\"\n                label=\"title menubar\"\n                type=\"text\"\n                value={config.titleMenubar}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                name=\"infoMenubar\"\n                label=\"Info popup menubar\"\n                type=\"text\"\n                value={config.infoMenubar}\n                onChange={this.onFormChange}\n              />\n              <FormField\n                name=\"colorPrimaryAction\"\n                label='give primary action color (when panel style \"three color template\")'\n                type=\"boolean\"\n                value={config.colorPrimaryAction}\n                onChange={this.onFormChange}\n              />\n              <FormGroup tag=\"fieldset\" className={styles[\"fieldset\"]}>\n                <legend>Behaviour on loading</legend>\n                <FormField\n                  name=\"showLoadingOverlay\"\n                  label=\"Show loading overlay while loading.\"\n                  type=\"boolean\"\n                  value={config.showLoadingOverlay}\n                  onChange={this.onFormChange}\n                />\n                <FormField\n                  name=\"syncWithUserActionsDisabled\"\n                  label=\"User interaction disabled while other widgets are loading.\"\n                  type=\"boolean\"\n                  value={config.syncWithUserActionsDisabled}\n                  onChange={this.onFormChange}\n                />\n                <FormField\n                  name=\"voteForUserActionsDisabledWhenLoading\"\n                  label=\"Widget blocks user interaction on other widgets while loading.\"\n                  type=\"boolean\"\n                  value={config.voteForUserActionsDisabledWhenLoading}\n                  onChange={this.onFormChange}\n                />\n              </FormGroup>\n              <FormField\n                name=\"hidden\"\n                label=\"hide this panel. Parameter must be true or false\"\n                type=\"text\"\n                topicValueInterpolationEnabled={true}\n                value={config.hidden}\n                onChange={this.onFormChange}\n              />\n\n              {shouldApplyBorderRadius(config.widget) && (\n                <>\n                  <FormField\n                    name=\"finalTopLeftBorderRadius\"\n                    label=\"final top-left border radius\"\n                    type=\"text\"\n                    value={config.finalTopLeftBorderRadius}\n                    onChange={this.onFormChange}\n                  />\n                  <FormField\n                    name=\"finalTopRightBorderRadius\"\n                    label=\"final border top-right radius\"\n                    type=\"text\"\n                    value={config.finalTopRightBorderRadius}\n                    onChange={this.onFormChange}\n                  />\n                  <FormField\n                    name=\"finalBottomLeftBorderRadius\"\n                    label=\"final bottom-left border radius\"\n                    type=\"text\"\n                    value={config.finalBottomLeftBorderRadius}\n                    onChange={this.onFormChange}\n                  />\n                  <FormField\n                    name=\"finalBottomRightBorderRadius\"\n                    label=\"final bottom-right border radius\"\n                    type=\"text\"\n                    value={config.finalBottomRightBorderRadius}\n                    onChange={this.onFormChange}\n                  />\n                </>\n              )}\n              <FormField\n                name=\"hiddenwhenparametersareempty\"\n                label=\"comma separated parameters that need to have a value\"\n                type=\"text\"\n                value={config.hiddenwhenparametersareempty}\n                onChange={this.onFormChange}\n              />\n\n              {config.widget &&\n                widgetDefinition.variables &&\n                widgetDefinition.variables.map((variable) => (\n                  <FormField\n                    key={variable.name}\n                    {...variable}\n                    value={config[variable.name]}\n                    onChange={this.onFormChange}\n                  />\n                ))}\n\n              <div style={{ textAlign: 'center' }}>\n                <Button\n                  color=\"secondary\"\n                  style={{ minWidth: '120px', marginTop: '12px' }}\n                  onClick={this.closeAndUndoConfigChanges}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  color=\"primary\"\n                  style={{ minWidth: '120px', marginTop: '12px', marginLeft: '40px' }}\n                  onClick={this.closeAndKeepConfigChanges}\n                >\n                  OK\n                </Button>\n              </div>\n            </Dialog>\n          )}\n        </div>\n        </Grow>\n     \n    )\n  }\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    userActionsDisabled: isUserActionsDisabled(state.currentViewer)\n  }\n}\n\nfunction withTopicValues(config, widgetDefinition, widget) {\n  if (config==null)\n    {\n      console.log(\"this is weird\");\n      config={};\n    }\n  const newConfig = {...config}  // sometimes config is null resulting in errors here.\n  const widgetDefinitionVariables = widgetDefinition?.variables ?? []\n  for (const variable of widgetDefinitionVariables) {\n    if (variable.topicValueInterpolationEnabled) {\n      if (Array.isArray( newConfig[variable.name])) {\n        newConfig[variable.name] = newConfig[variable.name].map(valueString => PublishUtils.processStringForParameters(widget, valueString))\n      }\n      else if (typeof newConfig[variable.name] === 'string') {\n        newConfig[variable.name] = PublishUtils.processStringForParameters(widget, newConfig[variable.name])\n      }\n    }\n  }\n  return newConfig\n}\n\nexport function shouldApplyBorderRadius(widgetName) {\n  if (!widgetName) return false\n  return widgetName !== 'BBParameterLinkEmptyWidget' && !widgetName.includes('SplitLayout')\n}\n\n/**\n * Workaround until proper typing\n * source: https://stackoverflow.com/a/49806135\n * @type {React.ComponentType<any>}\n */\nexport default connect(mapStateToProps)(Area)\n","import Command from \"./Command\"\nimport { resolveTemplateStringAndLogErrors } from \"./resolve-template-string\"\nimport { store } from \"../store\"\nimport { isValidUri } from \"../utils/uri\"\n\nexport function runStartRule(ruleTagOrUriTemplate: string, parametersJson: string | null | undefined, additionalTemplateVariables?: Record<string, string>) {\n  const dict = {\n    ...(store.getState()?.pubsub ?? {}),\n    ...(additionalTemplateVariables ?? {}),\n     \n  }\n    //console.log(dict)\n   return new Promise((resolve, reject) => {\n   \n    const resolvedRule = resolveTemplateStringAndLogErrors(ruleTagOrUriTemplate, dict)\n    const resolvedParameters = resolveTemplateStringAndLogErrors(parametersJson ?? \"\", dict)\n   //console.log(\"promise\",resolvedParameters,dict);\n  \n    \n\n    if (isValidUri(resolvedRule)) {\n      Command.ruleRule(resolvedRule, resolvedParameters, resolve, reject)\n    } else {\n      Command.runRulesWithTag(resolvedRule, resolvedParameters, resolve, reject)\n    }\n  })\n}\n","import * as React from 'react'\nimport {mergeClasses} from '../../helpers/styling'\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={mergeClasses(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import ReactDOM from \"react-dom\"\n\nconst getRoot = () => {\n  let element = document.getElementById('modals');\n  if (!element) {\n    element = document.createElement('div');\n    element.setAttribute('id', 'modals');\n    document.body.appendChild(element);\n  }\n  return element;\n};\n\ninterface ShowableComponentProps<TResult> {\n  onClose: (result: TResult) => void;\n}\n\nexport type ShowableComponent<TProps, TResult> = (props: ShowableComponentProps<TResult> & TProps) => JSX.Element;\n\nconst show = <TProps, TResult>(\n  Component: ShowableComponent<TProps, TResult>,\n  props?: Omit<TProps, \"onClose\">\n) => {\n  const root = getRoot();\n  const container = document.createElement('div');\n  root.appendChild(container);\n\n  const cleanup = () => {\n    // @ts-ignore Render null is a valid use-case\n    ReactDOM.render(null, container);\n    container.remove();\n  };\n\n  return new Promise<TResult | undefined>((resolve) => {\n    const closeHandler = (result: TResult) => {\n      resolve(result);\n      cleanup();\n    };\n\n    ReactDOM.render(\n      /* @ts-ignore Unclear what the problem is here */\n      <Component {...props} onClose={closeHandler} />,\n      container\n    );\n  });\n};\n\nexport const useDialog = () => {\n  return <TProps, TResult>(\n    Component: ShowableComponent<TProps, TResult>,\n    props?: Omit<TProps, \"onClose\">\n  ) => show(Component, props);\n};\n","import Yasqe from '@triply/yasqe'\n\nexport type CurrentViewerState = {\n  appCss: Record<string, string | number>\n  activeYasqes: Yasqe[]\n  votersForGlobalUserActionsDisabled: Set<string>\n  config?: Record<string, unknown> | null\n}\n\nconst initialState: CurrentViewerState = {\n  appCss: {},\n  activeYasqes: [],\n  votersForGlobalUserActionsDisabled: new Set<string>(),\n}\n\ntype Action\n  = {type: \"VOTE_USER_ACTIONS_DISABLED\", data: {value: boolean, voterId: string}}\n  | {type: \"SET_VIEWER_CONFIG\", data: Record<string, unknown>}\n  | {type: \"SET_APP_CSS\", data?: Record<string,string>}\n  | {type: \"ADD_YASQE\", data: Yasqe}\n  | {type: \"REMOVE_YASQE\", data: Yasqe}\n\nexport default function currentViewerReducer(state: CurrentViewerState = initialState, action: Action): CurrentViewerState {\n  switch (action.type) {\n    case \"ADD_YASQE\":\n      return {...state, activeYasqes: [...state.activeYasqes, action.data]}\n    case 'REMOVE_YASQE':\n      return {...state, activeYasqes: state.activeYasqes.filter(x => x !== action.data)}\n    case \"SET_APP_CSS\":\n      return {...state, appCss: action.data ?? {}}\n    case \"SET_VIEWER_CONFIG\":\n      return {...state, config: action.data }\n    case \"VOTE_USER_ACTIONS_DISABLED\":\n      const newVoters = new Set(state.votersForGlobalUserActionsDisabled)\n      if (action.data.value)\n        newVoters.add(action.data.voterId)\n      else\n        newVoters.delete(action.data.voterId)\n\n      return { ...state, votersForGlobalUserActionsDisabled: newVoters }\n  }\n\n  return state\n}\n\nexport function isUserActionsDisabled(state: CurrentViewerState) {\n  return state.votersForGlobalUserActionsDisabled.size > 0\n}\n","export default __webpack_public_path__ + \"static/media/info.8b4e18dd.svg\";","import { Fragment } from 'react'\n\nconst emailRegExp =\n  /(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))/g\n\nexport function AutoHyperlink(props) {\n  if (!props.text) return null\n\n  const emails = extractEmails(props.text)\n  const texts = extractNonEmailTexts(props.text, emails)\n\n  return (\n    <span>\n      {texts.map((text, i) => {\n        const email = emails?.[i]\n        return (\n          <Fragment key={`fragment ${i}`}>\n            {text}\n            {email && (\n              <a key={`email ${i}`} href={`mailto:${email}`}>\n                {email}\n              </a>\n            )}\n          </Fragment>\n        )\n      })}\n    </span>\n  )\n}\n\nfunction extractEmails(text) {\n  return [...text.matchAll(emailRegExp)].map(([email]) => email)\n}\n\nfunction extractNonEmailTexts(text, emailsFromLeftToRight) {\n  return emailsFromLeftToRight.reduceRight(\n    ([text, ...texts], email) => [...text.split(email), ...texts],\n    [text]\n  )\n}\n","import { useEffect, useState } from 'react'\nimport Yasqe from '@triply/yasqe'\nimport '../../node_modules/@triply/yasgui/build/yasgui.min.css'\nimport '../../node_modules/@triply/yasqe/build/yasqe.min.css'\nimport { store } from '../store'\n\nexport function SparqlEditor(props: {\n  value: string\n  onBlur: (value: string) => void\n  mode: 'update-value' | 'init-value'\n}) {\n  const [yas, setYas] = useState<Yasqe | null>(null)\n  const [ref, setRef] = useState<any>(null)\n\n  useEffect(() => {\n    if (!ref) return () => {}\n\n    const newYas = new Yasqe(ref)\n    setYas(newYas)\n    store.dispatch({type: 'ADD_YASQE', data: newYas})\n    return () => store.dispatch({type: 'REMOVE_YASQE', data: newYas})\n  }, [ref])\n\n  const {onBlur, value} = props\n  useEffect(() => {\n    if (!yas) return\n    yas.setValue(value || '')\n    yas.on('blur', () => onBlur(yas.getValue()))\n  }, [yas, onBlur, value])\n\n  useEffect(() => {\n    if (!yas || props.mode === 'init-value') return\n    yas.setValue(props.value)\n  }, [yas, props.value, props.mode])\n\n  return <div ref={setRef} />\n}\n","const CURRENT_KEY_PRESSES = new Set()\nconst userInputChannel = new BroadcastChannel('user-input-channel');\n\nexport function setupUserInputMessenger(windowElement: typeof window = window) {\n  windowElement.addEventListener('keydown', (event) => {\n    registerKey(event.key)\n  })\n\n  windowElement.addEventListener('keyup', (event) => {\n    deregisterKey(event.key)\n  })\n}\n\nfunction registerKey(key: string) {\n  if (CURRENT_KEY_PRESSES.has(key)) return\n\n  CURRENT_KEY_PRESSES.add(key)\n  broadcastKeyRegistration()\n}\n\nfunction deregisterKey(key: string) {\n  if (!CURRENT_KEY_PRESSES.has(key)) return\n\n  CURRENT_KEY_PRESSES.delete(key)\n  broadcastKeyRegistration()\n}\n\nfunction broadcastKeyRegistration() {\n  userInputChannel.postMessage(CURRENT_KEY_PRESSES)\n}\n","import React from \"react\"\nimport Dialog from \"./Dialog\"\nimport styles from \"./FormField.module.css\"\nimport { Button as Button_ } from \"reactstrap\"\nimport { ShowableComponent } from \"../hooks/use-dialog\"\nconst Button = Button_ as any\n\nexport function HelpDialog(props: {\n  component: ShowableComponent<{}, void>\n  onClose: () => void\n}) {\n  const Component = props.component\n  return (\n    <Dialog onClose={props.onClose}>\n      <div className={styles[\"help\"]}>\n        <Component onClose={props.onClose} />\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <Button color=\"primary\"\n                style={{ minWidth: \"120px\", marginTop: \"12px\" }}\n                onClick={() => props.onClose()}>OK</Button>\n      </div>\n    </Dialog>\n  )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Dialog_overlay__S_Pka\",\"frame\":\"Dialog_frame__3XaI8\",\"closeButton\":\"Dialog_closeButton__1TQZw\",\"okButton\":\"Dialog_okButton__2Pl7D\",\"body\":\"Dialog_body__iLin2\"};","import { Component, Fragment } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Viewer.module.css'\nimport { Button, Input, Label } from 'reactstrap'\nimport { FormGroup } from './FormGroup'\nimport Dialog from './Dialog'\nimport axios from 'axios'\nimport { ConfigurationTopBar } from './ConfigurationTopBar'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Notification from './Notification'\nimport Area from './Area'\nimport Spinner from './Spinner'\nimport defaultConfig from './defaultConfig.json'\nimport { Helmet } from 'react-helmet'\nimport { Dialog as InfoDialog, MenuItem, Select } from '@mui/material'\nimport { inflateLayout, LAYOUT_NAME } from '../helpers/layout'\n\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { AutoHyperlink } from './AutoHyperlink'\nimport { FETCH_VIEWER_SUCCESS, SET_LAYOUT_NAME } from '../redux/project'\nimport { fixupLegacyRepoURL, getCgiUrl } from \"../helpers/url\"\nimport { getAndSetDefaultParameterValues } from './ViewerContextUtils'\nimport { AppVariables } from './AppVariables'\nimport { FontListButton } from \"./FontList\"\nimport { SparqlTriggerExecutor } from './SparqlTriggerExecutor'\nimport { JsonEditor, JsonTextEditor } from \"./JsonEditor\"\nimport { format as formatDate } from \"date-fns\"\nimport \"typeface-exo\"\nimport \"@fontsource-variable/exo-2\"\n\nexport class Viewer extends Component {\n\n  /**\n   * @private\n   * @type {Viewer | null}\n   */\n  static _instance = null\n\n  state = {\n    popupInfoVisible: false,\n    dialogVisible: false,\n    notification: {},\n    loading: true,\n    showJSONEditor: false,\n    config: null,\n  }\n\n  static getInstance() {\n    return Viewer._instance\n  }\n\n  onJsonEditClick = () => {\n    this.setState({ showJSONEditor: true })\n  }\n\n  getUrl(data) {\n    //console.log(\"get URL \",data);\n    try {\n      let url = '/api/sparql/' + data.repoURL\n      if (data.repoURL.startsWith('http')) {\n        // request sparql endpoint directly\n        url = data.repoURL\n      }\n      var modus = false\n      if (window.location.host === 'localhost:3000') {\n        modus = true\n      }\n      //  var modus=false; //debug\n\n      if (data.localRepoURL != null && data.localRepoURL !== '' && modus) {\n        url = data.localRepoURL\n      }\n     \n      return url\n    } catch (e) {\n      console.log('error creating url ', e)\n    }\n    return null\n  }\n\n  /**\n   * @param bbsparqlendpoint {string}\n   * @param repoUrl {string}\n   * @return {string}\n   */\n  constructRepoLoginPath(bbsparqlendpoint, repoUrl) {\n    const { viewerPath } = getViewProps(this.props)\n    const repoLoginParams = new URLSearchParams(bbsparqlendpoint)\n    repoLoginParams.set('repoUrl', repoUrl)\n    repoLoginParams.set('viewerPath', viewerPath)\n\n    return '/loginbb?id=' + encodeURIComponent(btoa('?' + repoLoginParams.toString()))\n  }\n\n  async componentDidMount() {\n    const { projectPath, viewerPath } = getViewProps(this.props)\n\n    Viewer._instance = this\n\n    let viewer = this.props.project.viewers.find((v) => v.path === viewerPath)\n    if (viewer && viewer.loaded) {\n        console.log(\"component did mount load into state\");\n      return this.loadViewerIntoState(viewer)\n    }\n    // no idea where CONFIG_URL comes from....\n      if ((window.CONNECTED_APPS_STATIC) && (window.CONFIG_URL==null)) \n      {\n        window.CONFIG_URL=\"./config.json\";\n      }\n      \n    const request = window.CONNECTED_APPS_STATIC\n      ? {\n          method: 'get',\n          url: window.CONFIG_URL,\n          headers: { 'Content-Type': 'application/json' },\n        }\n      : {\n          method: 'get',\n          url: `/api/projects/${projectPath}/viewers/${viewerPath}`,\n          headers: { Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}` },\n        }\n\n    let config\n    try {\n     // console.log(request);\n\n      const configResponse = await axios(request)\n      config = configResponse.data\n    } catch(error) {\n      if (error.response?.status === 401) return this.props.history.push('/login', `projects/${projectPath}/${viewerPath}`)\n      if (error.response?.status === 404) return this.loadNewViewerConfig(viewerPath)\n      throw error\n    }\n    if (!config) throw new Error('somehow no config was fetched')\n\n    if (window.CONNECTED_APPS_STATIC == null && config.repoURL.startsWith('http'))\n    {\n      if (config.repoURL.includes(\"BloodBee\"))\n      {\n            // (Hans: so annoying so skipping this when it contains BloodBee\n      }\n      else\n      {\n        alert(`Attention: This app interacts with external triplestore-endpoint \"${config.repoURL}\". Ignore this message if this is on purpose. This message will not show up when this app is locked-and-published.`)\n      }\n      \n    }\n\n\n    if (config.prejs != null) {\n      try {\n        eval(config.prejs) // eslint-disable-line no-eval\n      } catch (error2) {\n        console.log(error2, config.prejs)\n      }\n    }\n\n    const loadConfig = async () => {\n      console.log(\"load config load into state\");\n      await this.loadViewerIntoState(config)\n      this.props.dispatch({ type: FETCH_VIEWER_SUCCESS, data: config })\n      this.keepAlive('init')\n    }\n\n    if (this.shouldConnectToWistorBackend(config)) {\n      const auth = await this.reauth(config)\n      if (auth.isAutoLogin && !auth.success) return auth.goToLoginPage()\n\n      const isAuthorised = await this.isAuthorised(config)\n      const user = isAuthorised.user\n      if (true) // to retreive incorrect configs. previously I could use ?debug=skipLogin to skip to login procedure resulting in starting up the client without sparql endpoint access. This allows an editor to set the correct parameters\n        {\n        if (!user) \n          {\n           \n            if (window.location.search.toLowerCase().includes(\"debug=skiplogin\")) {\n              console.log(\"debug skiplogin\");\n              loadConfig();return;\n            }\n            throw new Error('somehow no user data was fetched')\n          }\n        if (!isAuthorised.success) return isAuthorised.goToLoginPage()\n\n\n        this.publish('user.fullAccess', Boolean(user.fullAccess))\n      \n        if (user.parameters!=null) document.userParameters=user.parameters;\n        if (document.userParameters==null) document.userParameters={};\n        document.userParameters.userUri=user.userUri;\n        document.userParameters.userName=user.userName;\n      }\n    }\n\n    loadConfig()\n  }\n\n  /** @param {'init' | 'destroy'} mode */\n  keepAlive = (mode) => {\n    if (mode === 'init') {\n      if (!this.keepAliveInterval) setInterval(() => this.isAuthorised(), 5*60*1000)\n      return\n    }\n\n    if (mode === 'destroy') {\n      if (!this.keepAliveInterval) return\n      clearInterval(this.keepAliveInterval)\n      return this.keepAliveInterval = null\n    }\n\n\n    throw new Error(`unknown mode: ${JSON.stringify(mode)}`)\n  }\n\n  /**\n   * @param {Record<string, unknown>} config\n   * @param {Object} options\n   * @param {boolean} [options.silent=false] - If true, suppresses logging output and alerts. Unexpected errors are still logged.\n   * @returns {Promise<{ user: any, success: boolean, goToLoginPage: () => any }>}\n   */\n  async isAuthorised(config, options = { silent: false }) {\n    const {isLoggedInUrl, viewerPath, goToLoginPage, repo, repo2} = this.viewerParams(config)\n    let user\n    try {\n      const userResponse = await axios({\n        method: 'get',\n        url: isLoggedInUrl,\n        withCredentials: true,\n        params: { viewerPath }\n      })\n      user = userResponse.data\n    } catch(error) {\n      console.error(error)\n    }\n\n    const success = (() => {\n      if (!user) {\n        if (!options?.silent) {\n          console.error('no user data was fetched')\n        }\n        return false\n      }\n     \n        if (user.loggedIn==null) {\n          console.error('no user data was fetched (22)')\n          return false\n        }\n       \n     \n\n\n      if (user.loggedIn.toLowerCase() !== 'true') return false\n\n      if (user.oidcLoginStatus === 'USER_NOT_PERMITTED' || user.oidcLoginStatus === 'REPO_NOT_PERMITTED') {\n        if (!options?.silent) {\n          alert('Your account does not have sufficient permissions for this application.')\n        }\n        return false\n      }\n\n      if (repo == null || user.repo == null) return false\n\n      if (repo.toLowerCase() !== user.repo.toLowerCase() && repo2.toLowerCase() !== user.repo.toLowerCase()) {\n        if (!options?.silent) {\n          alert('wrong repo. This account is not valid for this application.')\n        }\n        return false\n      }\n\n      return true\n    })()\n\n    return {user, goToLoginPage, success}\n  }\n\n  /**\n   * @param {any} config\n   * @returns {Promise<{ isAutoLogin: boolean, success: boolean, goToLoginPage: () => any }>}\n   */\n  async reauth (config = this.state.viewer) {\n    if (config == null) throw new Error('Reauth requested without any config loaded')\n\n    const { isAutoLogin, psw, login, autoLoginUrl, goToLoginPage } = this.viewerParams(config)\n    if (!isAutoLogin) return { isAutoLogin, goToLoginPage, success: false }\n\n    let success\n    try {\n      this.autoLogin = this.autoLogin ?? axios({\n        method: 'post',\n        url: autoLoginUrl,\n        withCredentials: true,\n        data: { login, psw },\n      })\n      const response = await this.autoLogin\n      success = response.data?.loggedIn?.toLowerCase?.() === 'true'\n\n    } catch(error) {\n      success = !(error?.response?.status === 401 || error?.response?.status === 403)\n      if (!success) alert('Default login credentials are incorrect. Login with valid credentials and change it to fix this.')\n    }\n\n    this.autoLogin = null\n    return { isAutoLogin, goToLoginPage, success }\n  }\n\n  viewerParams(config = this.state.viewer) {\n    const { projectPath, viewerPath } = getViewProps(this.props)\n\n    const params = new URLSearchParams(config.bbsparqlendpoint)\n    const repoName = params.get('repo')\n    const repo2 = params.get('repo2') ?? ''\n    const psw = params.get('psw')\n    const login = params.get('login')\n    const isAutoLogin = psw != null && login != null\n\n    const repoURL = fixupLegacyRepoURL(config.repoURL, repoName)\n    const localRepoURL = fixupLegacyRepoURL(config.localRepoURL, repoName)\n\n    const sparqlUrl = getCgiUrl('sparql', repoName, repoURL, localRepoURL)\n    const autoLoginUrl = getCgiUrl('login', repoName, repoURL, localRepoURL)\n    const isLoggedInUrl = getCgiUrl('isloggedin', repoName, repoURL, localRepoURL)\n    const repoLoginUrl = this.constructRepoLoginPath(config.bbsparqlendpoint, sparqlUrl)\n\n    const goToLoginPage = () => this.props.history.replace(repoLoginUrl, this.props.location.pathname)\n\n    return {projectPath, viewerPath, repo: repoName, repo2, isAutoLogin, psw, login, autoLoginUrl, sparqlUrl, isLoggedInUrl,\n      repoURL, localRepoURL, repoLoginUrl, goToLoginPage}\n  }\n\n  shouldConnectToWistorBackend(config) {\n    const isConnectedToLocalRepo = config.localRepoURL?.includes(':7200') && window.location.host === 'localhost:3000'\n    if (isConnectedToLocalRepo) return false\n    if (config.deleted) return false\n    if (window.location.search.includes(\"debug=skiplogin\")) return false\n    return Boolean(config.bbsparqlendpoint?.includes?.('repo='))\n  }\n\n  loadNewViewerConfig(viewerPath) {\n    this.setState({\n      viewer: inflateLayout({ ...defaultConfig, path: viewerPath, new: true }),\n      loading: false,\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const viewer = this?.state?.viewer\n    if (viewer == null) return\n\n    if (viewer !== prevState.viewer) {\n      this.props.dispatch({\n        type: 'SET_VIEWER_CONFIG',\n        data: viewer\n      })\n    }\n\n    if (this.state.viewer.update60Enabled) {\n      // console.log(\"we shoud update 60 \",this.state);\n      if (this.props.update60Running) {\n        // console.log(\"but is already running\");\n      } else {\n        if (this.update60) return;\n        this.update60=true;\n\n       //  console.log(\"starting update 60 \");\n         \n      var me =this;\n         setTimeout(function () {\n         \n          me.changingProps()},500 );  // why is this suddenly a problem?\n       // ()\n      }\n    } else {\n     //  console.log(\"update 60 should not be running\")\n      if ( (true) && (this.state.update60Running) ) {\n        console.log(\"disabling update 60\")\n        this.props.dispatch({\n          type: 'PUBLISH',\n          data: {\n            update60Running: false,\n          },\n        })\n        //  console.log(\"disabling update 60\")\n      } else {\n        // console.log(\"update60 is not running\");\n      }\n    }\n\n    const isSaved = this.state.viewer.id != null\n    if (!isSaved) {\n      this.save({ showNotification: false }) // Do not show 'saved' notification on creation of a new app\n    }\n\n  }\n\n   publish = (topic, value) => {\n    this.props.dispatch({ type: 'PUBLISH', data: { [topic]: value } })\n  }\n\n  loadViewerIntoState(viewer) {\n    if (this.loadViewerIntoStateOnlyOnce!=null) return;\n    this.loadViewerIntoStateOnlyOnce=true;\n   // console.log(\"Load Viewer Into State \",viewer);\n    return new Promise((resolve, reject) => {\n      try {\n        this.setState({\n          viewer: inflateLayout(viewer),\n          loading: false,\n          popupInfoVisible: viewer.popupInfoAtStart,\n        }, resolve)\n        this.props.dispatch({ type: SET_LAYOUT_NAME, data: viewer.layoutName })\n        this.registerAppCss(viewer.css)\n\n        var r = getAndSetDefaultParameterValues(viewer);\n        for (var key in r) {\n        //  console.log(\"setting default parameters \",key,r[key])\n          this.publish(key,r[key]);\n        }\n      } catch(e) {\n        reject(e)\n      }\n    })\n  }\n\n  saveTriggers = async (triggers) => {\n    await this.updateViewer({triggers})\n    await this.save()\n  }\n\n  async updateViewer(partialViewer) {\n    return new Promise(resolve => {\n      this.setState({ viewer: { ...this.state.viewer, ...partialViewer } }, () => resolve())\n    })\n  }\n\n  uuidv4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n      (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n    )\n  }\n  changingProps() {\n    if (this.state.update60Running) return\n    if (this.props.update60Running) return\n    // console.log(\"setting first update60 value\");\n\n    this.props.dispatch({\n      type: 'PUBLISH',\n      data: {\n        update60: 'start',\n        update60Running: true,\n      },\n    })\n\n    this.changingProps60(true)\n  }\n\n  changingProps60(b) {\n    if (b || this.state.viewer.update60Enabled) {\n      var me = this\n      if (me.loop60) return\n      me.loop60 = true\n      setTimeout(function () {\n         console.log(\"changing update60 value \");\n        let id = me.uuidv4()\n        me.props.dispatch({\n          type: 'PUBLISH',\n          data: {\n            update60: id,\n          },\n        })\n       // console.log('changing 60')\n        me.loop60 = false\n        me.changingProps60(false)\n      }, 60000)\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer)\n    this.keepAlive('destroy')\n    Viewer._instance = null\n  }\n\n  onChange = (config) => {\n    let viewer = { ...this.state.viewer, mainArea: config }\n    this.setState({ viewer })\n  }\n\n  selectLayout = (layoutName) => {\n    let viewer = inflateLayout({ ...this.state.viewer, layoutName })\n    this.setState({ viewer })\n    this.props.dispatch({ type: SET_LAYOUT_NAME, data: layoutName })\n  }\n\n  /** @type {Promise<void> | null} */\n  savingPromise = null\n  save = async (opts) => {\n    if (this.savingPromise) {\n      try {\n        await this.savingPromise\n      } catch (e) {\n        // ignore\n      }\n    }\n\n    this.registerAppCss(this.state?.viewer?.css)\n    this.savingPromise = this.saveImpl(opts)\n    return this.savingPromise\n  }\n\n  saveImpl = async ({showNotification = true} = {}) => {\n    let viewer = this.state.viewer\n    delete viewer.project\n\n    const { projectPath, viewerPath } = getViewProps(this.props)\n\n    try {\n      const response = await axios({\n        method: viewer.new ? 'post' : 'put',\n        url: `/api/projects/${projectPath}/viewers` + (viewer.new ? '' : `/${viewerPath}`),\n        headers: { Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}` },\n        data: viewer,\n      })\n      const { data } = response\n\n      if (showNotification) {\n        if (this.timer) clearTimeout(this.timer)\n        this.setState({ notification: { text: 'saved', type: 'success' } })\n        this.timer = setTimeout(() => this.setState({ notification: {} }), 3000)\n      }\n\n      this.setState({ viewer: inflateLayout({ ...data, new: false }) })\n      const {project, ...strippedData} = data\n      this.props.dispatch({ type: 'SAVE_VIEWER_SUCCESS', data: strippedData })\n\n    } catch(error) {\n\n      if (error.response.status === 401) {\n        this.props.history.push('/login', `projects/${projectPath}/${viewerPath}`)\n      } else {\n        this.setState({\n          notification: {\n            text: 'not saved: ' + error.response.data,\n            type: 'failure',\n          },\n        })\n        this.timer = setTimeout(() => this.setState({ notification: {} }), 3000)\n      }\n\n    }\n  }\n\n  /**\n   * @param {string} [appCssJson] appCss JSON-string of something that should be Record<string, string | number>\n   */\n  registerAppCss (appCssJson) {\n    if (!appCssJson) return this.props.dispatch({type: 'SET_APP_CSS'})\n    try {\n      const appCss = JSON.parse(appCssJson)\n      this.props.dispatch({type: 'SET_APP_CSS', data: appCss})\n    } catch(e) {\n      console.error(e)\n    }\n  }\n\n  onDialogOkClick = () => {\n    this.setState({ dialogVisible: false })\n    this.save()\n  }\n\n  onHeaderClick = (e) => {\n    if (getViewProps(this.props).mode === 'edit') {\n      this.setState({ dialogVisible: true })\n    }\n  }\n\n  jsonOKClick = () => {\n    this.setState({ showJSONEditor: false })\n  }\n\n  /**\n   * @param voterId {string}\n   * @param userActionsDisabled {boolean}\n   */\n  voteToDisableUserActions = (voterId, userActionsDisabled) => {\n    this.props.dispatch({\n      type: \"VOTE_USER_ACTIONS_DISABLED\",\n      data: { voterId, value: userActionsDisabled }\n    })\n  }\n\n  render() {\n    // console.log(\"viewer render function\",this);\n    if (this == null) return <Spinner />\n    //  if (true){ var id=\"halalo\"; this.props.history.push('/loginbb?id='+id, this.props.location.pathname); return null;}\n    if (this.state == null) return <Spinner />\n    if (this.state.loading) return <Spinner />\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    let viewer = this.state.viewer\n    if (!viewer || viewer.deleted) return (\n      <p>This viewer does not exist or has been deleted. Please contact an admin if this is a problem.</p>\n    )\n\n    var me = this\n    document.st = function () {\n      viewer.notShowTop = false\n      me.setState({ notShowTop: false })\n    }\n    document.preview = function () {\n      getViewProps(this.props).mode = 'preview'\n      me.setState({ mode: 'preview' })\n    }\n    document.edit = function () {\n      getViewProps(this.props).mode = 'edit'\n      me.setState({ mode: 'edit' })\n    }\n\n    let notification = this.state.notification\n    const { mode, projectPath, viewerPath } = getViewProps(this.props)\n\n    let showBottom = viewer.notShowBottom\n    if (showBottom == null) {\n      showBottom = true\n    } else {\n      showBottom = !showBottom\n    }\n\n    let showTop = viewer.notShowTop\n    if (showTop == null) {\n      showTop = true\n    } else {\n      showTop = !showTop\n    }\n\n    let css = viewer.css\n    if (css) {\n      try {\n        css = JSON.parse(css)\n      } catch (error) {\n        css = {}\n      }\n    } else {\n      css = {}\n    }\n\n    const { repo: repoName } = this.viewerParams(viewer)\n\n    return (\n      <div className={styles.wrapper} style={css}>\n        {viewer.triggers?.map(trigger => (\n          <SparqlTriggerExecutor\n            signalIsFetching={(isFetching) => {\n              if (trigger.voteForUserActionsDisabledWhenLoading)\n                this.voteToDisableUserActions(trigger.label, isFetching)\n            }}\n            key={trigger.label}\n            templateId={trigger.label}\n            endpoint={getCgiUrl('sparql', repoName, viewer.repoURL, viewer.localRepoURL)}\n            sparqlTemplate={trigger.sparqlQuery}\n            pubVars={this.props.pubsub}\n            publish={this.publish}\n            dispatch={this.props.dispatch}\n          />))}\n        <div className={styles.mainContainer}>\n\n          <Helmet>\n            <title>{viewer.title}</title>\n            {viewer.project && (\n              <link\n                rel=\"icon\"\n                type=\"image/png\"\n                href={`${window.CONNECTED_APPS_STATIC ? '.' : ''}/favicon-${viewer.project.path}.png`}\n                sizes=\"16x16\"\n              />\n            )}\n          </Helmet>\n          <Notification messageType={notification.type} text={notification.text} />\n\n          {!showTop && loginState.isLoggedIn && (\n            <>\n              {(new URLSearchParams(window.location.search)).get('hover') === 'app-variables' && (\n                <AppVariables />\n              )}\n            </>\n          )}\n\n          <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n            {!window.CONNECTED_APPS_STATIC && (\n              <ConfigurationTopBar\n                loginState={loginState}\n                openAppSettings={() => {this.setState({ dialogVisible: true}) }}\n                mode={mode}\n                projectPath={projectPath}\n                viewerPath={viewerPath}\n                repoURL={viewer.repoURL}\n                saveTriggers={this.saveTriggers}\n                triggers={viewer.triggers ?? []}\n              />\n            )}\n            <div style={{ position: 'relative', flexGrow: 1, overflow: 'auto', display: 'flex', flexDirection: 'column' }}>\n              {showTop && (\n                <Fragment>\n                  <Header\n                    title={viewer.title}\n                    subtitle={viewer.subtitle}\n                    repoURL={viewer.repoURL}\n                    localRepoURL={viewer.localRepoURL}\n                    bbsparqlendpoint={viewer.bbsparqlendpoint}\n                    pageWidth={viewer.pageWidth}\n                    parseUrlProperties={viewer.parseUrlProperties}\n                    logoutbutton={viewer.logoutbutton}\n                    noLoginButton\n                    logoURL={viewer.logoURL}\n                    onInfoClick={viewer.infoMessage ? () => this.setState({ popupInfoVisible: true }) : null}\n                  />\n                </Fragment>\n              )}\n\n              <div className={styles.main} style={{ maxWidth: viewer.pageWidth }}>\n                <div className={styles.areaContainer}>\n                  <Area\n                    reauth={this.reauth.bind(this, viewer)}\n                    config={viewer.mainArea}\n                    onChange={this.onChange}\n                    mode={mode}\n                    repoName={repoName}\n                    repoURL={viewer.repoURL}\n                    localRepoURL={viewer.localRepoURL}\n                    parseUrlProperties={viewer.parseUrlProperties}\n                    sparqlErrorMessage={viewer.sparqlErrorMessage}\n                    parameterValues={viewer.parameterValues}\n                    save={this.save}\n                  />\n                </div>\n              </div>\n\n              {this.state.viewer.layout?.showFooter && (\n                <Footer onClick={mode === 'edit' ? this.onHeaderClick : null} config={viewer.footer} />\n              )}\n\n            </div>\n          </div>\n\n          <InfoDialog\n            style={{ zIndex: 1337 }}\n            maxWidth=\"xl\"\n            open={Boolean(this.state.popupInfoVisible && viewer.infoMessage)}\n            onClose={() => this.setState({ popupInfoVisible: false })}\n          >\n            <div className={styles.infoDialogueContainer}>\n              <AutoHyperlink text={viewer.infoMessage} />\n            </div>\n          </InfoDialog>\n\n          {this.state.dialogVisible && (\n            <Dialog>\n              <FormGroup>\n                <Label>Layout</Label>\n                <Select\n                  className=\"dark-form-control form-control white-font-override\"\n                  onChange={(e) => this.selectLayout(e.target.value)}\n                  value={this.state.viewer.layoutName || ''}\n                >\n                  <MenuItem value={LAYOUT_NAME.CUSTOM}>Custom</MenuItem>\n                  <MenuItem value={LAYOUT_NAME.ORIGINAL}>Original</MenuItem>\n                </Select>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Title</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.title || ''}\n                  type=\"text\"\n                  onChange={(e) => this.updateViewer({ title: e.target.value })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Subtitle</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.subtitle || ''}\n                  type=\"text\"\n                  onChange={(e) => this.updateViewer({ subtitle: e.target.value })}\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Info message</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.infoMessage || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, infoMessage: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.popupInfoAtStart ?? false}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          popupInfoAtStart: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  show popup info at start\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>pre app javascript</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.prejs || ''}\n                  type=\"javascript\"\n                  onChange={(e) => {\n                    this.setState({\n                      viewer: { ...viewer, prejs: e.target.value },\n                    })\n                  }}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>bb repo and app parameters</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.bbsparqlendpoint || ''}\n                  type=\"text\"\n                  onChange={(e) => {\n                    this.setState({\n                      viewer: { ...viewer, bbsparqlendpoint: e.target.value },\n                    })\n                  }}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Sparql endpoint</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.repoURL || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, repoURL: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>local sparql endpoint (http://localhost:7200/repositories/test)</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.localRepoURL}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, localRepoURL: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>sparql endpoint error message</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.sparqlErrorMessage || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: {\n                        ...viewer,\n                        sparqlErrorMessage: e.target.value,\n                      },\n                    })\n                  }\n                />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Logo URL</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.logoURL || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, logoURL: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label style={{ display: 'flex', gap: '1rem' }}>\n                  <div style={{ flexGrow: 1 }}>\n                    Global CSS in JSON formaat, bijvoorbeeld: {'{\"fontFamily\": \"Exo\"}'}\n                  </div>\n                  <FontListButton />\n                </Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.css || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, css: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Pagina breedte</Label>\n                <Input\n                  className=\"dark-form-control\"\n                  value={viewer.pageWidth || ''}\n                  type=\"text\"\n                  onChange={(e) =>\n                    this.setState({\n                      viewer: { ...viewer, pageWidth: e.target.value },\n                    })\n                  }\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>default parameter values </Label>\n                <JsonTextEditor value={viewer.parameterValues || ''}\n                                onValueChange={value => {\n                                  this.setState({\n                                    viewer: { ...viewer, parameterValues: value },\n                                  })\n                                }} />\n              </FormGroup>\n\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.update60Enabled}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          update60Enabled: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  enable update60 parameter refresh at 60s interval\n                </Label>\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.parseUrlProperties}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          parseUrlProperties: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  parse url parameters as property values\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.notShowTop}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: { ...viewer, notShowTop: e.target.checked },\n                      })\n                    }\n                  />{' '}\n                  do not show top\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.logoutbutton}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          logoutbutton: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  show logout button in the header\n                </Label>\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.notShowBottom}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: {\n                          ...viewer,\n                          notShowBottom: e.target.checked,\n                        },\n                      })\n                    }\n                  />\n                  do not show bottom\n                </Label>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Config in JSON formaat</Label>\n                <JsonEditor\n                  exportFileName={`${this.state.viewer?.project?.path}-${this.state.viewer?.path}-config.${formatDate(new Date(), 'yyyy-MM-dd.HHmm')}.json`}\n                  value={viewer}\n                  onValueChange={config => {\n                    if (config == null) return\n                    this.setState(prevState => ({\n                      viewer: {\n                        ...config,\n                        id: prevState.viewer.id,\n                        user: prevState.viewer.user,\n                        path: prevState.viewer.path,\n                        project: prevState.viewer.project,\n                        createdAt: prevState.viewer.createdAt,\n                      }\n                    }))\n                  }} />\n              </FormGroup>\n              <FormGroup>\n                <Label>\n                  <Input\n                    checked={viewer.public}\n                    className={styles.settingsCheckbox}\n                    type=\"checkbox\"\n                    onChange={(e) =>\n                      this.setState({\n                        viewer: { ...viewer, public: e.target.checked },\n                      })\n                    }\n                  />\n                  publiek\n                </Label>\n              </FormGroup>\n              <div style={{ textAlign: 'center' }}>\n                <Button color=\"primary\" style={{ minWidth: '120px', marginTop: '12px' }} onClick={this.onDialogOkClick}>\n                  OK\n                </Button>\n              </div>\n            </Dialog>\n          )}\n        </div>\n        <ToastContainer\n          position=\"bottom-right\"\n          autoClose={3000}\n          hideProgressBar\n          newestOnTop={true}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    )\n  }\n}\n\nfunction getViewProps(props) {\n  if (window.CONNECTED_APPS_STATIC)\n    return {\n      mode: 'preview',\n      projectPath: window.PROJECT,\n      viewerPath: window.VIEWER,\n    }\n\n  return {\n    mode: props.match.params.mode,\n    projectPath: props.match.params.projectPath,\n    viewerPath: props.match.params.viewerPath,\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  project: state.project,\n  loginState: state.login,\n  pubsub: state.pubsub,\n})\n\nexport default connect(mapStateToProps)(Viewer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"TableCells_main__1LDXq\",\"list\":\"TableCells_list__Baqjh\",\"firstItemBold\":\"TableCells_firstItemBold__8TtNe\",\"link\":\"TableCells_link__3I5-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Yasgui_main__2QBJb\",\"buttonContainer\":\"Yasgui_buttonContainer__3Nrd0\",\"tableContainer\":\"Yasgui_tableContainer__36LQd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullscreen\":\"BBHTML_fullscreen__1xDzG\",\"fullwindow\":\"BBHTML_fullwindow__3laee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"SequencePaths_main__3J324\",\"pathSegment\":\"SequencePaths_pathSegment__pWb5f\",\"refresh\":\"SequencePaths_refresh__2DLmt\",\"threeColorTemplate\":\"SequencePaths_threeColorTemplate__3vOol\",\"label\":\"SequencePaths_label__Z4T5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonsContainer\":\"Button_buttonsContainer__1LJk_\",\"button\":\"Button_button__d0b-b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Notifications_main__19VRm\",\"box\":\"Notifications_box__1mf7Y\"};","import React from 'react'\nimport styles from './Table.module.css'\nimport {\n  restructureResponse,\n  generateEmptyResponse,\n  aggregateResultsByFirstParameter,\n} from '../../helpers/sparql'\nimport PublishUtils from './../../helpers/PublishUtils'\nimport { Icon } from './Icon'\nimport Command from '../../helpers/Command'\nimport { Link, Tooltip } from '@mui/material'\nimport { runStartRule } from \"../../helpers/run-start-rule\"\n\n// import { Table as StrapTable } from 'reactstrap';\n\n\n\nfunction camelCaseToSpaces(str) {\n\n\n  str = str.replace(/([a-zA-Z])(?=[A-Z])/g, '$1 ').toLowerCase()\n  str=str.replace(\"_\",\" \");\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nconst check = <Icon icon=\"check\" color=\"green\" />\nconst cross = <Icon icon=\"times\" color=\"red\" />\nconst crossDel = <Icon className={styles.deleteIcon +  \" \" + styles.link} icon=\"times\" color=\"grey\" />\n\n\n\nclass Table extends React.Component {\n\n  getHeader(s)\n  {\n    try\n    { \n      var json=JSON.parse(this.props.replaceHeaderJSON);\n        var rs =json[s];\n        if (rs!=null) return rs;\n    }\n    catch(e)\n    {}\n    return camelCaseToSpaces(s);\n  }\n\n  deleteClick = async (item) => {\n    const rule = this.props.deletebuttonrule\n    if (rule == null) {\n      window.alert(\"This function is not available, as no rule has been configured for the delete button\")\n      return\n    }\n\n    if (!window.confirm(\"Are you sure you want to delete this?\")) {\n      return\n    }\n\n    try {\n      this.props.setLoading(true)\n      await runStartRule(rule, JSON.stringify({\n        ...item,\n        ...(this.props.deletebuttonruleParams ?? {})\n      }))\n\n      PublishUtils.setTimeStampParameter(this, false)\n    } catch (e) {\n      window.alert(\"An error occurred during deletion\")\n      console.error(e)\n    } finally {\n      this.props.setLoading(false)\n    }\n  }\nshouldComponentUpdate(props, state,x)\n{\n  //var r=super.shouldComponentUpdate(props,state,x);\n  if (props.data==this.props.data) \n  {\n    if (this.props.highlightVariable== null)     return false;\n    var par =this.props.highlightVariable;\n    let selectedUri = this.props.pubsub[par];\n    let selectedUri2 = props.pubsub[par];\n    if (selectedUri==selectedUri2) return false;\n\n  }\n \n  if (this.props.resetSelectedValueWhenNotAvailable)\n  {\n    //not implemented. is seleteduri available?\n   \n    if (this.props.publishVariable != null) {\n      let parameter = this.props.publishVariable\n      let selectedUri = this.props.pubsub[parameter]\n      if (selectedUri!=null)\n      {\n        // is reset? \n        if (selectedUri!=PublishUtils.resetUri)\n        {\n        // console.log(\"should reset value\",selectedUri,props);\n          this.props.publish(parameter,PublishUtils.resetUri);\n          return false;\n          \n      \n        }\n      }\n    }\n  }\n      \n  \n  return true;\n}\n\n  onClick = async uri => {\n\n    if (uri==null) return;\n    if (uri.length<2) return;\n\n    if ((uri!=null) && (uri==\"http://www.example.org/5c3c96ea1d83d8396b87bc0b\") ) return;\n   \n\n    await PublishUtils.resetParameter(this)\n    this.props.publish(this.props.publishVariable, uri)\n  }\n  openLink = (url) => {\n\n  \n    if (url==null) return;\n    if (url.length<2) return;\n    window.open(url, '_blank')\n  }\n\n  \n  \n\n  render() {\n   \n    var data = this.props.data;\n    //if (data ==null) console.log(\"Table renderer heeft geen data\",this.props.pubsub.datasets);\n    if ( this.props.data==null || this.props.data.results==null || this.props.data.results.bindings==null ||this.props.data.results.bindings.length == 0) {\n      if (this.props.renderEmpty) {\n        data = generateEmptyResponse(this.props.query)\n        // console.log(\"table rende empty \",this.props.query, this.props);\n      } else {\n        try {\n          if (this.props.zeroResult != null) {\n            if (\n              this.props.zeroResult != null &&\n              this.props.data.results &&\n              this.props.data.results.bindings.length === 0\n            ) {\n              var label = this.props.zeroResult\n              return (\n                <div className={styles.main}>\n                  <p>{label}</p>\n                </div>\n              )\n            }\n          }\n        } catch (e) {}\n        \n        return null\n      }\n    }\n   // console.log(\"rendering table not empty\");\n\n    let selectedUri = null\n\n    if (this.props.highlightVariable != null) {\n      let parameter = this.props.highlightVariable\n      selectedUri = this.props.pubsub[parameter]\n    }\n   \n    let headVars = data.head.vars\n    let items = restructureResponse(data)\n\n    if (this.props.aggregateResultsByID) {\n      items = aggregateResultsByFirstParameter(items, headVars[0])\n    }\n\n    const columnNames = headVars.filter((columnName) => {\n      if (columnName.endsWith('URI')) return false\n      if (columnName.endsWith('URL')) return false\n      if (columnName.endsWith('Icon')) return false\n      if (columnName.endsWith('IconSize')) return false\n      if (columnName.endsWith('IconColor')) return false\n      if (columnName.endsWith('HIDDEN')) return false\n      return true\n    })\n\n    const center = this.props.centerContent ? styles.centertext : ''\n    const hasDeleteColumn = Boolean(this.props.deletebuttonrule)\n    return (\n      <div className={styles.main}>\n        {this.props.title && (\n          <div className={styles.title}>{this.props.title}</div>\n        )}\n        <table>\n          {!this.props.hideHeader && (\n            <thead>\n              <tr>\n                {this.props.hasNumberedRows && (\n                  <th className={styles.rowNumberHeader +\"  \"+center} key={-1}></th>\n                )}\n                {columnNames.map((columnName, index) => ( \n                  <th className={center} key={index}>{this.getHeader(columnName)}</th>\n                ))}\n                  {hasDeleteColumn && (\n                  <th className={styles.rowNumberHeader +\"  \"+center} key={-2}>delete</th>\n                )}\n              </tr>\n            </thead>\n          )}\n          <tbody>\n            {items.map((item, index) => (\n              <tr key={index}>\n\n                {this.props.hasNumberedRows && (\n                  <td className={styles.rowNumber+\" \"+center}>{index + 1}</td>\n                )}\n\n                {columnNames.map((columnName, index) => {\n                  const value = item[columnName] || ''\n                  const uri = item[columnName + 'URI']\n                  const url = item[columnName + 'URL']\n                  const icon = item[columnName + 'Icon']\n                  const iconSize = item[columnName + 'IconSize']\n                  const iconColor = item[columnName + 'IconColor']\n\n                  const content = (() => {\n                    if (icon) return (\n                      <Tooltip title={value}>\n                        <Icon icon={icon} style={{height: iconSize, color: iconColor}} alt={value} />\n                      </Tooltip>\n                    )\n                    if (value === 'true') return check\n                    if (value === 'false') return cross\n                    return value\n                  })()\n\n                  return (\n                    <td key={index} className={center}>\n                      {(uri || url)\n                        ? <Link\n                            component=\"button\"\n                            className={(()=> {\n                              if (uri) return `${styles.link} ${styles.inlineblock} ${uri === selectedUri ? styles.highlight : ''}`\n                              if (url) return `${styles.link} ${styles.inlineblock}`\n                              throw new Error('this should be unreachable')\n                            })()}\n                            onClick={() => {\n                              if (uri) return this.onClick(uri)\n                              if (url) return this.openLink(url)\n                              throw new Error('this should be unreachable')\n                            }}\n                            dangerouslySetInnerHTML={this.props.ashtml ? {__html: content} : undefined}\n                          >\n                            {this.props.ashtml ? undefined : content}\n                          </Link>\n                        : this.props.ashtml\n                          ? <div dangerouslySetInnerHTML={{__html: content}} />\n                          : content\n                      }\n                    </td>\n                  )\n                })}\n\n                {hasDeleteColumn && (\n                  <td onClick={() => this.deleteClick(item)} key={index} className={styles.iconcenter+\" \"+center}>\n                    {crossDel}\n                  </td>\n                )}\n\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Table\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggle-switch\":\"ToggleSwitch_toggle-switch__3mZfo\",\"switch\":\"ToggleSwitch_switch__19J5H\"};","import {clsx, type ClassValue} from 'clsx'\nimport {twMerge} from 'tailwind-merge'\n\nexport function mergeClasses(...args: ClassValue[]) {\n  return twMerge(clsx(args))\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"WidgetWrapper_wrapper__2_llH\",\"clickable\":\"WidgetWrapper_clickable__2Ptdx\"};","import { Component, createRef } from 'react'\n\nimport ReactDOM from 'react-dom'\nimport { generateEmptyResponse } from '../../../helpers/sparql'\nimport './BBIFrame.css'\n\nimport throttle from 'lodash/throttle'\nimport PublishUtils from '../../../helpers/PublishUtils'\nimport AfterJS from '../../../helpers/AfterJS'\nimport { parseTextForVariables } from '../../../helpers/sparql'\nimport './bbutil'\nimport {getSparqlFunction} from '../../../helpers/utils'\n\nimport Command from '../../../helpers/Command';\nimport { getAbsoluteRepoUrl } from '../../../helpers/url'\n\nimport shallowCompare from 'react-addons-shallow-compare'; \n\nimport _ from 'lodash';\nimport { setupUserInputMessenger } from '../../../helpers/user-input-messenger'\nimport { toast } from 'react-toastify'\n\nclass BBIFrame extends Component {\n  iframeRef = createRef()\n\n  state = {\n    imgViz: false,\n    selectedUri: null,\n    reloadID: 1,\n  }\n\n  static htmln = 0\n  static scrolling = 'no'\n  noEvents = false;\n  usesParameters=true;\n\n   // handy for Iface js to use\n   getAbsoluteRepoUrl=getAbsoluteRepoUrl;  \n   parseTextForVariables=parseTextForVariables;\n\n  command = Command;\n  commandInstance = new Command(this);\n\n  publishUtils = PublishUtils;\n\n showToast(msg,severity) {\n    if (severity==null) severity=\"info\";\n    toast(msg, { type: severity })\n\n }\n\n  uploadSuccessfulAfter() {\n    //console.log(\"after upload\");\n    PublishUtils.setTimeStampParameter(this, true)\n  }\n  \n\n   executeSparql(sparql,rv,errorRV){\n\n    \n     let qq =parseTextForVariables(sparql, this.props);\n     \n      if (this.query==null)\n      {\n        this.query=getSparqlFunction(this.props);\n      }\n\n\n      \n    this.query(qq,function(arg){\n       \n       if (rv!=null) rv.call(this,arg);}\n       ,function(arg2){\n        if (errorRV!=null) errorRV.call(this,arg2);\n        \n        console.log(arg2);\n      \n      });\n     \n\n   }\n\n  onClick = (event, uri) => {\n   \n    var me = this\n    if (uri == null) {\n      uri = event\n    }\n    if (\n      event != null &&\n      event === 'http://www.bbsgroep.nl/application/v2/hasTextOutput'\n    ) {\n      me.noEvents = true\n      var pvar = me.props.publishTextVariable\n      if (pvar != null) {\n        me.props.publish(pvar, uri)\n        //PublishUtils.resetParameter(me);\n      }\n      me.noEvents = false\n\n      return\n    }\n    if (\n      event != null &&\n      event === 'http://www.bbsgroep.nl/application/v2/hasVar1Output'\n    ) {\n      me.noEvents = true\n      pvar = me.props.publishVariable1\n      if (pvar != null) {\n        if (uri !== event) {\n          me.props.publish(pvar, uri)\n        }\n        //PublishUtils.resetParameter(me);\n      }\n      me.noEvents = false\n\n      return\n    }\n\n    //console.log(\"continuing\");\n    me.noEvents = true\n    var pvar = me.props.publishVariable\n    //console.log(pvar);\n    if (pvar != null) {\n      // console.log(\"event iframe, setting variable \",pvar,uri,me)\n      me.props.publish(pvar, uri)\n      //  console.log(\"run after selection  \",AfterJS);\n      try {\n        AfterJS.runAfterSelection(me)\n      } catch (e) {\n        console.log(e)\n      }\n      // console.log(\"run after selection ended\");\n      PublishUtils.resetParameter(me)\n    }\n    me.noEvents = false\n  }\n\n  getUrl() {\n    return ''\n  }\n\n  componentDidMount() {\n    var me = this\n    this.mounted = true\n    // var iframe=ReactDOM.findDOMNode(this);\n    var div = ReactDOM.findDOMNode(this).parentNode\n\n    div.setAttribute('style', 'position:relative;')\n\n    if (this.iface != null) {\n      try {\n        if (me.iface.afterIntegration != null) {\n          me.iface.afterIntegration(this.props)\n        }\n      } catch (e) {\n        console.log(e)\n      }\n      this.updateMe(null)\n    }\n  }\n\n   getObjectDiff(obj1, obj2) {\n    const diff = Object.keys(obj1).reduce((result, key) => {\n        if (!obj2.hasOwnProperty(key)) {\n            result.push(key);\n        } else if (_.isEqual(obj1[key], obj2[key])) {\n            const resultKeyIndex = result.indexOf(key);\n            result.splice(resultKeyIndex, 1);\n        }\n        return result;\n    }, Object.keys(obj2));\n\n    return diff;\n}\n\n\n  shouldComponentUpdate(arg, arg2) {\n   // console.log(this.getUrl()+\" should update \",this.mounted,this.iface,this.noEvents );\n    if (!this.mounted) {return false;}\n    if (this.iface == null) {return false;}\n    if (this.noEvents) {return false;}\n     var pubsubNew= _.cloneDeep(arg.pubsub);\n     var pubsubOrg= _.cloneDeep(this.props.pubsub);\n     delete pubsubOrg.update60;\n     delete pubsubOrg.update60Timestamp;\n     delete pubsubOrg.update60Running;\n     delete pubsubOrg.update60RunningTimestamp;\n    \n     delete pubsubNew.update60;\n     delete pubsubNew.update60Timestamp;\n     delete pubsubNew.update60Running;\n     delete pubsubNew.update60RunningTimestamp;\n    \n     \n     \n   // if (shallowCompare(this, arg, arg2)==false && _.isEqual(arg.pubsub, this.props.pubsub))\n   if (shallowCompare(this, arg, arg2)==false && _.isEqual(pubsubNew, pubsubOrg))\n  // if (_.isEqual(this.state, arg2) && _.isEqual(pubsubNew, pubsubOrg))\n    {\n    //  console.log(\"shallowcompare says false for update for \",this.getUrl());\n       return false;\n      }\n\n      //console.log(arg.pubsub,this.props.pubsub)\n    //console.log(this.getUrl()+\" should update\",_.isEqual(this.state,arg2),this.getObjectDiff(this.state, arg2),this.getObjectDiff(pubsubNew, pubsubOrg));\n    return true\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.updateMe(this.props, this.state)\n\n    if (this.iface.onComponentDidUpdate) {\n      this.iface.onComponentDidUpdate(prevProps, prevState)\n    }\n  }\n\n  registerMe() {\n   // console.log(\"IFRAME register me \"+this.getUrl());\n\n    var me = this\n\n    setupUserInputMessenger(me.iframeRef.current.contentWindow)\n\n    me.iface.me = me\n    // console.log(\"add set loading to iface\");\n    me.iface.setLoading = function (arg) {\n      me.props.setLoading(arg)\n    }\n    me.iface.setMessage=function(msg)\n    {\n     //hier norents toaster functie\n     if (msg==null)return;\n     try\n     {\n        me.props.sendNotification(msg)\n     }\n     catch(e){}\n     console.log(\"Toaster msg:\",msg)\n\n\n    }\n\n    if (me.iface.widget == null) {\n      me.iface.widget = {\n        sendEvent: function (e, arg) {\n          var pvar = me.props.publishVariable\n          if (pvar != null) {\n            //  console.log(\"running iframe onclick event \",e,arg);\n            me.onClick(arg)\n            me.setState({ selectedUri: arg })\n          }\n        },\n        publish: this.publish,\n        publishList: this.publishList,\n        test: function () {\n          console.log('test')\n        },\n        reExecuteSparql: function () {\n          try {\n            me.reExecuteSparql()\n          } catch (e) {\n            console.log(e)\n          }\n        },\n      }\n    }\n\n    if (this.mounted) {\n      try {\n        if (me.iface.afterIntegration != null) {\n          //  console.log(\"after integration called\");\n          me.iface.afterIntegration()\n        }\n      } catch (e) {\n        console.log(e)\n      }\n      //console.log(\"registerMe this.updateMe\"+this.getUrl());\n      this.updateMe(this.props)\n    }\n  }\n\n  publish = (publishVariableName, value) => {\n    \n    const publishVariable = this.props[publishVariableName]\n    if (!publishVariable) return\n  //console.log(this.getUrl(),publishVariable,value);\n    this.props.publish(publishVariable, value)\n  }\n\n  publishList = (publishVariableName, publishVariableParameterTypeName, list) => {\n    const publishVariable = this.props[publishVariableName]\n    if (!publishVariable) return\n   // console.log(this.getUrl(),publishVariableName,publishVariableParameterTypeName,list);\n    const publishVariableParameterType = this.props[publishVariableParameterTypeName]\n    const singleValue = PublishUtils.getListAsSingleValue(publishVariableParameterType, list)\n    this.props.publish(publishVariable, singleValue)\n  }\n\n  //updateMe = throttle((arg,arg2) => { this.updateMe2(arg,arg2)}, 200)\n  updateMe =this.updateMe2;\n  updateMe2(arg={} , arg2={}) {\n   \n    var me = this;\n    var data = arg.data\n   \n    \n       \n    try {\n      if (me.props.data == null && data == null && me.firstData22 != null) {\n     //  console.log(\"setbegin sparql results   1\");\n        var q = me.props.query\n        if (me.props.basequery) q = me.props.basequery\n        if (arg.executedSparql != null) q = arg.executedSparql\n        let qq = null\n        if (q != null) {\n          qq = parseTextForVariables(q, arg)\n        }\n\n        me.iface.setBeginSparqlResults(me.firstData22, q, null, null, qq)\n        delete me.firstData22\n      } else {\n    //   console.log(arg.data,me.latestData22);\n        if (arg.data != null) {\n          if (me.latestData22 != arg.data)\n           {\n            let q = arg.query\n            if (arg.executedSparql != null) q = arg.executedSparql\n\n            let qq = null\n            if (q != null) {\n              qq = parseTextForVariables(q, arg)\n            }\n           // console.log(this.getUrl(),\"BB IFRAME SET BEGIN SPARQL results  2\",this.props.pubsub,arg.pubsub);\n            me.iface.setBeginSparqlResults(arg.data, q, null, null, qq)\n            me.latestData22 = arg.data\n          }\n          else {\n           // console.log(\" not updating latest data22 == arg.data\");\n            \n          }\n        } else {\n         //  console.log(me.props.data,me.latestData22 !=me.props.data)\n          if (me.props.data != null) {\n           \n            if (me.latestData22 != me.props.data) {\n             \n              let q = me.props.query\n              if (arg.executedSparql != null) q = arg.executedSparql\n\n              let qq = null\n              if (q != null) {\n                qq = parseTextForVariables(q, arg)\n              }\n                // console.log(\"set sparql\");\n              me.iface.setBeginSparqlResults(me.props.data, q, null, null, qq)\n              me.latestData22 = me.props.data\n            }\n          } else {\n           // console.log(this.props.basequery);\n            if (me.props.basequery != null) {\n              me = this\n              if (me.onlyOnce == null) {\n                me.onlyOnce = 'done'\n                if (me.props.basequery.length > 10) {\n                //     console.log(\"iframe geen data maar wel een base query\",this.props.basequery);\n                  window.top.query(me.props.basequery, function (data) {\n                    me.firstData22 = data\n                    me.updateMe(null)\n                  })\n                }\n              }\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.log(e)\n    }\n\n      \n    //console.log(\"me iface setPubSub \",this.iface,this.props.pubsub);\n    //console.log(arg);\n    try {\n      this.iface.setPubSub(arg.pubsub)\n    } catch (e) {}\n    if (arg == {}) {\n      arg = this.props\n    }\n    //console.log(\"updateMe  \"+this.getUrl());\n   \n    this.setSelection(arg)\n  }\n\n  setSelection(arg) {\n   // console.log(\"iframe setSelection \",arg,this.getUrl());\n    try {\n      var pvar = arg.subscribeVariable\n      if (pvar != null && arg.pubsub != null) {\n        var selectionValue = arg.pubsub[pvar]\n\n        if (\n          selectionValue != null &&\n          this.state != null &&\n          this.state.selection !== selectionValue\n        ) {\n          if (this.iface != null) {\n            // console.log(\"set Selection iface \",selectionValue);\n            this.iface.selectUri(selectionValue)\n            this.state.selection = selectionValue //eslint-disable-line react/no-direct-mutation-state\n            // this.iface.setBeginSparqlResults(me.props.data,me.props.query);\n          } else {\n            // console.log(\"iframe set selection no iface\");\n          }\n        }\n      }\n    } catch (e) {\n      console.log('error met selection ', e)\n    }\n  }\n\n  reload() {\n   \n    this.once = null\n    this.iface = null\n\n    this.onlyOnce = null\n    window.top.Singleton.getInstance().iframes[this.htmlid] = null\n    this.htmlid = null\n   // console.log(\"reload iframe \",this.getUrl());\n    this.setState({ reloadID: Date.now() })\n  }\n\ngetParameters()\n{\n\n   if (!this.usesParameters)\n   {\n  //  console.log(\"NOT USING parameters....\",this.getUrl());\n    return \"?usepar=false\";\n\n   } \n    var par = '?y=y'+Date.now();\n   var title = ''\n   if (this.props.title) {\n     title = this.props.title\n     par += '&title=' + title\n   }\n   var createRoot = ''\n   if (this.props.createRoot) {\n     createRoot = this.props.createRoot\n     par += '&createRoot=' + createRoot\n   }\n   var icon = ''\n   if (this.props.icon) {\n     icon = this.props.icon\n     par += '&icon=' + icon\n   }\n\n   var expandLevel = ''\n   if (this.props.expandLevel) {\n     expandLevel = this.props.expandLevel\n     par += '&expandLevel=' + expandLevel\n   }\n   var direction = ''\n   if (this.props.direction) {\n     direction = this.props.direction\n     par += '&direction=' + direction\n   }\n\n   //onderstaande code moeten we eigenlijk vanaf. IFrame objecten kunnen nu via IFace toegang krijgen\n   par = '';\n   let extra = '?'\n   \n   for (let key in this.props) {\n     if (key === 'loading') continue\n     if (key === 'save') continue\n     if (key === 'query') continue\n     if (key === 'definition') continue\n     if (key === 'children') continue\n     if (key === 'pubsub') continue\n     if (key === 'basequery') continue\n     if (key === 'repoURL') continue\n     if (key === 'localRepoURL') continue\n     if (key === 'sparqlErrorMessage') continue\n     if (key === 'titleMenubar') continue\n     if (key === 'widget') continue\n     if (key === 'panelstyle') continue\n     if (key === 'panelstyle2') continue\n     if (key === 'extendquery') continue\n     if (key === 'jsAfterSelection') continue\n     if (key === 'parameterValues') continue\n     if (key === 'data') continue\n     if (key === 'withinSelectedTab') continue\n     if (key === 'selectguidquery') continue\n     if (key === 'replaceHeaderJSON') continue\n     if (key==\"voteForUserActionsDisabledWhenLoading\") continue;\n     if (key==\"syncWithUserActionsDisabled\") continue;\n     if (key==\"childParameterText\") continue;\n     if (key==\"message\") continue;\n     if (key==\"userActionsDisabled\") continue;\n     if (key==\"layoutName\") continue;\n     if (key==\"infoMenubar\") continue;\n     if (key==\"panelstyleExtra\") continue;\n\n\n     let value = this.props[key]\n\n     if (value != null) {\n       if (typeof value === 'function') continue\n       if (Array.isArray(value)) {\n         continue //value=JSON.stringify(value); console.log(\"submitting array key  to iframe\",key);\n       }\n\n       try {\n         if (value.toString().includes('||')) {\n           value = value.toString().replaceAll('||', '@@')\n         }\n       } catch (e) {}\n       try {\n         value = value.toString().replaceAll('{{', '!@!@')\n       } catch (e) {}\n       try {\n         value = value.toString().replaceAll('}}', '@!@!')\n       } catch (e) {}\n       par += extra + key + '=' + value\n       extra = '&'\n     }\n   }\n\n   return par;\n\n}\n\n\n\n  render() {\n   \n    if (this.once == null) {\n     // if (this.props.withinSelectedTab==false) return null;\n      this.renderOnce();\n      this.once = 'done'\n    }\n    var height = '100%'\n\n    try {\n      if (this.props.height != null) {\n        height = this.props.height\n      }\n    } catch (e) {}\n\n    var reload = 'reload=' + this.state.reloadID // used to reload the whole iframe\n\n    var className = ''\n    if (this.props.className) {\n      className = this.props.className\n    }\n    var par =this.getParameters(); //slowly deprecating this\n\n  //  console.log(par);\n   //reload=\"reload=stable\";\n    let loading = 'lazy'\n    if (par === '') reload = '?' + reload\n    else reload = '&' + reload\n   // console.log(this.htmlid+\"\",process.env.PUBLIC_URL +this.getUrl()+par+reload);\n    //\n    //  console.log(this.state);\n    return (\n      <iframe //eslint-disable-line jsx-a11y/iframe-has-title\n        id={this.htmlid}\n        ref={this.iframeRef}\n        loading222={loading}\n        className={className}\n        width=\"100%\"\n        height={height}\n        frameBorder=\"0\"\n       // referrerPolicy=\"same-origin\" \n        scrolling={this.scrolling}\n        src={process.env.PUBLIC_URL + this.getUrl() + par+reload }\n      />\n    )\n  }\n  renderOnce() {\n    var me = this\n    this.getUrl() // setting BBIFrame...\n  //  console.log('render once ' + this.getUrl())\n    try {\n      if (!this.props.data || this.props.data.results.bindings.length === 0) {\n        if (this.props.renderEmpty) {\n          //  console.log(\"IFRAME GENERATING EMPTY RESPONSE\");\n          this.firstData22 = generateEmptyResponse(this.props.query)\n        }\n      }\n    } catch (error) {}\n\n    if (this.htmlid == null) {\n      BBIFrame.htmln++\n      this.htmlid = 'iframe' + BBIFrame.htmln\n      //  console.log(this.htmlid,this);\n    }\n    if (window.top.Singleton.getInstance().iframes == null) {\n      window.top.Singleton.getInstance().iframes = {}\n    }\n\n    window.top.Singleton.getInstance().iframes[this.htmlid] = function (arg) {\n      me.iface = arg\n      me.registerMe()\n    }\n  }\n}\nexport default BBIFrame\n","import { store, useSelector } from \"../store\"\n\nexport type PublishedDict = Record<string, any>\n\nexport type PublishAction = {\n  type: PublishType\n  data: any\n}\n\nexport type PublishType = 'PUBLISH' | 'PUBLISH2'\n\ndeclare global {\n  interface Window {\n    changes: any\n  }\n}\n\nexport default function handlePubSub(state: PublishedDict = {}, action: PublishAction) {\n  switch (action.type) {\n\n    case 'PUBLISH': {\n      const timestamp = Date.now()\n      const dataWithTimestamps: any = action.data\n      for (const n in action.data) dataWithTimestamps[n+\"Timestamp\"] = String(timestamp);\n\n      if (window.top != null) window.top.changes = dataWithTimestamps; // used by popup button. I would like to make this more generic\n      action.data = dataWithTimestamps; // why is wistor not working when using this. so basically why can Wistor not handle multiple parameter changes at once?\n      return { ...state, ...action.data }\n    }\n\n    case 'PUBLISH2': {\n      console.log('publish 2', state, action.data)\n      return state\n    }\n\n    default: {\n      return state\n    }\n\n  }\n}\n\nexport function usePubsub() {\n  const pubsub = useSelector(s => s.pubsub ?? {}) as Record<string, unknown>\n  return [ pubsub, publish ] as const\n}\n\nexport function getPubsub() {\n  return (store.getState()?.pubsub ?? {}) as Record<string, unknown>\n}\n\nexport function publish(topic: string, value: unknown) {\n  store.dispatch({\n    type: \"PUBLISH\",\n    data: { [topic]: value }\n  })\n}\n","export function isValidUri(candidate: string) {\n  try {\n    new URL(candidate)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n","import { FormGroup as ReactStrapFormGroup } from \"reactstrap\"\nimport { FormGroupProps } from \"reactstrap/types/lib/FormGroup\"\n\nexport function FormGroup(props: FormGroupProps) {\n  return (\n    <ReactStrapFormGroup data-form-field {...props} />\n  )\n}\n","export default __webpack_public_path__ + \"static/media/gear-white.9f887544.svg\";","export default __webpack_public_path__ + \"static/media/gear-blue.dbaac633.svg\";","import BBIFrame from './BBIFrame'\nimport PublishUtils from './../../../helpers/PublishUtils'\n\nexport default class BBVis extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/w2ui/visgraph.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'false'\n    this.noEvents = false\n    this.usesParameters=false;\n  }\n\n  static getDescription() {\n    return {\n      name: 'BBVis',\n      component: BBVis,\n      label: 'graph vis',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          defaultQuery:\"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n\\rPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\\n\\rPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct *\\n\\r\\n\\rwhere\\n\\r{\\n\\r  \\n\\r  bind ( <{{selection}}>  as ?node)\\n\\r    \\n\\r    optional {?node rdfs:label|skos:prefLabel ?nodeLabel2.}\\n\\r\\n\\r bind (STRBEFORE(STR(?node),\\\"#\\\") as ?btext)\\n\\r bind (IF(?btext=\\\"\\\",REPLACE(STR(?node),'([^/]+$)',\\\"\\\"),?btext) as ?nodeType)\\n\\r    bind (IF(BOUND(?nodeLabel2),?nodeLabel2, ?nodeType) as ?nodeLabel)\\n\\r\\n\\r\\n\\r    ?node ?edge ?object.\\n\\r\\n\\r  filter (!ISBLANK(?object))\\n\\r  filter(!ISLITERAL(?object))\\n\\r\\n\\r\\n\\rbind (STRBEFORE(STR(?object),\\\"#\\\") as ?botext)\\n\\r bind (IF(?botext=\\\"\\\",REPLACE(STR(?object),'([^/]+$)',\\\"\\\"),?botext) as ?objectType)\\n\\r\\n\\r   \\n\\r  bind (REPLACE(REPLACE(REPLACE(REPLACE(STR(?edge),\\\"http://www.w3.org/2000/01/rdf-schema#\\\",\\\"rdfs:\\\"),\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\",\\\"rdf:\\\"),\\\"http://www.w3.org/2004/02/skos/core#\\\",\\\"skos:\\\"),\\\"http://www.rws.nl/abdl#\\\",\\\"abdl:\\\") as ?edgeLabel)\\n\\r    optional {?object rdfs:label|skos:prefLabel ?olabel. } \\n\\r    bind (if (BOUND(?olabel),?olabel, ?object) as ?objectLabel2)\\n\\r\\n\\r bind (REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?objectLabel2),\\\"http://www.w3.org/2000/01/rdf-schema#\\\",\\\"rdfs:\\\"),\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\",\\\"rdf:\\\"),\\\"http://www.w3.org/2004/02/skos/core#\\\",\\\"skos:\\\"),\\\"http://www.rws.nl/abdl#\\\",\\\"abdl:\\\"),\\\"https://bimloket.nl/data/kernmodel/thesaurus#\\\",\\\"cbnl:\\\") as ?objectLabel)\\n\\r\\n\\r\\n\\r\\n\\r}\\n\\r\",\n          label:\n            'to fill the graph. Use node nodeLabel edge edgeLabel object objectLabel. optional hier (true false) for hierarchical rep. shape/shapeO (e.g circle) for node shape. objectType & nodeType voor kleur/groepering ',\n        },\n        {\n          name: 'extendquery',\n          type: 'yasgui',\n          label: '  {{uri}} and Use  edge edgeLabel object objectLabel',\n          defaultQuery:`PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\n          PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n          \n          PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n          \n          \n          select distinct *\n          \n          \n          where\n          \n          {\n          \n            \n          \n            bind ( <{{uri}}>  as ?node)\n          \n              \n          \n              optional {?node rdfs:label|skos:prefLabel ?nodeLabel2.}\n          \n          \n           bind (STRBEFORE(STR(?node),\"#\") as ?btext)\n          \n           bind (IF(?btext=\"\",REPLACE(STR(?node),'([^/]+$)',\"\"),?btext) as ?nodeType)\n          \n              bind (IF(BOUND(?nodeLabel2),?nodeLabel2, ?nodeType) as ?nodeLabel)\n          \n          \n          \n              ?node ?edge ?object.\n          \n          \n            filter (!ISBLANK(?object))\n          \n            filter(!ISLITERAL(?object))\n          \n          \n          \n          bind (STRBEFORE(STR(?object),\"#\") as ?botext)\n          \n           bind (IF(?botext=\"\",REPLACE(STR(?object),'([^/]+$)',\"\"),?botext) as ?objectType)\n          \n          \n             \n          \n            bind (REPLACE(REPLACE(REPLACE(REPLACE(STR(?edge),\"http://www.w3.org/2000/01/rdf-schema#\",\"rdfs:\"),\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"rdf:\"),\"http://www.w3.org/2004/02/skos/core#\",\"skos:\"),\"http://www.rws.nl/abdl#\",\"abdl:\") as ?edgeLabel)\n          \n              optional {?object rdfs:label|skos:prefLabel ?olabel. } \n          \n              bind (if (BOUND(?olabel),?olabel, ?object) as ?objectLabel2)\n          \n          \n           bind (REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?objectLabel2),\"http://www.w3.org/2000/01/rdf-schema#\",\"rdfs:\"),\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"rdf:\"),\"http://www.w3.org/2004/02/skos/core#\",\"skos:\"),\"http://www.rws.nl/abdl#\",\"abdl:\"),\"https://bimloket.nl/data/kernmodel/thesaurus#\",\"cbnl:\") as ?objectLabel)\n          \n          \n          \n          \n          }\n          \n          `\n        },\n        {\n          name: 'edgelabels',\n          type: 'boolean',\n          label: 'show edge labels using edgeLabel',\n        },\n        {\n          name: 'useLocalNames',\n          type: 'boolean',\n          label: 'use local names for labels',\n        },\n\n        {\n          name: 'legend',\n          type: 'boolean',\n          label: 'show legend based upon parameters objectType and nodeType',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        {\n          name: 'direction',\n          type: 'select',\n          label: 'direction layout',\n          options: [\n            {\n              label: 'Vertical starting from top',\n              value: 'UD',\n            }, //UD, DU, LR, RL\n            {\n              label: 'Vertical starting from bottom',\n              value: 'DU',\n            }, //UD, DU, LR, RL\n            {\n              label: 'Horizontal starting from left',\n              value: 'LR',\n            }, //UD, DU, LR, RL\n            {\n              label: 'Horizontal starting from right',\n              value: 'RL',\n            },\n          ],\n        },\n        {\n          name: 'edgetype',\n          type: 'select',\n          label: 'edge type',\n          options: [\n            { label: 'none', value: null },\n            {\n              label: 'to',\n              value: 'to',\n            }, //UD, DU, LR, RL\n            {\n              label: 'from',\n              value: 'from',\n            }, //UD, DU, LR, RL\n            {\n              label: 'middel',\n              value: 'middle',\n            }, //UD, DU, LR, RL\n            {\n              label: 'to and from',\n              value: 'to;from',\n            },\n          ],\n        },\n        {\n          name: 'hierarchical',\n          type: 'boolean',\n          label: 'hierarchical',\n        },\n\n        {\n          name: 'dragNodes',\n          type: 'boolean',\n          label: 'drag nodes',\n        },\n        {\n          name: 'editable',\n          type: 'boolean',\n          label: 'editable',\n        },\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n      ],\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport Table from '../../Table'\n\nclass BBKVKFlexibleTextWidget extends Component {\n  static getDescription() {\n    return {\n      name: 'BBKVKFlexibleTextWidget',\n      component: BBKVKFlexibleTextWidget,\n      label: 'BBKVKFlexibleTextWidget widget',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix \"URI\", eg: ?object ?objectURI.',\n        },\n      ],\n    }\n  }\n\n  componentDidMount2(arg, arg2) {\n    console.log(this.props, arg, arg2)\n  }\n  shouldComponentUpdate2(arg) {\n    console.log(arg)\n    return true\n  }\n  openLink = (url) => {\n    window.open(url, '_blank')\n  }\n\n  analyseResults(results) {\n    var rc = {}\n    if (results == null) {\n      return rc\n    }\n    for (var n in results.bindings) {\n      var binding = results.bindings[n]\n      // console.log(binding,results);\n      if (binding.page != null) {\n        rc.page = binding.page.value\n      }\n    }\n\n    return rc\n  }\n\n  render() {\n    if (!this.props.data || this.props.data.results.bindings.length === 0) {\n      return null\n    }\n    var rc = this.analyseResults(this.props.data.results)\n    if (rc.page != null) {\n      return (\n        <div>\n          <p>\n            <a target=\"_blank\" href={rc.page}> {/*eslint-disable-line react/jsx-no-target-blank*/}\n              open wet in nieuwe tab\n            </a>\n            <Table {...this.props}></Table>\n          </p>\n        </div>\n      )\n    }\n    return <Table {...this.props}></Table>\n  }\n}\n\nexport default BBKVKFlexibleTextWidget\n","import { useSortable } from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\n\nexport function SortableItem(props: {\n  id: string\n  className?: string\n  children: React.ReactNode\n}) {\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id: props.id });\n\n  return (\n    <div\n      ref={setNodeRef}\n      {...attributes}\n      {...listeners}\n      className={props.className}\n      style={{\n        transform: CSS.Translate.toString(transform),\n        transition: transition\n      }}\n    >\n      {props.children}\n    </div>\n  );\n}\n","import { Parser } from 'sparqljs'\n\nexport function restructureResponse(data) {\n  let items = (data && data.results.bindings) || []\n  items = items.map((item) => {\n    let res = {}\n    Object.keys(item).forEach((key) => {\n      res[key] = item[key].value\n    })\n    return res\n  })\n\n  return items\n}\n\nexport function aggregateResultsByFirstParameter(restructuredData, id) {\n  let items = restructuredData || []\n  var id_item = {}\n  for (var n in items) {\n    var item = items[n]\n    var gitem = id_item[item[id]]\n    if (gitem == null) {\n      gitem = item\n      id_item[item[id]] = gitem\n    } else {\n      // aggregeren maar\n      for (var key in item) {\n        gitem[key] = item[key]\n      }\n    }\n  }\n\n  return Object.values(id_item)\n}\n\nwindow.top.downloadObjectAsJson = function (exportObj, exportName) {\n  var dataStr =\n    'data:text/json;charset=utf-8,' +\n    encodeURIComponent(JSON.stringify(exportObj))\n  var downloadAnchorNode = document.createElement('a')\n  downloadAnchorNode.setAttribute('href', dataStr)\n  downloadAnchorNode.setAttribute('download', exportName + '.json')\n  document.body.appendChild(downloadAnchorNode) // required for firefox\n  downloadAnchorNode.click()\n  downloadAnchorNode.remove()\n}\n// window.top.saveCache=function()\n// {\n//   var exportName=\"spcache.js\";\n//   console.log(\"bewerk de download: json==>js. replace \\  '  . begin/eind quotes\");\n//   var content =\"document.cache={\"+JSON.stringify(document.cache).substr(1).slice(0, -1)+\"};\";\n//   var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(content);\n//   var downloadAnchorNode = document.createElement('a');\n//   downloadAnchorNode.setAttribute(\"href\",     dataStr);\n//   downloadAnchorNode.setAttribute(\"download\", exportName );\n//   document.body.appendChild(downloadAnchorNode); // required for firefox\n//   downloadAnchorNode.click();\n//   downloadAnchorNode.remove();\n\n// }\nwindow.top.downloadConfig = function () {\n  window.top.downloadObjectAsJson(window.top.data, 'config')\n}\n\n\nexport function generateEmptyResponse(sparql) {\n  var sp = new Parser()\n  var parsed = null\n  try {\n    if (sparql == null) {\n      sparql = 'select ?a ?aURI ?c where {?a ?aURI ?c}'\n    }\n    var sparql2 = sparql\n      .replace(new RegExp('<{{', 'g'), '<http://')\n      .replace(new RegExp('}}>', 'g'), '.nl>')\n    parsed = sp.parse(sparql2)\n  } catch (eee) {\n    sparql2 = 'select ?a ?aURI ?c where {?a ?aURI ?c}'\n    parsed = sp.parse(sparql2)\n  }\n\n  var vars = parsed.variables\n\n  var empty = { head: { vars: [] } }\n  empty.results = { bindings: [] }\n  var bindings = empty.results.bindings\n  var record = {}\n  bindings.push(record)\n  for (var n in vars) {\n    if (Array.isArray(vars[n])) {\n      var v = vars[n].slice(1)\n    } else {\n      v = vars[n].variable\n      if (v == null) {\n        v = vars[n]\n      }\n      v = v.replace('?', '')\n    }\n    empty.head.vars.push(v)\n    if (v.endsWith('URI')) {\n      record[v] = {\n        type: 'uri',\n        value: 'http://www.example.org/5c3c96ea1d83d8396b87bc0b',\n      }\n    } else {\n      record[v] = { type: 'literal', value: '' }\n    }\n  }\n\n  return empty\n}\n\nwindow.top.generateEmptyResponse = function () {\n  generateEmptyResponse(null)\n}\n\nexport function parseTextForVariables(query, props) {\n  if (!query) {\n    return\n  }\n  //const regex = /{{\\S*}}/g;\n  const regex = /{{!?[A-Za-z0-9|:]*}}/g\n  let subscribeProps = query.match(regex)\n\n  if (!subscribeProps) {\n    return query\n  }\n\n  subscribeProps = subscribeProps.map((f) => f.replace(/[{}]/g, ''))\n  subscribeProps = [...new Set(subscribeProps)] // remove duplicates\n\n  for (var i = 0; i < subscribeProps.length; i++) {\n    let subscribeProp = subscribeProps[i]\n    let subscribeValue = props.pubsub[subscribeProp]\n    if (subscribeValue == null) {\n      console.log('found empty property', subscribeProp)\n    }\n\n    if (subscribeProp.includes('||')) {\n      let subscribeProp2 = subscribeProp.split('||')[0]\n      subscribeValue = props.pubsub[subscribeProp2]\n      if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n        subscribeValue = null\n      }\n\n      //  console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n      if (subscribeValue == null) {\n        var prop = subscribeProp.split('||')[1].split('||')[0].split('::')[0]\n        subscribeValue = props.pubsub[prop]\n        if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n          subscribeValue = null\n        }\n      }\n    }\n    if (subscribeProp.includes('::') && subscribeValue == null) {\n      let subscribeProp2 = subscribeProp.split('::')[0]\n      subscribeValue = props.pubsub[subscribeProp2]\n      if (subscribeValue === 'http://www.buildingbits.nl/reset') {\n        subscribeValue = null\n      }\n      // console.log(subscribeProp,subscribeValue,subscribeProp.split(\":\")[1]);\n      if (subscribeValue == null) {\n        subscribeValue = subscribeProp.split('::')[1]\n      }\n    }\n\n    const negationPattern = /^!(.+)$/\n    const negationMatch = subscribeProp.match(negationPattern)\n    if (negationMatch) {\n      const negatedSubscribeProp = negationMatch[1]\n      const value = props.pubsub[negatedSubscribeProp]\n      const booleanValue = String(value).toLowerCase() === 'true'\n      subscribeValue = !booleanValue\n    }\n\n    //   console.log(subscribeProp,subscribeValue);\n    subscribeProp = subscribeProp.replaceAll('||', '\\\\|\\\\|')\n    let regex2 = new RegExp(`{{${subscribeProp}}}`, 'g')\n\n    try {\n      query = query.replace(regex2, subscribeValue)\n      // console.log(\"results \",query);\n    } catch (e) {\n      console.log(\n        'ERROR ',\n        query,\n        subscribeValue,\n        subscribeProps,\n        this.props.pubsub[subscribeProp]\n      )\n    }\n  }\n  return query\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backButton\":\"BackButton_backButton__A_0bp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deleteIcon\":\"DeleteAppConfigButton_deleteIcon__1t14v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3jVtO\"};","import React, { Component } from 'react'\nimport styles from './Notifications.module.css'\n\nclass Notification extends Component {\n  render() {\n    if (!this.props.text) return null\n\n    let color = '#007bff'\n    let type = this.props.type\n    if (type === 'success') color = 'green'\n    if (type === 'failure') color = 'red'\n\n    return (\n      <div className={styles.main}>\n        <div className={styles.box} style={{ backgroundColor: color }}>\n          {this.props.text}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Notification\n","import React, { Component, Fragment } from 'react'\nimport styles from './Table2.module.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCopy } from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  restructureResponse,\n  generateEmptyResponse,\n} from '../../helpers/sparql'\n\n// import { Table as StrapTable } from 'reactstrap';\n\nfunction camelCaseToSpaces(str) {\n\n \n  \n  str = str.replace(/([a-zA-Z])(?=[A-Z])/g, '$1 ').toLowerCase()\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\n\n\n\nclass TableRow extends Component \n{\n\n  getHeader(s)\n{\n  try\n  { \n    var json=JSON.parse(this.props.replaceHeaderJSON);\n      var rs =json[s];\n      if (rs!=null)\n      return rs;\n  }\n  catch(e)\n  {}\n  return camelCaseToSpaces(s);\n}\n\n\n  onClick = function (uri, url) {\n   \n   if ((uri!=null) && (uri==\"http://www.example.org/5c3c96ea1d83d8396b87bc0b\") ) return; // uri is used for createing an example... \n    try\n    {\n          if ((uri!=null) && (uri.toString().substring(0,15)==\"function link()\") && (url==null) )\n          {\n            //console.log(\"no click action\");\n          return;\n          }\n    }catch(e){}\n   \n    if (url != null) {\n      this.openLink(url);\n      return\n    }\n    try {\n      eval(this.props.onClick) //eslint-disable-line no-eval\n    } catch (error) {\n      console.log(error)\n    }\n    setTimeout(() => {\n      if (uri==null) return;\n      if (uri.length<2) return;\n      this.props.publish(this.props.publishVariable, uri)\n    }, 0)\n    // console.log(uri);\n  }\n\n  openLink = (url) => {\n\n    window.open(url, '_blank')\n  }\n\n  render() {\n    let valueObject = this.props.valueObject\n    let secondValueObject = null\n    try {\n      if (valueObject != null && valueObject.value != null) {\n        if (valueObject.value.includes('&&')) {\n          secondValueObject = valueObject.value.split('&&')[1]\n          valueObject.value = valueObject.value.split('&&')[0]\n\n          //console.log(valueObject.value,secondValueObject);\n        }\n      }\n    } catch (e) {\n      console.log(e)\n    }\n    let index = this.props.index\n    let html = this.props.html\n    let rawHTML = valueObject.value;\n\n    let copyButton=false;\n    let copyValue=\"hans was here\";\n    if (valueObject.copyValue!=null)\n    {\n      copyButton=true\n      copyValue=valueObject.copyValue;\n    }\n  \n    return (\n      <Fragment>\n      <tr className={index !== undefined ? styles.list : ''}>\n        <td>{!index && this.getHeader(this.props.headVar)}</td>\n\n        {valueObject.link || valueObject.link2 ? (\n          <td\n            className={styles.link}\n            onClick={() => this.onClick(valueObject.link, valueObject.link2)}\n          >\n            {\n              (html = true ? (\n                \n                <div dangerouslySetInnerHTML={{ __html: rawHTML }}></div>\n              \n              ) : (\n                <td> <div> {\"\"+valueObject.value} </div>\n                 {copyButton && \n <FontAwesomeIcon  className={styles.copyicon} size=\"sm\" icon={faCopy}  \n  onClick={() => {\n    // Logic for copying something goes here\n    navigator.clipboard.writeText(copyValue);\n  }}\n  ></FontAwesomeIcon>  }\n                </td>\n              ))\n            }\n          </td>\n        ) : html ? (\n          <td>\n            <div dangerouslySetInnerHTML={{ __html: rawHTML }} />\n            {copyButton && \n <FontAwesomeIcon  className={styles.copyicon} size=\"sm\" icon={faCopy}  \n  onClick={() => {\n    // Logic for copying something goes here\n    navigator.clipboard.writeText(copyValue);\n  }}\n  ></FontAwesomeIcon>  }\n          </td>\n        ) : (\n          <td> {valueObject.value} \n                  {copyButton && \n <FontAwesomeIcon  className={styles.copyicon} size=\"sm\" icon={faCopy}  \n  onClick={() => {\n    // Logic for copying something goes here\n    navigator.clipboard.writeText(copyValue);\n  }}\n ></FontAwesomeIcon>  }\n          </td>\n        )}\n\n          \n      \n        {secondValueObject != null && <td> {secondValueObject} </td>}\n      </tr>\n      </Fragment>\n    )\n  }\n}\n\n\n\n\n\nclass Table2 extends Component {\n  static getDescription() {\n    return {\n      name: 'Table2',\n      component: Table2,\n      label: 'Table2 widget',\n      variables: [\n        {\n          name: 'query',\n          defaultQuery:\"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n\\r\\n\\rselect distinct ?label ?subClassURI  ?subClass ?comment\\n\\rwhere\\n\\r{\\n\\r    graph ?g\\n\\r  {\\n\\r      <{{cls}}> rdfs:label ?label.\\n\\r      optional { <{{cls}}> rdfs:comment ?comment}\\n\\r      optional { <{{cls}}> rdfs:subClassOf ?subClassURI.?subClassURI rdfs:label ?subClass.}\\n\\r  }\\n\\r\\n\\r}\",\n          type: 'yasgui',\n          label:\n            'Query to fill table. If table item should be a link, than the you should add a property with the same name with suffix \"URI\", eg: ?object ?objectURI. For HTML rendering add the suffix \"HTML\". use the parameter extension CopyValue to add a copy button',\n        },\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which tree item URI is published, when a link in the table  is clicked.',\n        },\n        {\n          name: 'replaceHeaderJSON',\n          type: 'text',\n          label:\n            'Key value JSON that replaces parameter headers. {\"label\":\"naam (volledig)\"}',\n        },\n\n        {\n          name: 'renderEmpty',\n          type: 'boolean',\n          label: 'render an empty table',\n        },\n        {\n          name: 'zeroResult',\n          type: 'text',\n          label:\n            'text to display when sparql results is valid but has zero results',\n        },\n        {\n          name: 'isFirstItemBold',\n          type: 'boolean',\n          label: 'First item bold',\n        },\n        {\n          name: 'vertical',\n          type: 'text',\n          label: 'vertical presentation',\n        },\n        {\n          name: 'title',\n          type: 'text',\n          label: 'Titel boven de tabel',\n        },\n        {\n          name: 'onClick',\n          type: 'javascript',\n          label: 'Code that runs before link click event.',\n        },\n      ],\n    }\n  }\n\n  createStateValues(items) {\n    let res = {}\n    for (var i = 0; i < items.length; i++) {\n      let item = items[i]\n      Object.keys(item).forEach((key) => {\n        if (key.endsWith('URI')) return\n        if (key.endsWith('URL')) return\n        if (key.endsWith('CopyValue')) return\n        let obj = { value: item[key] }\n\n        if (item[key + 'URI']) obj.link = item[key + 'URI']\n        if (item[key + 'URL']) obj.link2 = item[key + 'URL']\n        if (item[key + 'CopyValue']) obj.copyValue = item[key + 'CopyValue']\n        if (!res[key]) {\n          res[key] = obj\n        } else if (Array.isArray(res[key])) {\n          if (!res[key].filter((re) => re.value === obj.value).length) {\n            res[key].push(obj)\n          }\n        } else if (res[key].value !== item[key]) {\n          res[key] = [res[key], obj]\n        }\n      })\n    }\n\n    Object.keys(res).forEach((key) => {\n      if (Array.isArray(res[key])) {\n        res[key].sort((a, b) => a.value.localeCompare(b.value))\n      }\n    })\n\n    return res\n  }\n  shouldComponentUpdate22(props,state)\n  {\n   \n    let data = this.props.data\n    //  console.log(data);\n    if (!data || !data.results || data.results.bindings.length === 0) {\n      if (this.props.renderEmpty) {\n        data = generateEmptyResponse(this.props.query);\n       \n        if ((this.state.loading==null ) || (this.state.loading==true) )\n        {\n          this.setState({loading:false} );\n          \n\n        }\n        \n        \n      } \n    }\n    return true;\n\n  }\n\n  \n\n  render() {\n    //console.log(\"table 2 render function \");\n    let data = this.props.data\n    //  console.log(data);\n    if (!data || !data.results || data.results.bindings.length === 0) {\n      if (this.props.renderEmpty) {\n        \n        data = generateEmptyResponse(this.props.query);\n      \n        \n      } else {\n        return null\n      }\n    }\n\n    try {\n      if (this.props.zeroResult != null) {\n        if (\n          this.props.zeroResult != null &&\n          this.props.data.results &&\n          this.props.data.results.bindings.length === 0\n        ) {\n          var label = this.props.zeroResult\n          return (\n            <div className={styles.main}>\n              <p>{label}</p>\n            </div>\n          )\n        }\n      }\n    } catch (e) {}\n\n\n\n\n\n\n\n\n    let items = restructureResponse(data)\n    if (!items.length) return null\n    let valuesObj = this.createStateValues(items)\n\n    //if (this.state.loading) {console.log(\"table2 loading\");}\n\n    let disabled = false\n    if (this.state != null) {\n      if (this.state.loading) {\n        disabled = true\n       // console.log('Disabling table2 ')\n      }\n    }\n\n    return (\n      <div\n        disabled={disabled}\n        className={\n          styles.main +\n          (this.props.isFirstItemBold ? ' ' + styles.firstItemBold : '')\n        }\n      >\n        {this.props.title && (\n          <div className={styles.headertxt}>{this.props.title}</div>\n        )}\n        <table>\n          {/* <thead>\n          <tr>\n            {data.head.vars.map((headVar, index) => (\n              <th key={index}>{headVar}</th>\n            ))}\n          </tr>\n        </thead> */}\n          <tbody>\n            {data.head.vars.map((headVar) => {\n              if (headVar.endsWith('URI')) {\n                return null\n              }\n              if (headVar.endsWith('URL')) {\n                return null\n              }\n              if (headVar.endsWith('CopyValue')) {\n                return null\n              }\n              let valueObject = valuesObj[headVar]\n              //if (!valueObject) return null;\n              if (!valueObject) valueObject = ''\n              var html = false\n              if (headVar.endsWith('HTML')) {\n                headVar = headVar.substr(0, headVar.length - 4)\n                html = true\n              }\n\n              if (Array.isArray(valueObject)) {\n                return valueObject.map((val, index) => {\n                  return (\n                    <TableRow\n                      {...this.props}\n                      key={index}\n                      index={index}\n                      valueObject={val}\n                      headVar={headVar}\n                      html={html}\n                    />\n                  )\n                })\n              } else {\n                return (\n                  <TableRow\n                    key={headVar}\n                    {...this.props}\n                    index={0}\n                    valueObject={valueObject}\n                    headVar={headVar}\n                  />\n                )\n              }\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Table2\n","import './bbutil'\nimport BBIFrame from './BBIFrame'\nimport PublishUtils from '../../../helpers/PublishUtils'\n\nclass BBIFCViewer extends BBIFrame {\n  getUrl = () => `/${window.bbFolderName}/static/iframes/ifcviewer/indexFragments.html`\n\n  constructor() {\n    super()\n\n    this.scrolling = 'no'\n    this.noEvents = false\n\n    //this.updateMe=this.updateMe2; // no throttle\n    //console.log(\"noThrottle\");\n\n    \n  }\n\n  static getDescription() {\n    return {\n      name: 'BBIFCViewer',\n      component: BBIFCViewer,\n      label: 'BBIFCViewer',\n      variables: [\n        {\n          name: 'query',\n          type: 'yasgui',\n          label:\n            ' Use ?uri ?expressID ?file. optionally ?highlight boolean . Optionally use ?color for automatic coloring.',\n        },\n\n        {\n          name: 'publishVariable',\n          type: 'text',\n          label:\n            'Variabele in which an item URI is published, when a feature in the map is clicked.',\n        },\n        {\n          name: 'subscribeVariable',\n          type: 'text',\n          label:\n            'Published uri variabele on which to listen to define selection.',\n        },\n        PublishUtils.getResetValueDef(),\n        {\n          name: 'className',\n          type: 'text',\n          label: 'iframe classNames',\n        },\n        {\n          name: 'resetparameter',\n          type: 'text',\n          label: 'resets the viewer when this parameter changes (BETA)',\n        },\n        {\n          name: 'reloadparameter',\n          type: 'text',\n          label: 'reloads the IFCviewer when this parameter changes for more consistent viewer behaviour',\n        },\n        {\n          name: 'selectguidquery',\n          type: 'yasgui',\n          label:\n            ' Use ?guid to highlight (make red) objects in the 3d viewer',\n        },\n      ],\n    }\n  }\n\n  state = { selectedUri: null }\n\n  shouldComponentUpdate(nprops, nstate) {\n    let b = super.shouldComponentUpdate(nprops, nstate)\n    try {\n      let par = nprops['resetparameter']\n      if (par != null) {\n        let par1 = this.props.pubsub[par]\n        let npar1 = nprops.pubsub[par]\n\n        if (par1 !== npar1) {\n          if (this.iface.resetViewer != null) {\n            this.iface.resetViewer()\n          }\n        }\n      }\n    } catch (e) {}\n    try {\n      let par = nprops['reloadparameter']\n      if (par != null) {\n        let par1 = this.props.pubsub[par]\n        let npar1 = nprops.pubsub[par]\n\n        if (par1 !== npar1) {\n          console.log(\"reload BBIFCViewer\");\n          this.reload();\n          return true\n        }\n      }\n    } catch (e) {}\n\n    return b\n  }\n}\n\nexport default BBIFCViewer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconButton\":\"ToggleWidget_iconButton__3ySlG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Loader_overlay__2dwX4\"};","import { getAbsoluteRepoUrl } from '../helpers/url'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  export const getAndSetDefaultParameterValues=(props,myPublish)=> \r\n  {\r\n      var r={}\r\n  try {\r\n    //cgi parameter\r\n //   console.log(this.props);\r\n \r\n\r\nvar ss=getAbsoluteRepoUrl(props.repoURL).split('sparql');\r\n let cgi = ss[0];\r\n //let cgi = props.repoURL.replace('sparql', '')\r\n var repoUrl=\"\";\r\n if(ss.length>1)\r\n {\r\n    repoUrl=ss[1].substring(1)+\"/\";\r\n   // myPublish('repo', repoUrl);\r\n    r['repo']=repoUrl;\r\n    window.repo=repoUrl;\r\n   \r\n }\r\n //myPublish('cgi', cgi);\r\n //myPublish('repoUrl', getAbsoluteRepoUrl(props.repoURL));\r\n //myPublish('now',  Date.now());\r\n r['cgi']=cgi;\r\n r['repoUrl']= getAbsoluteRepoUrl(props.repoURL);\r\n r['now']=  Date.now();\r\n\r\n\r\n    window.cgi=cgi;\r\n    window.repoURL=getAbsoluteRepoUrl(props.repoURL);\r\n   var p_v = {};\r\n    let params = props.parameterValues\r\n    if (params != null) {\r\n     // console.log(\"handle default parameter values\",params);\r\n    \r\n        params = JSON.parse(params)\r\n\r\n        for (let n in params) {\r\n       //   console.log(\"publishing default parameters \",n,params[n]);\r\n          p_v[n]= params[n];\r\n         \r\n        }\r\n     \r\n      }\r\n  } catch (e) {\r\n   // console.log('error (1) parsing default values json (managed)',e);\r\n    \r\n  }\r\n\r\n\r\n  if (props.parseUrlProperties)\r\n  {\r\n   // console.log(\"handle url properties if available\");\r\n    var me=this;\r\n   \r\n    try\r\n    {\r\n      let search=window.top.window.location.search;\r\n      let u=new URLSearchParams(search);\r\n      let entries = u.entries();\r\n      for(const entry of entries) {\r\n   \r\n       var key2 = entry[0];\r\n       var value2=entry[1];\r\n       p_v[key2]=value2;\r\n\r\n       // this.myPublish(entry[0],entry[1]);\r\n      }\r\n\r\n //     console.log(\"end url properties \");\r\n    }\r\n    catch(e){console.log(e);}\r\n  }\r\n\r\n  if (document.userParameters)\r\n  {\r\n    //  console.log(\"user login properties\",document.userParameters);\r\n      try\r\n      {\r\n           for (var key in document.userParameters)\r\n           {\r\n            var value=document.userParameters[key];\r\n          //  console.log(key,value);\r\n            p_v[key]=value;\r\n            \r\n           }\r\n      }\r\n      catch(e)\r\n      {}\r\n  }\r\n\r\n   for (var key in p_v)\r\n   {\r\n    \r\n        r[key]=p_v[key];\r\n   }\r\n   return r;\r\n\r\n\r\n}","import { connect } from \"react-redux\"\nimport styles from \"./Viewer.module.css\"\n\nfunction AppVariablesComponent(props: {\n  appVariables: string\n}) {\n  return (\n    <pre className={styles.appVariables}>\n      {JSON.stringify(props.appVariables, undefined, '\\n\\t').slice(1,-1)}\n    </pre>\n  )\n}\n\nfunction mapStateToProps(state: any) {\n  return { appVariables: state.pubsub }\n}\n\nexport const AppVariables = connect(mapStateToProps)(AppVariablesComponent)\n","import { useEffect, useState } from 'react'\nimport { resolveTemplateString } from '../helpers/resolve-template-string'\nimport { OpaqueSparqlResults } from '../helpers/sparqlResultHelpers'\nimport { SparqlTemplate } from '../helpers/SparqlManager'\n\ntype PublishFn = (topic: string, value: unknown) => void\n\nexport function SparqlTriggerExecutor(props: {\n  endpoint: string\n  sparqlTemplate: string\n  templateId: string\n  pubVars: Record<string, any>\n  publish: PublishFn\n  signalIsFetching?: (isFetching: boolean) => any\n}) {\n  const [query, setQuery] = useState<string>()\n  const sparqlManager = useSparqlTemplate(props.templateId, props.endpoint);\n\n  useEffect(() => {\n    try {\n      const resolvedQuery = resolveTemplateString(props.sparqlTemplate, props.pubVars)\n      setQuery(resolvedQuery)\n    } catch(e) { console.error(e) }\n  }, [props.endpoint, props.publish, props.pubVars, props.sparqlTemplate, props.templateId])\n\n  useEffect(() => {\n    if (!query || !sparqlManager) return\n    (async () => {\n      try {\n        props.signalIsFetching?.(true)\n        const response = await sparqlManager.fetch(query)\n        props.signalIsFetching?.(false)\n        if (!response.isLatest()) return\n\n        publishResults(response.result, props.publish)\n      } catch(e) { console.error(e) }\n    })()\n  }, [sparqlManager, query]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    return () => props.signalIsFetching?.(false)\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null\n}\n\nfunction useSparqlTemplate(templateId: string, endpoint: string) {\n  const [sparqlManager, setSparqlManager] = useState<SparqlTemplate>()\n  useEffect(() => {\n    setSparqlManager(new SparqlTemplate(endpoint, templateId))\n  }, [templateId, endpoint])\n\n  return sparqlManager\n}\n\nfunction publishResults(results: OpaqueSparqlResults, publish: PublishFn) {\n  const rows = results.results.bindings\n  if (rows.length !== 1) throw new Error('got more than one result')\n\n  for (const topic of results.head.vars) publish(topic, rows[0][topic].value)\n}\n","import clsx from 'clsx'\nimport { Dialog, DialogContent } from '@mui/material'\nimport { faRemove, faAdd, faEdit } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport style from './TriggerPopup.module.css'\nimport formStyle from './basic/Form.module.css'\nimport inputStyle from './basic/Input.module.css'\nimport { Button } from './basic/Button'\nimport { useRef, useState } from \"react\"\nimport { v4 as uuidv4 } from 'uuid'\nimport { SparqlEditor } from './SPARQLEditor'\n\nexport type Draft = {\n  triggers: Trigger[]\n  triggerIdx: number\n}\n\nexport type Trigger = {\n  id: string\n  label: string\n  sparqlQuery: string\n  voteForUserActionsDisabledWhenLoading: boolean\n}\n\nconst DEFAULT_TRIGGER_DRAFT = createDefaultTriggerDraft()\n\nexport function TriggerPopup(props: {\n  triggers: Trigger[]\n  open: boolean\n  onClose: () => void\n  saveTriggers: (triggers: Trigger[]) => Promise<void>\n}) {\n  const [draft, setDraft] = useState<Draft>({\n    triggers: props.triggers.length ? props.triggers : [DEFAULT_TRIGGER_DRAFT],\n    triggerIdx: 0, })\n\n  const labelInputRef = useRef<HTMLInputElement>(null)\n\n  const currentTriggerDraft = draft.triggers[draft.triggerIdx]\n  if (!currentTriggerDraft) throw new Error(`current trigger draft does not exist (index ${draft.triggerIdx})`)\n\n  const selectTrigger = (triggerIdx: number) => setDraft(d => ({ ...d, triggerIdx }))\n\n  const addNewTrigger = () => setDraft(d => ({\n      triggers: [...d.triggers, createDefaultTriggerDraft()],\n      triggerIdx: draft.triggers.length }))\n\n  const editTrigger = (triggerUpdate: Partial<Trigger>) => setDraft(d => ({ ...d,\n    triggers: d.triggers.map((trigger, i) => i === d.triggerIdx ? {...trigger, ...triggerUpdate} : trigger) }))\n\n  const removeTrigger = (removeIdx: number) => setDraft(d => {\n    if (d.triggers.length === 1) return { triggers: [DEFAULT_TRIGGER_DRAFT], triggerIdx: 0 }\n    return {\n      triggers: d.triggers.filter((_, i) => i !== removeIdx),\n      triggerIdx: (() => {\n         if (removeIdx === 0 && d.triggerIdx === 0) return 0\n         if (removeIdx <= d.triggerIdx) return d.triggerIdx - 1\n         return d.triggerIdx\n      })()}\n  })\n\n  return (\n    <Dialog open={props.open} fullWidth maxWidth=\"md\" onClose={() => {}}>\n      <DialogContent style={{ padding: '0' }}>\n        <div className={style[\"popup-content\"]}>\n\n          <nav className={style.sidebar}>\n\n            <div className={style[\"section-header\"]}>\n              <span>Triggers</span>\n              <div className={style[\"tool-bar\"]}>\n                <button type=\"button\" onClick={() => {\n                  addNewTrigger()\n                  requestAnimationFrame(() => {\n                    labelInputRef.current?.focus()\n                    labelInputRef.current?.select()\n                  })\n                } }>\n                  <FontAwesomeIcon icon={faAdd} />\n                  <span>Add</span>\n                </button>\n              </div>\n            </div>\n\n            <div className={style.items}>\n              {draft.triggers.map((trigger, i) => (\n                <button\n                  key={trigger.id}\n                  className={clsx(style.item, style[\"on-hover\"], { [style.active]: i === draft.triggerIdx })}\n                  onClick={() => selectTrigger(i)}\n                >\n                  {i === draft.triggerIdx && (<FontAwesomeIcon icon={faEdit} />)}\n                  <span>{trigger.label}</span>\n                  <div className={clsx(style[\"tool-bar\"])}>\n                    <button type=\"button\" title=\"Remove\" className={style[\"square\"]}>\n                      <FontAwesomeIcon icon={faRemove} onClick={e => {\n                        e.stopPropagation()\n                        removeTrigger(i)\n                      }} />\n                    </button>\n                  </div>\n                </button>\n              ))}\n            </div>\n\n          </nav>\n          <form className={clsx(style.content, formStyle.form)} onSubmit={(e)=> {e.preventDefault()}}>\n\n            <div className={style['form-content']}>\n              <label className={formStyle['form-field']}>\n                <span>Label</span>\n                <input type=\"text\" ref={labelInputRef} required className={inputStyle.input} value={currentTriggerDraft.label}\n                  onChange={e => editTrigger({label: e.target.value})}\n                />\n              </label>\n\n              <label className={formStyle['form-field']}>\n                <span>SPARQL query</span>\n                <SparqlEditor\n                  mode=\"update-value\"\n                  value={currentTriggerDraft.sparqlQuery}\n                  onBlur={(v: string) => editTrigger({sparqlQuery: v})} />\n              </label>\n\n              <label className={clsx(formStyle['form-field'], formStyle.checkbox)}>\n                <input type=\"checkbox\"\n                  checked={currentTriggerDraft.voteForUserActionsDisabledWhenLoading}\n                  onChange={() => editTrigger({\n                    voteForUserActionsDisabledWhenLoading: !currentTriggerDraft.voteForUserActionsDisabledWhenLoading})}\n                />\n                <span>Block User Interaction</span>\n              </label>\n            </div>\n\n            <div className={style['footer']}>\n              <Button variant=\"outline\" onClick={props.onClose}>\n                Cancel\n              </Button>\n              <Button variant=\"primary\" type=\"submit\" onClick={async () => {\n                await props.saveTriggers(draft.triggers)\n                props.onClose()\n              }}>\n                Save\n              </Button>\n            </div>\n\n          </form>\n\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction createDefaultTriggerDraft() {\n  return {\n    id: uuidv4(),\n    label: 'Untitled trigger',\n    sparqlQuery: '',\n    voteForUserActionsDisabledWhenLoading: false\n  }\n}\n","import { Link } from \"react-router-dom\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faUser, faWrench, faPaintBrush, faArrowLeft, faChevronDown, faRightFromBracket, faRotate, faBolt } from \"@fortawesome/free-solid-svg-icons\"\nimport styles from \"./ConfigurationTopBar.module.css\"\nimport { LoginState } from \"../redux/login\"\nimport clsx from \"clsx\"\nimport React, { useState } from \"react\"\nimport { createPortal } from \"react-dom\"\nimport \"@fontsource-variable/exo-2\"\nimport Command from \"../helpers/Command\"\nimport { logout } from \"../api/login\"\nimport { Trigger, TriggerPopup } from './TriggerPopup'\n\nexport function ConfigurationTopBar(props: {\n  isPlatform: boolean\n  loginState: LoginState\n  projectPath: string\n  viewerPath: string\n  repoURL: string\n  openAppSettings: () => void\n  mode: \"edit\" | \"preview\"\n  saveTriggers: (triggers: Trigger[]) => Promise<void>\n  triggers: Trigger[]\n}) {\n  const [ triggerPopupOpen, setTriggerPopupOpen ] = useState(false)\n\n  const logoutApp = () => {\n    Command.sendCommand({\n      props: { repoURL: props.repoURL }\n    }, 'logout', null, function () {\n      window.location.reload()\n    })\n  }\n\n  const logoutPlatform = async () => {\n    await logout()\n    window.location.reload()\n  }\n\n  if (!props.loginState.isLoggedIn || props.loginState.user.role === \"viewer\") {\n    return null\n  }\n\n  return (\n    <>\n      {triggerPopupOpen && createPortal(\n        <TriggerPopup\n          open\n          onClose={() => setTriggerPopupOpen(false)}\n          triggers={props.triggers}\n          saveTriggers={props.saveTriggers}\n        />,\n        document.body)}\n\n      <TopBar small>\n        <Item to={`/projects/${props.projectPath}`}>\n          <FontAwesomeIcon\n            icon={faArrowLeft}\n            className=\"back-button\"\n          />\n        </Item>\n        <Item\n          active={props.mode === 'edit'}\n          to={`/projects/${props.projectPath}/${props.viewerPath}/${props.mode === \"edit\" ? \"\" : \"edit\"}${window.location.search}`}>\n          <FontAwesomeIcon icon={faPaintBrush} />\n          <IconText>Edit widgets</IconText>\n        </Item>\n        <Item onClick={props.openAppSettings}>\n          <FontAwesomeIcon icon={faWrench} className={\"iets\"} />\n          <IconText>App settings</IconText>\n        </Item>\n        <Item onClick={() => setTriggerPopupOpen(true)}>\n          <FontAwesomeIcon icon={faBolt} />\n          <IconText>Triggers</IconText>\n        </Item>\n        <Separator />\n        <Item chevron>\n          <span>{props.loginState.user.name}</span>\n          <FontAwesomeIcon icon={faUser} style={{ marginBottom: '2px' }} />\n          <SubMenu>\n            <Item onClick={() => logoutApp()}>\n              <FontAwesomeIcon icon={faRotate} />\n              <IconText>Log out / reset app session</IconText>\n            </Item>\n            <Item onClick={() => logoutPlatform()}>\n              <FontAwesomeIcon icon={faRightFromBracket} />\n              <IconText>Log out platform</IconText>\n            </Item>\n          </SubMenu>\n        </Item>\n      </TopBar>\n    </>\n  )\n}\n\nfunction TopBar(props: {\n  children: React.ReactNode,\n  small?: boolean\n}) {\n  return <ul className={clsx(styles[\"top-bar\"], {\n    [styles[\"small\"]]: !!props.small\n  })}>{props.children}</ul>\n}\n\nfunction SubMenu(props: {\n  children: React.ReactNode\n}) {\n  return <ul className={styles[\"sub-menu\"]}>{props.children}</ul>\n}\n\nfunction Separator() {\n  return <li className={styles[\"separator\"]} />\n}\n\nfunction IconText(props: {\n  children: React.ReactNode\n}) {\n  return <span className={styles[\"icon-text\"]}>{props.children}</span>\n}\n\nfunction Item(props: {\n  to?: string | null\n  onClick?: () => void\n  children: React.ReactNode\n  active?: boolean\n  chevron?: boolean\n}) {\n  const isClickable = !!props.to || !!props.onClick\n  return (\n    <li className={clsx(styles[\"item\"], {\n      [styles[\"clickable\"]]: isClickable,\n      [styles[\"active\"]]: !!props.active\n    })}>\n      <Link to={props.to ?? \"#\"} onClick={e => {\n        if (!props.onClick) return\n        e.preventDefault()\n        props.onClick()\n      }}>\n        {props.children}\n        {props.chevron && (\n          <FontAwesomeIcon className={styles.chevron} icon={faChevronDown} />\n        )}\n      </Link>\n    </li>\n  )\n}\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\n\n// @ts-ignore\nlibrary.add(fas)\n\nexport { FontAwesomeIcon as Icon }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outerAreaContainer\":\"Area_outerAreaContainer__1pdUe\",\"outerAreaContainerDisplayFlex\":\"Area_outerAreaContainerDisplayFlex__3oBwe\",\"formElement\":\"Area_formElement__3W_sP\",\"SplitLayout\":\"Area_SplitLayout__hItNH\",\"viewMode\":\"Area_viewMode__22c2D\",\"hoverToEdit\":\"Area_hoverToEdit__v_r_E\",\"hoverIndicator\":\"Area_hoverIndicator__15kd1\",\"editArea\":\"Area_editArea__3RVvP\",\"editButtonsContainer\":\"Area_editButtonsContainer__1ksf9\",\"menubar\":\"Area_menubar__2_CUv\",\"marginTop15\":\"Area_marginTop15__3vCPs\",\"marginLeft5\":\"Area_marginLeft5__3sCtD\",\"marginLeft10\":\"Area_marginLeft10__2alkk\",\"menubartxt\":\"Area_menubartxt__EQj6h\",\"editIcon\":\"Area_editIcon__8JQkq\",\"insertIcon\":\"Area_insertIcon__2oUZs\",\"w2ui\":\"Area_w2ui__3N6RM\",\"text11\":\"Area_text11__1KTuO\",\"border\":\"Area_border__34cb1\",\"border2\":\"Area_border2__13qk1\",\"noscrollbar\":\"Area_noscrollbar__3YRnT\",\"padding1\":\"Area_padding1__397z8\",\"padding2\":\"Area_padding2__3Izby\",\"padding3\":\"Area_padding3__2JFZV\",\"none\":\"Area_none__10xlh\",\"noneWhite\":\"Area_noneWhite__399oV\",\"refresh\":\"Area_refresh__2CBU7\",\"threeColorTemplate\":\"Area_threeColorTemplate__2Umlp\",\"zeroBorderRadiusWidget\":\"Area_zeroBorderRadiusWidget__2lsag\",\"areaMenuBarGrey\":\"Area_areaMenuBarGrey__1vKcc\",\"paper\":\"Area_paper__3T4xE\",\"paper2Org\":\"Area_paper2Org__18rhN\",\"noScrollBars\":\"Area_noScrollBars__1rXMI\",\"paper2\":\"Area_paper2__2cZan\",\"toolbar\":\"Area_toolbar__3QKl-\",\"fieldset\":\"Area_fieldset__1vCKX\"};","export function getCgiUrl(\n  cgiService: '' | 'login' | 'logout' | 'isloggedin' | 'sparql',\n  repoName: null | string,\n  repoUrl: string,\n  localRepoUrl?: string\n): string {\n  const absoluteRepoUrlMaybeLegacy = getAbsoluteRepoUrl(repoUrl, localRepoUrl)\n  const absoluteRepoUrl = fixupLegacyRepoURL(absoluteRepoUrlMaybeLegacy, repoName)\n  return absoluteRepoUrl.replace('sparql', cgiService)\n}\n\nexport function getAbsoluteRepoUrl(repoUrl: string, localRepoUrl?: string) {\n  const { origin } = window.location\n  const url = origin.includes('localhost') && localRepoUrl ? localRepoUrl : repoUrl\n\n  if (url.startsWith('http://') || url.startsWith('https://')) return url\n  if (url.startsWith('/')) return origin + url\n  return `${origin}/${url}`\n}\n\n/**\n * Automatically converts legacy repoURL string into correct repoURL string\n * such that it will always end with `servlets/cgi/sparql/${repoName}`\n */\nexport function fixupLegacyRepoURL(repoUrl: string, repoName: null | string) {\n  if (!repoUrl) return repoUrl\n  if (!isProbablyAWistorServletsEndpoint(repoUrl)) return repoUrl\n  if (!repoName) return repoUrl\n  return repoUrl.endsWith('/')\n    ? repoUrl + repoName\n    : repoUrl + '/' + repoName\n}\n\nfunction isProbablyAWistorServletsEndpoint(repoUrl: string) {\n  return /servlets\\/cgi\\/sparql\\/?$/.test(repoUrl);\n}\n","if (Singleton == null) { //eslint-disable-line no-use-before-define\n  var Singleton = (function () {\n    var instance\n\n    function createInstance() {\n      var object = new Object('I am the instance 22') //eslint-disable-line no-new-object\n      return object\n    }\n\n    return {\n      getInstance: function () {\n        if (!instance) {\n          instance = createInstance()\n        }\n        //   console.log(instance);\n        return instance\n      },\n    }\n  })()\n}\n\nif (window.top.Singleton == null) {\n  window.top.Singleton = Singleton\n}\n","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_2\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"512px\",\n    height: \"512px\",\n    viewBox: \"0 0 512 512\",\n    enableBackground: \"new 0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M463.5,257.5c0,5.5-4.4,9.9-9.8,9.9H77.1c-5.4,0-9.8-4.6-9.8-9.9 c0-5.5,4.4-9.9,9.8-9.9h376.6C459.1,247.6,463.5,252.2,463.5,257.5z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M265.4,59.4c2.6,0,5.2,1,7.2,3.1c3.8,4,3.6,10.2-0.3,14l-190.6,181l190.6,181c4,3.8,4.1,10,0.3,14c-3.8,4-10.1,4.1-14,0.3 L52.9,257.5L258.6,62.1C260.5,60.3,262.9,59.4,265.4,59.4z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow-back.e82ca94e.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/add.ca1bc826.svg\";","export default __webpack_public_path__ + \"static/media/wistor-mark-color.27e292d1.svg\";","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Home.module.css'\nimport orderBy from 'lodash/orderBy'\nimport Header from './Header'\nimport Spinner from './Spinner'\nimport add from '../images/add.svg'\nimport { Button, Input, FormGroup, Label } from 'reactstrap'\nimport Dialog from './Dialog'\nimport logo from '../images/wistor-mark-color.svg'\nimport { Helmet } from 'react-helmet'\nimport Footer from './Footer'\nimport { fetchProjects, createProject } from '../redux/projects'\n\nclass Home extends Component {\n  state = { values: {} }\n\n  componentDidMount() {\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n    if (loginState.isLoggedIn && loginState.user.role !== 'superadmin' && loginState.user.project) {\n      return this.props.history.replace(\n        `/projects/${loginState.user.project.path}`\n      )\n    }\n    this.props.fetchProjects((error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'projects')\n      }\n    })\n  }\n\n  onDialogOkClick = () => {\n    this.props.createProject(this.state.values, (error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'projects')\n      }\n    })\n    this.setState({ dialogVisible: false })\n  }\n\n  render() {\n    //   console.log(\"render HOME \",this.props);\n    if (this.props.projects.loading) return <Spinner />\n    if (!this.props.projects.loaded) return null\n\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    let projects = this.props.projects.items\n    // projects = orderBy(projects, ['createdAt'], ['asc']);\n   // console.log(projects, role)\n    projects = orderBy(projects, ['title'], ['asc'])\n    return (\n      <div>\n        <Helmet>\n          <title>Wistor</title>\n          <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" sizes=\"16x16\" />\n        </Helmet>\n        <Header />\n        <div className={styles.mainContainer}>\n          <div className={styles.main}>\n            <div className={styles.content}>\n              <img\n                src={logo}\n                alt=\"logo\"\n                style={{ maxHeight: '96px', margin: '0 12px 12px' }}\n              />\n              <div className={styles.title}>Welcome to Wistor</div>\n              <p className={styles.paragr}>\n                  Data-centric working made easy\n              </p>\n              <div className={styles.subTitle}>Select a project:</div>\n              <div className={styles.projects}>\n                {projects.map((project) => {\n                  return (\n                    <div\n                      className={styles.project}\n                      key={project.id}\n                      onClick={() =>\n                        this.props.history.push(`/projects/${project.path}`)\n                      }\n                    >\n                      <div>{project.title}</div>\n                    </div>\n                  )\n                })}\n                {loginState.user?.role === 'superadmin' && (\n                  <div\n                    className={styles.project}\n                    onClick={() => this.setState({ dialogVisible: true })}\n                  >\n                    <div>\n                      <img className=\"inline\" src={add} alt=\"add\" style={{ width: '24px' }} />\n                      <span\n                        style={{ verticalAlign: 'middle', paddingLeft: '12px' }}\n                      >\n                        Create a new project...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n\n        {this.state.dialogVisible && (\n          <Dialog>\n            <FormGroup>\n              <Label>Title</Label>\n              <Input\n                name=\"title\"\n                className=\"dark-form-control\"\n                value={this.state.values.title || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, title: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Path</Label>\n              <Input\n                name=\"path\"\n                className=\"dark-form-control\"\n                value={this.state.values.path || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, path: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <div style={{ textAlign: 'center' }}>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={() => this.setState({ dialogVisible: false })}\n                aria-label=\"Cancel\"\n              >\n                Cancel\n              </Button>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={this.onDialogOkClick}\n                aria-label=\"OK\"\n              >\n                OK\n              </Button>\n            </div>\n          </Dialog>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  projects: state.projects,\n  loginState: state.login,\n})\n\nexport default connect(mapStateToProps, { fetchProjects, createProject })(Home)\n","import React, { Component } from 'react'\nimport styles from './BackButton.module.css'\nimport { ReactComponent as ArrowBack } from '../images/arrow-back.svg'\nimport { withRouter } from 'react-router-dom'\n\nclass BackButton extends Component {\n  onClick = () => {\n    const to = this.props.to\n    if (to) {\n      this.props.history.push(to)\n    } else {\n      this.props.history.goBack()\n    }\n  }\n\n  render() {\n    return <ArrowBack onClick={this.onClick} className={styles.backButton} />\n  }\n}\n\nexport default withRouter(BackButton)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Users.module.css'\nimport orderBy from 'lodash/orderBy'\nimport Header from './Header'\nimport Spinner from './Spinner'\nimport add from '../images/add.svg'\nimport { Button, Input, FormGroup, Label } from 'reactstrap'\nimport Dialog from './Dialog'\nimport { Helmet } from 'react-helmet'\nimport Footer from './Footer'\nimport { fetchProjects } from '../redux/projects'\nimport { fetchUsers, createUser } from '../redux/users'\nimport BackButton from './BackButton'\nimport {mergeClasses} from '../helpers/styling'\nimport cssFix from './mui/resolutions.module.css'\n\nclass Users extends Component {\n  state = { values: {} }\n\n  componentDidMount() {\n    this.props.fetchProjects((error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'users')\n      }\n    })\n    this.props.fetchUsers((error) => {\n      if (error.response.status === 401) {\n        this.props.history.push('/login', 'users')\n      }\n    })\n  }\n\n  onDialogOkClick = () => {\n    this.props.createUser(this.state.values,\n      (error) => alert('User could not be created. Refresh the page and try again. Contact us if you need further assistance.'))\n    this.setState({ dialogVisible: false })\n  }\n\n  render() {\n    if (this.props.users.loading || this.props.projects.loading)\n      return <Spinner />\n    if (!this.props.projects.loaded || !this.props.users.loaded) return null\n\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    let users = this.props.users.items\n    let projects = this.props.projects.items\n    // users = orderBy(users, ['createdAt'], ['asc']);\n    users = orderBy(users, ['name'], ['asc'])\n    const isSuperadmin = loginState.user?.role === 'superadmin'\n    return (\n      <div>\n        <Helmet>\n          <title>Wistor Apps</title>\n          <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" sizes=\"16x16\" />\n        </Helmet>\n        <BackButton />\n        <Header />\n        <div className={styles.mainContainer}>\n          <div className={styles.main}>\n            <div className={styles.content}>\n              <div className={styles.title}>Users</div>\n              <div className={styles.users}>\n                <div className={styles.tableContainer}>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>Name</th>\n                        <th>Email</th>\n                        <th>Role</th>\n                        {isSuperadmin && <th>Project</th>}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {users.map((user) => {\n                        return (\n                          <tr className={styles.user} key={user.id}>\n                            <td\n                              style={{ fontSize: '1.1em', fontWeight: '500' }}\n                            >\n                              {user.name}\n                            </td>\n                            <td>{user.email}</td>\n                            <td>{user.role}</td>\n                            {isSuperadmin && (<td>{user.project && user.project.title}</td>)}\n                          </tr>\n                        )\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n\n                {loginState.isLoggedIn && (\n                  <div\n                    className={styles.add}\n                    onClick={() => this.setState({ dialogVisible: true })}\n                  >\n                    <div>\n                      <img className=\"inline\" src={add} alt=\"add\" style={{ width: '24px' }} />\n                      <span\n                        style={{ verticalAlign: 'middle', paddingLeft: '12px' }}\n                      >\n                        Create a new user...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n\n        {this.state.dialogVisible && (\n          <Dialog>\n            <FormGroup>\n              <Label>Name</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.name || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, name: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Email</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.email || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, email: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Password</Label>\n              <Input\n                className=\"dark-form-control\"\n                value={this.state.values.password || ''}\n                type=\"text\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, password: e.target.value },\n                  })\n                }\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label>Role</Label>\n              <Input\n                className={mergeClasses(\"dark-form-control\", cssFix[\"dark-form-control-select\"])}\n                value={this.state.values.role || ''}\n                type=\"select\"\n                onChange={(e) =>\n                  this.setState({\n                    values: { ...this.state.values, role: e.target.value },\n                  })\n                }\n              >\n                <option value=\"\">Choose a role</option>\n                <option value=\"viewer\">Viewer</option>\n                <option value=\"editor\">Editor</option>\n                <option value=\"admin\">Administrator</option>\n                {isSuperadmin && (<option value=\"superadmin\">SuperAdministrator</option>)}\n              </Input>\n            </FormGroup>\n            {isSuperadmin && (\n              <FormGroup>\n                <Label>Project</Label>\n                <Input\n                  className={mergeClasses(\"dark-form-control\", cssFix[\"dark-form-control-select\"])}\n                  value={this.state.values.project || ''}\n                  type=\"select\"\n                  onChange={(e) =>\n                    this.setState({\n                      values: { ...this.state.values, project: e.target.value },\n                    })\n                  }\n                >\n                  <option value=\"\">Choose a project</option>\n                  {projects.map((project) => (\n                    <option key={project.id} value={project.id}>\n                      {project.title}\n                    </option>\n                  ))}\n                </Input>\n              </FormGroup>\n            )}\n            <div style={{ textAlign: 'center' }}>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={() => this.setState({ dialogVisible: false })}\n              >\n                Cancel\n              </Button>\n              <Button\n                color=\"primary\"\n                style={{ minWidth: '120px', margin: '12px' }}\n                onClick={this.onDialogOkClick}\n              >\n                OK\n              </Button>\n            </div>\n          </Dialog>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  projects: state.projects,\n  users: state.users,\n  loginState: state.login\n})\n\nexport default connect(mapStateToProps, {\n  fetchProjects,\n  fetchUsers,\n  createUser,\n})(Users)\n","import { useState } from 'react'\nimport styles from './DeleteAppConfigButton.module.css'\nimport { Icon } from './widgets/Icon'\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from '@mui/material'\n\ntype State = { confirming: boolean, deleting: boolean }\n\nconst initialState: State = { confirming: false, deleting: false }\n\nexport function DeleteAppConfigButton(props: {\n  title: string\n  createdBy: string\n  createdOn: string\n  deleteAppConfig: () => Promise<any>\n}) {\n  const [state, setState] = useState<State>(initialState)\n\n  return (\n    <>\n      <Icon icon=\"trash\" className={styles.deleteIcon}\n        onClick={(e) => {\n          e.stopPropagation()\n          setState(s => ({ ...s, confirming: true}))\n        }}\n      />\n\n      <Dialog open={state.confirming}>\n        <DialogTitle>Deletion of \"{props.title}\"</DialogTitle>\n\n        <DialogContent>\n          <p>Are you sure you want to delete this project?</p>\n\n          Project details:\n          <ul className=\"list-disc list-inside\">\n            <li>Title: {props.title}</li>\n            <li>Created by: {props.createdBy}</li>\n            <li>Created on: {props.createdOn}</li>\n          </ul>\n        </DialogContent>\n\n        <DialogActions>\n          <Button autoFocus\n            variant=\"contained\"\n            color=\"grey\"\n            disabled={state.deleting}\n            onClick={(e) => {\n              e.stopPropagation()\n              setState(s => ({ ...s, confirming: false }))\n            }\n          }>\n            Keep\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            disabled={state.deleting}\n            onClick={async (e) => {\n              e.stopPropagation()\n              setState(s => ({ ...s, deleting: true }))\n              await props.deleteAppConfig()\n              setState(s => ({ deleting: false, confirming: false }))\n            }\n          }>\n            {state.deleting ? 'Deleting...' : 'Delete'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}","import { Dispatch } from 'redux'\nimport {DELETE_APP_SUCCESS} from '../redux/project'\nimport axios from 'axios'\nimport { getBearerToken } from './utils'\n\ntype DispatchAppConfigDeletion = Dispatch<{\n  type: typeof DELETE_APP_SUCCESS\n  data: { id: string }\n}>\n\nexport async function deleteAppConfig(\n  id: string,\n  dispatch: DispatchAppConfigDeletion\n) {\n  try {\n\n    await axios({\n      method: 'post',\n      url: '/api/delete-project',\n      data: { id },\n      headers: { Authorization: getBearerToken() },\n    })\n    dispatch({ type: 'DELETE_APP_SUCCESS', data: { id } })\n    return id\n\n  } catch(e) {\n\n    alert('Unsuccessful app deletion')\n    console.error(e)\n\n  }\n}","export function getBearerToken() {\n  return `Bearer ${localStorage.getItem('kvk-vb-token')}`\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Project.module.css'\nimport orderBy from 'lodash/orderBy'\nimport Header from './Header'\nimport add from '../images/add.svg'\nimport BackButton from './BackButton'\nimport axios from 'axios'\nimport Spinner from './Spinner'\nimport { Helmet } from 'react-helmet'\nimport Footer from './Footer'\nimport { DeleteAppConfigButton } from './DeleteAppConfigButton'\nimport { deleteAppConfig } from '../api/delete-app-config'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLock, faLockOpen, faDatabase, faXmark } from '@fortawesome/free-solid-svg-icons';\n\nfunction makeID() {\n  var text = ''\n  var possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (var i = 0; i < 5; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n  return text\n}\n\nclass Project extends Component {\n  componentDidMount() {\n    let projectPath = this.props.match.params.projectPath\n    let project = this.props.project\n    if (project.path === projectPath && !project.loading) return\n    axios({\n      method: 'get',\n      url: '/api/projects/' + projectPath,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('kvk-vb-token')}`,\n      },\n    }).then(({ data }) => {\n      this.props.dispatch({\n        type: 'FETCH_PROJECT_SUCCESS',\n        data,\n      })\n    })\n  }\n\n  newClicked = () => {\n    let path = makeID()\n    this.props.history.push(`/projects/${this.props.project.path}/${path}/edit`)\n  }\n\n  /** @param {string} id */\n  deleteApp = async (id) => deleteAppConfig(id, this.props.dispatch)\n\n  renderViewers(viewers, isAuthenticated) {\n    if (!viewers.length)\n      return (\n        <div className={styles.noViewerMessage}>\n          No apps found in this project... {!isAuthenticated && 'Maybe when you login.'}\n        </div>\n      )\n    return (\n      <div>\n        {viewers.map((viewer) => {\n          return (\n            <div\n              className={styles.viewer}\n              key={viewer.path}\n              onClick={() =>\n                this.props.history.push(\n                  `/projects/${this.props.project.path}/${viewer.path}`\n                )\n              }\n            >\n              <div className={styles.titleText}>{viewer.title}</div>\n              <div className={styles.viewerIcon} data-tooltip={`This app is ${viewer.public ? 'public' : 'private'}`}>\n                  <FontAwesomeIcon\n                    icon={viewer.public ? faLockOpen : faLock}\n                  />\n                </div>\n                <div className={styles.viewerIcon} data-tooltip={`This app is ${viewer.noConfigCache ? 'not using config cache' : 'using cache'}`}>\n                  <FontAwesomeIcon\n                    icon={viewer.noConfigCache ? faXmark : faDatabase}\n                  />\n                </div>\n              {viewer.user != null && (\n                <div style={{ fontSize: '0.9em', opacity: '0.6' }}>\n                  {viewer.user.name}\n                </div>\n              )}\n              {hasAuth(this.props.loginState, viewer.user) &&\n                <DeleteAppConfigButton\n                  deleteAppConfig={() => this.deleteApp(viewer.id)}\n                  title={viewer.title}\n                  createdBy={viewer.user.name}\n                  createdOn={viewer.createdAt}\n                />\n              }\n              \n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render() {\n    let project = this.props.project\n    if (project.loading) return <Spinner />\n    let viewers = project.viewers\n\n    /** @type {LoginState} */\n    const loginState = this.props.loginState\n\n    // viewers = orderBy(viewers, ['createdAt'], ['asc']);\n    viewers = orderBy(viewers, ['title'], ['asc'])\n    return (\n      <div>\n\n        <Helmet>\n          <title>{project.title}</title>\n          <link\n            rel=\"icon\"\n            type=\"image/png\"\n            href={`/favicon-${project.path}.png`}\n            sizes=\"16x16\"\n          />\n        </Helmet>\n\n        <BackButton to=\"/\" />\n        <Header />\n\n        <div className={styles.mainContainer}>\n          <div className={styles.main}>\n            <div className={styles.content}>\n              <div\n                className={styles.title}\n              >{`Wistor Apps in ${this.props.project.title}`}</div>\n              {/* <div className={styles.title}>Selecteer een viewer</div> */}\n              <div className={styles.viewers}>\n                {this.renderViewers(viewers, loginState.isLoggedIn)}\n                {loginState.isLoggedIn && loginState.user.role !== 'viewer' && (\n                  <div className={styles.viewer} onClick={this.newClicked}>\n                    <div>\n                      <img className=\"inline\" src={add} alt=\"add\" style={{ width: '24px' }} />\n                      <span\n                        style={{ verticalAlign: 'middle', paddingLeft: '12px' }}\n                      >\n                        Create a new app...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <Footer />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst emailsWithAnyDeletionRights = [\n  'keon.chen@bim-connected.com',\n  'marcin.koziuk@bim-connected.com',\n  'norent.khy@bim-connected.com',\n  'richa.mehta@bim-connected.com',\n  'robin.vantol@bim-connected.com',\n].map(s => s.toLowerCase())\n\n/**\n * @param loginState {LoginState}\n * @param appCreator { null | { id: string, email: string, role: string } }\n * @return {boolean}\n */\nfunction hasAuth(loginState, appCreator) {\n  if (!loginState.isLoggedIn)\n    return false\n  if (loginState.user.role !== 'superadmin')\n    return false\n  if (emailsWithAnyDeletionRights.includes(loginState.user.email.toLowerCase()))\n    return true\n  if (appCreator && loginState.user.id === appCreator.id)\n    return true\n  return false\n}\n\nconst mapStateToProps = (state) => ({\n  project: state.project,\n  loginState: state.login\n})\n\nexport default connect(mapStateToProps)(Project)\n","import React from \"react\"\nimport Header from \"../Header\"\nimport styles from './LoginPageLayout.module.css'\nimport \"typeface-exo\"\n// @ts-ignore\nimport { Helmet } from \"react-helmet\"\nimport { Icon } from \"../widgets/Icon\"\nimport { Button, ButtonLink } from \"../basic/Button\"\nimport clsx from \"clsx\"\n\nexport function LoginPageLayout(props: {\n  children: React.ReactNode\n}) {\n  return (\n    <div className={styles['login-app']}>\n      <Helmet>\n        <title>Wistor</title>\n        <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" sizes=\"16x16\" />\n      </Helmet>\n\n      {/* @ts-ignore */}\n      <Header modern noLoginButton />\n\n      <div className={styles['login-container']}>\n        <div className={styles['login-main']}>\n          {props.children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function LoginButtonBar(props: {\n  error?: string | null,\n  isLoggingIn?: boolean\n} & Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'type' | 'className'>) {\n  const { error, isLoggingIn, ...otherProps } = props\n\n  return (\n    <div className={styles['login-button-bar']}>\n      {isLoggingIn && (\n        <div className={styles['login-spinner']}>\n          <Icon icon=\"spinner\" spin />\n        </div>\n      )}\n      {error && (\n        <div className={styles['login-error']}>{error}</div>\n      )}\n      <Button variant=\"primary\"\n              type=\"submit\"\n              {...otherProps}>Log in</Button>\n    </div>\n  )\n}\n\nexport function SsoButton(props: {\n  href: string,\n  children: React.ReactNode\n}) {\n  return (\n    <ButtonLink variant=\"outline\"\n                href={props.href}\n                className={clsx(\n                styles['login-button-sso']\n              )}>\n      {props.children}\n    </ButtonLink>\n  )\n}\n","import { LoginAction, LoginState } from '../../redux/login'\nimport { useState } from 'react'\nimport { login, LoginCredentials } from '../../api/login'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport { connect } from 'react-redux'\nimport { LoginButtonBar, LoginPageLayout } from './LoginPageLayout'\nimport { RouteComponentProps } from 'react-router-dom'\n\nconst EMAIL_PATTERN = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\n\nfunction LoginComponent(props: {\n  loginState: LoginState,\n  dispatch: (action: LoginAction) => void\n} & RouteComponentProps) {\n  const {\n    register,\n    handleSubmit,\n    formState\n  } = useForm<LoginCredentials>()\n  const [ errorReason, setErrorReason ] = useState<string | null>(null)\n\n  const doLogin: SubmitHandler<LoginCredentials> = async loginCredentials => {\n    props.dispatch({ type: \"LOGIN_REQUEST\" })\n    setErrorReason(null)\n    const resp = await login(loginCredentials)\n\n    if (resp.success) {\n      props.dispatch({ type: \"LOGIN_SUCCESS\", payload: resp.user })\n\n      if (window.location.pathname === '/login') {\n        props.history.push('/')\n      }\n      window.location.reload()\n    } else {\n      props.dispatch({ type: \"LOGIN_FAILURE\" })\n      setErrorReason(resp.reason)\n    }\n  }\n\n  return (\n    <LoginPageLayout>\n      <h1>Welcome</h1>\n      <form onSubmit={handleSubmit(doLogin)}>\n        <label>\n          Username\n\n          <input type=\"email\" required\n                 className=\"font-normal\"\n                 {...register('email', { required: true, pattern: EMAIL_PATTERN })} />\n        </label>\n        <label>\n          Password\n\n          <input type=\"password\" required\n                 className=\"font-normal\"\n                 {...register('password', { required: true })} />\n        </label>\n\n        <LoginButtonBar disabled={formState.isSubmitting}\n                        isLoggingIn={props.loginState.isLoggingIn}\n                        error={errorReason} />\n      </form>\n    </LoginPageLayout>\n  )\n}\n\nfunction mapStateToProps(state: any) {\n  return { loginState: state.login }\n}\n\nexport const Login = connect(mapStateToProps)(LoginComponent)\n","import { getCgiUrl } from \"../helpers/url\"\nimport axios, { AxiosError } from \"axios\"\nimport { z } from \"zod\"\nimport { RepoAccessUser } from \"../model/repo-access-user\"\n\nexport type RepoLoginCredentials = {\n  username: string\n  password: string\n}\n\ntype RepoLoginSuccess = {\n  success: true\n  user: RepoAccessUser\n}\n\ntype RepoLoginFailure = {\n  success: false\n  reason: string\n}\n\nconst RepoLoginResponseSchema = z.object({\n  loggedIn: z.string(), // boolean-string with casing variations...\n  repo: z.string().optional(),\n  parameters: z.record(z.string(), z.any()).optional(),\n  message: z.string().optional()\n})\n\nexport async function repoLogin(loginParams: RepoLoginCredentials, repoName: string, repoUrl: string): Promise<RepoLoginSuccess | RepoLoginFailure> {\n  const url = getCgiUrl('login', repoName, repoUrl)\n\n  try {\n    const response = await axios.post(url, {\n      login: loginParams.username,\n      psw: loginParams.password\n    }, {\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n  \n\n    const repoLoginResponse = RepoLoginResponseSchema.parse(response.data)\n    if (repoLoginResponse.loggedIn.toLowerCase() !== \"true\") {\n      return { success: false, reason: repoLoginResponse.message ?? 'Incorrect username or password' }\n    }\n\n    if (repoLoginResponse.repo !== repoName) {\n      return { success: false, reason: 'This account is not valid for this app' }\n    }\n\n    if (repoLoginResponse.parameters) {\n      // @ts-ignore\n      document.userParameters = repoLoginResponse.parameters\n    }\n   \n    return {\n      success: true,\n      user: {\n        repo: repoLoginResponse.repo,\n        userParameters: repoLoginResponse.parameters ?? {}\n      }\n    }\n  } catch (error) {\n    if (!(error instanceof AxiosError)) {\n      throw error\n    }\n    \n    console.error(error)\n    return { success: false, reason: 'Request failure' }\n  }\n}\n\n","import React, { useEffect, useState } from \"react\"\nimport { repoLogin, RepoLoginCredentials } from \"../../api/repo-login\"\nimport { SubmitHandler, useForm } from \"react-hook-form\"\nimport { connect } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport { LoginButtonBar, LoginPageLayout, SsoButton } from \"./LoginPageLayout\"\nimport { LoginState } from \"../../redux/login\"\nimport axios from \"axios\"\n\ntype SsoConfig = {\n  uri: string\n  label: string\n  comment: string\n  ssoClientId: string\n  repositories: string[]\n  enabled: boolean\n  fullAccess: boolean\n  image: string\n}\n\nfunction LoginBBComponent(props: {\n  loginState: LoginState\n} & RouteComponentProps) {\n  const {\n    register,\n    handleSubmit,\n    formState\n  } = useForm<RepoLoginCredentials>()\n  const [ errorReason, setErrorReason ] = useState<string | null>(null)\n  const [ ssoConfigs, setSsoConfigs ] = useState<SsoConfig[]>([])\n\n  const repoInfo = getRepoInfoFromSearchParameters()\n  useEffect(() => {\n    if (!repoInfo?.repo) return\n    fetchSsoConfigs()\n   .then(ssoConfigs => setSsoConfigs(ssoConfigs))\n   .catch(() => {})\n\n    async function fetchSsoConfigs() {\n      const response = await axios.get<SsoConfig[]>(`/servlets/cgi/api/ssoconfig/repo/${repoInfo?.repo}/viewer/${repoInfo?.viewerPath}`, {\n        headers: {\n          'Accept': 'application/json'\n        }\n      })\n\n      if (!response.headers['content-type'].includes('application/json')) {\n        return []\n      }\n\n      return response.data\n    }\n\n  }, [ repoInfo?.repo ])\n\n  const doLogin: SubmitHandler<RepoLoginCredentials> = async loginCredentials => {\n    if (!repoInfo) return\n\n    try {\n      setErrorReason(null)\n\n      const resp = await repoLogin(loginCredentials, repoInfo.repo, repoInfo.repoUrl)\n      if (resp.success) {\n       \n        props.history.replace(props.location.state || '/')\n\n        // @ts-ignore\n        if (window.CONNECTED_APPS_STATIC) {\n          // Workaround:\n          // React-router's history.replace does not always rerender\n          // when <Route path=\"*\" /> is used (static apps),\n          // causing a blank page.\n          // https://stackoverflow.com/a/61596862\n          window.location.reload()\n        }\n      } else {\n        setErrorReason(resp.reason)\n      }\n    } catch (e) {\n      setErrorReason(\"Login error\")\n    }\n  }\n\n  if (!repoInfo) {\n    return (\n      <LoginPageLayout>\n        Invalid repository information.\n      </LoginPageLayout>\n    )\n  }\n\n  const isSuperAdmin = props.loginState.isLoggedIn && props.loginState.user.role === 'superadmin'\n\n  return (\n    <LoginPageLayout>\n      <h1>Welcome</h1>\n      <form onSubmit={handleSubmit(doLogin)}>\n        <p>\n          This app requires a login.{' '}\n          {isSuperAdmin && (\n            `Repository: ${repoInfo.repo}`\n          )}\n        </p>\n\n        <label>\n          Username\n          <input type=\"username\" required\n                 className=\"font-normal\"\n                 {...register('username', { required: true })} />\n        </label>\n\n        <label>\n          Password\n          <input type=\"password\" required\n                 className=\"font-normal\"\n                 {...register('password', { required: true })} />\n        </label>\n\n        <LoginButtonBar disabled={formState.isSubmitting}\n                        isLoggingIn={formState.isSubmitting}\n                        error={errorReason} />\n\n        {ssoConfigs.length > 0 && (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '.75rem', marginTop: '1.5rem' }}>\n            {ssoConfigs.map(ssoConfig => (\n              <SsoButton key={ssoConfig.uri} href={`/servlets/cgi/api/sso/authorize/${ssoConfig.ssoClientId}?ssoSuccessRedirectUrl=${props.location.state}`}>\n                <img\n                  src={ssoConfig.image}\n                  alt=\"\" />\n                <span>Sign in with {ssoConfig.label}</span>\n              </SsoButton>\n            ))}\n          </div>\n        )}\n\n      </form>\n    </LoginPageLayout>\n  )\n}\n\nfunction getRepoInfoFromSearchParameters() {\n  const queryString = window.location.search\n  const urlParams = new URLSearchParams(queryString)\n  const id = urlParams.get('id')\n  if (id == null) return null\n\n  const parametersString = atob(decodeURIComponent(id))\n  const usp = new URLSearchParams(parametersString)\n  const repoUrl = usp.get('repoUrl')\n  if (repoUrl == null) throw new Error(`no \"repoUrl\" found in ${parametersString}`)\n  const repo = usp.get('repo')\n  if (repo == null) throw new Error(`no \"repo\" found in ${parametersString}`)\n  const viewerPath = usp.get('viewerPath')\n  if (viewerPath == null) throw new Error(`no \"viewerPath\" found in ${parametersString}`)\n\n  return { repo, repoUrl, viewerPath }\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    loginState: state.login\n  }\n}\n\nexport const RepoLogin = connect(mapStateToProps)(LoginBBComponent)\n","import { LoginState } from \"../redux/login\"\nimport { connect } from \"react-redux\"\nimport { ReactNode } from \"react\"\nimport { Route } from \"react-router-dom\"\nimport { RouteProps, useRouteMatch, match } from \"react-router\"\nimport { Login } from \"./login/Login\"\n\n\nfunction ProtectedRouteComponent(props: {\n  path: string,\n  loginState: LoginState,\n  children: ReactNode,\n  protectIf?: (match: match<{}> | null) => boolean\n} & RouteProps) {\n  const { loginState, children, component, ...rest } = props\n  const match = useRouteMatch(props.path)\n\n  const isAuthorized = props.protectIf\n    ? (props.protectIf(match) ? loginState.isLoggedIn : true)\n    : loginState.isLoggedIn\n\n  return (\n    <Route\n      {...rest}\n      component={isAuthorized ? component : Login}\n    />\n  )\n}\n\n\nfunction mapStateToProps(state: any) {\n  return { loginState: state.login }\n}\n\nexport const ProtectedRoute = connect(mapStateToProps)(ProtectedRouteComponent)\n","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './App.css'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Home from './components/Home'\nimport Users from './components/Users'\nimport Project from './components/Project'\nimport Viewer from './components/Viewer'\nimport Command from './helpers/Command'\nimport { enableMapSet } from 'immer'\nimport { setupUserInputMessenger } from './helpers/user-input-messenger'\nimport { getCurrentUser } from \"./api/login\"\nimport { Login } from \"./components/login/Login\"\nimport { RepoLogin } from \"./components/login/RepoLogin\"\nimport { ProtectedRoute } from \"./components/ProtectedRoute\"\nimport Spinner from \"./components/Spinner\"\n\nenableMapSet()\n\nclass App extends Component {\n\n  state = {\n    isFetchingLoginInfo: false\n  }\n\n  componentDidMount() {\n    this.wistorArt();\n   \n    setupUserInputMessenger()\n\n    if (!window.CONNECTED_APPS_STATIC) {\n      this.fetchLoginInfo()\n    }\n  }\n\n  async fetchLoginInfo() {\n    this.setState({ isFetchingLoginInfo: true })\n    this.props.dispatch({ type: \"LOGIN_REQUEST\" })\n    try {\n      const user = await getCurrentUser()\n      if (user) {\n        this.props.dispatch({ type: \"LOGIN_SUCCESS\", payload: user })\n      } else {\n        this.props.dispatch({ type: \"LOGIN_FAILURE\" })\n      }\n    } catch (error) {\n      console.error(error)\n      this.props.dispatch({ type: \"LOGIN_FAILURE\" })\n    } finally {\n      this.setState({ isFetchingLoginInfo: false })\n    }\n  }\n\n\n  wistorArt()\n  {\n   \n   console.log(\" __      __.__          __                \\r\\n\"\n   + \"/  \\\\    /  \\\\__| _______/  |_  ___________ \\r\\n\"\n   + \"\\\\   \\\\/\\\\/   /  |/  ___/\\\\   __\\\\/  _ \\\\_  __ \\\\\\r\\n\"\n   + \" \\\\        /|  |\\\\___ \\\\  |  | (  <_> )  | \\\\/\\r\\n\"\n   + \"  \\\\__/\\\\  / |__/____  > |__|  \\\\____/|__|   \\r\\n\"\n   + \"       \\\\/          \\\\/                     \\r\\n\");\n\n   console.log(\"version 0.32\");\n\n\n  }\n\n  render() {\n   \n    window.top.command=Command;\n    //window.top.window.command=Command; /// handy for wistor apps running in a iframe\n    \n\n    if (window.CONNECTED_APPS_STATIC) {\n      return (\n        <Router>\n          <Switch>\n              <Route path=\"/\" exact component={Viewer} />\n              <Route path=\"/loginbb\" component={RepoLogin} />\n              <Route path=\"*\" component={Viewer} />\n          </Switch>\n        </Router>\n      )\n    }\n\n    if (this.state.isFetchingLoginInfo) {\n      return <Spinner />\n    }\n\n    return (\n      <Router>\n        <div className=\"app\">\n          <ProtectedRoute path=\"/\" exact component={Home} />\n          <Route path=\"/loginbb\" component={RepoLogin} />\n          <Route path=\"/login\" component={Login} />\n          <ProtectedRoute path=\"/users\" component={Users} />\n          <ProtectedRoute path=\"/projects/:projectPath\" exact component={Project} />\n          <ProtectedRoute\n            protectIf={match => match?.params.mode === \"edit\"}\n            path=\"/projects/:projectPath/:viewerPath/:mode(edit)?\"\n            component={Viewer}\n           />\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default connect()(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import * as React from \"react\"\nimport { createTheme, alpha } from \"@mui/material/styles\"\nimport { grey } from \"@mui/material/colors\"\n\n/*\n * Custom theme that adds a 'grey' color variant for buttons,\n * this looks the same as the buttons in MUI v4 when the color property was not set.\n * See: https://mui.com/material-ui/migration/v5-component-changes/#%E2%9C%85-remove-default-color-prop\n */\n\ndeclare module \"@mui/material/Button\" {\n  interface ButtonPropsColorOverrides {\n    grey: true;\n  }\n}\n\ndeclare module \"@mui/material\" {\n  interface Color {\n    main: string;\n    dark: string;\n  }\n}\n\nconst greyPaletteTheme = createTheme({\n  palette: {\n    grey: {\n      main: grey[300],\n      dark: grey[400]\n    }\n  }\n})\n\nexport const theme = createTheme(greyPaletteTheme, {\n  components: {\n    MuiButton: {\n      variants: [\n        {\n          props: { variant: \"contained\", color: \"grey\" },\n          style: {\n            color: greyPaletteTheme.palette.getContrastText(greyPaletteTheme.palette.grey[300])\n          }\n        },\n        {\n          props: { variant: \"outlined\", color: \"grey\" },\n          style: {\n            color: greyPaletteTheme.palette.text.primary,\n            borderColor:\n              greyPaletteTheme.palette.mode === \"light\"\n                ? \"rgba(0, 0, 0, 0.23)\"\n                : \"rgba(255, 255, 255, 0.23)\",\n            \"&.Mui-disabled\": {\n              border: `1px solid ${greyPaletteTheme.palette.action.disabledBackground}`\n            },\n            \"&:hover\": {\n              borderColor:\n                greyPaletteTheme.palette.mode === \"light\"\n                  ? \"rgba(0, 0, 0, 0.23)\"\n                  : \"rgba(255, 255, 255, 0.23)\",\n              backgroundColor: alpha(\n                greyPaletteTheme.palette.text.primary,\n                greyPaletteTheme.palette.action.hoverOpacity\n              )\n            }\n          }\n        },\n        {\n          props: { color: \"grey\", variant: \"text\" },\n          style: {\n            color: greyPaletteTheme.palette.text.primary,\n            \"&:hover\": {\n              backgroundColor: alpha(\n                greyPaletteTheme.palette.text.primary,\n                greyPaletteTheme.palette.action.hoverOpacity\n              )\n            }\n          }\n        }\n      ]\n    }\n  }\n})\n","import { createRoot } from 'react-dom/client'\nimport { Provider } from 'react-redux'\nimport { store } from './store'\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './index.css'\nimport './tailwind.build.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { ThemeProvider } from \"@mui/material/styles\"\nimport { theme } from \"./components/mui/theme\"\n\n\nconst queryClient = new QueryClient()\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\nroot.render(\n  <Provider store={store}>\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </QueryClientProvider>\n  </Provider>\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n//serviceWorker.register();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Project_mainContainer__1pj6p\",\"main\":\"Project_main__2Y8rr\",\"content\":\"Project_content__24m3l\",\"title\":\"Project_title__22_I_\",\"titleText\":\"Project_titleText__1G20m\",\"viewer\":\"Project_viewer__19IpZ\",\"viewerDisabled\":\"Project_viewerDisabled__2PNlk\",\"noViewerMessage\":\"Project_noViewerMessage__1ePu9\",\"viewerIcons\":\"Project_viewerIcons__UeS93\",\"viewerIcon\":\"Project_viewerIcon__1F4L8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Table_main__1KlIE\",\"title\":\"Table_title__X9IJi\",\"rowNumberHeader\":\"Table_rowNumberHeader__3h76N\",\"rowNumber\":\"Table_rowNumber__YKpiQ\",\"link\":\"Table_link__jCT0D\",\"highlight\":\"Table_highlight__2cQtm\",\"centertext\":\"Table_centertext__2Fu1Q\",\"inlineblock\":\"Table_inlineblock__1PwI1\",\"deleteIcon\":\"Table_deleteIcon__1g9jk\",\"spin\":\"Table_spin__3d39r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Footer_wrapper__2rG-r\",\"main\":\"Footer_main__1l7I7\",\"names\":\"Footer_names__3Ib0-\",\"commentMessage\":\"Footer_commentMessage__3kubv\",\"email\":\"Footer_email__2GJZb\"};","import { User } from \"../model/user\"\n\ntype LoggedInState = {\n  user: User\n  isLoggedIn: true\n  isLoggingIn: false\n}\n\ntype NotLoggedInState = {\n  user: null\n  isLoggedIn: false\n  isLoggingIn: boolean\n}\n\nexport type LoginState = LoggedInState | NotLoggedInState\n\nconst initialState: LoginState = {\n  user: null,\n  isLoggedIn: false,\n  isLoggingIn: false\n}\n\ntype LoginRequestAction = { type: \"LOGIN_REQUEST\" }\ntype LoginSuccessAction = { type: \"LOGIN_SUCCESS\", payload: User }\ntype LoginFailureAction = { type: \"LOGIN_FAILURE\" }\ntype LogoutAction = { type: \"LOGOUT\" }\n\nexport type LoginAction\n  = LoginRequestAction\n  | LoginSuccessAction\n  | LoginFailureAction\n  | LogoutAction\n\nexport default function loginReducer(state: LoginState = initialState, action: LoginAction): LoginState {\n  switch (action.type) {\n    case \"LOGIN_REQUEST\":\n      return { ...state, user: null, isLoggingIn: true, isLoggedIn: false }\n    case \"LOGIN_SUCCESS\":\n      return { ...state, user: action.payload, isLoggingIn: false, isLoggedIn: true }\n    case \"LOGIN_FAILURE\":\n      return { ...state, user: null, isLoggedIn: false, isLoggingIn: false }\n    case \"LOGOUT\":\n      return { ...state, user: null, isLoggedIn: false, isLoggingIn: false }\n  }\n\n  return state\n}\n","import { combineReducers } from 'redux'\nimport event from './event'\nimport project from './project'\nimport projects from './projects'\nimport users from './users'\nimport pubsub from './pubsub'\nimport currentViewer from './current-viewer'\nimport login from './login'\n\nexport default combineReducers({\n  event,\n  project,\n  projects,\n  users,\n  pubsub,\n  login,\n  currentViewer\n})\n\n","export default function handleEvent(state = {}, action) {\n  switch (action.type) {\n    case 'ITEM_SELECT_EVENT':\n      return {\n        ...state,\n        selectedItem: action.payload,\n      }\n    default:\n      return state\n  }\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from './redux/rootReducer'\nimport { TypedUseSelectorHook, useSelector as useReduxSelector } from 'react-redux'\n\ndeclare global {\n  interface Window {__REDUX_DEVTOOLS_EXTENSION_COMPOSE__: any}\n}\n\nfunction configureStore(initialState = {}) {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n          serialize: {replacer: replaceSets}})\n      : compose\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk))\n  )\n}\n\n/**\n * Proper ES6 Set diff display in redux devtools\n * (serialize: true seems not to be sufficient, state works but diffs do not)\n */\nfunction replaceSets(key: any, value: any) {\n  if (value instanceof Set) return [ ...value ]\n  return value\n}\n\nexport type RootState = ReturnType<typeof store.getState>\nexport const store = configureStore()\n\nexport const useSelector: TypedUseSelectorHook<RootState> = useReduxSelector\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Viewer_wrapper__Mp8IX\",\"settingsCheckbox\":\"Viewer_settingsCheckbox__1BOaO\",\"mainContainer\":\"Viewer_mainContainer__7WemJ\",\"main\":\"Viewer_main__2vgBd\",\"editButton\":\"Viewer_editButton__O63Oh\",\"areaContainer2\":\"Viewer_areaContainer2__1Imf2\",\"areaContainer\":\"Viewer_areaContainer__2mCAm\",\"infoDialogueContainer\":\"Viewer_infoDialogueContainer__3r8Vu\",\"configButton\":\"Viewer_configButton__1_3sl\",\"appVariables\":\"Viewer_appVariables__3QNDN\"};","export default __webpack_public_path__ + \"static/media/spinner.7db2bb37.gif\";","import React, { Component } from 'react'\nimport spinner from '../images/spinner.gif'\n\nclass Spinner extends Component {\n  render() {\n    let hidden = 'hidden'\n    let loading = this.props.loading\n    if (loading === true) {\n      hidden = 'visible'\n    }\n    return (\n      <img\n        className=\"spinner\"\n        style={{\n          visibility: hidden,\n          width: '32px',\n          position: 'absolute',\n          zIndex: '11',\n          display: 'table',\n          margin: '2px',\n        }}\n        style22={{ width: '32px' }}\n        src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHdpZHRoPSI0MHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7IiB4PSIwcHgiIHk9IjBweCI+CiAgICA8ZGVmcz4KICAgICAgICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWwogICAgICAgICAgICBALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTM1OWRlZykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQGtleWZyYW1lcyBzcGluIHsKICAgICAgICAgICAgICBmcm9tIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC0zNTlkZWcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHN2ZyB7CiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDUwJSA1MCU7CiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogc3BpbiAxLjVzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgICAgICAgICAgIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOwogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBzcGluIDEuNXMgbGluZWFyIGluZmluaXRlOwogICAgICAgICAgICB9CiAgICAgICAgXV0+PC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJvdXRlciI+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwwQzIyLjIwNTgsMCAyMy45OTM5LDEuNzg4MTMgMjMuOTkzOSwzLjk5MzlDMjMuOTkzOSw2LjE5OTY4IDIyLjIwNTgsNy45ODc4MSAyMCw3Ljk4NzgxQzE3Ljc5NDIsNy45ODc4MSAxNi4wMDYxLDYuMTk5NjggMTYuMDA2MSwzLjk5MzlDMTYuMDA2MSwxLjc4ODEzIDE3Ljc5NDIsMCAyMCwwWiIgc3R5bGU9ImZpbGw6YmxhY2s7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44NTc4Niw1Ljg1Nzg2QzcuNDE3NTgsNC4yOTgxNSA5Ljk0NjM4LDQuMjk4MTUgMTEuNTA2MSw1Ljg1Nzg2QzEzLjA2NTgsNy40MTc1OCAxMy4wNjU4LDkuOTQ2MzggMTEuNTA2MSwxMS41MDYxQzkuOTQ2MzgsMTMuMDY1OCA3LjQxNzU4LDEzLjA2NTggNS44NTc4NiwxMS41MDYxQzQuMjk4MTUsOS45NDYzOCA0LjI5ODE1LDcuNDE3NTggNS44NTc4Niw1Ljg1Nzg2WiIgc3R5bGU9ImZpbGw6cmdiKDIxMCwyMTAsMjEwKTsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwzMi4wMTIyQzIyLjIwNTgsMzIuMDEyMiAyMy45OTM5LDMzLjgwMDMgMjMuOTkzOSwzNi4wMDYxQzIzLjk5MzksMzguMjExOSAyMi4yMDU4LDQwIDIwLDQwQzE3Ljc5NDIsNDAgMTYuMDA2MSwzOC4yMTE5IDE2LjAwNjEsMzYuMDA2MUMxNi4wMDYxLDMzLjgwMDMgMTcuNzk0MiwzMi4wMTIyIDIwLDMyLjAxMjJaIiBzdHlsZT0iZmlsbDpyZ2IoMTMwLDEzMCwxMzApOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjQ5MzksMjguNDkzOUMzMC4wNTM2LDI2LjkzNDIgMzIuNTgyNCwyNi45MzQyIDM0LjE0MjEsMjguNDkzOUMzNS43MDE5LDMwLjA1MzYgMzUuNzAxOSwzMi41ODI0IDM0LjE0MjEsMzQuMTQyMUMzMi41ODI0LDM1LjcwMTkgMzAuMDUzNiwzNS43MDE5IDI4LjQ5MzksMzQuMTQyMUMyNi45MzQyLDMyLjU4MjQgMjYuOTM0MiwzMC4wNTM2IDI4LjQ5MzksMjguNDkzOVoiIHN0eWxlPSJmaWxsOnJnYigxMDEsMTAxLDEwMSk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNMy45OTM5LDE2LjAwNjFDNi4xOTk2OCwxNi4wMDYxIDcuOTg3ODEsMTcuNzk0MiA3Ljk4NzgxLDIwQzcuOTg3ODEsMjIuMjA1OCA2LjE5OTY4LDIzLjk5MzkgMy45OTM5LDIzLjk5MzlDMS43ODgxMywyMy45OTM5IDAsMjIuMjA1OCAwLDIwQzAsMTcuNzk0MiAxLjc4ODEzLDE2LjAwNjEgMy45OTM5LDE2LjAwNjFaIiBzdHlsZT0iZmlsbDpyZ2IoMTg3LDE4NywxODcpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTUuODU3ODYsMjguNDkzOUM3LjQxNzU4LDI2LjkzNDIgOS45NDYzOCwyNi45MzQyIDExLjUwNjEsMjguNDkzOUMxMy4wNjU4LDMwLjA1MzYgMTMuMDY1OCwzMi41ODI0IDExLjUwNjEsMzQuMTQyMUM5Ljk0NjM4LDM1LjcwMTkgNy40MTc1OCwzNS43MDE5IDUuODU3ODYsMzQuMTQyMUM0LjI5ODE1LDMyLjU4MjQgNC4yOTgxNSwzMC4wNTM2IDUuODU3ODYsMjguNDkzOVoiIHN0eWxlPSJmaWxsOnJnYigxNjQsMTY0LDE2NCk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBkPSJNMzYuMDA2MSwxNi4wMDYxQzM4LjIxMTksMTYuMDA2MSA0MCwxNy43OTQyIDQwLDIwQzQwLDIyLjIwNTggMzguMjExOSwyMy45OTM5IDM2LjAwNjEsMjMuOTkzOUMzMy44MDAzLDIzLjk5MzkgMzIuMDEyMiwyMi4yMDU4IDMyLjAxMjIsMjBDMzIuMDEyMiwxNy43OTQyIDMzLjgwMDMsMTYuMDA2MSAzNi4wMDYxLDE2LjAwNjFaIiBzdHlsZT0iZmlsbDpyZ2IoNzQsNzQsNzQpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjQ5MzksNS44NTc4NkMzMC4wNTM2LDQuMjk4MTUgMzIuNTgyNCw0LjI5ODE1IDM0LjE0MjEsNS44NTc4NkMzNS43MDE5LDcuNDE3NTggMzUuNzAxOSw5Ljk0NjM4IDM0LjE0MjEsMTEuNTA2MUMzMi41ODI0LDEzLjA2NTggMzAuMDUzNiwxMy4wNjU4IDI4LjQ5MzksMTEuNTA2MUMyNi45MzQyLDkuOTQ2MzggMjYuOTM0Miw3LjQxNzU4IDI4LjQ5MzksNS44NTc4NloiIHN0eWxlPSJmaWxsOnJnYig1MCw1MCw1MCk7Ii8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K\"\n        alt=\"spinner\"\n      />\n    )\n  }\n\n  render_old() {\n    return (\n      <div style={{ textAlign: 'center' }}>\n        <img style={{ width: '32px' }} src={spinner} alt=\"spinner\" />\n      </div>\n    )\n  }\n}\n\nexport default Spinner\n","import React, { useRef, useState } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faExclamation, faCheck, faUpRightAndDownLeftFromCenter, faDownLeftAndUpRightToCenter, faUpload, faDownload, faCopy, faPaste  } from \"@fortawesome/free-solid-svg-icons\"\nimport AceEditor from 'react-ace'\nimport 'brace/mode/json'\nimport 'brace/theme/ambiance'\nimport style from './JsonEditor.module.css'\nimport clsx from \"clsx\"\nimport { Tooltip } from '@mui/material'\n\n/**\n * JSON editor that works with json-object-values\n * - user formatting *not* retained\n * - changes are only emitted if the JSON is valid\n */\nexport function JsonEditor(props: {\n  name?: string,\n  exportFileName?: string,\n  value: unknown,\n  onValueChange: (str: unknown) => void\n}) {\n  const valueAsString = JSON.stringify(props.value, null, 4)\n  const [ draftValue, setDraftValue ] = useState(valueAsString)\n\n  const onChange = (valueString: string) => {\n    setDraftValue(valueString)\n    try {\n      const value = JSON.parse(valueString)\n      props.onValueChange(value)\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  return (\n    <JsonTextEditor name={props.name}\n                    exportFileName={props.exportFileName}\n                    value={draftValue}\n                    onValueChange={onChange} />\n  )\n}\n\n/**\n * JSON editor that works for json-strings\n * - user formatting retained\n * - changes are emitted whether the JSON is valid or not\n */\nexport function JsonTextEditor(props: {\n  name?: string,\n  exportFileName?: string,\n  value: string,\n  onValueChange?: (str: string) => void\n  readonly?: boolean\n}) {\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [ expanded, setExpanded ] = useState(false)\n  const [ validationStatus, setValidationStatus ] = useState<string | \"ok\" | null>(null)\n\n  const checkJson = () => {\n    try {\n      JSON.parse(props.value)\n      setValidationStatus(\"ok\")\n    } catch (e) {\n      setValidationStatus(String(e))\n    }\n  }\n\n  const formatJson = () => {\n    try {\n      const formatted = JSON.stringify(JSON.parse(props.value), null, 4)\n      props.onValueChange?.(formatted)\n    } catch (e) {\n    }\n  }\n\n  const exportValueAsJson = () => {\n    const blob = new Blob([props.value], { type: 'application/json' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = props.exportFileName || `${props.name || 'data'}.json`\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  const importValueFromJson = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        const text = e.target?.result\n        if (text) {\n          props.onValueChange?.(text as string)\n        }\n      }\n      reader.readAsText(file)\n    }\n  }\n\n  const copyValueToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(props.value)\n    } catch (err) {\n      console.error(err)\n      alert('Failed to copy')\n    }\n  }\n\n  const pasteValueFromClipboard = async () => {\n    try {\n      const text = await navigator.clipboard.readText()\n      props.onValueChange?.(text)\n    } catch (err) {\n      console.error(err)\n      alert('Failed to paste')\n    }\n  }\n\n  return (\n    <div className={style.wrapper}>\n      <AceEditor\n        key={String(expanded)}\n        name={props.name}\n        mode=\"json\"\n        theme=\"ambiance\"\n        fontSize=\"12pt\"\n        style={{\n          width: '100%',\n          height: expanded ? '80vh' : '120px',\n          fontFamily: 'Consolas, Inconsolata, Monaco, \"Lucida Console\", monospace',\n          fontWeight: 500\n        }}\n        value={props.value}\n        readOnly={props.readonly}\n        onChange={value => {\n          if (props.readonly) return\n          setValidationStatus(null)\n          props.onValueChange?.(value)\n        }}\n      />\n      <div className={style.bar}>\n        {!props.readonly && (\n          <Tooltip title=\"Format\">\n            <button className=\"px-1.5 py-px\" type=\"button\" onClick={() => checkJson()}>\n              check\n            </button>\n          </Tooltip>\n        )}\n        {validationStatus && (\n          <div className={clsx(style[\"json-status\"], validationStatus !== \"ok\" ? style.error : style.ok)}>\n            <FontAwesomeIcon icon={validationStatus === \"ok\" ? faCheck : faExclamation} />\n            {validationStatus === \"ok\" ? \"Valid JSON\" : String(validationStatus) }\n          </div>\n        )}\n        <div className={style.separator} />\n        {!props.readonly && (\n          <Tooltip title=\"Format\">\n            <button className=\"px-1.5 py-px\" type=\"button\" onClick={() => formatJson()}>\n              <b>{`{ }`}</b>\n            </button>\n          </Tooltip>\n        )}\n        <Tooltip title=\"Save as .json\">\n          <button className=\"px-1.5 py-px\" type=\"button\" onClick={() => exportValueAsJson()}>\n            <FontAwesomeIcon icon={faDownload} />\n          </button>\n        </Tooltip>\n        {!props.readonly && (\n          <Tooltip title=\"Upload .json\">\n            <button className=\"px-1.5 py-px\" type=\"button\" onClick={() => inputRef.current?.click?.()}>\n              <input\n                ref={inputRef}\n                type=\"file\"\n                accept=\".json\"\n                style={{ display: \"none\" }}\n                onChange={importValueFromJson}\n              />\n              <FontAwesomeIcon icon={faUpload} />\n            </button>\n          </Tooltip>\n        )}\n        <Tooltip title=\"Copy to clipboard\">\n          <button className=\"px-1.5 py-px\" type=\"button\" onClick={() => copyValueToClipboard()}>\n            <FontAwesomeIcon icon={faCopy} />\n          </button>\n        </Tooltip>\n        {!props.readonly && (\n          <Tooltip title=\"Paste from clipboard\">\n            <button className=\"px-1.5 py-px\" type=\"button\" onClick={() => pasteValueFromClipboard()}>\n              <FontAwesomeIcon icon={faPaste} />\n            </button>\n          </Tooltip>\n        )}\n        <Tooltip\n          title={expanded ? \"Collapse\" : \"Expand\"}\n          onClick={() => setExpanded(prevExpanded => !prevExpanded)}>\n          <button className=\"px-1.5 py-px\" type=\"button\">\n            <FontAwesomeIcon icon={expanded\n              ? faDownLeftAndUpRightToCenter\n              : faUpRightAndDownLeftFromCenter} />\n          </button>\n        </Tooltip>\n      </div>\n    </div>\n  );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup-content\":\"TriggerPopup_popup-content__29mOA\",\"sidebar\":\"TriggerPopup_sidebar__3Bpiz\",\"section-header\":\"TriggerPopup_section-header__1D4-J\",\"items\":\"TriggerPopup_items__26irm\",\"item\":\"TriggerPopup_item__1VS_Q\",\"active\":\"TriggerPopup_active__3dhql\",\"tool-bar\":\"TriggerPopup_tool-bar__SVN-E\",\"square\":\"TriggerPopup_square__1UCdy\",\"on-hover\":\"TriggerPopup_on-hover__3XJ0v\",\"content\":\"TriggerPopup_content__1_FBe\",\"form-content\":\"TriggerPopup_form-content__2V_Zu\",\"footer\":\"TriggerPopup_footer__2eTzo\"};","import axios from 'axios'\n\nclass LoginHelper {\n\n  static async logoff(repoUrl = window.top.url, rv) {\n    try {\n      axios({\n        method: 'post',\n        url: repoUrl.replace('sparql', 'logout'),\n        withCredentials: true,\n      })\n      if (rv!=null) rv.call(this);\n    } catch(e) {\n      console.log(\"error logoff\",e);\n    }\n  }\n\n}\n\nwindow.top.logoff = LoginHelper.logoff\nexport default LoginHelper\n","import axios from 'axios'\nimport LoginHelper from './LoginHelper'\nimport { parseTextForVariables } from '../helpers/sparql'\nimport { getAbsoluteRepoUrl } from '../helpers/url'\n\n\nclass Command {\n\n\n\n  constructor(widget)\n  {\n    this.widget=widget;\n\n  }\n  \n  static getRepoUrl()\n  {\n    //axios.defaults.timeout = 120000;\n    var url = window.top.repoURL;\n    if (url!=null) return url;\n\n    var iframe = document.querySelector('iframe'); // Selects the first iframe in the document\n\n    if (iframe) {\n        const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\n       return iframeDocument.repoURL;\n      \n    }\n\n    return null;\n}\n\n\n\n static  test()\n  {\n    Command.sendCommand2({commando:\"stroefheidcurve\",uri:\"http://www.rws.nl/VenR/2023/nwb/wegvakken#RWRW016B1HRRv36p1t36p2\"});\n  }\n\n  uploadTest()\n   {\n    //console.log(\"upload test\");\n\n    const uploadButton = document.createElement('button');\n    uploadButton.id = 'uploadButton';\n    uploadButton.innerText = 'Upload File';\n    document.body.appendChild(uploadButton);\n\n    // Create and add the hidden file input dynamically\n    const fileInput = document.createElement('input');\n    fileInput.type = 'file';\n    fileInput.id = 'fileInput';\n    fileInput.style.display = 'none';\n    document.body.appendChild(fileInput);\n    uploadButton.addEventListener('click', function() {\n\n      fileInput.click();\n    });\n    var me=this;\n    // Add event listener to the file input\n    fileInput.addEventListener('change', function(event) {\n      const files = event.target.files;\n      me.uploadFile(files,{uri:\"http://wistor.nl/zelfverzonnenURI\",belongsTo:\"http://wistor.nl/zelfverzonnenParent\"});\n    });\n    \n\n\n\n   }\n\n   uploadFile(files,extra)\n   {\n    const formData = new FormData()\n\n  \n    if (extra!=null)\n    {\n      try\n      {\n            \n             for (var key in extra)\n             {\n            \n              var l=parseTextForVariables(extra[key],this.props);\n              \n             // console.log(key,extra[key],l);\n              formData.append(key,l);\n             }\n      }\n      catch(e){console.log(e);}\n    }\n\n\n\n    var me = this\n    if (!files.length) return\n    const file = files[0]\n\n\n    formData.append('command', \"uploadAnyFile\")\n    formData.append('file', file, file.name)\n    \n    axios.defaults.withCredentials = true\n    axios.defaults.credentials = 'include'\n    \n    let url = getAbsoluteRepoUrl(this.widget.props.repoURL);\n    if (url == null) {\n      alert('no upload url defined')\n      return\n    }\n    \n      url=url.replace(\"sparql\",\"upload\");\n     \n    //console.log(this.props,url);\n    var promise=axios\n      .post(url, formData)\n      .then(function (arg) {\n       // console.log('SUCCESS upload ',arg);\n        \n       \n      })\n      .catch(function (e) {\n        console.log('upload failure ',e);\n        alert('could not upload file')\n        me.setState({ enabled: true })\n      })\n\n\n   return promise\n   }\n\n\n  \n  static sendCommand(component, command, options, rv,failure) {\n    if (options == null) options = {}\n\n   \n    //let repoURL=window.cgi+\"sparql\";\n    \n    let repoURL=null;\n    try {     repoURL=component.props.repoURL; } catch(e){}\n   \n    if (repoURL != null && repoURL.includes('sparql')) {\n      let commandUrl = repoURL.replace('sparql', 'command')\n      const formData = new FormData()\n      formData.append('commando', command)\n      options.commando = command\n      if (options != null) {\n        for (let key in options) {\n          formData.append(key, options[key])\n        }\n      }\n      axios.defaults.withCredentials = true\n      axios.defaults.credentials = 'include'\n\n     \n        axios.post(commandUrl, options, {\n            headers: {\n              // Overwrite Axios's automatically set Content-Type\n              'Content-Type': 'application/json',\n            },\n          })\n          .then(function (arg) {\n            console.log('SUCCESS command', arg)\n            if (rv != null) {\n              rv.call(this, arg)\n            }\n          }).catch (function(e) {\n       // console.log('command error ', e);\n        if (failure!=null)\n        {\n          failure.call(this);\n        }\n        else\n        {\n        alert('command error');\n        }\n      })\n    }\n  }\n\n  static sendCommand2(options,success,failure) \n  {\n     //for iframe calls.\n     //let repoURL=window.cgi+\"sparql\";\n     let repoURL=Command.getRepoUrl();\n\n    if (repoURL != null && repoURL.includes('sparql')) {\n      let commandUrl = repoURL.replace('sparql', 'command')\n      const formData = new FormData()\n      if (options != null) {\n        for (let key in options) {\n          formData.append(key, options[key])\n        }\n      }\n      axios.defaults.withCredentials = true\n      axios.defaults.credentials = 'include'\n      //extr timeout here?\n      try {\n        axios\n          .post(commandUrl, options, {\n            headers: {\n              // Overwrite Axios's automatically set Content-Type\n              'Content-Type': 'application/json',\n            },\n          })\n          .then(function (arg) {\n         \n            if (arg!=null)\n            {\n              console.log(\"\\n\\nSuccesful RULE results:\\n\");\n               console.log(arg.data);\n              if (arg.data!=null)\n              {\n               \n                 try {\n                 // console.log('SUCCESS 2 command',arg.data);\n                    if ((arg.data.success!=null)  && (arg.data.success!=false) )\n                    {\n                      if (success!=null){success.call(this,arg);}\n                      return;\n                    }\n\n                 }\n                 catch(e)\n                 {\n                  console.log(\"error\",e);\n                 }\n              }\n              try \n              {\n                    console.log(arg.data.errors);\n              }\n              catch(ex)\n              {}\n            }\n            if (failure!=null){failure.call(this);}\n          \n           \n          })\n      } catch (e) {\n        console.log('command error', e)\n        if (failure!=null){failure.call(this,e);}\n      }\n    }\n  }\n\n  static ruleRule(uri,parameters,success,failure)\n   {\n    var json = {\n      commando: 'VRCommands',\n      command2: 'runSparqlRule',\n      command3: uri,\n      parameters:parameters\n    }\n    Command.sendCommand2(json,success,failure)\n  }\n\n\n\n\n  \n\n\n  static runRulesWithTag(tag,parameters,success,failure) {\n   // console.log('run rules met specifieke tag ' ,tag,parameters)\n    var json = {\n      commando: 'VRCommands',\n      command2: 'runSparqlRulesWithTag',\n      command3: tag,\n      parameters:parameters,\n      //test:\"Hans was here\"\n    }\n\n    Command.sendCommand2(json,success,failure)\n  }\n\n  static deleteServerCache(graph)\n  {\n    var json = {\n      commando: 'refreshCache',\n      graph: graph,\n    }\n    Command.sendCommand2(json,function(arg){console.log(\"success\",arg)},function(arg){console.log(\"error \",arg)})\n\n\n  }\n\n  static logoff() {\n    let repoURL=window.cgi+\"sparql\";\n    LoginHelper.logoff(repoURL);\n  }\n\n}\n\nwindow.top.command = Command\n\nexport default Command\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Tab_main__3hRYf\",\"areaContainer\":\"Tab_areaContainer__uoK5W\",\"viewMode\":\"Tab_viewMode__1R_jG\",\"tabs\":\"Tab_tabs__8TT4t\",\"tab\":\"Tab_tab__2juvH\",\"selected\":\"Tab_selected__2GbnM\",\"refresh\":\"Tab_refresh__3o4j1\",\"threeColorTemplate\":\"Tab_threeColorTemplate__8xvrv\",\"carouselTabsContainer\":\"Tab_carouselTabsContainer__g_Gab\",\"carouselButton\":\"Tab_carouselButton__1jj7D\",\"carouselItem\":\"Tab_carouselItem__2zDPU\"};"],"sourceRoot":""}